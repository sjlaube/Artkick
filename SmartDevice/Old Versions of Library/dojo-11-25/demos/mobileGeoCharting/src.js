/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dojox/mobile":function(){define([".","dojo/_base/lang","dojox/mobile/_base"],function(_1,_2,_3){_2.getObject("mobile",true,_1);return _1.mobile;});},"dojox/main":function(){define(["dojo/_base/kernel"],function(_4){return _4.dojox;});},"dojox/mobile/_base":function(){define(["./common","./View","./Heading","./RoundRect","./RoundRectCategory","./EdgeToEdgeCategory","./RoundRectList","./EdgeToEdgeList","./ListItem","./Container","./Pane","./Switch","./ToolBarButton","./ProgressIndicator"],function(_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10){return _5;});},"dojox/mobile/common":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/lang","dojo/_base/window","dojo/_base/kernel","dojo/dom-class","dojo/dom-construct","dojo/domReady","dojo/ready","dojo/touch","dijit/registry","./sniff","./uacss"],function(_11,_12,_13,_14,win,_15,_16,_17,_18,_19,_1a,_1b,has){var dm=_14.getObject("dojox.mobile",true);win.doc.dojoClick=true;if(has("touch")){has.add("clicks-prevented",!(has("android")>=4.1||has("ie")>=10));if(has("clicks-prevented")){dm._sendClick=function(_1c,e){for(var _1d=_1c;_1d;_1d=_1d.parentNode){if(_1d.dojoClick){return;}}var ev=win.doc.createEvent("MouseEvents");ev.initMouseEvent("click",true,true,win.global,1,e.screenX,e.screenY,e.clientX,e.clientY);_1c.dispatchEvent(ev);};}}dm.getScreenSize=function(){return {h:win.global.innerHeight||win.doc.documentElement.clientHeight,w:win.global.innerWidth||win.doc.documentElement.clientWidth};};dm.updateOrient=function(){var dim=dm.getScreenSize();_16.replace(win.doc.documentElement,dim.h>dim.w?"dj_portrait":"dj_landscape",dim.h>dim.w?"dj_landscape":"dj_portrait");};dm.updateOrient();dm.tabletSize=500;dm.detectScreenSize=function(_1e){var dim=dm.getScreenSize();var sz=Math.min(dim.w,dim.h);var _1f,to;if(sz>=dm.tabletSize&&(_1e||(!this._sz||this._sz<dm.tabletSize))){_1f="phone";to="tablet";}else{if(sz<dm.tabletSize&&(_1e||(!this._sz||this._sz>=dm.tabletSize))){_1f="tablet";to="phone";}}if(to){_16.replace(win.doc.documentElement,"dj_"+to,"dj_"+_1f);_13.publish("/dojox/mobile/screenSize/"+to,[dim]);}this._sz=sz;};dm.detectScreenSize();dm.hideAddressBarWait=typeof (_12.mblHideAddressBarWait)==="number"?_12.mblHideAddressBarWait:1500;dm.hide_1=function(){scrollTo(0,1);dm._hidingTimer=(dm._hidingTimer==0)?200:dm._hidingTimer*2;setTimeout(function(){if(dm.isAddressBarHidden()||dm._hidingTimer>dm.hideAddressBarWait){dm.resizeAll();dm._hiding=false;}else{setTimeout(dm.hide_1,dm._hidingTimer);}},50);};dm.hideAddressBar=function(evt){if(dm.disableHideAddressBar||dm._hiding){return;}dm._hiding=true;dm._hidingTimer=has("ios")?200:0;var _20=screen.availHeight;if(has("android")){_20=outerHeight/devicePixelRatio;if(_20==0){dm._hiding=false;setTimeout(function(){dm.hideAddressBar();},200);}if(_20<=innerHeight){_20=outerHeight;}if(has("android")<3){win.doc.documentElement.style.overflow=win.body().style.overflow="visible";}}if(win.body().offsetHeight<_20){win.body().style.minHeight=_20+"px";dm._resetMinHeight=true;}setTimeout(dm.hide_1,dm._hidingTimer);};dm.isAddressBarHidden=function(){return pageYOffset===1;};dm.resizeAll=function(evt,_21){if(dm.disableResizeAll){return;}_13.publish("/dojox/mobile/resizeAll",[evt,_21]);_13.publish("/dojox/mobile/beforeResizeAll",[evt,_21]);if(dm._resetMinHeight){win.body().style.minHeight=dm.getScreenSize().h+"px";}dm.updateOrient();dm.detectScreenSize();var _22=function(w){var _23=w.getParent&&w.getParent();return !!((!_23||!_23.resize)&&w.resize);};var _24=function(w){_11.forEach(w.getChildren(),function(_25){if(_22(_25)){_25.resize();}_24(_25);});};if(_21){if(_21.resize){_21.resize();}_24(_21);}else{_11.forEach(_11.filter(_1b.toArray(),_22),function(w){w.resize();});}_13.publish("/dojox/mobile/afterResizeAll",[evt,_21]);};dm.openWindow=function(url,_26){win.global.open(url,_26||"_blank");};dm._detectWindowsTheme=function(){if(navigator.userAgent.match(/IEMobile\/10\.0/)){_17.create("style",{innerHTML:"@-ms-viewport {width: auto !important}"},win.doc.head);}var _27=function(){_16.add(win.doc.documentElement,"windows_theme");_15.experimental("Dojo Mobile Windows theme","Behavior and appearance of the Windows theme are experimental.");};var _28=has("windows-theme");if(_28!==undefined){if(_28){_27();}return;}var i,j;var _29=function(_2a){if(_2a&&_2a.indexOf("/windows/")!==-1){has.add("windows-theme",true);_27();return true;}return false;};var s=win.doc.styleSheets;for(i=0;i<s.length;i++){if(s[i].href){continue;}var r=s[i].cssRules||s[i].imports;if(!r){continue;}for(j=0;j<r.length;j++){if(_29(r[j].href)){return;}}}var _2b=win.doc.getElementsByTagName("link");for(i=0;i<_2b.length;i++){if(_29(_2b[i].href)){return;}}};if(_12.mblApplyPageStyles!==false){_16.add(win.doc.documentElement,"mobile");}if(has("chrome")){_16.add(win.doc.documentElement,"dj_chrome");}if(win.global._no_dojo_dm){var _2c=win.global._no_dojo_dm;for(var i in _2c){dm[i]=_2c[i];}dm.deviceTheme.setDm(dm);}has.add("mblAndroidWorkaround",_12.mblAndroidWorkaround!==false&&has("android")<3,undefined,true);has.add("mblAndroid3Workaround",_12.mblAndroid3Workaround!==false&&has("android")>=3,undefined,true);dm._detectWindowsTheme();_18(function(){_16.add(win.body(),"mblBackground");});_19(function(){dm.detectScreenSize(true);if(_12.mblAndroidWorkaroundButtonStyle!==false&&has("android")){_17.create("style",{innerHTML:"BUTTON,INPUT[type='button'],INPUT[type='submit'],INPUT[type='reset'],INPUT[type='file']::-webkit-file-upload-button{-webkit-appearance:none;} audio::-webkit-media-controls-play-button,video::-webkit-media-controls-play-button{-webkit-appearance:media-play-button;} video::-webkit-media-controls-fullscreen-button{-webkit-appearance:media-fullscreen-button;}"},win.doc.head,"first");}if(has("mblAndroidWorkaround")){_17.create("style",{innerHTML:".mblView.mblAndroidWorkaround{position:absolute;top:-9999px !important;left:-9999px !important;}"},win.doc.head,"last");}var f=dm.resizeAll;var _2d=navigator.appVersion.indexOf("Mobile")!=-1&&!(has("ios")>=7);if((_12.mblHideAddressBar!==false&&_2d)||_12.mblForceHideAddressBar===true){dm.hideAddressBar();if(_12.mblAlwaysHideAddressBar===true){f=dm.hideAddressBar;}}var _2e=has("ios")>=6;if((has("android")||_2e)&&win.global.onorientationchange!==undefined){var _2f=f;var _30,_31,_32;if(_2e){_31=win.doc.documentElement.clientWidth;_32=win.doc.documentElement.clientHeight;}else{f=function(evt){var _33=_13.connect(null,"onresize",null,function(e){_13.disconnect(_33);_2f(e);});};_30=dm.getScreenSize();}_13.connect(null,"onresize",null,function(e){if(_2e){var _34=win.doc.documentElement.clientWidth,_35=win.doc.documentElement.clientHeight;if(_34==_31&&_35!=_32){_2f(e);}_31=_34;_32=_35;}else{var _36=dm.getScreenSize();if(_36.w==_30.w&&Math.abs(_36.h-_30.h)>=100){_2f(e);}_30=_36;}});}_13.connect(null,win.global.onorientationchange!==undefined?"onorientationchange":"onresize",null,f);win.body().style.visibility="visible";});return dm;});},"dojo/touch":function(){define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(_37,_38,dom,_39,_3a,on,has,_3b,_3c,win){var _3d=has("touch");var _3e=has("ios")<5;var _3f=navigator.msPointerEnabled;var _40,_41,_42,_43,_44,_45,_46,_47;var _48;function _49(_4a,_4b,_4c){if(_3f&&_4c){return function(_4d,_4e){return on(_4d,_4c,_4e);};}else{if(_3d){return function(_4f,_50){var _51=on(_4f,_4b,_50),_52=on(_4f,_4a,function(evt){if(!_48||(new Date()).getTime()>_48+1000){_50.call(this,evt);}});return {remove:function(){_51.remove();_52.remove();}};};}else{return function(_53,_54){return on(_53,_4a,_54);};}}};function _55(_56){do{if(_56.dojoClick){return _56;}}while(_56=_56.parentNode);};function _57(e,_58,_59){var _5a=_55(e.target);_41=!e.target.disabled&&_5a&&_5a.dojoClick;if(_41){var _5b=(_41=="useTarget");_42=(_5b?_5a:e.target);if(_5b){e.preventDefault();}_43=e.touches?e.touches[0].pageX:e.clientX;_44=e.touches?e.touches[0].pageY:e.clientY;_45=(typeof _41=="object"?_41.x:(typeof _41=="number"?_41:0))||4;_46=(typeof _41=="object"?_41.y:(typeof _41=="number"?_41:0))||4;if(!_40){_40=true;function _5c(e){if(_5b){_41=dom.isDescendant(win.doc.elementFromPoint((e.changedTouches?e.changedTouches[0].pageX:e.clientX),(e.changedTouches?e.changedTouches[0].pageY:e.clientY)),_42);}else{_41=_41&&e.target==_42&&Math.abs((e.changedTouches?e.changedTouches[0].pageX:e.clientX)-_43)<=_45&&Math.abs((e.changedTouches?e.changedTouches[0].pageY:e.clientY)-_44)<=_46;}};win.doc.addEventListener(_58,function(e){_5c(e);if(_5b){e.preventDefault();}},true);win.doc.addEventListener(_59,function(e){_5c(e);if(_41){_47=(new Date()).getTime();var _5d=(_5b?_42:e.target);if(_5d.tagName==="LABEL"){_5d=dom.byId(_5d.getAttribute("for"))||_5d;}setTimeout(function(){on.emit(_5d,"click",{bubbles:true,cancelable:true,_dojo_click:true});},0);}},true);function _5e(_5f){win.doc.addEventListener(_5f,function(e){if(!e._dojo_click&&(new Date()).getTime()<=_47+1000&&!(e.target.tagName=="INPUT"&&_39.contains(e.target,"dijitOffScreen"))){e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();if(_5f=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){e.preventDefault();}}},true);};_5e("click");_5e("mousedown");_5e("mouseup");}}};var _60;if(_3d){if(_3f){_3c(function(){win.doc.addEventListener("MSPointerDown",function(evt){_57(evt,"MSPointerMove","MSPointerUp");},true);});}else{_3c(function(){_60=win.body();win.doc.addEventListener("touchstart",function(evt){_48=(new Date()).getTime();var _61=_60;_60=evt.target;on.emit(_61,"dojotouchout",{relatedTarget:_60,bubbles:true});on.emit(_60,"dojotouchover",{relatedTarget:_61,bubbles:true});_57(evt,"touchmove","touchend");},true);function _62(evt){var _63=_3a.delegate(evt,{bubbles:true});if(has("ios")>=6){_63.touches=evt.touches;_63.altKey=evt.altKey;_63.changedTouches=evt.changedTouches;_63.ctrlKey=evt.ctrlKey;_63.metaKey=evt.metaKey;_63.shiftKey=evt.shiftKey;_63.targetTouches=evt.targetTouches;}return _63;};on(win.doc,"touchmove",function(evt){_48=(new Date()).getTime();var _64=win.doc.elementFromPoint(evt.pageX-(_3e?0:win.global.pageXOffset),evt.pageY-(_3e?0:win.global.pageYOffset));if(_64){if(_60!==_64){on.emit(_60,"dojotouchout",{relatedTarget:_64,bubbles:true});on.emit(_64,"dojotouchover",{relatedTarget:_60,bubbles:true});_60=_64;}if(!on.emit(_64,"dojotouchmove",_62(evt))){evt.preventDefault();}}});on(win.doc,"touchend",function(evt){_48=(new Date()).getTime();var _65=win.doc.elementFromPoint(evt.pageX-(_3e?0:win.global.pageXOffset),evt.pageY-(_3e?0:win.global.pageYOffset))||win.body();on.emit(_65,"dojotouchend",_62(evt));});});}}var _66={press:_49("mousedown","touchstart","MSPointerDown"),move:_49("mousemove","dojotouchmove","MSPointerMove"),release:_49("mouseup","dojotouchend","MSPointerUp"),cancel:_49(_3b.leave,"touchcancel",_3d?"MSPointerCancel":null),over:_49("mouseover","dojotouchover","MSPointerOver"),out:_49("mouseout","dojotouchout","MSPointerOut"),enter:_3b._eventHandler(_49("mouseover","dojotouchover","MSPointerOver")),leave:_3b._eventHandler(_49("mouseout","dojotouchout","MSPointerOut"))};1&&(_37.touch=_66);return _66;});},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(_67,win,_68){var _69={},_6a={};var _6b={length:0,add:function(_6c){if(_6a[_6c.id]){throw new Error("Tried to register widget with id=="+_6c.id+" but that id is already registered");}_6a[_6c.id]=_6c;this.length++;},remove:function(id){if(_6a[id]){delete _6a[id];this.length--;}},byId:function(id){return typeof id=="string"?_6a[id]:id;},byNode:function(_6d){return _6a[_6d.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in _6a){ar.push(_6a[id]);}return ar;},getUniqueId:function(_6e){var id;do{id=_6e+"_"+(_6e in _69?++_69[_6e]:_69[_6e]=0);}while(_6a[id]);return _68._scopeName=="dijit"?id:_68._scopeName+"_"+id;},findWidgets:function(_6f,_70){var _71=[];function _72(_73){for(var _74=_73.firstChild;_74;_74=_74.nextSibling){if(_74.nodeType==1){var _75=_74.getAttribute("widgetId");if(_75){var _76=_6a[_75];if(_76){_71.push(_76);}}else{if(_74!==_70){_72(_74);}}}}};_72(_6f);return _71;},_destroyAll:function(){_68._curFocus=null;_68._prevFocus=null;_68._activeStack=[];_67.forEach(_6b.findWidgets(win.body()),function(_77){if(!_77._destroyed){if(_77.destroyRecursive){_77.destroyRecursive();}else{if(_77.destroy){_77.destroy();}}}});},getEnclosingWidget:function(_78){while(_78){var id=_78.nodeType==1&&_78.getAttribute("widgetId");if(id){return _6a[id];}_78=_78.parentNode;}return null;},_hash:_6a};_68.registry=_6b;return _6b;});},"dijit/main":function(){define(["dojo/_base/kernel"],function(_79){return _79.dijit;});},"dojox/mobile/sniff":function(){define(["dojo/_base/kernel","dojo/sniff"],function(_7a,has){_7a.deprecated("dojox/mobile/sniff","Use dojo/sniff instead","2.0");has.add("iphone",has("ios"));return has;});},"dojox/mobile/uacss":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/window","./sniff"],function(_7b,_7c,win,has){var _7d=win.doc.documentElement;_7d.className=_7c.trim(_7d.className+" "+[has("bb")?"dj_bb":"",has("android")?"dj_android":"",has("ios")?"dj_ios":"",has("ios")>=6?"dj_ios6":"",has("ios")?"dj_iphone":"",has("ipod")?"dj_ipod":"",has("ipad")?"dj_ipad":"",has("ie")?"dj_ie":""].join(" ").replace(/ +/g," "));return _7b;});},"dojox/mobile/View":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/sniff","dojo/_base/window","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./ViewController","./common","./transition","./viewRegistry","./_css3"],function(_7e,_7f,_80,_81,_82,has,win,_83,dom,_84,_85,_86,_87,_88,_89,_8a,_8b,_8c,_8d,_8e,_8f,_90){var dm=_82.getObject("dojox.mobile",true);return _81("dojox.mobile.View",[_8b,_8a,_89],{selected:false,keepScrollPos:true,tag:"div",baseClass:"mblView",constructor:function(_91,_92){if(_92){dom.byId(_92).style.visibility="hidden";}},destroy:function(){_8f.remove(this.id);this.inherited(arguments);},buildRendering:function(){if(!this.templateString){this.domNode=this.containerNode=this.srcNodeRef||_85.create(this.tag);}this._animEndHandle=this.connect(this.domNode,_90.name("animationEnd"),"onAnimationEnd");this._animStartHandle=this.connect(this.domNode,_90.name("animationStart"),"onAnimationStart");if(!_7f.mblCSS3Transition){this._transEndHandle=this.connect(this.domNode,_90.name("transitionEnd"),"onAnimationEnd");}if(has("mblAndroid3Workaround")){_87.set(this.domNode,_90.name("transformStyle"),"preserve-3d");}_8f.add(this);this.inherited(arguments);},startup:function(){if(this._started){return;}if(this._visible===undefined){var _93=this.getSiblingViews();var ids=location.hash&&location.hash.substring(1).split(/,/);var _94,_95,_96;_7e.forEach(_93,function(v,i){if(_7e.indexOf(ids,v.id)!==-1){_94=v;}if(i==0){_96=v;}if(v.selected){_95=v;}v._visible=false;},this);(_94||_95||_96)._visible=true;}if(this._visible){this.show(true,true);this.defer(function(){this.onStartView();_80.publish("/dojox/mobile/startView",[this]);});}if(this.domNode.style.visibility!="visible"){this.domNode.style.visibility="visible";}this.inherited(arguments);var _97=this.getParent();if(!_97||!_97.resize){this.resize();}if(!this._visible){this.hide();}},resize:function(){_7e.forEach(this.getChildren(),function(_98){if(_98.resize){_98.resize();}});},onStartView:function(){},onBeforeTransitionIn:function(_99,dir,_9a,_9b,_9c){},onAfterTransitionIn:function(_9d,dir,_9e,_9f,_a0){},onBeforeTransitionOut:function(_a1,dir,_a2,_a3,_a4){},onAfterTransitionOut:function(_a5,dir,_a6,_a7,_a8){},_clearClasses:function(_a9){if(!_a9){return;}var _aa=[];_7e.forEach(_82.trim(_a9.className||"").split(/\s+/),function(c){if(c.match(/^mbl\w*View$/)||c.indexOf("mbl")===-1){_aa.push(c);}},this);_a9.className=_aa.join(" ");},_fixViewState:function(_ab){var _ac=this.domNode.parentNode.childNodes;for(var i=0;i<_ac.length;i++){var n=_ac[i];if(n.nodeType===1&&_84.contains(n,"mblView")){this._clearClasses(n);}}this._clearClasses(_ab);var _ad=_88.byNode(_ab);if(_ad){_ad._inProgress=false;}},convertToId:function(_ae){if(typeof (_ae)=="string"){return _ae.replace(/^#?([^&?]+).*/,"$1");}return _ae;},_isBookmarkable:function(_af){return _af.moveTo&&(_7f.mblForceBookmarkable||_af.moveTo.charAt(0)==="#")&&!_af.hashchange;},performTransition:function(_b0,_b1,_b2,_b3,_b4){if(this._inProgress){return;}this._inProgress=true;var _b5,_b6;if(_b0&&typeof (_b0)==="object"){_b5=_b0;_b6=_b1;}else{_b5={moveTo:_b0,transitionDir:_b1,transition:_b2,context:_b3,method:_b4};_b6=[];for(var i=5;i<arguments.length;i++){_b6.push(arguments[i]);}}this._detail=_b5;this._optArgs=_b6;this._arguments=[_b5.moveTo,_b5.transitionDir,_b5.transition,_b5.context,_b5.method];if(_b5.moveTo==="#"){return;}var _b7;if(_b5.moveTo){_b7=this.convertToId(_b5.moveTo);}else{if(!this._dummyNode){this._dummyNode=win.doc.createElement("div");win.body().appendChild(this._dummyNode);}_b7=this._dummyNode;}if(this.addTransitionInfo&&typeof (_b5.moveTo)=="string"&&this._isBookmarkable(_b5)){this.addTransitionInfo(this.id,_b5.moveTo,{transitionDir:_b5.transitionDir,transition:_b5.transition});}var _b8=this.domNode;var _b9=_b8.offsetTop;_b7=this.toNode=dom.byId(_b7);if(!_b7){return;}_b7.style.visibility="hidden";_b7.style.display="";this._fixViewState(_b7);var _ba=_88.byNode(_b7);if(_ba){if(_7f.mblAlwaysResizeOnTransition||!_ba._resized){_8d.resizeAll(null,_ba);_ba._resized=true;}if(_b5.transition&&_b5.transition!="none"){_ba._addTransitionPaddingTop(_b9);}_ba.load&&_ba.load();_ba.movedFrom=_b8.id;}if(has("mblAndroidWorkaround")&&!_7f.mblCSS3Transition&&_b5.transition&&_b5.transition!="none"){_87.set(_b7,_90.name("transformStyle"),"preserve-3d");_87.set(_b8,_90.name("transformStyle"),"preserve-3d");_84.add(_b7,"mblAndroidWorkaround");}this.onBeforeTransitionOut.apply(this,this._arguments);_80.publish("/dojox/mobile/beforeTransitionOut",[this].concat(_82._toArray(this._arguments)));if(_ba){if(this.keepScrollPos&&!this.getParent()){var _bb=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;_b8._scrollTop=_bb;var _bc=(_b5.transitionDir==1)?0:(_b7._scrollTop||0);_b7.style.top="0px";if(_bb>1||_bc!==0){_b8.style.top=_bc-_bb+"px";if(!(has("ios")>=7)&&_7f.mblHideAddressBar!==false){this.defer(function(){win.global.scrollTo(0,(_bc||1));});}}}else{_b7.style.top="0px";}_ba.onBeforeTransitionIn.apply(_ba,this._arguments);_80.publish("/dojox/mobile/beforeTransitionIn",[_ba].concat(_82._toArray(this._arguments)));}_b7.style.display="none";_b7.style.visibility="visible";_8d.fromView=this;_8d.toView=_ba;this._doTransition(_b8,_b7,_b5.transition,_b5.transitionDir);},_addTransitionPaddingTop:function(_bd){this.containerNode.style.paddingTop=_bd+"px";},_removeTransitionPaddingTop:function(){this.containerNode.style.paddingTop="";},_toCls:function(s){return "mbl"+s.charAt(0).toUpperCase()+s.substring(1);},_doTransition:function(_be,_bf,_c0,_c1){var rev=(_c1==-1)?" mblReverse":"";_bf.style.display="";if(!_c0||_c0=="none"){this.domNode.style.display="none";this.invokeCallback();}else{if(_7f.mblCSS3Transition){_83.when(_8e,_82.hitch(this,function(_c2){var _c3=_87.get(_bf,"position");_87.set(_bf,"position","absolute");_83.when(_c2(_be,_bf,{transition:_c0,reverse:(_c1===-1)?true:false}),_82.hitch(this,function(){_87.set(_bf,"position",_c3);_bf.style.paddingTop="";this.invokeCallback();}));}));}else{if(_c0.indexOf("cube")!=-1){if(has("ipad")){_87.set(_bf.parentNode,{webkitPerspective:1600});}else{if(has("ios")){_87.set(_bf.parentNode,{webkitPerspective:800});}}}var s=this._toCls(_c0);if(has("mblAndroidWorkaround")){var _c4=this;_c4.defer(function(){_84.add(_be,s+" mblOut"+rev);_84.add(_bf,s+" mblIn"+rev);_84.remove(_bf,"mblAndroidWorkaround");_c4.defer(function(){_84.add(_be,"mblTransition");_84.add(_bf,"mblTransition");},30);},70);}else{_84.add(_be,s+" mblOut"+rev);_84.add(_bf,s+" mblIn"+rev);this.defer(function(){_84.add(_be,"mblTransition");_84.add(_bf,"mblTransition");},100);}var _c5="50% 50%";var _c6="50% 50%";var _c7,_c8,_c9;if(_c0.indexOf("swirl")!=-1||_c0.indexOf("zoom")!=-1){if(this.keepScrollPos&&!this.getParent()){_c7=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;}else{_c7=-_86.position(_be,true).y;}_c9=win.global.innerHeight/2+_c7;_c5="50% "+_c9+"px";_c6="50% "+_c9+"px";}else{if(_c0.indexOf("scale")!=-1){var _ca=_86.position(_be,true);_c8=((this.clickedPosX!==undefined)?this.clickedPosX:win.global.innerWidth/2)-_ca.x;if(this.keepScrollPos&&!this.getParent()){_c7=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;}else{_c7=-_ca.y;}_c9=((this.clickedPosY!==undefined)?this.clickedPosY:win.global.innerHeight/2)+_c7;_c5=_c8+"px "+_c9+"px";_c6=_c8+"px "+_c9+"px";}}_87.set(_be,_90.add({},{transformOrigin:_c5}));_87.set(_bf,_90.add({},{transformOrigin:_c6}));}}},onAnimationStart:function(e){},onAnimationEnd:function(e){var _cb=e.animationName||e.target.className;if(_cb.indexOf("Out")===-1&&_cb.indexOf("In")===-1&&_cb.indexOf("Shrink")===-1){return;}var _cc=false;if(_84.contains(this.domNode,"mblOut")){_cc=true;this.domNode.style.display="none";_84.remove(this.domNode,[this._toCls(this._detail.transition),"mblIn","mblOut","mblReverse"]);}else{this._removeTransitionPaddingTop();}_87.set(this.domNode,_90.add({},{transformOrigin:""}));if(_cb.indexOf("Shrink")!==-1){var li=e.target;li.style.display="none";_84.remove(li,"mblCloseContent");var p=_8f.getEnclosingScrollable(this.domNode);p&&p.onTouchEnd();}if(_cc){this.invokeCallback();}this._clearClasses(this.domNode);this.clickedPosX=this.clickedPosY=undefined;if(_cb.indexOf("Cube")!==-1&&_cb.indexOf("In")!==-1&&has("ios")){this.domNode.parentNode.style[_90.name("perspective")]="";}},invokeCallback:function(){this.onAfterTransitionOut.apply(this,this._arguments);_80.publish("/dojox/mobile/afterTransitionOut",[this].concat(this._arguments));var _cd=_88.byNode(this.toNode);if(_cd){_cd.onAfterTransitionIn.apply(_cd,this._arguments);_80.publish("/dojox/mobile/afterTransitionIn",[_cd].concat(this._arguments));_cd.movedFrom=undefined;if(this.setFragIds&&this._isBookmarkable(this._detail)){this.setFragIds(_cd);}}if(has("mblAndroidWorkaround")){this.defer(function(){if(_cd){_87.set(this.toNode,_90.name("transformStyle"),"");}_87.set(this.domNode,_90.name("transformStyle"),"");});}var c=this._detail.context,m=this._detail.method;if(c||m){if(!m){m=c;c=null;}c=c||win.global;if(typeof (m)=="string"){c[m].apply(c,this._optArgs);}else{if(typeof (m)=="function"){m.apply(c,this._optArgs);}}}this._detail=this._optArgs=this._arguments=undefined;this._inProgress=false;},isVisible:function(_ce){var _cf=function(_d0){return _87.get(_d0,"display")!=="none";};if(_ce){for(var n=this.domNode;n.tagName!=="BODY";n=n.parentNode){if(!_cf(n)){return false;}}return true;}else{return _cf(this.domNode);}},getShowingView:function(){var _d1=this.domNode.parentNode.childNodes;for(var i=0;i<_d1.length;i++){var n=_d1[i];if(n.nodeType===1&&_84.contains(n,"mblView")&&n.style.display!=="none"){return _88.byNode(n);}}return null;},getSiblingViews:function(){if(!this.domNode.parentNode){return [this];}return _7e.map(_7e.filter(this.domNode.parentNode.childNodes,function(n){return n.nodeType===1&&_84.contains(n,"mblView");}),function(n){return _88.byNode(n);});},show:function(_d2,_d3){var out=this.getShowingView();if(!_d2){if(out){out.onBeforeTransitionOut(out.id);_80.publish("/dojox/mobile/beforeTransitionOut",[out,out.id]);}this.onBeforeTransitionIn(this.id);_80.publish("/dojox/mobile/beforeTransitionIn",[this,this.id]);}if(_d3){this.domNode.style.display="";}else{_7e.forEach(this.getSiblingViews(),function(v){v.domNode.style.display=(v===this)?"":"none";},this);}this.load&&this.load();if(!_d2){if(out){out.onAfterTransitionOut(out.id);_80.publish("/dojox/mobile/afterTransitionOut",[out,out.id]);}this.onAfterTransitionIn(this.id);_80.publish("/dojox/mobile/afterTransitionIn",[this,this.id]);}},hide:function(){this.domNode.style.display="none";}});});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_d4,_d5){return _d4("dijit._Contained",null,{_getSibling:function(_d6){var _d7=this.domNode;do{_d7=_d7[_d6+"Sibling"];}while(_d7&&_d7.nodeType!=1);return _d7&&_d5.byNode(_d7);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_d8,_d9,_da,_db){return _d9("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_dc,_dd){var _de=this.containerNode;if(_dd>0){_de=_de.firstChild;while(_dd>0){if(_de.nodeType==1){_dd--;}_de=_de.nextSibling;}if(_de){_dd="before";}else{_de=this.containerNode;_dd="last";}}_da.place(_dc.domNode,_de,_dd);if(this._started&&!_dc._started){_dc.startup();}},removeChild:function(_df){if(typeof _df=="number"){_df=this.getChildren()[_df];}if(_df){var _e0=_df.domNode;if(_e0&&_e0.parentNode){_e0.parentNode.removeChild(_e0);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_e1,dir){_db.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var _e2=this.getChildren(),idx=_d8.indexOf(_e2,_e1);return _e2[idx+dir];},getIndexOfChild:function(_e3){return _d8.indexOf(this.getChildren(),_e3);}});});},"dijit/_WidgetBase":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(_e4,_e5,_e6,_e7,_e8,_e9,dom,_ea,_eb,_ec,_ed,_ee,has,_ef,_f0,on,_f1,_f2,_f3,win,_f4,_f5,_f6){has.add("dijit-legacy-requires",!_ef.isAsync);has.add("dojo-bidi",false);if(has("dijit-legacy-requires")){_f1(0,function(){var _f7=["dijit/_base/manager"];_e4(_f7);});}var _f8={};function _f9(obj){var ret={};for(var _fa in obj){ret[_fa.toLowerCase()]=true;}return ret;};function _fb(_fc){return function(val){_ea[val?"set":"remove"](this.domNode,_fc,val);this._set(_fc,val);};};var _fd=_e9("dijit._WidgetBase",[_f2,_f4],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_fb("lang"),dir:"",_setDirAttr:_fb("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_e7.blankGif||_e4.toUrl("dojo/resources/blank.gif"),_introspect:function(){var _fe=this.constructor;if(!_fe._setterAttrs){var _ff=_fe.prototype,_100=_fe._setterAttrs=[],_101=(_fe._onMap={});for(var name in _ff.attributeMap){_100.push(name);}for(name in _ff){if(/^on/.test(name)){_101[name.substring(2).toLowerCase()]=name;}if(/^_set[A-Z](.*)Attr$/.test(name)){name=name.charAt(4).toLowerCase()+name.substr(5,name.length-9);if(!_ff.attributeMap||!(name in _ff.attributeMap)){_100.push(name);}}}}},postscript:function(_102,_103){this.create(_102,_103);},create:function(_104,_105){this._introspect();this.srcNodeRef=dom.byId(_105);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_104){this.params=_104;_f0.mixin(this,_104);}this.postMixInProperties();if(!this.id){this.id=_f6.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=win.body(this.ownerDocument);_f6.add(this);this.buildRendering();var _106;if(this.domNode){this._applyAttributes();var _107=this.srcNodeRef;if(_107&&_107.parentNode&&this.domNode!==_107){_107.parentNode.replaceChild(this.domNode,_107);_106=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_106){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _108={};for(var key in this.params||{}){_108[key]=this._get(key);}_e5.forEach(this.constructor._setterAttrs,function(key){if(!(key in _108)){var val=this._get(key);if(val){this.set(key,val);}}},this);for(key in _108){this.set(key,_108[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _109=this.baseClass.split(" ");if(!this.isLeftToRight()){_109=_109.concat(_e5.map(_109,function(name){return name+"Rtl";}));}_eb.add(this.domNode,_109);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_e5.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&_f0.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_10a){this._beingDestroyed=true;this.destroyDescendants(_10a);this.destroy(_10a);},destroy:function(_10b){this._beingDestroyed=true;this.uninitialize();function _10c(w){if(w.destroyRecursive){w.destroyRecursive(_10b);}else{if(w.destroy){w.destroy(_10b);}}};_e5.forEach(this._connects,_f0.hitch(this,"disconnect"));_e5.forEach(this._supportingWidgets,_10c);if(this.domNode){_e5.forEach(_f6.findWidgets(this.domNode,this.containerNode),_10c);}this.destroyRendering(_10b);_f6.remove(this.id);this._destroyed=true;},destroyRendering:function(_10d){if(this.bgIframe){this.bgIframe.destroy(_10d);delete this.bgIframe;}if(this.domNode){if(_10d){_ea.remove(this.domNode,"widgetId");}else{_ec.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_10d){_ec.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_10e){_e5.forEach(this.getChildren(),function(_10f){if(_10f.destroyRecursive){_10f.destroyRecursive(_10e);}});},uninitialize:function(){return false;},_setStyleAttr:function(_110){var _111=this.domNode;if(_f0.isObject(_110)){_ee.set(_111,_110);}else{if(_111.style.cssText){_111.style.cssText+="; "+_110;}else{_111.style.cssText=_110;}}this._set("style",_110);},_attrToDom:function(attr,_112,_113){_113=arguments.length>=3?_113:this.attributeMap[attr];_e5.forEach(_f0.isArray(_113)?_113:[_113],function(_114){var _115=this[_114.node||_114||"domNode"];var type=_114.type||"attribute";switch(type){case "attribute":if(_f0.isFunction(_112)){_112=_f0.hitch(this,_112);}var _116=_114.attribute?_114.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);if(_115.tagName){_ea.set(_115,_116,_112);}else{_115.set(_116,_112);}break;case "innerText":_115.innerHTML="";_115.appendChild(this.ownerDocument.createTextNode(_112));break;case "innerHTML":_115.innerHTML=_112;break;case "class":_eb.replace(_115,_112,this[attr]);break;}},this);},get:function(name){var _117=this._getAttrNames(name);return this[_117.g]?this[_117.g]():this._get(name);},set:function(name,_118){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _119=this._getAttrNames(name),_11a=this[_119.s];if(_f0.isFunction(_11a)){var _11b=_11a.apply(this,Array.prototype.slice.call(arguments,1));}else{var _11c=this.focusNode&&!_f0.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_11c]&&this[_11c].tagName,_11d=tag&&(_f8[tag]||(_f8[tag]=_f9(this[_11c]))),map=name in this.attributeMap?this.attributeMap[name]:_119.s in this?this[_119.s]:((_11d&&_119.l in _11d&&typeof _118!="function")||/^aria-|^data-|^role$/.test(name))?_11c:null;if(map!=null){this._attrToDom(name,_118,map);}this._set(name,_118);}return _11b||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,_11e){var _11f=this[name];this[name]=_11e;if(this._created&&_11e!==_11f){if(this._watchCallbacks){this._watchCallbacks(name,_11f,_11e);}this.emit("attrmodified-"+name,{detail:{prevValue:_11f,newValue:_11e}});}},_get:function(name){return this[name];},emit:function(type,_120,_121){_120=_120||{};if(_120.bubbles===undefined){_120.bubbles=true;}if(_120.cancelable===undefined){_120.cancelable=true;}if(!_120.detail){_120.detail={};}_120.detail.widget=this;var ret,_122=this["on"+type];if(_122){ret=_122.apply(this,_121?_121:[_120]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,type.toLowerCase(),_120);}return ret;},on:function(type,func){var _123=this._onMap(type);if(_123){return _e6.after(this,_123,func,true);}return this.own(on(this.domNode,type,func))[0];},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[typeof type=="string"&&type.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_f6.findWidgets(this.containerNode):[];},getParent:function(){return _f6.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_124,_125){return this.own(_e8.connect(obj,_124,this,_125))[0];},disconnect:function(_126){_126.remove();},subscribe:function(t,_127){return this.own(_f3.subscribe(t,_f0.hitch(this,_127)))[0];},unsubscribe:function(_128){_128.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_ed.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_ee.get(this.domNode,"display")!="none");},placeAt:function(_129,_12a){var _12b=!_129.tagName&&_f6.byId(_129);if(_12b&&_12b.addChild&&(!_12a||typeof _12a==="number")){_12b.addChild(this,_12a);}else{var ref=_12b?(_12b.containerNode&&!/after|before|replace/.test(_12a||"")?_12b.containerNode:_12b.domNode):dom.byId(_129,this.ownerDocument);_ec.place(this.domNode,ref,_12a);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},defer:function(fcn,_12c){var _12d=setTimeout(_f0.hitch(this,function(){if(!_12d){return;}_12d=null;if(!this._destroyed){_f0.hitch(this,fcn)();}}),_12c||0);return {remove:function(){if(_12d){clearTimeout(_12d);_12d=null;}return null;}};}});if(has("dojo-bidi")){_fd.extend(_f5);}return _fd;});},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(_12e,lang,_12f,when){return _12e("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}return (apn[name]={s:"_"+name+"Setter",g:"_"+name+"Getter"});},postscript:function(_130){if(_130){this.set(_130);}},_get:function(name,_131){return typeof this[_131.g]==="function"?this[_131.g]():this[name];},get:function(name){return this._get(name,this._getAttrNames(name));},set:function(name,_132){if(typeof name==="object"){for(var x in name){if(name.hasOwnProperty(x)&&x!="_watchCallbacks"){this.set(x,name[x]);}}return this;}var _133=this._getAttrNames(name),_134=this._get(name,_133),_135=this[_133.s],_136;if(typeof _135==="function"){_136=_135.apply(this,Array.prototype.slice.call(arguments,1));}else{this[name]=_132;}if(this._watchCallbacks){var self=this;when(_136,function(){self._watchCallbacks(name,_134,_132);});}return this;},_changeAttrValue:function(name,_137){var _138=this.get(name);this[name]=_137;if(this._watchCallbacks){this._watchCallbacks(name,_138,_137);}return this;},watch:function(name,_139){var _13a=this._watchCallbacks;if(!_13a){var self=this;_13a=this._watchCallbacks=function(name,_13b,_13c,_13d){var _13e=function(_13f){if(_13f){_13f=_13f.slice();for(var i=0,l=_13f.length;i<l;i++){_13f[i].call(self,name,_13b,_13c);}}};_13e(_13a["_"+name]);if(!_13d){_13e(_13a["*"]);}};}if(!_139&&typeof name==="function"){_139=name;name="*";}else{name="_"+name;}var _140=_13a[name];if(typeof _140!=="object"){_140=_13a[name]=[];}_140.push(_139);var _141={};_141.unwatch=_141.remove=function(){var _142=_12f.indexOf(_140,_139);if(_142>-1){_140.splice(_142,1);}};return _141;}});});},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_143,_144,_145){return _145("dijit.Destroyable",null,{destroy:function(_146){this._destroyed=true;},own:function(){_143.forEach(arguments,function(_147){var _148="destroyRecursive" in _147?"destroyRecursive":"destroy" in _147?"destroy":"remove";var odh=_144.before(this,"destroy",function(_149){_147[_148](_149);});var hdh=_144.after(_147,_148,function(){odh.remove();hdh.remove();},true);},this);return arguments;}});});},"dojox/mobile/ViewController":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/on","dojo/ready","dijit/registry","./ProgressIndicator","./TransitionEvent","./viewRegistry"],function(dojo,_14a,_14b,_14c,lang,win,_14d,dom,_14e,_14f,on,_150,_151,_152,_153,_154){var _155=_14c("dojox.mobile.ViewController",null,{dataHandlerClass:"dojox/mobile/dh/DataHandler",dataSourceClass:"dojox/mobile/dh/UrlDataSource",fileTypeMapClass:"dojox/mobile/dh/SuffixFileTypeMap",constructor:function(){this.viewMap={};_150(lang.hitch(this,function(){on(win.body(),"startTransition",lang.hitch(this,"onStartTransition"));}));},findTransitionViews:function(_156){if(!_156){return [];}_156.match(/^#?([^&?]+)(.*)/);var _157=RegExp.$2;var view=_151.byId(RegExp.$1);if(!view){return [];}for(var v=view.getParent();v;v=v.getParent()){if(v.isVisible&&!v.isVisible()){var sv=view.getShowingView();if(sv&&sv.id!==view.id){view.show();}view=v;}}return [view.getShowingView(),view,_157];},openExternalView:function(_158,_159){var d=new _14d();var id=this.viewMap[_158.url];if(id){_158.moveTo=id;if(_158.noTransition){_151.byId(id).hide();}else{new _153(win.body(),_158).dispatch();}d.resolve(true);return d;}var _15a=null;for(var i=_159.childNodes.length-1;i>=0;i--){var c=_159.childNodes[i];if(c.nodeType===1){var _15b=c.getAttribute("fixed")||c.getAttribute("data-mobile-fixed")||(_151.byNode(c)&&_151.byNode(c).fixed);if(_15b==="bottom"){_15a=c;break;}}}var dh=_158.dataHandlerClass||this.dataHandlerClass;var ds=_158.dataSourceClass||this.dataSourceClass;var ft=_158.fileTypeMapClass||this.fileTypeMapClass;require([dh,ds,ft],lang.hitch(this,function(_15c,_15d,_15e){var _15f=new _15c(new _15d(_158.data||_158.url),_159,_15a);var _160=_158.contentType||_15e.getContentType(_158.url)||"html";_15f.processData(_160,lang.hitch(this,function(id){if(id){this.viewMap[_158.url]=_158.moveTo=id;if(_158.noTransition){_151.byId(id).hide();}else{new _153(win.body(),_158).dispatch();}d.resolve(true);}else{d.reject("Failed to load "+_158.url);}}));}));return d;},onStartTransition:function(evt){evt.preventDefault();if(!evt.detail){return;}var _161=evt.detail;if(!_161.moveTo&&!_161.href&&!_161.url&&!_161.scene){return;}if(_161.url&&!_161.moveTo){var _162=_161.urlTarget;var w=_151.byId(_162);var _163=w&&w.containerNode||dom.byId(_162);if(!_163){w=_154.getEnclosingView(evt.target);_163=w&&w.domNode.parentNode||win.body();}this.openExternalView(_161,_163);return;}else{if(_161.href){if(_161.hrefTarget&&_161.hrefTarget!="_self"){win.global.open(_161.href,_161.hrefTarget);}else{var view;for(var v=_154.getEnclosingView(evt.target);v;v=_154.getParentView(v)){view=v;}if(view){view.performTransition(null,_161.transitionDir,_161.transition,evt.target,function(){location.href=_161.href;});}}return;}else{if(_161.scene){_14b.publish("/dojox/mobile/app/pushScene",[_161.scene]);return;}}}var arr=this.findTransitionViews(_161.moveTo),_164=arr[0],_165=arr[1],_166=arr[2];if(!location.hash&&!_161.hashchange){_154.initialView=_164;}if(_161.moveTo&&_165){_161.moveTo=(_161.moveTo.charAt(0)==="#"?"#"+_165.id:_165.id)+_166;}if(!_164||(_161.moveTo&&_164===_151.byId(_161.moveTo.replace(/^#?([^&?]+).*/,"$1")))){return;}var src=_151.getEnclosingWidget(evt.target);if(src&&src.callback){_161.context=src;_161.method=src.callback;}_164.performTransition(_161);}});_155._instance=new _155();_155.getInstance=function(){return _155._instance;};return _155;});},"dojox/mobile/ProgressIndicator":function(){define(["dojo/_base/config","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dijit/_Contained","dijit/_WidgetBase","./_css3"],function(_167,_168,lang,_169,_16a,_16b,_16c,has,_16d,_16e,css3){var cls=_168("dojox.mobile.ProgressIndicator",[_16e,_16d],{interval:100,size:40,removeOnStop:true,startSpinning:false,center:true,colors:null,baseClass:"mblProgressIndicator",constructor:function(){this.colors=[];this._bars=[];},buildRendering:function(){this.inherited(arguments);if(this.center){_169.add(this.domNode,"mblProgressIndicatorCenter");}this.containerNode=_16a.create("div",{className:"mblProgContainer"},this.domNode);this.spinnerNode=_16a.create("div",null,this.containerNode);for(var i=0;i<12;i++){var div=_16a.create("div",{className:"mblProg mblProg"+i},this.spinnerNode);this._bars.push(div);}this.scale(this.size);if(this.startSpinning){this.start();}},scale:function(size){var _16f=size/40;_16c.set(this.containerNode,css3.add({},{transform:"scale("+_16f+")",transformOrigin:"0 0"}));_16b.setMarginBox(this.domNode,{w:size,h:size});_16b.setMarginBox(this.containerNode,{w:size/_16f,h:size/_16f});},start:function(){if(this.imageNode){var img=this.imageNode;var l=Math.round((this.containerNode.offsetWidth-img.offsetWidth)/2);var t=Math.round((this.containerNode.offsetHeight-img.offsetHeight)/2);img.style.margin=t+"px "+l+"px";return;}var cntr=0;var _170=this;var n=12;this.timer=setInterval(function(){cntr--;cntr=cntr<0?n-1:cntr;var c=_170.colors;for(var i=0;i<n;i++){var idx=(cntr+i)%n;if(c[idx]){_170._bars[i].style.backgroundColor=c[idx];}else{_169.replace(_170._bars[i],"mblProg"+idx+"Color","mblProg"+(idx===n-1?0:idx+1)+"Color");}}},this.interval);},stop:function(){if(this.timer){clearInterval(this.timer);}this.timer=null;if(this.removeOnStop&&this.domNode&&this.domNode.parentNode){this.domNode.parentNode.removeChild(this.domNode);}},setImage:function(file){if(file){this.imageNode=_16a.create("img",{src:file},this.containerNode);this.spinnerNode.style.display="none";}else{if(this.imageNode){this.containerNode.removeChild(this.imageNode);this.imageNode=null;}this.spinnerNode.style.display="";}},destroy:function(){this.inherited(arguments);if(this===cls._instance){cls._instance=null;}}});cls._instance=null;cls.getInstance=function(_171){if(!cls._instance){cls._instance=new cls(_171);}return cls._instance;};return cls;});},"dojox/mobile/_css3":function(){define(["dojo/_base/window","dojo/_base/array","dojo/has"],function(win,arr,has){var _172=[],_173=[];var _174=win.doc.createElement("div").style;var _175=["webkit"];has.add("css3-animations",function(_176,_177,_178){var _179=_178.style;return (_179["animation"]!==undefined&&_179["transition"]!==undefined)||arr.some(_175,function(p){return _179[p+"Animation"]!==undefined&&_179[p+"Transition"]!==undefined;});});has.add("t17164",function(_17a,_17b,_17c){return (_17c.style["transition"]!==undefined)&&!("TransitionEvent" in window);});var css3={name:function(p,_17d){var n=(_17d?_173:_172)[p];if(!n){if(/End|Start/.test(p)){var idx=p.length-(p.match(/End/)?3:5);var s=p.substr(0,idx);var pp=this.name(s);if(pp==s){n=p.toLowerCase();}else{n=pp+p.substr(idx);}}else{if(p=="keyframes"){var pk=this.name("animation",_17d);if(pk=="animation"){n=p;}else{if(_17d){n=pk.replace(/animation/,"keyframes");}else{n=pk.replace(/Animation/,"Keyframes");}}}else{var cn=_17d?p.replace(/-(.)/g,function(_17e,p1){return p1.toUpperCase();}):p;if(_174[cn]!==undefined&&!has("t17164")){n=p;}else{cn=cn.charAt(0).toUpperCase()+cn.slice(1);arr.some(_175,function(_17f){if(_174[_17f+cn]!==undefined){if(_17d){n="-"+_17f+"-"+p;}else{n=_17f+cn;}}});}}}if(!n){n=p;}(_17d?_173:_172)[p]=n;}return n;},add:function(_180,_181){for(var p in _181){if(_181.hasOwnProperty(p)){_180[css3.name(p)]=_181[p];}}return _180;}};return css3;});},"dojox/mobile/TransitionEvent":function(){define(["dojo/_base/declare","dojo/on"],function(_182,on){return _182("dojox.mobile.TransitionEvent",null,{constructor:function(_183,_184,_185){this.transitionOptions=_184;this.target=_183;this.triggerEvent=_185||null;},dispatch:function(){var opts={bubbles:true,cancelable:true,detail:this.transitionOptions,triggerEvent:this.triggerEvent};var evt=on.emit(this.target,"startTransition",opts);}});});},"dojox/mobile/viewRegistry":function(){define(["dojo/_base/array","dojo/dom-class","dijit/registry"],function(_186,_187,_188){var _189={length:0,hash:{},initialView:null,add:function(view){this.hash[view.id]=view;this.length++;},remove:function(id){if(this.hash[id]){delete this.hash[id];this.length--;}},getViews:function(){var arr=[];for(var i in this.hash){arr.push(this.hash[i]);}return arr;},getParentView:function(view){for(var v=view.getParent();v;v=v.getParent()){if(_187.contains(v.domNode,"mblView")){return v;}}return null;},getChildViews:function(_18a){return _186.filter(this.getViews(),function(v){return this.getParentView(v)===_18a;},this);},getEnclosingView:function(node){for(var n=node;n&&n.tagName!=="BODY";n=n.parentNode){if(n.nodeType===1&&_187.contains(n,"mblView")){return _188.byNode(n);}}return null;},getEnclosingScrollable:function(node){for(var w=_188.getEnclosingWidget(node);w;w=w.getParent()){if(w.scrollableParams&&w._v){return w;}}return null;}};return _189;});},"dojox/mobile/transition":function(){define(["dojo/_base/Deferred","dojo/_base/config"],function(_18b,_18c){if(_18c.mblCSS3Transition){var _18d=new _18b();require([_18c.mblCSS3Transition],function(_18e){_18d.resolve(_18e);});return _18d;}return null;});},"dojox/mobile/Heading":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./ProgressIndicator","./ToolBarButton","./View","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/Heading"],function(_18f,_190,_191,lang,win,dom,_192,_193,_194,_195,_196,_197,_198,_199,_19a,_19b,View,has,_19c){var dm=lang.getObject("dojox.mobile",true);var _19d=_191(has("dojo-bidi")?"dojox.mobile.NonBidiHeading":"dojox.mobile.Heading",[_199,_198,_197],{back:"",href:"",moveTo:"",transition:"slide",label:"",iconBase:"",tag:"h1",busy:false,progStyle:"mblProgWhite",baseClass:"mblHeading",buildRendering:function(){if(!this.templateString){this.domNode=this.containerNode=this.srcNodeRef||win.doc.createElement(this.tag);}this.inherited(arguments);if(!this.templateString){if(!this.label){_18f.forEach(this.domNode.childNodes,function(n){if(n.nodeType==3){var v=lang.trim(n.nodeValue);if(v){this.label=v;this.labelNode=_193.create("span",{innerHTML:v},n,"replace");}}},this);}if(!this.labelNode){this.labelNode=_193.create("span",null,this.domNode);}this.labelNode.className="mblHeadingSpanTitle";this.labelDivNode=_193.create("div",{className:"mblHeadingDivTitle",innerHTML:this.labelNode.innerHTML},this.domNode);}if(this.labelDivNode){_195.set(this.labelDivNode,"role","heading");_195.set(this.labelDivNode,"aria-level","1");}dom.setSelectable(this.domNode,false);},startup:function(){if(this._started){return;}var _19e=this.getParent&&this.getParent();if(!_19e||!_19e.resize){var _19f=this;_19f.defer(function(){_19f.resize();});}this.inherited(arguments);},resize:function(){if(this.labelNode){var _1a0,_1a1;var _1a2=this.containerNode.childNodes;for(var i=_1a2.length-1;i>=0;i--){var c=_1a2[i];if(c.nodeType===1&&_194.get(c,"display")!=="none"){if(!_1a1&&_194.get(c,"float")==="right"){_1a1=c;}if(!_1a0&&_194.get(c,"float")==="left"){_1a0=c;}}}if(!this.labelNodeLen&&this.label){this.labelNode.style.display="inline";this.labelNodeLen=this.labelNode.offsetWidth;this.labelNode.style.display="";}var bw=this.domNode.offsetWidth;var rw=_1a1?bw-_1a1.offsetLeft+5:0;var lw=_1a0?_1a0.offsetLeft+_1a0.offsetWidth+5:0;var tw=this.labelNodeLen||0;_192[bw-Math.max(rw,lw)*2>tw?"add":"remove"](this.domNode,"mblHeadingCenterTitle");}_18f.forEach(this.getChildren(),function(_1a3){if(_1a3.resize){_1a3.resize();}});},_setBackAttr:function(back){this._set("back",back);if(!this.backButton){this.backButton=new _19b({arrow:"left",label:back,moveTo:this.moveTo,back:!this.moveTo&&!this.href,href:this.href,transition:this.transition,transitionDir:-1,dir:this.isLeftToRight()?"ltr":"rtl"});this.backButton.placeAt(this.domNode,"first");}else{this.backButton.set("label",back);}this.resize();},_setMoveToAttr:function(_1a4){this._set("moveTo",_1a4);if(this.backButton){this.backButton.set("moveTo",_1a4);this.backButton.set("back",!_1a4&&!this.href);}},_setHrefAttr:function(href){this._set("href",href);if(this.backButton){this.backButton.set("href",href);this.backButton.set("back",!this.moveTo&&!href);}},_setTransitionAttr:function(_1a5){this._set("transition",_1a5);if(this.backButton){this.backButton.set("transition",_1a5);}},_setLabelAttr:function(_1a6){this._set("label",_1a6);this.labelNode.innerHTML=this.labelDivNode.innerHTML=this._cv?this._cv(_1a6):_1a6;},_setBusyAttr:function(busy){var prog=this._prog;if(busy){if(!prog){prog=this._prog=new _19a({size:30,center:false});_192.add(prog.domNode,this.progStyle);}_193.place(prog.domNode,this.domNode,"first");prog.start();}else{if(prog){prog.stop();}}this._set("busy",busy);}});return has("dojo-bidi")?_191("dojox.mobile.Heading",[_19d,_19c]):_19d;});},"dojox/mobile/ToolBarButton":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","./sniff","./_ItemBase","dojo/has!dojo-bidi?dojox/mobile/bidi/ToolBarButton"],function(_1a7,lang,win,_1a8,_1a9,_1aa,_1ab,has,_1ac,_1ad){var _1ae=_1a7(has("dojo-bidi")?"dojox.mobile.NonBidiToolBarButton":"dojox.mobile.ToolBarButton",_1ac,{selected:false,arrow:"",light:true,defaultColor:"mblColorDefault",selColor:"mblColorDefaultSel",baseClass:"mblToolBarButton",_selStartMethod:"touch",_selEndMethod:"touch",buildRendering:function(){if(!this.label&&this.srcNodeRef){this.label=this.srcNodeRef.innerHTML;}this.label=lang.trim(this.label);this.domNode=(this.srcNodeRef&&this.srcNodeRef.tagName==="SPAN")?this.srcNodeRef:_1a9.create("span");_1ab.set(this.domNode,"role","button");this.inherited(arguments);if(this.light&&!this.arrow&&(!this.icon||!this.label)){this.labelNode=this.tableNode=this.bodyNode=this.iconParentNode=this.domNode;_1a8.add(this.domNode,this.defaultColor+" mblToolBarButtonBody"+(this.icon?" mblToolBarButtonLightIcon":" mblToolBarButtonLightText"));return;}this.domNode.innerHTML="";if(this.arrow==="left"||this.arrow==="right"){this.arrowNode=_1a9.create("span",{className:"mblToolBarButtonArrow mblToolBarButton"+(this.arrow==="left"?"Left":"Right")+"Arrow "+(has("ie")<10?"":(this.defaultColor+" "+this.defaultColor+"45"))},this.domNode);_1a8.add(this.domNode,"mblToolBarButtonHas"+(this.arrow==="left"?"Left":"Right")+"Arrow");}this.bodyNode=_1a9.create("span",{className:"mblToolBarButtonBody"},this.domNode);this.tableNode=_1a9.create("table",{cellPadding:"0",cellSpacing:"0",border:"0",role:"presentation"},this.bodyNode);if(!this.label&&this.arrow){this.tableNode.className="mblToolBarButtonText";}var row=this.tableNode.insertRow(-1);this.iconParentNode=row.insertCell(-1);this.labelNode=row.insertCell(-1);this.iconParentNode.className="mblToolBarButtonIcon";this.labelNode.className="mblToolBarButtonLabel";if(this.icon&&this.icon!=="none"&&this.label){_1a8.add(this.domNode,"mblToolBarButtonHasIcon");_1a8.add(this.bodyNode,"mblToolBarButtonLabeledIcon");}_1a8.add(this.bodyNode,this.defaultColor);},startup:function(){if(this._started){return;}this.connect(this.domNode,"onkeydown","_onClick");this.inherited(arguments);if(!this._isOnLine){this._isOnLine=true;this.set("icon",this._pendingIcon!==undefined?this._pendingIcon:this.icon);delete this._pendingIcon;}},_onClick:function(e){if(e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}this.defaultClickAction(e);},onClick:function(){},_setLabelAttr:function(text){this.inherited(arguments);_1a8.toggle(this.tableNode,"mblToolBarButtonText",text||this.arrow);},_setSelectedAttr:function(_1af){var _1b0=function(node,a,b){_1a8.replace(node,a+" "+a+"45",b+" "+b+"45");};this.inherited(arguments);if(_1af){_1a8.replace(this.bodyNode,this.selColor,this.defaultColor);if(!(has("ie")<10)&&this.arrowNode){_1b0(this.arrowNode,this.selColor,this.defaultColor);}}else{_1a8.replace(this.bodyNode,this.defaultColor,this.selColor);if(!(has("ie")<10)&&this.arrowNode){_1b0(this.arrowNode,this.defaultColor,this.selColor);}}_1a8.toggle(this.domNode,"mblToolBarButtonSelected",_1af);_1a8.toggle(this.bodyNode,"mblToolBarButtonBodySelected",_1af);}});return has("dojo-bidi")?_1a7("dojox.mobile.ToolBarButton",[_1ae,_1ad]):_1ae;});},"dojox/mobile/_ItemBase":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/touch","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./TransitionEvent","./iconUtils","./sniff","dojo/has!dojo-bidi?dojox/mobile/bidi/_ItemBase"],function(_1b1,_1b2,lang,win,_1b3,_1b4,_1b5,_1b6,_1b7,_1b8,_1b9,_1ba,has,_1bb){var _1bc=_1b2(has("dojo-bidi")?"dojox.mobile._NonBidiItemBase":"dojox.mobile._ItemBase",[_1b8,_1b7,_1b6],{icon:"",iconPos:"",alt:"",href:"",hrefTarget:"",moveTo:"",scene:"",clickable:false,url:"",urlTarget:"",back:false,transition:"",transitionDir:1,transitionOptions:null,callback:null,label:"",toggle:false,selected:false,tabIndex:"0",_setTabIndexAttr:"",paramsToInherit:"transition,icon",_selStartMethod:"none",_selEndMethod:"none",_delayedSelection:false,_duration:800,_handleClick:true,buildRendering:function(){this.inherited(arguments);this._isOnLine=this.inheritParams();},startup:function(){if(this._started){return;}if(!this._isOnLine){this.inheritParams();}this._updateHandles();this.inherited(arguments);},inheritParams:function(){var _1bd=this.getParent();if(_1bd){_1b1.forEach(this.paramsToInherit.split(/,/),function(p){if(p.match(/icon/i)){var base=p+"Base",pos=p+"Pos";if(this[p]&&_1bd[base]&&_1bd[base].charAt(_1bd[base].length-1)==="/"){this[p]=_1bd[base]+this[p];}if(!this[p]){this[p]=_1bd[base];}if(!this[pos]){this[pos]=_1bd[pos];}}if(!this[p]){this[p]=_1bd[p];}},this);}return !!_1bd;},_updateHandles:function(){if(this._handleClick&&this._selStartMethod==="touch"){if(!this._onTouchStartHandle){this._onTouchStartHandle=this.connect(this.domNode,_1b4.press,"_onTouchStart");}}else{if(this._onTouchStartHandle){this.disconnect(this._onTouchStartHandle);this._onTouchStartHandle=null;}}},getTransOpts:function(){var opts=this.transitionOptions||{};_1b1.forEach(["moveTo","href","hrefTarget","url","target","urlTarget","scene","transition","transitionDir"],function(p){opts[p]=opts[p]||this[p];},this);return opts;},userClickAction:function(){},defaultClickAction:function(e){this.handleSelection(e);if(this.userClickAction(e)===false){return;}this.makeTransition(e);},handleSelection:function(e){if(this._delayedSelection){this.set("selected",true);}if(this._onTouchEndHandle){this.disconnect(this._onTouchEndHandle);this._onTouchEndHandle=null;}var p=this.getParent();if(this.toggle){this.set("selected",!this._currentSel);}else{if(p&&p.selectOne){this.set("selected",true);}else{if(this._selEndMethod==="touch"){this.set("selected",false);}else{if(this._selEndMethod==="timer"){this.defer(function(){this.set("selected",false);},this._duration);}}}}},makeTransition:function(e){if(this.back&&history){history.back();return;}if(this.href&&this.hrefTarget&&this.hrefTarget!="_self"){win.global.open(this.href,this.hrefTarget||"_blank");this._onNewWindowOpened(e);return;}var opts=this.getTransOpts();var _1be=!!(opts.moveTo||opts.href||opts.url||opts.target||opts.scene);if(this._prepareForTransition(e,_1be?opts:null)===false){return;}if(_1be){this.setTransitionPos(e);new _1b9(this.domNode,opts,e).dispatch();}},_onNewWindowOpened:function(){},_prepareForTransition:function(e,_1bf){},_onTouchStart:function(e){if(this.getParent().isEditing||this.onTouchStart(e)===false){return;}if(!this._onTouchEndHandle&&this._selStartMethod==="touch"){this._onTouchMoveHandle=this.connect(win.body(),_1b4.move,"_onTouchMove");this._onTouchEndHandle=this.connect(win.body(),_1b4.release,"_onTouchEnd");}this.touchStartX=e.touches?e.touches[0].pageX:e.clientX;this.touchStartY=e.touches?e.touches[0].pageY:e.clientY;this._currentSel=this.selected;if(this._delayedSelection){this._selTimer=this.defer(function(){this.set("selected",true);},100);}else{this.set("selected",true);}},onTouchStart:function(){},_onTouchMove:function(e){var x=e.touches?e.touches[0].pageX:e.clientX;var y=e.touches?e.touches[0].pageY:e.clientY;if(Math.abs(x-this.touchStartX)>=4||Math.abs(y-this.touchStartY)>=4){this.cancel();var p=this.getParent();if(p&&p.selectOne){this._prevSel&&this._prevSel.set("selected",true);}else{this.set("selected",false);}}},_disconnect:function(){this.disconnect(this._onTouchMoveHandle);this.disconnect(this._onTouchEndHandle);this._onTouchMoveHandle=this._onTouchEndHandle=null;},cancel:function(){if(this._selTimer){this._selTimer.remove();this._selTimer=null;}this._disconnect();},_onTouchEnd:function(e){if(!this._selTimer&&this._delayedSelection){return;}this.cancel();this._onClick(e);},setTransitionPos:function(e){var w=this;while(true){w=w.getParent();if(!w||_1b3.contains(w.domNode,"mblView")){break;}}if(w){w.clickedPosX=e.clientX;w.clickedPosY=e.clientY;}},transitionTo:function(_1c0,href,url,_1c1){var opts=(_1c0&&typeof (_1c0)==="object")?_1c0:{moveTo:_1c0,href:href,url:url,scene:_1c1,transition:this.transition,transitionDir:this.transitionDir};new _1b9(this.domNode,opts).dispatch();},_setIconAttr:function(icon){if(!this._isOnLine){this._pendingIcon=icon;return;}this._set("icon",icon);this.iconNode=_1ba.setIcon(icon,this.iconPos,this.iconNode,this.alt,this.iconParentNode,this.refNode,this.position);},_setLabelAttr:function(text){this._set("label",text);this.labelNode.innerHTML=this._cv?this._cv(text):text;},_setSelectedAttr:function(_1c2){if(_1c2){var p=this.getParent();if(p&&p.selectOne){var arr=_1b1.filter(p.getChildren(),function(w){return w.selected;});_1b1.forEach(arr,function(c){this._prevSel=c;c.set("selected",false);},this);}}this._set("selected",_1c2);}});return has("dojo-bidi")?_1b2("dojox.mobile._ItemBase",[_1bc,_1bb]):_1bc;});},"dojox/mobile/iconUtils":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","./sniff"],function(_1c3,_1c4,_1c5,_1c6,lang,win,_1c7,_1c8,_1c9,has){var dm=lang.getObject("dojox.mobile",true);var _1ca=function(){this.setupSpriteIcon=function(_1cb,_1cc){if(_1cb&&_1cc){var arr=_1c3.map(_1cc.split(/[ ,]/),function(item){return item-0;});var t=arr[0];var r=arr[1]+arr[2];var b=arr[0]+arr[3];var l=arr[1];_1c9.set(_1cb,{position:"absolute",clip:"rect("+t+"px "+r+"px "+b+"px "+l+"px)",top:(_1cb.parentNode?_1c9.get(_1cb,"top"):0)-t+"px",left:-l+"px"});_1c7.add(_1cb,"mblSpriteIcon");}};this.createDomButton=function(_1cd,_1ce,_1cf){if(!this._domButtons){if(has("webkit")){var _1d0=function(_1d1,dic){var i,j;if(!_1d1){var _1d2={};var ss=win.doc.styleSheets;for(i=0;i<ss.length;i++){ss[i]&&_1d0(ss[i],_1d2);}return _1d2;}var _1d3=_1d1.cssRules||[];for(i=0;i<_1d3.length;i++){var rule=_1d3[i];if(rule.href&&rule.styleSheet){_1d0(rule.styleSheet,dic);}else{if(rule.selectorText){var sels=rule.selectorText.split(/,/);for(j=0;j<sels.length;j++){var sel=sels[j];var n=sel.split(/>/).length-1;if(sel.match(/(mblDomButton\w+)/)){var cls=RegExp.$1;if(!dic[cls]||n>dic[cls]){dic[cls]=n;}}}}}}return dic;};this._domButtons=_1d0();}else{this._domButtons={};}}var s=_1cd.className;var node=_1cf||_1cd;if(s.match(/(mblDomButton\w+)/)&&s.indexOf("/")===-1){var _1d4=RegExp.$1;var nDiv=4;if(s.match(/(mblDomButton\w+_(\d+))/)){nDiv=RegExp.$2-0;}else{if(this._domButtons[_1d4]!==undefined){nDiv=this._domButtons[_1d4];}}var _1d5=null;if(has("bb")&&_1c4.mblBBBoxShadowWorkaround!==false){_1d5={style:"-webkit-box-shadow:none"};}for(var i=0,p=node;i<nDiv;i++){p=p.firstChild||_1c8.create("div",_1d5,p);}if(_1cf){setTimeout(function(){_1c7.remove(_1cd,_1d4);},0);_1c7.add(_1cf,_1d4);}}else{if(s.indexOf(".")!==-1){_1c8.create("img",{src:s},node);}else{return null;}}_1c7.add(node,"mblDomButton");!!_1ce&&_1c9.set(node,_1ce);return node;};this.createIcon=function(icon,_1d6,node,_1d7,_1d8,_1d9,pos){_1d7=_1d7||"";if(icon&&icon.indexOf("mblDomButton")===0){if(!node){node=_1c8.create("div",null,_1d9||_1d8,pos);}else{if(node.className.match(/(mblDomButton\w+)/)){_1c7.remove(node,RegExp.$1);}}node.title=_1d7;_1c7.add(node,icon);this.createDomButton(node);}else{if(icon&&icon!=="none"){if(!node||node.nodeName!=="IMG"){node=_1c8.create("img",{alt:_1d7},_1d9||_1d8,pos);}node.src=(icon||"").replace("${theme}",dm.currentTheme);this.setupSpriteIcon(node,_1d6);if(_1d6&&_1d8){var arr=_1d6.split(/[ ,]/);_1c9.set(_1d8,{position:"relative",width:arr[2]+"px",height:arr[3]+"px"});_1c7.add(_1d8,"mblSpriteIconParent");}_1c5.connect(node,"ondragstart",_1c6,"stop");}}return node;};this.iconWrapper=false;this.setIcon=function(icon,_1da,_1db,alt,_1dc,_1dd,pos){if(!_1dc||!icon&&!_1db){return null;}if(icon&&icon!=="none"){if(!this.iconWrapper&&icon.indexOf("mblDomButton")!==0&&!_1da){if(_1db&&_1db.tagName==="DIV"){_1c8.destroy(_1db);_1db=null;}_1db=this.createIcon(icon,null,_1db,alt,_1dc,_1dd,pos);_1c7.add(_1db,"mblImageIcon");}else{if(_1db&&_1db.tagName==="IMG"){_1c8.destroy(_1db);_1db=null;}_1db&&_1c8.empty(_1db);if(!_1db){_1db=_1c8.create("div",null,_1dd||_1dc,pos);}this.createIcon(icon,_1da,null,null,_1db);if(alt){_1db.title=alt;}}_1c7.remove(_1dc,"mblNoIcon");return _1db;}else{_1c8.destroy(_1db);_1c7.add(_1dc,"mblNoIcon");return null;}};};return new _1ca();});},"dojox/mobile/RoundRect":function(){define(["dojo/_base/declare","dojo/dom-class","./Container"],function(_1de,_1df,_1e0){return _1de("dojox.mobile.RoundRect",_1e0,{shadow:false,baseClass:"mblRoundRect",buildRendering:function(){this.inherited(arguments);if(this.shadow){_1df.add(this.domNode,"mblShadow");}}});});},"dojox/mobile/Container":function(){define(["dojo/_base/declare","dijit/_Container","./Pane"],function(_1e1,_1e2,Pane){return _1e1("dojox.mobile.Container",[Pane,_1e2],{baseClass:"mblContainer"});});},"dojox/mobile/Pane":function(){define(["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_WidgetBase"],function(_1e3,_1e4,_1e5,_1e6){return _1e4("dojox.mobile.Pane",[_1e6,_1e5],{baseClass:"mblPane",buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},resize:function(){_1e3.forEach(this.getChildren(),function(_1e7){if(_1e7.resize){_1e7.resize();}});}});});},"dojox/mobile/RoundRectCategory":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-construct","dijit/_Contained","dijit/_WidgetBase","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/RoundRectCategory"],function(_1e8,win,_1e9,_1ea,_1eb,has,_1ec){var _1ed=_1e8(has("dojo-bidi")?"dojox.mobile.NonBidiRoundRectCategory":"dojox.mobile.RoundRectCategory",[_1eb,_1ea],{label:"",tag:"h2",baseClass:"mblRoundRectCategory",buildRendering:function(){var _1ee=this.domNode=this.containerNode=this.srcNodeRef||_1e9.create(this.tag);this.inherited(arguments);if(!this.label&&_1ee.childNodes.length===1&&_1ee.firstChild.nodeType===3){this.label=_1ee.firstChild.nodeValue;}},_setLabelAttr:function(_1ef){this.label=_1ef;this.domNode.innerHTML=this._cv?this._cv(_1ef):_1ef;}});return has("dojo-bidi")?_1e8("dojox.mobile.RoundRectCategory",[_1ed,_1ec]):_1ed;});},"dojox/mobile/EdgeToEdgeCategory":function(){define(["dojo/_base/declare","./RoundRectCategory"],function(_1f0,_1f1){return _1f0("dojox.mobile.EdgeToEdgeCategory",_1f1,{buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeCategory";if(this.type&&this.type=="long"){this.domNode.className+=" mblEdgeToEdgeCategoryLong";}}});});},"dojox/mobile/RoundRectList":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-construct","dojo/dom-attr","dijit/_Contained","dijit/_Container","dijit/_WidgetBase"],function(_1f2,_1f3,_1f4,lang,win,_1f5,_1f6,_1f7,_1f8,_1f9){return _1f3("dojox.mobile.RoundRectList",[_1f9,_1f8,_1f7],{transition:"slide",iconBase:"",iconPos:"",select:"",stateful:false,syncWithViews:false,editable:false,tag:"ul",editableMixinClass:"dojox/mobile/_EditableListMixin",baseClass:"mblRoundRectList",filterBoxClass:"mblFilteredRoundRectListSearchBox",buildRendering:function(){this.domNode=this.srcNodeRef||_1f5.create(this.tag);if(this.select){_1f6.set(this.domNode,"role","listbox");if(this.select==="multiple"){_1f6.set(this.domNode,"aria-multiselectable","true");}}this.inherited(arguments);},postCreate:function(){if(this.editable){require([this.editableMixinClass],lang.hitch(this,function(_1fa){_1f3.safeMixin(this,new _1fa());}));}this.connect(this.domNode,"onselectstart",_1f4.stop);if(this.syncWithViews){var f=function(view,_1fb,dir,_1fc,_1fd,_1fe){var _1ff=_1f2.filter(this.getChildren(),function(w){return w.moveTo==="#"+view.id||w.moveTo===view.id;})[0];if(_1ff){_1ff.set("selected",true);}};this.subscribe("/dojox/mobile/afterTransitionIn",f);this.subscribe("/dojox/mobile/startView",f);}},resize:function(){_1f2.forEach(this.getChildren(),function(_200){if(_200.resize){_200.resize();}});},onCheckStateChanged:function(){},_setStatefulAttr:function(_201){this._set("stateful",_201);this.selectOne=_201;_1f2.forEach(this.getChildren(),function(_202){_202.setArrow&&_202.setArrow();});},deselectItem:function(item){item.set("selected",false);},deselectAll:function(){_1f2.forEach(this.getChildren(),function(_203){_203.set("selected",false);});},selectItem:function(item){item.set("selected",true);}});});},"dojox/mobile/EdgeToEdgeList":function(){define(["dojo/_base/declare","./RoundRectList"],function(_204,_205){return _204("dojox.mobile.EdgeToEdgeList",_205,{filterBoxClass:"mblFilteredEdgeToEdgeListSearchBox",buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeList";}});});},"dojox/mobile/ListItem":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dijit/registry","dijit/_WidgetBase","./iconUtils","./_ItemBase","./ProgressIndicator","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/ListItem"],function(_206,_207,lang,_208,_209,_20a,_20b,_20c,_20d,_20e,_20f,_210,has,_211){var _212=_207(has("dojo-bidi")?"dojox.mobile.NonBidiListItem":"dojox.mobile.ListItem",_20f,{rightText:"",rightIcon:"",rightIcon2:"",deleteIcon:"",anchorLabel:false,noArrow:false,checked:false,arrowClass:"",checkClass:"",uncheckClass:"",variableHeight:false,rightIconTitle:"",rightIcon2Title:"",header:false,tag:"li",busy:false,progStyle:"",paramsToInherit:"variableHeight,transition,deleteIcon,icon,rightIcon,rightIcon2,uncheckIcon,arrowClass,checkClass,uncheckClass,deleteIconTitle,deleteIconRole",baseClass:"mblListItem",_selStartMethod:"touch",_selEndMethod:"timer",_delayedSelection:true,_selClass:"mblListItemSelected",buildRendering:function(){this._templated=!!this.templateString;if(!this._templated){this.domNode=this.containerNode=this.srcNodeRef||_209.create(this.tag);}this.inherited(arguments);if(this.selected){_208.add(this.domNode,this._selClass);}if(this.header){_208.replace(this.domNode,"mblEdgeToEdgeCategory",this.baseClass);}if(!this._templated){this.labelNode=_209.create("div",{className:"mblListItemLabel"});var ref=this.srcNodeRef;if(ref&&ref.childNodes.length===1&&ref.firstChild.nodeType===3){this.labelNode.appendChild(ref.firstChild);}this.domNode.appendChild(this.labelNode);}this._layoutChildren=[];},startup:function(){if(this._started){return;}var _213=this.getParent();var opts=this.getTransOpts();if((!this._templated||this.labelNode)&&this.anchorLabel){this.labelNode.style.display="inline";this.labelNode.style.cursor="pointer";this.connect(this.labelNode,"onclick","_onClick");this.onTouchStart=function(e){return (e.target!==this.labelNode);};}if(opts.moveTo||opts.href||opts.url||this.clickable||(_213&&_213.select)){this.connect(this.domNode,"onkeydown","_onClick");}else{this._handleClick=false;}this.inherited(arguments);if(_208.contains(this.domNode,"mblVariableHeight")){this.variableHeight=true;}if(this.variableHeight){_208.add(this.domNode,"mblVariableHeight");this.defer("layoutVariableHeight");}if(!this._isOnLine){this._isOnLine=true;this.set({icon:this._pending_icon!==undefined?this._pending_icon:this.icon,deleteIcon:this._pending_deleteIcon!==undefined?this._pending_deleteIcon:this.deleteIcon,rightIcon:this._pending_rightIcon!==undefined?this._pending_rightIcon:this.rightIcon,rightIcon2:this._pending_rightIcon2!==undefined?this._pending_rightIcon2:this.rightIcon2,uncheckIcon:this._pending_uncheckIcon!==undefined?this._pending_uncheckIcon:this.uncheckIcon});delete this._pending_icon;delete this._pending_deleteIcon;delete this._pending_rightIcon;delete this._pending_rightIcon2;delete this._pending_uncheckIcon;}if(_213&&_213.select){this.set("checked",this._pendingChecked!==undefined?this._pendingChecked:this.checked);_20b.set(this.domNode,"role","option");if(this._pendingChecked||this.checked){_20b.set(this.domNode,"aria-selected","true");}delete this._pendingChecked;}this.setArrow();this.layoutChildren();},_updateHandles:function(){var _214=this.getParent();var opts=this.getTransOpts();if(opts.moveTo||opts.href||opts.url||this.clickable||(_214&&_214.select)){if(!this._keydownHandle){this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick");}this._handleClick=true;}else{if(this._keydownHandle){this.disconnect(this._keydownHandle);this._keydownHandle=null;}this._handleClick=false;}this.inherited(arguments);},layoutChildren:function(){var _215;_206.forEach(this.domNode.childNodes,function(n){if(n.nodeType!==1){return;}var _216=n.getAttribute("layout")||n.getAttribute("data-mobile-layout")||(_20c.byNode(n)||{}).layout;if(_216){_208.add(n,"mblListItemLayout"+_216.charAt(0).toUpperCase()+_216.substring(1));this._layoutChildren.push(n);if(_216==="center"){_215=n;}}},this);if(_215){this.domNode.insertBefore(_215,this.domNode.firstChild);}},resize:function(){if(this.variableHeight){this.layoutVariableHeight();}if(!this._templated||this.labelNode){this.labelNode.style.display=this.labelNode.firstChild?"block":"inline";}},_onTouchStart:function(e){if(e.target.getAttribute("preventTouch")||e.target.getAttribute("data-mobile-prevent-touch")||(_20c.getEnclosingWidget(e.target)||{}).preventTouch){return;}this.inherited(arguments);},_onClick:function(e){if(this.getParent().isEditing||e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}var n=this.labelNode;if((this._templated||n)&&this.anchorLabel&&e.currentTarget===n){_208.add(n,"mblListItemLabelSelected");this.defer(function(){_208.remove(n,"mblListItemLabelSelected");},this._duration);this.onAnchorLabelClicked(e);return;}var _217=this.getParent();if(_217.select){if(_217.select==="single"){if(!this.checked){this.set("checked",true);}}else{if(_217.select==="multiple"){this.set("checked",!this.checked);}}}this.defaultClickAction(e);},onClick:function(){},onAnchorLabelClicked:function(e){},layoutVariableHeight:function(){var h=this.domNode.offsetHeight;if(h===this.domNodeHeight){return;}this.domNodeHeight=h;_206.forEach(this._layoutChildren.concat([this.rightTextNode,this.rightIcon2Node,this.rightIconNode,this.uncheckIconNode,this.iconNode,this.deleteIconNode,this.knobIconNode]),function(n){if(n){var _218=this.domNode;var f=function(){var t=Math.round((_218.offsetHeight-n.offsetHeight)/2)-_20a.get(_218,"paddingTop");n.style.marginTop=t+"px";};if(n.offsetHeight===0&&n.tagName==="IMG"){n.onload=f;}else{f();}}},this);},setArrow:function(){if(this.checked){return;}var c="";var _219=this.getParent();var opts=this.getTransOpts();if(opts.moveTo||opts.href||opts.url||this.clickable){if(!this.noArrow&&!(_219&&_219.selectOne)){c=this.arrowClass||"mblDomButtonArrow";_20b.set(this.domNode,"role","button");}}if(c){this._setRightIconAttr(c);}},_findRef:function(type){var i,node,list=["deleteIcon","icon","rightIcon","uncheckIcon","rightIcon2","rightText"];for(i=_206.indexOf(list,type)+1;i<list.length;i++){node=this[list[i]+"Node"];if(node){return node;}}for(i=list.length-1;i>=0;i--){node=this[list[i]+"Node"];if(node){return node.nextSibling;}}return this.domNode.firstChild;},_setIcon:function(icon,type){if(!this._isOnLine){this["_pending_"+type]=icon;return;}this._set(type,icon);this[type+"Node"]=_20e.setIcon(icon,this[type+"Pos"],this[type+"Node"],this[type+"Title"]||this.alt,this.domNode,this._findRef(type),"before");if(this[type+"Node"]){var cap=type.charAt(0).toUpperCase()+type.substring(1);_208.add(this[type+"Node"],"mblListItem"+cap);}var role=this[type+"Role"];if(role){this[type+"Node"].setAttribute("role",role);}},_setDeleteIconAttr:function(icon){this._setIcon(icon,"deleteIcon");},_setIconAttr:function(icon){this._setIcon(icon,"icon");},_setRightTextAttr:function(text){if(!this._templated&&!this.rightTextNode){this.rightTextNode=_209.create("div",{className:"mblListItemRightText"},this.labelNode,"before");}this.rightText=text;this.rightTextNode.innerHTML=this._cv?this._cv(text):text;},_setRightIconAttr:function(icon){this._setIcon(icon,"rightIcon");},_setUncheckIconAttr:function(icon){this._setIcon(icon,"uncheckIcon");},_setRightIcon2Attr:function(icon){this._setIcon(icon,"rightIcon2");},_setCheckedAttr:function(_21a){if(!this._isOnLine){this._pendingChecked=_21a;return;}var _21b=this.getParent();if(_21b&&_21b.select==="single"&&_21a){_206.forEach(_21b.getChildren(),function(_21c){_21c!==this&&_21c.checked&&_21c.set("checked",false)&&_20b.set(_21c.domNode,"aria-selected","false");},this);}this._setRightIconAttr(this.checkClass||"mblDomButtonCheck");this._setUncheckIconAttr(this.uncheckClass);_208.toggle(this.domNode,"mblListItemChecked",_21a);_208.toggle(this.domNode,"mblListItemUnchecked",!_21a);_208.toggle(this.domNode,"mblListItemHasUncheck",!!this.uncheckIconNode);this.rightIconNode.style.position=(this.uncheckIconNode&&!_21a)?"absolute":"";if(_21b&&this.checked!==_21a){_21b.onCheckStateChanged(this,_21a);}this._set("checked",_21a);_20b.set(this.domNode,"aria-selected",_21a?"true":"false");},_setBusyAttr:function(busy){var prog=this._prog;if(busy){if(!this._progNode){this._progNode=_209.create("div",{className:"mblListItemIcon"});prog=this._prog=new _210({size:25,center:false,removeOnStop:false});_208.add(prog.domNode,this.progStyle);this._progNode.appendChild(prog.domNode);}if(this.iconNode){this.domNode.replaceChild(this._progNode,this.iconNode);}else{_209.place(this._progNode,this._findRef("icon"),"before");}prog.start();}else{if(this._progNode){if(this.iconNode){this.domNode.replaceChild(this.iconNode,this._progNode);}else{this.domNode.removeChild(this._progNode);}prog.stop();}}this._set("busy",busy);},_setSelectedAttr:function(_21d){this.inherited(arguments);_208.toggle(this.domNode,this._selClass,_21d);},_setClickableAttr:function(_21e){this._set("clickable",_21e);this._updateHandles();},_setMoveToAttr:function(_21f){this._set("moveTo",_21f);this._updateHandles();},_setHrefAttr:function(href){this._set("href",href);this._updateHandles();},_setUrlAttr:function(url){this._set("url",url);this._updateHandles();}});_212.ChildWidgetProperties={layout:"",preventTouch:false};lang.extend(_20d,_212.ChildWidgetProperties);return has("dojo-bidi")?_207("dojox.mobile.ListItem",[_212,_211]):_212;});},"dojox/mobile/Switch":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/event","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dojo/touch","dijit/_Contained","dijit/_WidgetBase","./sniff","./_maskUtils","./common","dojo/has!dojo-bidi?dojox/mobile/bidi/Switch"],function(_220,_221,_222,_223,win,_224,_225,_226,_227,_228,_229,_22a,has,_22b,dm,_22c){var _22d=_222(has("dojo-bidi")?"dojox.mobile.NonBidiSwitch":"dojox.mobile.Switch",[_22a,_229],{value:"on",name:"",leftLabel:"ON",rightLabel:"OFF",shape:"mblSwDefaultShape",tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSwitch",role:"",buildRendering:function(){if(!this.templateString){this.domNode=(this.srcNodeRef&&this.srcNodeRef.tagName==="SPAN")?this.srcNodeRef:_225.create("span");}if(typeof this.domNode.style.msTouchAction!="undefined"){this.domNode.style.msTouchAction="none";}this.inherited(arguments);if(!this.templateString){var c=(this.srcNodeRef&&this.srcNodeRef.className)||this.className||this["class"];if((c=c.match(/mblSw.*Shape\d*/))){this.shape=c;}_224.add(this.domNode,this.shape);var _22e=this.name?" name=\""+this.name+"\"":"";this.domNode.innerHTML="<div class=\"mblSwitchInner\">"+"<div class=\"mblSwitchBg mblSwitchBgLeft\">"+"<div class=\"mblSwitchText mblSwitchTextLeft\"></div>"+"</div>"+"<div class=\"mblSwitchBg mblSwitchBgRight\">"+"<div class=\"mblSwitchText mblSwitchTextRight\"></div>"+"</div>"+"<div class=\"mblSwitchKnob\"></div>"+"<input type=\"hidden\""+_22e+"></div>"+"</div>";var n=this.inner=this.domNode.firstChild;this.left=n.childNodes[0];this.right=n.childNodes[1];this.knob=n.childNodes[2];this.input=n.childNodes[3];}_227.set(this.domNode,"role","checkbox");_227.set(this.domNode,"aria-checked",(this.value==="on")?"true":"false");this.switchNode=this.domNode;if(has("windows-theme")){var _22f=_225.create("div",{className:"mblSwitchContainer"});this.labelNode=_225.create("label",{"class":"mblSwitchLabel","for":this.id},_22f);_22f.appendChild(this.domNode.cloneNode(true));this.domNode=_22f;this.focusNode=_22f.childNodes[1];this.labelNode.innerHTML=(this.value=="off")?this.rightLabel:this.leftLabel;this.switchNode=this.domNode.childNodes[1];var _230=this.inner=this.domNode.childNodes[1].firstChild;this.left=_230.childNodes[0];this.right=_230.childNodes[1];this.knob=_230.childNodes[2];this.input=_230.childNodes[3];}},postCreate:function(){this.connect(this.switchNode,"onclick","_onClick");this.connect(this.switchNode,"onkeydown","_onClick");this._startHandle=this.connect(this.switchNode,_228.press,"onTouchStart");this._initialValue=this.value;},_changeState:function(_231,anim){var on=(_231==="on");this.left.style.display="";this.right.style.display="";this.inner.style.left="";if(anim){_224.add(this.switchNode,"mblSwitchAnimation");}_224.remove(this.switchNode,on?"mblSwitchOff":"mblSwitchOn");_224.add(this.switchNode,on?"mblSwitchOn":"mblSwitchOff");_227.set(this.switchNode,"aria-checked",on?"true":"false");var _232=this;_232.defer(function(){_232.left.style.display=on?"":"none";_232.right.style.display=!on?"":"none";_224.remove(_232.switchNode,"mblSwitchAnimation");},anim?300:0);},_createMaskImage:function(){if(this._timer){this._timer.remove();delete this._timer;}if(this._hasMaskImage){return;}this._width=this.switchNode.offsetWidth-this.knob.offsetWidth;this._hasMaskImage=true;if(!(has("webkit")||has("svg"))){return;}var rDef=_226.get(this.left,"borderTopLeftRadius");if(rDef=="0px"){return;}var _233=rDef.split(" ");var rx=parseFloat(_233[0]),ry=(_233.length==1)?rx:parseFloat(_233[1]);var w=this.switchNode.offsetWidth,h=this.switchNode.offsetHeight;var id=(this.shape+"Mask"+w+h+rx+ry).replace(/\./,"_");_22b.createRoundMask(this.switchNode,0,0,0,0,w,h,rx,ry,1);},_onClick:function(e){if(e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}if(this._moved){return;}this._set("value",this.input.value=(this.value=="on")?"off":"on");this._changeState(this.value,true);this.onStateChanged(this.value);},onClick:function(){},onTouchStart:function(e){this._moved=false;this.innerStartX=this.inner.offsetLeft;if(!this._conn){this._conn=[this.connect(this.inner,_228.move,"onTouchMove"),this.connect(win.doc,_228.release,"onTouchEnd")];if(has("windows-theme")){this._conn.push(this.connect(win.doc,"MSPointerCancel","onTouchEnd"));}}this.touchStartX=e.touches?e.touches[0].pageX:e.clientX;this.left.style.display="";this.right.style.display="";_223.stop(e);this._createMaskImage();},onTouchMove:function(e){e.preventDefault();var dx;if(e.targetTouches){if(e.targetTouches.length!=1){return;}dx=e.targetTouches[0].clientX-this.touchStartX;}else{dx=e.clientX-this.touchStartX;}var pos=this.innerStartX+dx;var d=10;if(pos<=-(this._width-d)){pos=-this._width;}if(pos>=-d){pos=0;}this.inner.style.left=pos+"px";if(Math.abs(dx)>d){this._moved=true;}},onTouchEnd:function(e){_220.forEach(this._conn,_221.disconnect);this._conn=null;if(this.innerStartX==this.inner.offsetLeft){if(has("touch")&&has("clicks-prevented")){dm._sendClick(this.inner,e);}return;}var _234=(this.inner.offsetLeft<-(this._width/2))?"off":"on";_234=this._newState(_234);this._changeState(_234,true);if(_234!=this.value){this._set("value",this.input.value=_234);this.onStateChanged(_234);}},_newState:function(_235){return _235;},onStateChanged:function(_236){if(this.labelNode){this.labelNode.innerHTML=_236=="off"?this.rightLabel:this.leftLabel;}},_setValueAttr:function(_237){this._changeState(_237,false);if(this.value!=_237){this._set("value",this.input.value=_237);this.onStateChanged(_237);}},_setLeftLabelAttr:function(_238){this.leftLabel=_238;this.left.firstChild.innerHTML=this._cv?this._cv(_238):_238;},_setRightLabelAttr:function(_239){this.rightLabel=_239;this.right.firstChild.innerHTML=this._cv?this._cv(_239):_239;},reset:function(){this.set("value",this._initialValue);}});return has("dojo-bidi")?_222("dojox.mobile.Switch",[_22d,_22c]):_22d;});},"dojox/mobile/_maskUtils":function(){define(["dojo/_base/window","dojo/dom-style","./sniff"],function(win,_23a,has){var _23b={};return {createRoundMask:function(node,x,y,r,b,w,h,rx,ry,e){var tw=x+w+r;var th=y+h+b;if(has("webkit")){var id=("DojoMobileMask"+x+y+w+h+rx+ry).replace(/\./g,"_");if(!_23b[id]){_23b[id]=1;var ctx=win.doc.getCSSCanvasContext("2d",id,tw,th);ctx.beginPath();if(rx==ry){if(rx==2&&w==5){ctx.fillStyle="rgba(0,0,0,0.5)";ctx.fillRect(1,0,3,2);ctx.fillRect(0,1,5,1);ctx.fillRect(0,h-2,5,1);ctx.fillRect(1,h-1,3,2);ctx.fillStyle="rgb(0,0,0)";ctx.fillRect(0,2,5,h-4);}else{if(rx==2&&h==5){ctx.fillStyle="rgba(0,0,0,0.5)";ctx.fillRect(0,1,2,3);ctx.fillRect(1,0,1,5);ctx.fillRect(w-2,0,1,5);ctx.fillRect(w-1,1,2,3);ctx.fillStyle="rgb(0,0,0)";ctx.fillRect(2,0,w-4,5);}else{ctx.fillStyle="#000000";ctx.moveTo(x+rx,y);ctx.arcTo(x,y,x,y+rx,rx);ctx.lineTo(x,y+h-rx);ctx.arcTo(x,y+h,x+rx,y+h,rx);ctx.lineTo(x+w-rx,y+h);ctx.arcTo(x+w,y+h,x+w,y+rx,rx);ctx.lineTo(x+w,y+rx);ctx.arcTo(x+w,y,x+w-rx,y,rx);}}}else{var pi=Math.PI;ctx.scale(1,ry/rx);ctx.moveTo(x+rx,y);ctx.arc(x+rx,y+rx,rx,1.5*pi,0.5*pi,true);ctx.lineTo(x+w-rx,y+2*rx);ctx.arc(x+w-rx,y+rx,rx,0.5*pi,1.5*pi,true);}ctx.closePath();ctx.fill();}node.style.webkitMaskImage="-webkit-canvas("+id+")";}else{if(has("svg")){if(node._svgMask){node.removeChild(node._svgMask);}var bg=null;for(var p=node.parentNode;p;p=p.parentNode){bg=_23a.getComputedStyle(p).backgroundColor;if(bg&&bg!="transparent"&&!bg.match(/rgba\(.*,\s*0\s*\)/)){break;}}var _23c="http://www.w3.org/2000/svg";var svg=win.doc.createElementNS(_23c,"svg");svg.setAttribute("width",tw);svg.setAttribute("height",th);svg.style.position="absolute";svg.style.pointerEvents="none";svg.style.opacity="1";svg.style.zIndex="2147483647";var path=win.doc.createElementNS(_23c,"path");e=e||0;rx+=e;ry+=e;var d=" M"+(x+rx-e)+","+(y-e)+" a"+rx+","+ry+" 0 0,0 "+(-rx)+","+ry+" v"+(-ry)+" h"+rx+" Z"+" M"+(x-e)+","+(y+h-ry+e)+" a"+rx+","+ry+" 0 0,0 "+rx+","+ry+" h"+(-rx)+" v"+(-ry)+" z"+" M"+(x+w-rx+e)+","+(y+h+e)+" a"+rx+","+ry+" 0 0,0 "+rx+","+(-ry)+" v"+ry+" h"+(-rx)+" z"+" M"+(x+w+e)+","+(y+ry-e)+" a"+rx+","+ry+" 0 0,0 "+(-rx)+","+(-ry)+" h"+rx+" v"+ry+" z";if(y>0){d+=" M0,0 h"+tw+" v"+y+" h"+(-tw)+" z";}if(b>0){d+=" M0,"+(y+h)+" h"+tw+" v"+b+" h"+(-tw)+" z";}path.setAttribute("d",d);path.setAttribute("fill",bg);path.setAttribute("stroke",bg);path.style.opacity="1";svg.appendChild(path);node._svgMask=svg;node.appendChild(svg);}}}};});},"dojox/mobile/parser":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/config","dojo/_base/lang","dojo/_base/window","dojo/ready"],function(dojo,_23d,_23e,lang,win,_23f){var dm=lang.getObject("dojox.mobile",true);var _240=function(){var _241={};var _242=function(type,_243){if(typeof (_243)==="string"){var t=type+":"+_243.replace(/ /g,"");return _241[t]||(_241[t]=_242(type).createSubclass(_23d.map(_243.split(/, */),_242)));}return _241[type]||(_241[type]=lang.getObject(type)||require(type));};var _244=function(js){return eval(js);};this.instantiate=function(_245,_246,_247){_246=_246||{};_247=_247||{};var i,ws=[];if(_245){for(i=0;i<_245.length;i++){var n=_245[i],type=n._type,ctor=_242(type,n.getAttribute("data-dojo-mixins")),_248=ctor.prototype,_249={},prop,v,t;lang.mixin(_249,_244.call(_247.propsThis,"({"+(n.getAttribute("data-dojo-props")||"")+"})"));lang.mixin(_249,_247.defaults);lang.mixin(_249,_246);for(prop in _248){v=n.getAttributeNode(prop);v=v&&v.nodeValue;t=typeof _248[prop];if(!v&&(t!=="boolean"||v!=="")){continue;}if(lang.isArray(_248[prop])){_249[prop]=v.split(/\s*,\s*/);}else{if(t==="string"){_249[prop]=v;}else{if(t==="number"){_249[prop]=v-0;}else{if(t==="boolean"){_249[prop]=(v!=="false");}else{if(t==="object"){_249[prop]=eval("("+v+")");}else{if(t==="function"){_249[prop]=lang.getObject(v,false)||new Function(v);n.removeAttribute(prop);}}}}}}}_249["class"]=n.className;if(!_249.style){_249.style=n.style.cssText;}v=n.getAttribute("data-dojo-attach-point");if(v){_249.dojoAttachPoint=v;}v=n.getAttribute("data-dojo-attach-event");if(v){_249.dojoAttachEvent=v;}var _24a=new ctor(_249,n);ws.push(_24a);var jsId=n.getAttribute("jsId")||n.getAttribute("data-dojo-id");if(jsId){lang.setObject(jsId,_24a);}}for(i=0;i<ws.length;i++){var w=ws[i];!_247.noStart&&w.startup&&!w._started&&w.startup();}}return ws;};this.parse=function(_24b,_24c){if(!_24b){_24b=win.body();}else{if(!_24c&&_24b.rootNode){_24c=_24b;_24b=_24b.rootNode;}}var _24d=_24b.getElementsByTagName("*");var i,j,list=[];for(i=0;i<_24d.length;i++){var n=_24d[i],type=(n._type=n.getAttribute("dojoType")||n.getAttribute("data-dojo-type"));if(type){if(n._skip){n._skip="";continue;}if(_242(type).prototype.stopParser&&!(_24c&&_24c.template)){var arr=n.getElementsByTagName("*");for(j=0;j<arr.length;j++){arr[j]._skip="1";}}list.push(n);}}var _24e=_24c&&_24c.template?{template:true}:null;return this.instantiate(list,_24e,_24c);};};var _24f=new _240();if(_23e.parseOnLoad){_23f(100,function(){try{if(!require("dojo/parser")){_24f.parse();}}catch(e){_24f.parse();}});}dm.parser=_24f;dojo.parser=dojo.parser||_24f;return _24f;});},"dojox/mobile/compat":function(){define(["dojo/_base/lang","dojo/sniff"],function(lang,has){var dm=lang.getObject("dojox.mobile",true);if(!(has("webkit")||has("ie")>=10)){var s="dojox/mobile/_compat";require([s]);}return dm;});},"dojox/mobile/deviceTheme":function(){(typeof define==="undefined"?function(deps,def){def();}:define)(["dojo/_base/config","dojo/_base/lang","dojo/_base/window","require"],function(_250,lang,win,_251){var dm=lang&&lang.getObject("dojox.mobile",true)||{};var _252=function(){if(!win){win=window;win.doc=document;win._no_dojo_dm=dm;}_250=_250||win.mblConfig||{};var _253=win.doc.getElementsByTagName("script");for(var i=0;i<_253.length;i++){var n=_253[i];var src=n.getAttribute("src")||"";if(src.match(/\/deviceTheme\.js/i)){_250.baseUrl=src.replace("deviceTheme.js","../../dojo/");var conf=(n.getAttribute("data-dojo-config")||n.getAttribute("djConfig"));if(conf){var obj=eval("({ "+conf+" })");for(var key in obj){_250[key]=obj[key];}}break;}else{if(src.match(/\/dojo\.js/i)){_250.baseUrl=src.replace("dojo.js","");break;}}}this.loadCssFile=function(file){var link=win.doc.createElement("link");link.href=file;link.type="text/css";link.rel="stylesheet";var head=win.doc.getElementsByTagName("head")[0];head.insertBefore(link,head.firstChild);dm.loadedCssFiles.push(link);};this.toUrl=function(path){return _251?_251.toUrl(path):_250.baseUrl+"../"+path;};this.setDm=function(_254){dm=_254;};this.themeMap=_250.themeMap||[["Holodark","holodark",[]],["Android 3","holodark",[]],["Android 4","holodark",[]],["Android","android",[]],["BlackBerry","blackberry",[]],["BB10","blackberry",[]],["iPhone","iphone",[]],["iPad","iphone",[this.toUrl("dojox/mobile/themes/iphone/ipad.css")]],["WindowsPhone","windows",[]],["MSIE [6-9]","iphone",[]],["Trident","windows",[]],["Custom","custom",[]],[".*","iphone",[]]];dm.loadedCssFiles=[];this.loadDeviceTheme=function(_255){var t=_250.mblThemeFiles||dm.themeFiles||["@theme"];var i,j;var m=this.themeMap;var ua=_255||_250.mblUserAgent||(location.search.match(/theme=(\w+)/)?RegExp.$1:navigator.userAgent);for(i=0;i<m.length;i++){if(ua.match(new RegExp(m[i][0]))){var _256=m[i][1];if(_256=="windows"&&_250.mblDisableWindowsTheme){continue;}var cls=win.doc.documentElement.className;cls=cls.replace(new RegExp(" *"+dm.currentTheme+"_theme"),"")+" "+_256+"_theme";win.doc.documentElement.className=cls;dm.currentTheme=_256;var _257=[].concat(m[i][2]);for(j=0;j<t.length;j++){var _258=(t[j] instanceof Array||typeof t[j]=="array");var path;if(!_258&&t[j].indexOf("/")!==-1){path=t[j];}else{var pkg=_258?(t[j][0]||"").replace(/\./g,"/"):"dojox/mobile";var name=(_258?t[j][1]:t[j]).replace(/\./g,"/");var f="themes/"+_256+"/"+(name==="@theme"?_256:name)+".css";path=pkg+"/"+f;}_257.unshift(this.toUrl(path));}for(var k=0;k<dm.loadedCssFiles.length;k++){var n=dm.loadedCssFiles[k];n.parentNode.removeChild(n);}dm.loadedCssFiles=[];for(j=0;j<_257.length;j++){var _259=_257[j].toString();if(_250["dojo-bidi"]==true&&_259.indexOf("_rtl")==-1){var _25a="android.css blackberry.css custom.css iphone.css holodark.css base.css Carousel.css ComboBox.css IconContainer.css IconMenu.css ListItem.css RoundRectCategory.css SpinWheel.css Switch.css TabBar.css ToggleButton.css ToolBarButton.css";var _25b=_259.substr(_259.lastIndexOf("/")+1);if(_25a.indexOf(_25b)!=-1){this.loadCssFile(_259.replace(".css","_rtl.css"));}}this.loadCssFile(_257[j].toString());}if(_255&&dm.loadCompatCssFiles){dm.loadCompatCssFiles();}break;}}};};var _25c=new _252();_25c.loadDeviceTheme();window.deviceTheme=dm.deviceTheme=_25c;return _25c;});},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_25d,_25e,_25f){var _260={};lang.setObject("dojo.number",_260);_260.format=function(_261,_262){_262=lang.mixin({},_262||{});var _263=i18n.normalizeLocale(_262.locale),_264=i18n.getLocalization("dojo.cldr","number",_263);_262.customs=_264;var _265=_262.pattern||_264[(_262.type||"decimal")+"Format"];if(isNaN(_261)||Math.abs(_261)==Infinity){return null;}return _260._applyPattern(_261,_265,_262);};_260._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_260._applyPattern=function(_266,_267,_268){_268=_268||{};var _269=_268.customs.group,_26a=_268.customs.decimal,_26b=_267.split(";"),_26c=_26b[0];_267=_26b[(_266<0)?1:0]||("-"+_26c);if(_267.indexOf("%")!=-1){_266*=100;}else{if(_267.indexOf("")!=-1){_266*=1000;}else{if(_267.indexOf("")!=-1){_269=_268.customs.currencyGroup||_269;_26a=_268.customs.currencyDecimal||_26a;_267=_267.replace(/\u00a4{1,3}/,function(_26d){var prop=["symbol","currency","displayName"][_26d.length-1];return _268[prop]||_268.currency||"";});}else{if(_267.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _26e=_260._numberPatternRE;var _26f=_26c.match(_26e);if(!_26f){throw new Error("unable to find a number expression in pattern: "+_267);}if(_268.fractional===false){_268.places=0;}return _267.replace(_26e,_260._formatAbsolute(_266,_26f[0],{decimal:_26a,group:_269,places:_268.places,round:_268.round}));};_260.round=function(_270,_271,_272){var _273=10/(_272||10);return (_273*+_270).toFixed(_271)/_273;};if((0.9).toFixed()==0){var _274=_260.round;_260.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return _274(v,p,m)+(v>0?d:-d);};}_260._formatAbsolute=function(_275,_276,_277){_277=_277||{};if(_277.places===true){_277.places=0;}if(_277.places===Infinity){_277.places=6;}var _278=_276.split("."),_279=typeof _277.places=="string"&&_277.places.indexOf(","),_27a=_277.places;if(_279){_27a=_277.places.substring(_279+1);}else{if(!(_27a>=0)){_27a=(_278[1]||[]).length;}}if(!(_277.round<0)){_275=_260.round(_275,_27a,_277.round);}var _27b=String(Math.abs(_275)).split("."),_27c=_27b[1]||"";if(_278[1]||_277.places){if(_279){_277.places=_277.places.substring(0,_279);}var pad=_277.places!==undefined?_277.places:(_278[1]&&_278[1].lastIndexOf("0")+1);if(pad>_27c.length){_27b[1]=_25e.pad(_27c,pad,"0",true);}if(_27a<_27c.length){_27b[1]=_27c.substr(0,_27a);}}else{if(_27b[1]){_27b.pop();}}var _27d=_278[0].replace(",","");pad=_27d.indexOf("0");if(pad!=-1){pad=_27d.length-pad;if(pad>_27b[0].length){_27b[0]=_25e.pad(_27b[0],pad);}if(_27d.indexOf("#")==-1){_27b[0]=_27b[0].substr(_27b[0].length-pad);}}var _27e=_278[0].lastIndexOf(","),_27f,_280;if(_27e!=-1){_27f=_278[0].length-_27e-1;var _281=_278[0].substr(0,_27e);_27e=_281.lastIndexOf(",");if(_27e!=-1){_280=_281.length-_27e-1;}}var _282=[];for(var _283=_27b[0];_283;){var off=_283.length-_27f;_282.push((off>0)?_283.substr(off):_283);_283=(off>0)?_283.slice(0,off):"";if(_280){_27f=_280;delete _280;}}_27b[0]=_282.reverse().join(_277.group||",");return _27b.join(_277.decimal||".");};_260.regexp=function(_284){return _260._parseInfo(_284).regexp;};_260._parseInfo=function(_285){_285=_285||{};var _286=i18n.normalizeLocale(_285.locale),_287=i18n.getLocalization("dojo.cldr","number",_286),_288=_285.pattern||_287[(_285.type||"decimal")+"Format"],_289=_287.group,_28a=_287.decimal,_28b=1;if(_288.indexOf("%")!=-1){_28b/=100;}else{if(_288.indexOf("")!=-1){_28b/=1000;}else{var _28c=_288.indexOf("")!=-1;if(_28c){_289=_287.currencyGroup||_289;_28a=_287.currencyDecimal||_28a;}}}var _28d=_288.split(";");if(_28d.length==1){_28d.push("-"+_28d[0]);}var re=_25f.buildGroupRE(_28d,function(_28e){_28e="(?:"+_25f.escapeString(_28e,".")+")";return _28e.replace(_260._numberPatternRE,function(_28f){var _290={signed:false,separator:_285.strict?_289:[_289,""],fractional:_285.fractional,decimal:_28a,exponent:false},_291=_28f.split("."),_292=_285.places;if(_291.length==1&&_28b!=1){_291[1]="###";}if(_291.length==1||_292===0){_290.fractional=false;}else{if(_292===undefined){_292=_285.pattern?_291[1].lastIndexOf("0")+1:Infinity;}if(_292&&_285.fractional==undefined){_290.fractional=true;}if(!_285.places&&(_292<_291[1].length)){_292+=","+_291[1].length;}_290.places=_292;}var _293=_291[0].split(",");if(_293.length>1){_290.groupSize=_293.pop().length;if(_293.length>1){_290.groupSize2=_293.pop().length;}}return "("+_260._realNumberRegexp(_290)+")";});},true);if(_28c){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_294,_295,_296,_297){var prop=["symbol","currency","displayName"][_296.length-1],_298=_25f.escapeString(_285[prop]||_285.currency||"");_295=_295?"[\\s\\xa0]":"";_297=_297?"[\\s\\xa0]":"";if(!_285.strict){if(_295){_295+="*";}if(_297){_297+="*";}return "(?:"+_295+_298+_297+")?";}return _295+_298+_297;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_289,decimal:_28a,factor:_28b};};_260.parse=function(_299,_29a){var info=_260._parseInfo(_29a),_29b=(new RegExp("^"+info.regexp+"$")).exec(_299);if(!_29b){return NaN;}var _29c=_29b[1];if(!_29b[1]){if(!_29b[2]){return NaN;}_29c=_29b[2];info.factor*=-1;}_29c=_29c.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _29c*info.factor;};_260._realNumberRegexp=function(_29d){_29d=_29d||{};if(!("places" in _29d)){_29d.places=Infinity;}if(typeof _29d.decimal!="string"){_29d.decimal=".";}if(!("fractional" in _29d)||/^0/.test(_29d.places)){_29d.fractional=[true,false];}if(!("exponent" in _29d)){_29d.exponent=[true,false];}if(!("eSigned" in _29d)){_29d.eSigned=[true,false];}var _29e=_260._integerRegexp(_29d),_29f=_25f.buildGroupRE(_29d.fractional,function(q){var re="";if(q&&(_29d.places!==0)){re="\\"+_29d.decimal;if(_29d.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_29d.places+"}";}}return re;},true);var _2a0=_25f.buildGroupRE(_29d.exponent,function(q){if(q){return "([eE]"+_260._integerRegexp({signed:_29d.eSigned})+")";}return "";});var _2a1=_29e+_29f;if(_29f){_2a1="(?:(?:"+_2a1+")|(?:"+_29f+"))";}return _2a1+_2a0;};_260._integerRegexp=function(_2a2){_2a2=_2a2||{};if(!("signed" in _2a2)){_2a2.signed=[true,false];}if(!("separator" in _2a2)){_2a2.separator="";}else{if(!("groupSize" in _2a2)){_2a2.groupSize=3;}}var _2a3=_25f.buildGroupRE(_2a2.signed,function(q){return q?"[-+]":"";},true);var _2a4=_25f.buildGroupRE(_2a2.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_25f.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=_2a2.groupSize,grp2=_2a2.groupSize2;if(grp2){var _2a5="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_2a5+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_2a5;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _2a3+_2a4;};return _260;});},"dojo/i18n":function(){define(["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(dojo,_2a6,has,_2a7,_2a8,lang,xhr,json,_2a9){has.add("dojo-preload-i18n-Api",1);1||has.add("dojo-v1x-i18n-Api",1);var _2aa=dojo.i18n={},_2ab=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,_2ac=function(root,_2ad,_2ae,_2af){for(var _2b0=[_2ae+_2af],_2b1=_2ad.split("-"),_2b2="",i=0;i<_2b1.length;i++){_2b2+=(_2b2?"-":"")+_2b1[i];if(!root||root[_2b2]){_2b0.push(_2ae+_2b2+"/"+_2af);_2b0.specificity=_2b2;}}return _2b0;},_2b3={},_2b4=function(_2b5,_2b6,_2b7){_2b7=_2b7?_2b7.toLowerCase():dojo.locale;_2b5=_2b5.replace(/\./g,"/");_2b6=_2b6.replace(/\./g,"/");return (/root/i.test(_2b7))?(_2b5+"/nls/"+_2b6):(_2b5+"/nls/"+_2b7+"/"+_2b6);},_2b8=dojo.getL10nName=function(_2b9,_2ba,_2bb){return _2b9=_2a9.id+"!"+_2b4(_2b9,_2ba,_2bb);},_2bc=function(_2bd,_2be,_2bf,_2c0,_2c1,load){_2bd([_2be],function(root){var _2c2=lang.clone(root.root),_2c3=_2ac(!root._v1x&&root,_2c1,_2bf,_2c0);_2bd(_2c3,function(){for(var i=1;i<_2c3.length;i++){_2c2=lang.mixin(lang.clone(_2c2),arguments[i]);}var _2c4=_2be+"/"+_2c1;_2b3[_2c4]=_2c2;_2c2.$locale=_2c3.specificity;load();});});},_2c5=function(id,_2c6){return /^\./.test(id)?_2c6(id):id;},_2c7=function(_2c8){var list=_2a8.extraLocale||[];list=lang.isArray(list)?list:[list];list.push(_2c8);return list;},load=function(id,_2c9,load){if(has("dojo-preload-i18n-Api")){var _2ca=id.split("*"),_2cb=_2ca[1]=="preload";if(_2cb){if(!_2b3[id]){_2b3[id]=1;_2cc(_2ca[2],json.parse(_2ca[3]),1,_2c9);}load(1);}if(_2cb||_2cd(id,_2c9,load)){return;}}var _2ce=_2ab.exec(id),_2cf=_2ce[1]+"/",_2d0=_2ce[5]||_2ce[4],_2d1=_2cf+_2d0,_2d2=(_2ce[5]&&_2ce[4]),_2d3=_2d2||dojo.locale||"",_2d4=_2d1+"/"+_2d3,_2d5=_2d2?[_2d3]:_2c7(_2d3),_2d6=_2d5.length,_2d7=function(){if(!--_2d6){load(lang.delegate(_2b3[_2d4]));}};_2a7.forEach(_2d5,function(_2d8){var _2d9=_2d1+"/"+_2d8;if(has("dojo-preload-i18n-Api")){_2da(_2d9);}if(!_2b3[_2d9]){_2bc(_2c9,_2d1,_2cf,_2d0,_2d8,_2d7);}else{_2d7();}});};if(has("dojo-unit-tests")){var _2db=_2aa.unitTests=[];}if(has("dojo-preload-i18n-Api")||1){var _2dc=_2aa.normalizeLocale=function(_2dd){var _2de=_2dd?_2dd.toLowerCase():dojo.locale;return _2de=="root"?"ROOT":_2de;},isXd=function(mid,_2df){return (1&&1)?_2df.isXdUrl(_2a6.toUrl(mid+".js")):true;},_2e0=0,_2e1=[],_2cc=_2aa._preloadLocalizations=function(_2e2,_2e3,_2e4,_2e5){_2e5=_2e5||_2a6;function _2e6(mid,_2e7){if(isXd(mid,_2e5)||_2e4){_2e5([mid],_2e7);}else{_2f1([mid],_2e7,_2e5);}};function _2e8(_2e9,func){var _2ea=_2e9.split("-");while(_2ea.length){if(func(_2ea.join("-"))){return;}_2ea.pop();}func("ROOT");};function _2eb(_2ec){_2ec=_2dc(_2ec);_2e8(_2ec,function(loc){if(_2a7.indexOf(_2e3,loc)>=0){var mid=_2e2.replace(/\./g,"/")+"_"+loc;_2e0++;_2e6(mid,function(_2ed){for(var p in _2ed){_2b3[_2a6.toAbsMid(p)+"/"+loc]=_2ed[p];}--_2e0;while(!_2e0&&_2e1.length){load.apply(null,_2e1.shift());}});return true;}return false;});};_2eb();_2a7.forEach(dojo.config.extraLocale,_2eb);},_2cd=function(id,_2ee,load){if(_2e0){_2e1.push([id,_2ee,load]);}return _2e0;},_2da=function(){};}if(1){var _2ef={},_2f0=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},"+"\t   require = function(){define.called = 1;};"+"try{"+"define.called = 0;"+"eval(__bundle);"+"if(define.called==1)"+"return __amdValue;"+"if((__checkForLegacyModules = __checkForLegacyModules(__mid)))"+"return __checkForLegacyModules;"+"}catch(e){}"+"try{"+"return eval('('+__bundle+')');"+"}catch(e){"+"return e;"+"}"),_2f1=function(deps,_2f2,_2f3){var _2f4=[];_2a7.forEach(deps,function(mid){var url=_2f3.toUrl(mid+".js");function load(text){var _2f5=_2f0(text,_2da,mid,_2ef);if(_2f5===_2ef){_2f4.push(_2b3[url]=_2ef.result);}else{if(_2f5 instanceof Error){console.error("failed to evaluate i18n bundle; url="+url,_2f5);_2f5={};}_2f4.push(_2b3[url]=(/nls\/[^\/]+\/[^\/]+$/.test(url)?_2f5:{root:_2f5,_v1x:1}));}};if(_2b3[url]){_2f4.push(_2b3[url]);}else{var _2f6=_2f3.syncLoadNls(mid);if(_2f6){_2f4.push(_2f6);}else{if(!xhr){try{_2f3.getText(url,true,load);}catch(e){_2f4.push(_2b3[url]={});}}else{xhr.get({url:url,sync:true,load:load,error:function(){_2f4.push(_2b3[url]={});}});}}}});_2f2&&_2f2.apply(null,_2f4);};_2da=function(_2f7){for(var _2f8,_2f9=_2f7.split("/"),_2fa=dojo.global[_2f9[0]],i=1;_2fa&&i<_2f9.length-1;_2fa=_2fa[_2f9[i++]]){}if(_2fa){_2f8=_2fa[_2f9[i]];if(!_2f8){_2f8=_2fa[_2f9[i].replace(/-/g,"_")];}if(_2f8){_2b3[_2f7]=_2f8;}}return _2f8;};_2aa.getLocalization=function(_2fb,_2fc,_2fd){var _2fe,_2ff=_2b4(_2fb,_2fc,_2fd);load(_2ff,(!isXd(_2ff,_2a6)?function(deps,_300){_2f1(deps,_300,_2a6);}:_2a6),function(_301){_2fe=_301;});return _2fe;};if(has("dojo-unit-tests")){_2db.push(function(doh){doh.register("tests.i18n.unit",function(t){var _302;_302=_2f0("{prop:1}",_2da,"nonsense",_2ef);t.is({prop:1},_302);t.is(undefined,_302[1]);_302=_2f0("({prop:1})",_2da,"nonsense",_2ef);t.is({prop:1},_302);t.is(undefined,_302[1]);_302=_2f0("{'prop-x':1}",_2da,"nonsense",_2ef);t.is({"prop-x":1},_302);t.is(undefined,_302[1]);_302=_2f0("({'prop-x':1})",_2da,"nonsense",_2ef);t.is({"prop-x":1},_302);t.is(undefined,_302[1]);_302=_2f0("define({'prop-x':1})",_2da,"nonsense",_2ef);t.is(_2ef,_302);t.is({"prop-x":1},_2ef.result);_302=_2f0("define('some/module', {'prop-x':1})",_2da,"nonsense",_2ef);t.is(_2ef,_302);t.is({"prop-x":1},_2ef.result);_302=_2f0("this is total nonsense and should throw an error",_2da,"nonsense",_2ef);t.is(_302 instanceof Error,true);});});}}return lang.mixin(_2aa,{dynamic:true,normalize:_2c5,load:load,cache:_2b3,getL10nName:_2b8});});},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(_303,lang){var _304={};lang.setObject("dojo.string",_304);_304.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};_304.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=_304.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};_304.substitute=function(_305,map,_306,_307){_307=_307||_303.global;_306=_306?lang.hitch(_307,_306):function(v){return v;};return _305.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_308,key,_309){var _30a=lang.getObject(key,false,map);if(_309){_30a=lang.getObject(_309,false,_307).call(_307,_30a,key);}return _306(_30a,key).toString();});};_304.trim=String.prototype.trim?lang.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};return _304;});},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(dojo,lang){var _30b={};lang.setObject("dojo.regexp",_30b);_30b.escapeString=function(str,_30c){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_30c&&_30c.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};_30b.buildGroupRE=function(arr,re,_30d){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return _30b.group(b.join("|"),_30d);};_30b.group=function(_30e,_30f){return "("+(_30f?"?:":"")+_30e+")";};return _30b;});},"dojox/mobile/SpinWheel":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-construct","./_PickerBase","./SpinWheelSlot"],function(_310,_311,_312,_313){return _310("dojox.mobile.SpinWheel",_313,{baseClass:"mblSpinWheel",buildRendering:function(){this.inherited(arguments);_312.create("div",{className:"mblSpinWheelBar"},this.domNode);},startup:function(){if(this._started){return;}this.centerPos=Math.round(this.domNode.offsetHeight/2);this.inherited(arguments);},resize:function(){this.centerPos=Math.round(this.domNode.offsetHeight/2);_311.forEach(this.getChildren(),function(_314){_314.resize&&_314.resize();});},addChild:function(_315,_316){this.inherited(arguments);if(this._started){_315.setInitialValue();}}});});},"dojox/mobile/_PickerBase":function(){define(["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_Container","dijit/_WidgetBase"],function(_317,_318,_319,_31a,_31b){return _318("dojox.mobile._PickerBase",[_31b,_31a,_319],{slotClasses:[],slotProps:[],slotOrder:[],buildRendering:function(){this.inherited(arguments);this.slots=[];for(var i=0;i<this.slotClasses.length;i++){var idx=this.slotOrder.length?this.slotOrder[i]:i;var slot=new this.slotClasses[idx](this.slotProps[idx]);this.addChild(slot);this.slots[idx]=slot;}},startup:function(){if(this._started){return;}this._duringStartup=true;this.inherited(arguments);this.reset();delete this._duringStartup;},getSlots:function(){return this.slots.length?this.slots:_317.filter(this.getChildren(),function(c){return c.declaredClass.indexOf("Slot")!==-1;});},_getValuesAttr:function(){return _317.map(this.getSlots(),function(w){return w.get("value");});},_setValuesAttr:function(a){_317.forEach(this.getSlots(),function(w,i){w.set("value",a[i]);});},_setColorsAttr:function(a){_317.forEach(this.getSlots(),function(w,i){w.setColor&&w.setColor(a[i]);});},reset:function(){_317.forEach(this.getSlots(),function(w){w.setInitialValue();});}});});},"dojox/mobile/SpinWheelSlot":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/declare","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/SpinWheelSlot","dojo/touch","dojo/on","dijit/_Contained","dijit/_WidgetBase","./scrollable","./common"],function(dojo,_31c,_31d,win,_31e,_31f,has,_320,_321,on,_322,_323,_324){var _325=_31d(has("dojo-bidi")?"dojox.mobile.NonBidiSpinWheelSlot":"dojox.mobile.SpinWheelSlot",[_323,_322,_324],{items:[],labels:[],labelFrom:0,labelTo:0,zeroPad:0,value:"",step:1,tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSpinWheelSlot",maxSpeed:500,minItems:15,centerPos:0,scrollBar:false,constraint:false,propagatable:false,androidWorkaroud:false,buildRendering:function(){this.inherited(arguments);this.initLabels();var i,j;if(this.labels.length>0){this.items=[];for(i=0;i<this.labels.length;i++){this.items.push([i,this.labels[i]]);}}this.containerNode=_31f.create("div",{className:"mblSpinWheelSlotContainer"});this.containerNode.style.height=(win.global.innerHeight||win.doc.documentElement.clientHeight)*2+"px";this.panelNodes=[];for(var k=0;k<3;k++){this.panelNodes[k]=_31f.create("div",{className:"mblSpinWheelSlotPanel"});var len=this.items.length;if(len>0){var n=Math.ceil(this.minItems/len);for(j=0;j<n;j++){for(i=0;i<len;i++){_31f.create("div",{className:"mblSpinWheelSlotLabel",name:this.items[i][0],"data-mobile-val":this.items[i][1],innerHTML:this._cv?this._cv(this.items[i][1]):this.items[i][1]},this.panelNodes[k]);}}}this.containerNode.appendChild(this.panelNodes[k]);}this.domNode.appendChild(this.containerNode);this.touchNode=_31f.create("div",{className:"mblSpinWheelSlotTouch"},this.domNode);this.setSelectable(this.domNode,false);if(this.value===""&&this.items.length>0){this.value=this.items[0][1];}this._initialValue=this.value;if(has("windows-theme")){var self=this,_326=this.containerNode,_327=5;this.own(on(self.touchNode,_321.press,function(e){var posY=e.pageY,_328=self.getParent().getChildren();for(var i=0,ln=_328.length;i<ln;i++){var _329=_328[i].containerNode;if(_326!==_329){_31e.remove(_329,"mblSelectedSlot");_329.selected=false;}else{_31e.add(_326,"mblSelectedSlot");}}var _32a=on(self.touchNode,_321.move,function(e){if(Math.abs(e.pageY-posY)<_327){return;}_32a.remove();_32b.remove();_326.selected=true;var item=self.getCenterItem();if(item){_31e.remove(item,"mblSelectedSlotItem");}});var _32b=on(self.touchNode,_321.release,function(){_32b.remove();_32a.remove();_326.selected?_31e.remove(_326,"mblSelectedSlot"):_31e.add(_326,"mblSelectedSlot");_326.selected=!_326.selected;});}));this.on("flickAnimationEnd",function(){var item=self.getCenterItem();if(self.previousCenterItem){_31e.remove(self.previousCenterItem,"mblSelectedSlotItem");}_31e.add(item,"mblSelectedSlotItem");self.previousCenterItem=item;});}},startup:function(){if(this._started){return;}this.inherited(arguments);this.noResize=true;if(this.items.length>0){this.init();this.centerPos=this.getParent().centerPos;var _32c=this.panelNodes[1].childNodes;this._itemHeight=_32c[0].offsetHeight;this.adjust();this.connect(this.domNode,"onkeydown","_onKeyDown");}if(has("windows-theme")){this.previousCenterItem=this.getCenterItem();if(this.previousCenterItem){_31e.add(this.previousCenterItem,"mblSelectedSlotItem");}}},initLabels:function(){if(this.labelFrom!==this.labelTo){var a=this.labels=[],_32d=this.zeroPad&&Array(this.zeroPad).join("0");for(var i=this.labelFrom;i<=this.labelTo;i+=this.step){a.push(this.zeroPad?(_32d+i).slice(-this.zeroPad):i+"");}}},adjust:function(){var _32e=this.panelNodes[1].childNodes;var _32f;for(var i=0,len=_32e.length;i<len;i++){var item=_32e[i];if(item.offsetTop<=this.centerPos&&this.centerPos<item.offsetTop+item.offsetHeight){_32f=this.centerPos-(item.offsetTop+Math.round(item.offsetHeight/2));break;}}var h=this.panelNodes[0].offsetHeight;this.panelNodes[0].style.top=-h+_32f+"px";this.panelNodes[1].style.top=_32f+"px";this.panelNodes[2].style.top=h+_32f+"px";},setInitialValue:function(){this.set("value",this._initialValue);},_onKeyDown:function(e){if(!e||e.type!=="keydown"){return;}if(e.keyCode===40){this.spin(-1);}else{if(e.keyCode===38){this.spin(1);}}},_getCenterPanel:function(){var pos=this.getPos();for(var i=0,len=this.panelNodes.length;i<len;i++){var top=pos.y+this.panelNodes[i].offsetTop;if(top<=this.centerPos&&this.centerPos<top+this.panelNodes[i].offsetHeight){return this.panelNodes[i];}}return null;},setColor:function(_330,_331){_31c.forEach(this.panelNodes,function(_332){_31c.forEach(_332.childNodes,function(node,i){_31e.toggle(node,_331||"mblSpinWheelSlotLabelBlue",node.innerHTML===_330);},this);},this);},disableValues:function(n){_31c.forEach(this.panelNodes,function(_333){for(var i=0;i<_333.childNodes.length;i++){_31e.toggle(_333.childNodes[i],"mblSpinWheelSlotLabelGray",i>=n);}});},getCenterItem:function(){var pos=this.getPos();var _334=this._getCenterPanel();if(_334){var top=pos.y+_334.offsetTop;var _335=_334.childNodes;for(var i=0,len=_335.length;i<len;i++){if(top+_335[i].offsetTop<=this.centerPos&&this.centerPos<top+_335[i].offsetTop+_335[i].offsetHeight){return _335[i];}}}return null;},_getKeyAttr:function(){if(!this._started){if(this.items){var v=this.value;for(var i=0;i<this.items.length;i++){if(this.items[i][1]==this.value){return this.items[i][0];}}}return null;}var item=this.getCenterItem();return (item&&item.getAttribute("name"));},_getValueAttr:function(){if(!this._started){return this.value;}if(this.items.length>0){var item=this.getCenterItem();return (item&&item.getAttribute("data-mobile-val"));}else{return this._initialValue;}},_setValueAttr:function(_336){if(this.items.length>0){this._spinToValue(_336,true);}},_spinToValue:function(_337,_338){var idx0,idx1;var _339=this.get("value");if(!_339){this._pendingValue=_337;return;}if(_339==_337){return;}this._pendingValue=undefined;if(_338){this._set("value",_337);}var n=this.items.length;for(var i=0;i<n;i++){if(this.items[i][1]===String(_339)){idx0=i;}if(this.items[i][1]===String(_337)){idx1=i;}if(idx0!==undefined&&idx1!==undefined){break;}}var d=idx1-(idx0||0);var m;if(d>0){m=(d<n-d)?-d:n-d;}else{m=(-d<n+d)?-d:-(n+d);}this.spin(m);},onFlickAnimationStart:function(e){this._onFlickAnimationStartCalled=true;this.inherited(arguments);},onFlickAnimationEnd:function(e){this._duringSlideTo=false;this._onFlickAnimationStartCalled=false;this.inherited(arguments);},spin:function(_33a){if(!this._started||this._duringSlideTo){return;}var to=this.getPos();to.y+=_33a*this._itemHeight;this.slideTo(to,1);},getSpeed:function(){var y=0,n=this._time.length;var _33b=(new Date()).getTime()-this.startTime-this._time[n-1];if(n>=2&&_33b<200){var dy=this._posY[n-1]-this._posY[(n-6)>=0?n-6:0];var dt=this._time[n-1]-this._time[(n-6)>=0?n-6:0];y=this.calcSpeed(dy,dt);}return {x:0,y:y};},calcSpeed:function(d,t){var _33c=this.inherited(arguments);if(!_33c){return 0;}var v=Math.abs(_33c);var ret=_33c;if(v>this.maxSpeed){ret=this.maxSpeed*(_33c/v);}return ret;},adjustDestination:function(to,pos,dim){var h=this._itemHeight;var j=to.y+Math.round(h/2);var r=j>=0?j%h:j%h+h;to.y=j-r;return true;},resize:function(e){var _33d=this.panelNodes[1].childNodes;if(_33d.length>0&&!has("windows-theme")){this._itemHeight=_33d[0].offsetHeight;this.centerPos=this.getParent().centerPos;if(!this.panelNodes[0].style.top){this.adjust();}}if(this._pendingValue){this.set("value",this._pendingValue);}},slideTo:function(to,_33e,_33f){this._duringSlideTo=true;var pos=this.getPos();var top=pos.y+this.panelNodes[1].offsetTop;var _340=top+this.panelNodes[1].offsetHeight;var vh=this.domNode.parentNode.offsetHeight;var t;if(pos.y<to.y){if(_340>vh){t=this.panelNodes[2];t.style.top=this.panelNodes[0].offsetTop-this.panelNodes[0].offsetHeight+"px";this.panelNodes[2]=this.panelNodes[1];this.panelNodes[1]=this.panelNodes[0];this.panelNodes[0]=t;}}else{if(pos.y>to.y){if(top<0){t=this.panelNodes[0];t.style.top=this.panelNodes[2].offsetTop+this.panelNodes[2].offsetHeight+"px";this.panelNodes[0]=this.panelNodes[1];this.panelNodes[1]=this.panelNodes[2];this.panelNodes[2]=t;}}}if(this.getParent()._duringStartup){_33e=0;}else{if(Math.abs(this._speed.y)<40){_33e=0.2;}}this.inherited(arguments,[to,_33e,_33f]);if(this.getParent()._duringStartup&&!this._onFlickAnimationStartCalled){this.onFlickAnimationEnd();}else{if(!this._onFlickAnimationStartCalled){this._duringSlideTo=false;}}}});return has("dojo-bidi")?_31d("dojox.mobile.SpinWheelSlot",[_325,_320]):_325;});},"dojox/mobile/scrollable":function(){define(["dojo/_base/kernel","dojo/_base/connect","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-geometry","dojo/touch","./sniff","./_css3","./_maskUtils"],function(dojo,_341,_342,lang,win,_343,_344,_345,_346,_347,has,css3,_348){var dm=lang.getObject("dojox.mobile",true);has.add("translate3d",function(){if(has("css3-animations")){var elem=win.doc.createElement("div");elem.style[css3.name("transform")]="translate3d(0px,1px,0px)";win.doc.documentElement.appendChild(elem);var v=win.doc.defaultView.getComputedStyle(elem,"")[css3.name("transform",true)];var _349=v&&v.indexOf("matrix")===0;win.doc.documentElement.removeChild(elem);return _349;}});var _34a=function(){};lang.extend(_34a,{fixedHeaderHeight:0,fixedFooterHeight:0,isLocalFooter:false,scrollBar:true,scrollDir:"v",weight:0.6,fadeScrollBar:true,disableFlashScrollBar:false,threshold:4,constraint:true,touchNode:null,propagatable:true,dirLock:false,height:"",scrollType:0,_parentPadBorderExtentsBottom:0,_moved:false,init:function(_34b){if(_34b){for(var p in _34b){if(_34b.hasOwnProperty(p)){this[p]=((p=="domNode"||p=="containerNode")&&typeof _34b[p]=="string")?win.doc.getElementById(_34b[p]):_34b[p];}}}if(typeof this.domNode.style.msTouchAction!="undefined"){this.domNode.style.msTouchAction="none";}this.touchNode=this.touchNode||this.containerNode;this._v=(this.scrollDir.indexOf("v")!=-1);this._h=(this.scrollDir.indexOf("h")!=-1);this._f=(this.scrollDir=="f");this._ch=[];this._ch.push(_341.connect(this.touchNode,_347.press,this,"onTouchStart"));if(has("css3-animations")){this._useTopLeft=this.scrollType?this.scrollType===2:false;if(!this._useTopLeft){this._useTransformTransition=this.scrollType?this.scrollType===3:has("ios")>=6||has("android")||has("bb");}if(!this._useTopLeft){if(this._useTransformTransition){this._ch.push(_341.connect(this.domNode,css3.name("transitionEnd"),this,"onFlickAnimationEnd"));this._ch.push(_341.connect(this.domNode,css3.name("transitionStart"),this,"onFlickAnimationStart"));}else{this._ch.push(_341.connect(this.domNode,css3.name("animationEnd"),this,"onFlickAnimationEnd"));this._ch.push(_341.connect(this.domNode,css3.name("animationStart"),this,"onFlickAnimationStart"));for(var i=0;i<3;i++){this.setKeyframes(null,null,i);}}if(has("translate3d")){_345.set(this.containerNode,css3.name("transform"),"translate3d(0,0,0)");}}else{this._ch.push(_341.connect(this.domNode,css3.name("transitionEnd"),this,"onFlickAnimationEnd"));this._ch.push(_341.connect(this.domNode,css3.name("transitionStart"),this,"onFlickAnimationStart"));}}this._speed={x:0,y:0};this._appFooterHeight=0;if(this.isTopLevel()&&!this.noResize){this.resize();}var _34c=this;setTimeout(function(){_34c.flashScrollBar();},600);if(win.global.addEventListener){this._onScroll=function(e){if(!_34c.domNode||_34c.domNode.style.display==="none"){return;}var _34d=_34c.domNode.scrollTop;var _34e=_34c.domNode.scrollLeft;var pos;if(_34d>0||_34e>0){pos=_34c.getPos();_34c.domNode.scrollLeft=0;_34c.domNode.scrollTop=0;_34c.scrollTo({x:pos.x-_34e,y:pos.y-_34d});}};win.global.addEventListener("scroll",this._onScroll,true);}if(!this.disableTouchScroll&&this.domNode.addEventListener){this._onFocusScroll=function(e){if(!_34c.domNode||_34c.domNode.style.display==="none"){return;}var node=win.doc.activeElement;var _34f,_350;if(node){_34f=node.getBoundingClientRect();_350=_34c.domNode.getBoundingClientRect();if(_34f.height<_34c.getDim().d.h){if(_34f.top<(_350.top+_34c.fixedHeaderHeight)){_34c.scrollIntoView(node,true);}else{if((_34f.top+_34f.height)>(_350.top+_350.height-_34c.fixedFooterHeight)){_34c.scrollIntoView(node,false);}}}}};this.domNode.addEventListener("focus",this._onFocusScroll,true);}},isTopLevel:function(){return true;},cleanup:function(){if(this._ch){for(var i=0;i<this._ch.length;i++){_341.disconnect(this._ch[i]);}this._ch=null;}if(this._onScroll&&win.global.removeEventListener){win.global.removeEventListener("scroll",this._onScroll,true);this._onScroll=null;}if(this._onFocusScroll&&this.domNode.removeEventListener){this.domNode.removeEventListener("focus",this._onFocusScroll,true);this._onFocusScroll=null;}},findDisp:function(node){if(!node.parentNode){return null;}if(node.nodeType===1&&_343.contains(node,"mblSwapView")&&node.style.display!=="none"){return node;}var _351=node.parentNode.childNodes;for(var i=0;i<_351.length;i++){var n=_351[i];if(n.nodeType===1&&_343.contains(n,"mblView")&&n.style.display!=="none"){return n;}}return node;},getScreenSize:function(){return {h:win.global.innerHeight||win.doc.documentElement.clientHeight||win.doc.documentElement.offsetHeight,w:win.global.innerWidth||win.doc.documentElement.clientWidth||win.doc.documentElement.offsetWidth};},resize:function(e){this._appFooterHeight=(this._fixedAppFooter)?this._fixedAppFooter.offsetHeight:0;if(this.isLocalHeader){this.containerNode.style.marginTop=this.fixedHeaderHeight+"px";}var top=0;for(var n=this.domNode;n&&n.tagName!="BODY";n=n.offsetParent){n=this.findDisp(n);if(!n){break;}top+=n.offsetTop+_346.getBorderExtents(n).h;}var h,_352=this.getScreenSize().h,dh=_352-top-this._appFooterHeight;if(this.height==="inherit"){if(this.domNode.offsetParent){h=_346.getContentBox(this.domNode.offsetParent).h-_346.getBorderExtents(this.domNode).h+"px";}}else{if(this.height==="auto"){var _353=this.domNode.offsetParent;if(_353){this.domNode.style.height="0px";var _354=_353.getBoundingClientRect(),_355=this.domNode.getBoundingClientRect(),_356=_354.bottom-this._appFooterHeight-this._parentPadBorderExtentsBottom;if(_355.bottom>=_356){dh=_352-(_355.top-_354.top)-this._appFooterHeight-this._parentPadBorderExtentsBottom;}else{dh=_356-_355.bottom;}}var _357=Math.max(this.domNode.scrollHeight,this.containerNode.scrollHeight);h=(_357?Math.min(_357,dh):dh)+"px";}else{if(this.height){h=this.height;}}}if(!h){h=dh+"px";}if(h.charAt(0)!=="-"&&h!=="default"){this.domNode.style.height=h;}if(!this._conn){this.onTouchEnd();}},onFlickAnimationStart:function(e){_342.stop(e);},onFlickAnimationEnd:function(e){if(has("ios")){this._keepInputCaretInActiveElement();}if(e){var an=e.animationName;if(an&&an.indexOf("scrollableViewScroll2")===-1){if(an.indexOf("scrollableViewScroll0")!==-1){if(this._scrollBarNodeV){_343.remove(this._scrollBarNodeV,"mblScrollableScrollTo0");}}else{if(an.indexOf("scrollableViewScroll1")!==-1){if(this._scrollBarNodeH){_343.remove(this._scrollBarNodeH,"mblScrollableScrollTo1");}}else{if(this._scrollBarNodeV){this._scrollBarNodeV.className="";}if(this._scrollBarNodeH){this._scrollBarNodeH.className="";}}}return;}if(this._useTransformTransition||this._useTopLeft){var n=e.target;if(n===this._scrollBarV||n===this._scrollBarH){var cls="mblScrollableScrollTo"+(n===this._scrollBarV?"0":"1");if(_343.contains(n,cls)){_343.remove(n,cls);}else{n.className="";}return;}}if(e.srcElement){_342.stop(e);}}this.stopAnimation();if(this._bounce){var _358=this;var _359=_358._bounce;setTimeout(function(){_358.slideTo(_359,0.3,"ease-out");},0);_358._bounce=undefined;}else{this.hideScrollBar();this.removeCover();}},isFormElement:function(node){if(node&&node.nodeType!==1){node=node.parentNode;}if(!node||node.nodeType!==1){return false;}var t=node.tagName;return (t==="SELECT"||t==="INPUT"||t==="TEXTAREA"||t==="BUTTON");},onTouchStart:function(e){if(this.disableTouchScroll){return;}if(this._conn&&(new Date()).getTime()-this.startTime<500){return;}if(!this._conn){this._conn=[];this._conn.push(_341.connect(win.doc,_347.move,this,"onTouchMove"));this._conn.push(_341.connect(win.doc,_347.release,this,"onTouchEnd"));}this._aborted=false;if(_343.contains(this.containerNode,"mblScrollableScrollTo2")){this.abort();}else{if(this._scrollBarNodeV){this._scrollBarNodeV.className="";}if(this._scrollBarNodeH){this._scrollBarNodeH.className="";}}this.touchStartX=e.touches?e.touches[0].pageX:e.clientX;this.touchStartY=e.touches?e.touches[0].pageY:e.clientY;this.startTime=(new Date()).getTime();this.startPos=this.getPos();this._dim=this.getDim();this._time=[0];this._posX=[this.touchStartX];this._posY=[this.touchStartY];this._locked=false;this._moved=false;if(!this.isFormElement(e.target)){this.propagatable?e.preventDefault():_342.stop(e);}},onTouchMove:function(e){if(this._locked){return;}var x=e.touches?e.touches[0].pageX:e.clientX;var y=e.touches?e.touches[0].pageY:e.clientY;var dx=x-this.touchStartX;var dy=y-this.touchStartY;var to={x:this.startPos.x+dx,y:this.startPos.y+dy};var dim=this._dim;dx=Math.abs(dx);dy=Math.abs(dy);if(this._time.length==1){if(this.dirLock){if(this._v&&!this._h&&dx>=this.threshold&&dx>=dy||(this._h||this._f)&&!this._v&&dy>=this.threshold&&dy>=dx){this._locked=true;return;}}if(this._v&&this._h){if(dy<this.threshold&&dx<this.threshold){return;}}else{if(this._v&&dy<this.threshold||(this._h||this._f)&&dx<this.threshold){return;}}this._moved=true;this.addCover();this.showScrollBar();}var _35a=this.weight;if(this._v&&this.constraint){if(to.y>0){to.y=Math.round(to.y*_35a);}else{if(to.y<-dim.o.h){if(dim.c.h<dim.d.h){to.y=Math.round(to.y*_35a);}else{to.y=-dim.o.h-Math.round((-dim.o.h-to.y)*_35a);}}}}if((this._h||this._f)&&this.constraint){if(to.x>0){to.x=Math.round(to.x*_35a);}else{if(to.x<-dim.o.w){if(dim.c.w<dim.d.w){to.x=Math.round(to.x*_35a);}else{to.x=-dim.o.w-Math.round((-dim.o.w-to.x)*_35a);}}}}this.scrollTo(to);var max=10;var n=this._time.length;if(n>=2){this._moved=true;var d0,d1;if(this._v&&!this._h){d0=this._posY[n-1]-this._posY[n-2];d1=y-this._posY[n-1];}else{if(!this._v&&this._h){d0=this._posX[n-1]-this._posX[n-2];d1=x-this._posX[n-1];}}if(d0*d1<0){this._time=[this._time[n-1]];this._posX=[this._posX[n-1]];this._posY=[this._posY[n-1]];n=1;}}if(n==max){this._time.shift();this._posX.shift();this._posY.shift();}this._time.push((new Date()).getTime()-this.startTime);this._posX.push(x);this._posY.push(y);},_keepInputCaretInActiveElement:function(){var _35b=win.doc.activeElement;var _35c;if(_35b&&(_35b.tagName=="INPUT"||_35b.tagName=="TEXTAREA")){_35c=_35b.value;if(_35b.type=="number"||_35b.type=="week"){if(_35c){_35b.value=_35b.value+1;}else{_35b.value=(_35b.type=="week")?"2013-W10":1;}_35b.value=_35c;}else{_35b.value=_35b.value+" ";_35b.value=_35c;}}},onTouchEnd:function(e){if(this._locked){return;}var _35d=this._speed={x:0,y:0};var dim=this._dim;var pos=this.getPos();var to={};if(e){if(!this._conn){return;}for(var i=0;i<this._conn.length;i++){_341.disconnect(this._conn[i]);}this._conn=null;var _35e=false;if(!this._aborted&&!this._moved){_35e=true;}if(_35e){this.hideScrollBar();this.removeCover();if(has("touch")&&has("clicks-prevented")&&!this.isFormElement(e.target)){var elem=e.target;if(elem.nodeType!=1){elem=elem.parentNode;}setTimeout(function(){dm._sendClick(elem,e);});}return;}_35d=this._speed=this.getSpeed();}else{if(pos.x==0&&pos.y==0){return;}dim=this.getDim();}if(this._v){to.y=pos.y+_35d.y;}if(this._h||this._f){to.x=pos.x+_35d.x;}if(this.adjustDestination(to,pos,dim)===false){return;}if(this.constraint){if(this.scrollDir=="v"&&dim.c.h<dim.d.h){this.slideTo({y:0},0.3,"ease-out");return;}else{if(this.scrollDir=="h"&&dim.c.w<dim.d.w){this.slideTo({x:0},0.3,"ease-out");return;}else{if(this._v&&this._h&&dim.c.h<dim.d.h&&dim.c.w<dim.d.w){this.slideTo({x:0,y:0},0.3,"ease-out");return;}}}}var _35f,_360="ease-out";var _361={};if(this._v&&this.constraint){if(to.y>0){if(pos.y>0){_35f=0.3;to.y=0;}else{to.y=Math.min(to.y,20);_360="linear";_361.y=0;}}else{if(-_35d.y>dim.o.h-(-pos.y)){if(pos.y<-dim.o.h){_35f=0.3;to.y=dim.c.h<=dim.d.h?0:-dim.o.h;}else{to.y=Math.max(to.y,-dim.o.h-20);_360="linear";_361.y=-dim.o.h;}}}}if((this._h||this._f)&&this.constraint){if(to.x>0){if(pos.x>0){_35f=0.3;to.x=0;}else{to.x=Math.min(to.x,20);_360="linear";_361.x=0;}}else{if(-_35d.x>dim.o.w-(-pos.x)){if(pos.x<-dim.o.w){_35f=0.3;to.x=dim.c.w<=dim.d.w?0:-dim.o.w;}else{to.x=Math.max(to.x,-dim.o.w-20);_360="linear";_361.x=-dim.o.w;}}}}this._bounce=(_361.x!==undefined||_361.y!==undefined)?_361:undefined;if(_35f===undefined){var _362,_363;if(this._v&&this._h){_363=Math.sqrt(_35d.x*_35d.x+_35d.y*_35d.y);_362=Math.sqrt(Math.pow(to.y-pos.y,2)+Math.pow(to.x-pos.x,2));}else{if(this._v){_363=_35d.y;_362=to.y-pos.y;}else{if(this._h){_363=_35d.x;_362=to.x-pos.x;}}}if(_362===0&&!e){return;}_35f=_363!==0?Math.abs(_362/_363):0.01;}this.slideTo(to,_35f,_360);},adjustDestination:function(to,pos,dim){return true;},abort:function(){this._aborted=true;this.scrollTo(this.getPos());this.stopAnimation();},stopAnimation:function(){_343.remove(this.containerNode,"mblScrollableScrollTo2");if(this._scrollBarV){this._scrollBarV.className="";}if(this._scrollBarH){this._scrollBarH.className="";}if(this._useTransformTransition||this._useTopLeft){this.containerNode.style[css3.name("transition")]="";if(this._scrollBarV){this._scrollBarV.style[css3.name("transition")]="";}if(this._scrollBarH){this._scrollBarH.style[css3.name("transition")]="";}}},scrollIntoView:function(node,_364,_365){if(!this._v){return;}var c=this.containerNode,h=this.getDim().d.h,top=0;for(var n=node;n!==c;n=n.offsetParent){if(!n||n.tagName==="BODY"){return;}top+=n.offsetTop;}var y=_364?Math.max(h-c.offsetHeight,-top):Math.min(0,h-top-node.offsetHeight);(_365&&typeof _365==="number")?this.slideTo({y:y},_365,"ease-out"):this.scrollTo({y:y});},getSpeed:function(){var x=0,y=0,n=this._time.length;if(n>=2&&(new Date()).getTime()-this.startTime-this._time[n-1]<500){var dy=this._posY[n-(n>3?2:1)]-this._posY[(n-6)>=0?n-6:0];var dx=this._posX[n-(n>3?2:1)]-this._posX[(n-6)>=0?n-6:0];var dt=this._time[n-(n>3?2:1)]-this._time[(n-6)>=0?n-6:0];y=this.calcSpeed(dy,dt);x=this.calcSpeed(dx,dt);}return {x:x,y:y};},calcSpeed:function(_366,time){return Math.round(_366/time*100)*4;},scrollTo:function(to,_367,node){var _368,_369,_36a;var _36b=true;if(!this._aborted&&this._conn){if(!this._dim){this._dim=this.getDim();}_369=(to.y>0)?to.y:0;_36a=(this._dim.o.h+to.y<0)?-1*(this._dim.o.h+to.y):0;_368={bubbles:false,cancelable:false,x:to.x,y:to.y,beforeTop:_369>0,beforeTopHeight:_369,afterBottom:_36a>0,afterBottomHeight:_36a};_36b=this.onBeforeScroll(_368);}if(_36b){var s=(node||this.containerNode).style;if(has("css3-animations")){if(!this._useTopLeft){if(this._useTransformTransition){s[css3.name("transition")]="";}s[css3.name("transform")]=this.makeTranslateStr(to);}else{s[css3.name("transition")]="";if(this._v){s.top=to.y+"px";}if(this._h||this._f){s.left=to.x+"px";}}}else{if(this._v){s.top=to.y+"px";}if(this._h||this._f){s.left=to.x+"px";}}if(has("ios")){this._keepInputCaretInActiveElement();}if(!_367){this.scrollScrollBarTo(this.calcScrollBarPos(to));}if(_368){this.onAfterScroll(_368);}}},onBeforeScroll:function(e){return true;},onAfterScroll:function(e){},slideTo:function(to,_36c,_36d){this._runSlideAnimation(this.getPos(),to,_36c,_36d,this.containerNode,2);this.slideScrollBarTo(to,_36c,_36d);},makeTranslateStr:function(to){var y=this._v&&typeof to.y=="number"?to.y+"px":"0px";var x=(this._h||this._f)&&typeof to.x=="number"?to.x+"px":"0px";return has("translate3d")?"translate3d("+x+","+y+",0px)":"translate("+x+","+y+")";},getPos:function(){if(has("css3-animations")){var s=win.doc.defaultView.getComputedStyle(this.containerNode,"");if(!this._useTopLeft){var m=s[css3.name("transform")];if(m&&m.indexOf("matrix")===0){var arr=m.split(/[,\s\)]+/);var i=m.indexOf("matrix3d")===0?12:4;return {y:arr[i+1]-0,x:arr[i]-0};}return {x:0,y:0};}else{return {x:parseInt(s.left)||0,y:parseInt(s.top)||0};}}else{var y=parseInt(this.containerNode.style.top)||0;return {y:y,x:this.containerNode.offsetLeft};}},getDim:function(){var d={};d.c={h:this.containerNode.offsetHeight,w:this.containerNode.offsetWidth};d.v={h:this.domNode.offsetHeight+this._appFooterHeight,w:this.domNode.offsetWidth};d.d={h:d.v.h-this.fixedHeaderHeight-this.fixedFooterHeight-this._appFooterHeight,w:d.v.w};d.o={h:d.c.h-d.v.h+this.fixedHeaderHeight+this.fixedFooterHeight+this._appFooterHeight,w:d.c.w-d.v.w};return d;},showScrollBar:function(){if(!this.scrollBar){return;}var dim=this._dim;if(this.scrollDir=="v"&&dim.c.h<=dim.d.h){return;}if(this.scrollDir=="h"&&dim.c.w<=dim.d.w){return;}if(this._v&&this._h&&dim.c.h<=dim.d.h&&dim.c.w<=dim.d.w){return;}var _36e=function(self,dir){var bar=self["_scrollBarNode"+dir];if(!bar){var _36f=_344.create("div",null,self.domNode);var _370={position:"absolute",overflow:"hidden"};if(dir=="V"){_370.right="2px";_370.width="5px";}else{_370.bottom=(self.isLocalFooter?self.fixedFooterHeight:0)+2+"px";_370.height="5px";}_345.set(_36f,_370);_36f.className="mblScrollBarWrapper";self["_scrollBarWrapper"+dir]=_36f;bar=_344.create("div",null,_36f);_345.set(bar,css3.add({opacity:0.6,position:"absolute",backgroundColor:"#606060",fontSize:"1px",MozBorderRadius:"2px",zIndex:2147483647},{borderRadius:"2px",transformOrigin:"0 0"}));_345.set(bar,dir=="V"?{width:"5px"}:{height:"5px"});self["_scrollBarNode"+dir]=bar;}return bar;};if(this._v&&!this._scrollBarV){this._scrollBarV=_36e(this,"V");}if(this._h&&!this._scrollBarH){this._scrollBarH=_36e(this,"H");}this.resetScrollBar();},hideScrollBar:function(){if(this.fadeScrollBar&&has("css3-animations")){if(!dm._fadeRule){var node=_344.create("style",null,win.doc.getElementsByTagName("head")[0]);node.textContent=".mblScrollableFadeScrollBar{"+"  "+css3.name("animation-duration",true)+": 1s;"+"  "+css3.name("animation-name",true)+": scrollableViewFadeScrollBar;}"+"@"+css3.name("keyframes",true)+" scrollableViewFadeScrollBar{"+"  from { opacity: 0.6; }"+"  to { opacity: 0; }}";dm._fadeRule=node.sheet.cssRules[1];}}if(!this.scrollBar){return;}var f=function(bar,self){_345.set(bar,css3.add({opacity:0},{animationDuration:""}));if(!(self._useTopLeft&&has("android"))){bar.className="mblScrollableFadeScrollBar";}};if(this._scrollBarV){f(this._scrollBarV,this);this._scrollBarV=null;}if(this._scrollBarH){f(this._scrollBarH,this);this._scrollBarH=null;}},calcScrollBarPos:function(to){var pos={};var dim=this._dim;var f=function(_371,barH,t,d,c){var y=Math.round((d-barH-8)/(d-c)*t);if(y<-barH+5){y=-barH+5;}if(y>_371-5){y=_371-5;}return y;};if(typeof to.y=="number"&&this._scrollBarV){pos.y=f(this._scrollBarWrapperV.offsetHeight,this._scrollBarV.offsetHeight,to.y,dim.d.h,dim.c.h);}if(typeof to.x=="number"&&this._scrollBarH){pos.x=f(this._scrollBarWrapperH.offsetWidth,this._scrollBarH.offsetWidth,to.x,dim.d.w,dim.c.w);}return pos;},scrollScrollBarTo:function(to){if(!this.scrollBar){return;}if(this._v&&this._scrollBarV&&typeof to.y=="number"){if(has("css3-animations")){if(!this._useTopLeft){if(this._useTransformTransition){this._scrollBarV.style[css3.name("transition")]="";}this._scrollBarV.style[css3.name("transform")]=this.makeTranslateStr({y:to.y});}else{_345.set(this._scrollBarV,css3.add({top:to.y+"px"},{transition:""}));}}else{this._scrollBarV.style.top=to.y+"px";}}if(this._h&&this._scrollBarH&&typeof to.x=="number"){if(has("css3-animations")){if(!this._useTopLeft){if(this._useTransformTransition){this._scrollBarH.style[css3.name("transition")]="";}this._scrollBarH.style[css3.name("transform")]=this.makeTranslateStr({x:to.x});}else{_345.set(this._scrollBarH,css3.add({left:to.x+"px"},{transition:""}));}}else{this._scrollBarH.style.left=to.x+"px";}}},slideScrollBarTo:function(to,_372,_373){if(!this.scrollBar){return;}var _374=this.calcScrollBarPos(this.getPos());var _375=this.calcScrollBarPos(to);if(this._v&&this._scrollBarV){this._runSlideAnimation({y:_374.y},{y:_375.y},_372,_373,this._scrollBarV,0);}if(this._h&&this._scrollBarH){this._runSlideAnimation({x:_374.x},{x:_375.x},_372,_373,this._scrollBarH,1);}},_runSlideAnimation:function(from,to,_376,_377,node,idx){if(has("css3-animations")){if(!this._useTopLeft){if(this._useTransformTransition){if(to.x===undefined){to.x=from.x;}if(to.y===undefined){to.y=from.y;}if(to.x!==from.x||to.y!==from.y){_345.set(node,css3.add({},{transitionProperty:css3.name("transform"),transitionDuration:_376+"s",transitionTimingFunction:_377}));var t=this.makeTranslateStr(to);setTimeout(function(){_345.set(node,css3.add({},{transform:t}));},0);_343.add(node,"mblScrollableScrollTo"+idx);}else{this.hideScrollBar();this.removeCover();}}else{this.setKeyframes(from,to,idx);_345.set(node,css3.add({},{animationDuration:_376+"s",animationTimingFunction:_377}));_343.add(node,"mblScrollableScrollTo"+idx);if(idx==2){this.scrollTo(to,true,node);}else{this.scrollScrollBarTo(to);}}}else{_345.set(node,css3.add({},{transitionProperty:"top, left",transitionDuration:_376+"s",transitionTimingFunction:_377}));setTimeout(function(){_345.set(node,{top:(to.y||0)+"px",left:(to.x||0)+"px"});},0);_343.add(node,"mblScrollableScrollTo"+idx);}}else{if(dojo.fx&&dojo.fx.easing&&_376){var s=dojo.fx.slideTo({node:node,duration:_376*1000,left:to.x,top:to.y,easing:(_377=="ease-out")?dojo.fx.easing.quadOut:dojo.fx.easing.linear}).play();if(idx==2){_341.connect(s,"onEnd",this,"onFlickAnimationEnd");}}else{if(idx==2){this.scrollTo(to,false,node);this.onFlickAnimationEnd();}else{this.scrollScrollBarTo(to);}}}},resetScrollBar:function(){var f=function(_378,bar,d,c,hd,v){if(!bar){return;}var _379={};_379[v?"top":"left"]=hd+4+"px";var t=(d-8)<=0?1:d-8;_379[v?"height":"width"]=t+"px";_345.set(_378,_379);var l=Math.round(d*d/c);l=Math.min(Math.max(l-8,5),t);bar.style[v?"height":"width"]=l+"px";_345.set(bar,{"opacity":0.6});};var dim=this.getDim();f(this._scrollBarWrapperV,this._scrollBarV,dim.d.h,dim.c.h,this.fixedHeaderHeight,true);f(this._scrollBarWrapperH,this._scrollBarH,dim.d.w,dim.c.w,0);this.createMask();},createMask:function(){if(!(has("webkit")||has("svg"))){return;}if(this._scrollBarWrapperV){var h=this._scrollBarWrapperV.offsetHeight;_348.createRoundMask(this._scrollBarWrapperV,0,0,0,0,5,h,2,2,0.5);}if(this._scrollBarWrapperH){var w=this._scrollBarWrapperH.offsetWidth;_348.createRoundMask(this._scrollBarWrapperH,0,0,0,0,w,5,2,2,0.5);}},flashScrollBar:function(){if(this.disableFlashScrollBar||!this.domNode){return;}this._dim=this.getDim();if(this._dim.d.h<=0){return;}this.showScrollBar();var _37a=this;setTimeout(function(){_37a.hideScrollBar();},300);},addCover:function(){if(!has("touch")&&!this.noCover){if(!dm._cover){dm._cover=_344.create("div",null,win.doc.body);dm._cover.className="mblScrollableCover";_345.set(dm._cover,{backgroundColor:"#ffff00",opacity:0,position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",zIndex:2147483647});this._ch.push(_341.connect(dm._cover,_347.press,this,"onTouchEnd"));}else{dm._cover.style.display="";}this.setSelectable(dm._cover,false);this.setSelectable(this.domNode,false);}},removeCover:function(){if(!has("touch")&&dm._cover){dm._cover.style.display="none";this.setSelectable(dm._cover,true);this.setSelectable(this.domNode,true);}},setKeyframes:function(from,to,idx){if(!dm._rule){dm._rule=[];}if(!dm._rule[idx]){var node=_344.create("style",null,win.doc.getElementsByTagName("head")[0]);node.textContent=".mblScrollableScrollTo"+idx+"{"+css3.name("animation-name",true)+": scrollableViewScroll"+idx+";}"+"@"+css3.name("keyframes",true)+" scrollableViewScroll"+idx+"{}";dm._rule[idx]=node.sheet.cssRules[1];}var rule=dm._rule[idx];if(rule){if(from){rule.deleteRule(has("webkit")?"from":0);(rule.insertRule||rule.appendRule).call(rule,"from { "+css3.name("transform",true)+": "+this.makeTranslateStr(from)+"; }");}if(to){if(to.x===undefined){to.x=from.x;}if(to.y===undefined){to.y=from.y;}rule.deleteRule(has("webkit")?"to":1);(rule.insertRule||rule.appendRule).call(rule,"to { "+css3.name("transform",true)+": "+this.makeTranslateStr(to)+"; }");}}},setSelectable:function(node,_37b){node.style.KhtmlUserSelect=_37b?"auto":"none";node.style.MozUserSelect=_37b?"":"none";node.onselectstart=_37b?null:function(){return false;};if(has("ie")){node.unselectable=_37b?"":"on";var _37c=node.getElementsByTagName("*");for(var i=0;i<_37c.length;i++){_37c[i].unselectable=_37b?"":"on";}}}});lang.setObject("dojox.mobile.scrollable",_34a);return _34a;});},"dojo/data/ItemFileReadStore":function(){define(["../_base/kernel","../_base/lang","../_base/declare","../_base/array","../_base/xhr","../Evented","./util/filter","./util/simpleFetch","../date/stamp"],function(_37d,lang,_37e,_37f,xhr,_380,_381,_382,_383){var _384=_37e("dojo.data.ItemFileReadStore",[_380],{constructor:function(_385){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_385.url;this._ccUrl=_385.url;this.url=_385.url;this._jsonData=_385.data;this.data=null;this._datatypeMap=_385.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_386){return _383.fromISOString(_386);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_385.urlPreventCache!==undefined){this.urlPreventCache=_385.urlPreventCache?true:false;}if(_385.hierarchical!==undefined){this.hierarchical=_385.hierarchical?true:false;}if(_385.clearOnClose){this.clearOnClose=true;}if("failOk" in _385){this.failOk=_385.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error(this.declaredClass+": Invalid item argument.");}},_assertIsAttribute:function(_387){if(typeof _387!=="string"){throw new Error(this.declaredClass+": Invalid attribute argument.");}},getValue:function(item,_388,_389){var _38a=this.getValues(item,_388);return (_38a.length>0)?_38a[0]:_389;},getValues:function(item,_38b){this._assertIsItem(item);this._assertIsAttribute(_38b);return (item[_38b]||[]).slice(0);},getAttributes:function(item){this._assertIsItem(item);var _38c=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_38c.push(key);}}return _38c;},hasAttribute:function(item,_38d){this._assertIsItem(item);this._assertIsAttribute(_38d);return (_38d in item);},containsValue:function(item,_38e,_38f){var _390=undefined;if(typeof _38f==="string"){_390=_381.patternToRegExp(_38f,false);}return this._containsValue(item,_38e,_38f,_390);},_containsValue:function(item,_391,_392,_393){return _37f.some(this.getValues(item,_391),function(_394){if(_394!==null&&!lang.isObject(_394)&&_393){if(_394.toString().match(_393)){return true;}}else{if(_392===_394){return true;}}});},isItem:function(_395){if(_395&&_395[this._storeRefPropName]===this){if(this._arrayOfAllItems[_395[this._itemNumPropName]]===_395){return true;}}return false;},isItemLoaded:function(_396){return this.isItem(_396);},loadItem:function(_397){this._assertIsItem(_397.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},filter:function(_398,_399,_39a){var _39b=[],i,key;if(_398.query){var _39c,_39d=_398.queryOptions?_398.queryOptions.ignoreCase:false;var _39e={};for(key in _398.query){_39c=_398.query[key];if(typeof _39c==="string"){_39e[key]=_381.patternToRegExp(_39c,_39d);}else{if(_39c instanceof RegExp){_39e[key]=_39c;}}}for(i=0;i<_399.length;++i){var _39f=true;var _3a0=_399[i];if(_3a0===null){_39f=false;}else{for(key in _398.query){_39c=_398.query[key];if(!this._containsValue(_3a0,key,_39c,_39e[key])){_39f=false;}}}if(_39f){_39b.push(_3a0);}}_39a(_39b,_398);}else{for(i=0;i<_399.length;++i){var item=_399[i];if(item!==null){_39b.push(item);}}_39a(_39b,_398);}},_fetchItems:function(_3a1,_3a2,_3a3){var self=this;if(this._loadFinished){this.filter(_3a1,this._getItemsArray(_3a1.queryOptions),_3a2);}else{if(this._jsonFileUrl!==this._ccUrl){_37d.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_3a1,filter:lang.hitch(self,"filter"),findCallback:lang.hitch(self,_3a2)});}else{this._loadInProgress=true;var _3a4={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _3a5=xhr.get(_3a4);_3a5.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;self.filter(_3a1,self._getItemsArray(_3a1.queryOptions),_3a2);self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_3a3(e,_3a1);}});_3a5.addErrback(function(_3a6){self._loadInProgress=false;_3a3(_3a6,_3a1);});var _3a7=null;if(_3a1.abort){_3a7=_3a1.abort;}_3a1.abort=function(){var df=_3a5;if(df&&df.fired===-1){df.cancel();df=null;}if(_3a7){_3a7.call(_3a1);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;self.filter(_3a1,this._getItemsArray(_3a1.queryOptions),_3a2);}catch(e){_3a3(e,_3a1);}}else{_3a3(new Error(this.declaredClass+": No JSON source data was provided as either URL or a nested Javascript object."),_3a1);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _3a8=this._queuedFetches[i],_3a9=_3a8.args,_3aa=_3a8.filter,_3ab=_3a8.findCallback;if(_3aa){_3aa(_3a9,this._getItemsArray(_3a9.queryOptions),_3ab);}else{this.fetchItemByIdentity(_3a9);}}this._queuedFetches=[];}},_getItemsArray:function(_3ac){if(_3ac&&_3ac.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_3ad){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_3ae){var _3af=false,self=this;function _3b0(_3b1){return (_3b1!==null)&&(typeof _3b1==="object")&&(!lang.isArray(_3b1)||_3af)&&(!lang.isFunction(_3b1))&&(_3b1.constructor==Object||lang.isArray(_3b1))&&(typeof _3b1._reference==="undefined")&&(typeof _3b1._type==="undefined")&&(typeof _3b1._value==="undefined")&&self.hierarchical;};function _3b2(_3b3){self._arrayOfAllItems.push(_3b3);for(var _3b4 in _3b3){var _3b5=_3b3[_3b4];if(_3b5){if(lang.isArray(_3b5)){var _3b6=_3b5;for(var k=0;k<_3b6.length;++k){var _3b7=_3b6[k];if(_3b0(_3b7)){_3b2(_3b7);}}}else{if(_3b0(_3b5)){_3b2(_3b5);}}}}};this._labelAttr=_3ae.label;var i,item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_3ae.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];if(lang.isArray(item)){_3af=true;}_3b2(item);item[this._rootItemPropName]=true;}var _3b8={},key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _3b9=item[key];if(_3b9!==null){if(!lang.isArray(_3b9)){item[key]=[_3b9];}}else{item[key]=[null];}}_3b8[key]=key;}}while(_3b8[this._storeRefPropName]){this._storeRefPropName+="_";}while(_3b8[this._itemNumPropName]){this._itemNumPropName+="_";}while(_3b8[this._reverseRefMap]){this._reverseRefMap+="_";}var _3ba;var _3bb=_3ae.identifier;if(_3bb){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_3bb;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_3ba=item[_3bb];var _3bc=_3ba[0];if(!Object.hasOwnProperty.call(this._itemsByIdentity,_3bc)){this._itemsByIdentity[_3bc]=item;}else{if(this._jsonFileUrl){throw new Error(this.declaredClass+":  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_3bb+"].  Value collided: ["+_3bc+"]");}else{if(this._jsonData){throw new Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_3bb+"].  Value collided: ["+_3bc+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_3ba=item[key];for(var j=0;j<_3ba.length;++j){_3b9=_3ba[j];if(_3b9!==null&&typeof _3b9=="object"){if(("_type" in _3b9)&&("_value" in _3b9)){var type=_3b9._type;var _3bd=this._datatypeMap[type];if(!_3bd){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(lang.isFunction(_3bd)){_3ba[j]=new _3bd(_3b9._value);}else{if(lang.isFunction(_3bd.deserialize)){_3ba[j]=_3bd.deserialize(_3b9._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_3b9._reference){var _3be=_3b9._reference;if(!lang.isObject(_3be)){_3ba[j]=this._getItemByIdentity(_3be);}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _3bf=this._arrayOfAllItems[k],_3c0=true;for(var _3c1 in _3be){if(_3bf[_3c1]!=_3be[_3c1]){_3c0=false;}}if(_3c0){_3ba[j]=_3bf;}}}if(this.referenceIntegrity){var _3c2=_3ba[j];if(this.isItem(_3c2)){this._addReferenceToMap(_3c2,item,key);}}}else{if(this.isItem(_3b9)){if(this.referenceIntegrity){this._addReferenceToMap(_3b9,item,key);}}}}}}}},_addReferenceToMap:function(_3c3,_3c4,_3c5){},getIdentity:function(item){var _3c6=this._features["dojo.data.api.Identity"];if(_3c6===Number){return item[this._itemNumPropName];}else{var _3c7=item[_3c6];if(_3c7){return _3c7[0];}}return null;},fetchItemByIdentity:function(_3c8){var item,_3c9;if(!this._loadFinished){var self=this;if(this._jsonFileUrl!==this._ccUrl){_37d.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_3c8});}else{this._loadInProgress=true;var _3ca={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _3cb=xhr.get(_3ca);_3cb.addCallback(function(data){var _3cc=_3c8.scope?_3c8.scope:_37d.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;item=self._getItemByIdentity(_3c8.identity);if(_3c8.onItem){_3c8.onItem.call(_3cc,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_3c8.onError){_3c8.onError.call(_3cc,error);}}});_3cb.addErrback(function(_3cd){self._loadInProgress=false;if(_3c8.onError){var _3ce=_3c8.scope?_3c8.scope:_37d.global;_3c8.onError.call(_3ce,_3cd);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;item=self._getItemByIdentity(_3c8.identity);if(_3c8.onItem){_3c9=_3c8.scope?_3c8.scope:_37d.global;_3c8.onItem.call(_3c9,item);}}}}else{item=this._getItemByIdentity(_3c8.identity);if(_3c8.onItem){_3c9=_3c8.scope?_3c8.scope:_37d.global;_3c8.onItem.call(_3c9,item);}}},_getItemByIdentity:function(_3cf){var item=null;if(this._itemsByIdentity){if(Object.hasOwnProperty.call(this._itemsByIdentity,_3cf)){item=this._itemsByIdentity[_3cf];}}else{if(Object.hasOwnProperty.call(this._arrayOfAllItems,_3cf)){item=this._arrayOfAllItems[_3cf];}}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _3d0=this._features["dojo.data.api.Identity"];if(_3d0===Number){return null;}else{return [_3d0];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl!==this._ccUrl){_37d.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _3d1={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _3d2=xhr.get(_3d1);_3d2.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){throw e;}});_3d2.addErrback(function(_3d3){throw _3d3;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});lang.extend(_384,_382);return _384;});},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(lang){var _3d4={};lang.setObject("dojo.data.util.filter",_3d4);_3d4.patternToRegExp=function(_3d5,_3d6){var rxp="^";var c=null;for(var i=0;i<_3d5.length;i++){c=_3d5.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_3d5.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_3d6){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};return _3d4;});},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(lang,_3d7,_3d8){var _3d9={};lang.setObject("dojo.data.util.simpleFetch",_3d9);_3d9.errorHandler=function(_3da,_3db){if(_3db.onError){var _3dc=_3db.scope||_3d7.global;_3db.onError.call(_3dc,_3da,_3db);}};_3d9.fetchHandler=function(_3dd,_3de){var _3df=_3de.abort||null,_3e0=false,_3e1=_3de.start?_3de.start:0,_3e2=(_3de.count&&(_3de.count!==Infinity))?(_3e1+_3de.count):_3dd.length;_3de.abort=function(){_3e0=true;if(_3df){_3df.call(_3de);}};var _3e3=_3de.scope||_3d7.global;if(!_3de.store){_3de.store=this;}if(_3de.onBegin){_3de.onBegin.call(_3e3,_3dd.length,_3de);}if(_3de.sort){_3dd.sort(_3d8.createSortFunction(_3de.sort,this));}if(_3de.onItem){for(var i=_3e1;(i<_3dd.length)&&(i<_3e2);++i){var item=_3dd[i];if(!_3e0){_3de.onItem.call(_3e3,item,_3de);}}}if(_3de.onComplete&&!_3e0){var _3e4=null;if(!_3de.onItem){_3e4=_3dd.slice(_3e1,_3e2);}_3de.onComplete.call(_3e3,_3e4,_3de);}};_3d9.fetch=function(_3e5){_3e5=_3e5||{};if(!_3e5.store){_3e5.store=this;}this._fetchItems(_3e5,lang.hitch(this,"fetchHandler"),lang.hitch(this,"errorHandler"));return _3e5;};return _3d9;});},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(lang){var _3e6={};lang.setObject("dojo.data.util.sorter",_3e6);_3e6.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};_3e6.createSortFunction=function(_3e7,_3e8){var _3e9=[];function _3ea(attr,dir,comp,s){return function(_3eb,_3ec){var a=s.getValue(_3eb,attr);var b=s.getValue(_3ec,attr);return dir*comp(a,b);};};var _3ed;var map=_3e8.comparatorMap;var bc=_3e6.basicComparator;for(var i=0;i<_3e7.length;i++){_3ed=_3e7[i];var attr=_3ed.attribute;if(attr){var dir=(_3ed.descending)?-1:1;var comp=bc;if(map){if(typeof attr!=="string"&&("toString" in attr)){attr=attr.toString();}comp=map[attr]||bc;}_3e9.push(_3ea(attr,dir,comp,_3e8));}}return function(rowA,rowB){var i=0;while(i<_3e9.length){var ret=_3e9[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};return _3e6;});},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(lang,_3ee){var _3ef={};lang.setObject("dojo.date.stamp",_3ef);_3ef.fromISOString=function(_3f0,_3f1){if(!_3ef._isoRegExp){_3ef._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _3f2=_3ef._isoRegExp.exec(_3f0),_3f3=null;if(_3f2){_3f2.shift();if(_3f2[1]){_3f2[1]--;}if(_3f2[6]){_3f2[6]*=1000;}if(_3f1){_3f1=new Date(_3f1);_3ee.forEach(_3ee.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _3f1["get"+prop]();}),function(_3f4,_3f5){_3f2[_3f5]=_3f2[_3f5]||_3f4;});}_3f3=new Date(_3f2[0]||1970,_3f2[1]||0,_3f2[2]||1,_3f2[3]||0,_3f2[4]||0,_3f2[5]||0,_3f2[6]||0);if(_3f2[0]<100){_3f3.setFullYear(_3f2[0]||1970);}var _3f6=0,_3f7=_3f2[7]&&_3f2[7].charAt(0);if(_3f7!="Z"){_3f6=((_3f2[8]||0)*60)+(Number(_3f2[9])||0);if(_3f7!="-"){_3f6*=-1;}}if(_3f7){_3f6-=_3f3.getTimezoneOffset();}if(_3f6){_3f3.setTime(_3f3.getTime()+_3f6*60000);}}return _3f3;};_3ef.toISOString=function(_3f8,_3f9){var _3fa=function(n){return (n<10)?"0"+n:n;};_3f9=_3f9||{};var _3fb=[],_3fc=_3f9.zulu?"getUTC":"get",date="";if(_3f9.selector!="time"){var year=_3f8[_3fc+"FullYear"]();date=["0000".substr((year+"").length)+year,_3fa(_3f8[_3fc+"Month"]()+1),_3fa(_3f8[_3fc+"Date"]())].join("-");}_3fb.push(date);if(_3f9.selector!="date"){var time=[_3fa(_3f8[_3fc+"Hours"]()),_3fa(_3f8[_3fc+"Minutes"]()),_3fa(_3f8[_3fc+"Seconds"]())].join(":");var _3fd=_3f8[_3fc+"Milliseconds"]();if(_3f9.milliseconds){time+="."+(_3fd<100?"0":"")+_3fa(_3fd);}if(_3f9.zulu){time+="Z";}else{if(_3f9.selector!="time"){var _3fe=_3f8.getTimezoneOffset();var _3ff=Math.abs(_3fe);time+=(_3fe>0?"-":"+")+_3fa(Math.floor(_3ff/60))+":"+_3fa(_3ff%60);}}_3fb.push(time);}return _3fb.join("T");};return _3ef;});},"dojox/data/CsvStore":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/xhr","dojo/_base/kernel","dojo/data/util/filter","dojo/data/util/simpleFetch"],function(lang,_400,xhr,_401,_402,_403){var _404=_400("dojox.data.CsvStore",null,{constructor:function(_405){this._attributes=[];this._attributeIndexes={};this._dataArray=[];this._arrayOfAllItems=[];this._loadFinished=false;if(_405.url){this.url=_405.url;}this._csvData=_405.data;if(_405.label){this.label=_405.label;}else{if(this.label===""){this.label=undefined;}}this._storeProp="_csvStore";this._idProp="_csvId";this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._loadInProgress=false;this._queuedFetches=[];this.identifier=_405.identifier;if(this.identifier===""){delete this.identifier;}else{this._idMap={};}if("separator" in _405){this.separator=_405.separator;}if("urlPreventCache" in _405){this.urlPreventCache=_405.urlPreventCache?true:false;}},url:"",label:"",identifier:"",separator:",",urlPreventCache:false,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error(this.declaredClass+": a function was passed an item argument that was not an item");}},_getIndex:function(item){var idx=this.getIdentity(item);if(this.identifier){idx=this._idMap[idx];}return idx;},getValue:function(item,_406,_407){this._assertIsItem(item);var _408=_407;if(typeof _406==="string"){var ai=this._attributeIndexes[_406];if(ai!=null){var _409=this._dataArray[this._getIndex(item)];_408=_409[ai]||_407;}}else{throw new Error(this.declaredClass+": a function was passed an attribute argument that was not a string");}return _408;},getValues:function(item,_40a){var _40b=this.getValue(item,_40a);return (_40b?[_40b]:[]);},getAttributes:function(item){this._assertIsItem(item);var _40c=[];var _40d=this._dataArray[this._getIndex(item)];for(var i=0;i<_40d.length;i++){if(_40d[i]!==""){_40c.push(this._attributes[i]);}}return _40c;},hasAttribute:function(item,_40e){this._assertIsItem(item);if(typeof _40e==="string"){var _40f=this._attributeIndexes[_40e];var _410=this._dataArray[this._getIndex(item)];return (typeof _40f!=="undefined"&&_40f<_410.length&&_410[_40f]!=="");}else{throw new Error(this.declaredClass+": a function was passed an attribute argument that was not a string");}},containsValue:function(item,_411,_412){var _413=undefined;if(typeof _412==="string"){_413=_402.patternToRegExp(_412,false);}return this._containsValue(item,_411,_412,_413);},_containsValue:function(item,_414,_415,_416){var _417=this.getValues(item,_414);for(var i=0;i<_417.length;++i){var _418=_417[i];if(typeof _418==="string"&&_416){return (_418.match(_416)!==null);}else{if(_415===_418){return true;}}}return false;},isItem:function(_419){if(_419&&_419[this._storeProp]===this){var _41a=_419[this._idProp];if(this.identifier){var data=this._dataArray[this._idMap[_41a]];if(data){return true;}}else{if(_41a>=0&&_41a<this._dataArray.length){return true;}}}return false;},isItemLoaded:function(_41b){return this.isItem(_41b);},loadItem:function(item){},getFeatures:function(){return this._features;},getLabel:function(item){if(this.label&&this.isItem(item)){return this.getValue(item,this.label);}return undefined;},getLabelAttributes:function(item){if(this.label){return [this.label];}return null;},_fetchItems:function(_41c,_41d,_41e){var self=this;var _41f=function(_420,_421){var _422=null;if(_420.query){var key,_423;_422=[];var _424=_420.queryOptions?_420.queryOptions.ignoreCase:false;var _425={};for(key in _420.query){_423=_420.query[key];if(typeof _423==="string"){_425[key]=_402.patternToRegExp(_423,_424);}}for(var i=0;i<_421.length;++i){var _426=true;var _427=_421[i];for(key in _420.query){_423=_420.query[key];if(!self._containsValue(_427,key,_423,_425[key])){_426=false;}}if(_426){_422.push(_427);}}}else{_422=_421.slice(0,_421.length);}_41d(_422,_420);};if(this._loadFinished){_41f(_41c,this._arrayOfAllItems);}else{if(this.url!==""){if(this._loadInProgress){this._queuedFetches.push({args:_41c,filter:_41f});}else{this._loadInProgress=true;var _428={url:self.url,handleAs:"text",preventCache:self.urlPreventCache};var _429=xhr.get(_428);_429.addCallback(function(data){try{self._processData(data);_41f(_41c,self._arrayOfAllItems);self._handleQueuedFetches();}catch(e){_41e(e,_41c);}});_429.addErrback(function(_42a){self._loadInProgress=false;if(_41e){_41e(_42a,_41c);}else{throw _42a;}});var _42b=null;if(_41c.abort){_42b=_41c.abort;}_41c.abort=function(){var df=_429;if(df&&df.fired===-1){df.cancel();df=null;}if(_42b){_42b.call(_41c);}};}}else{if(this._csvData){try{this._processData(this._csvData);this._csvData=null;_41f(_41c,this._arrayOfAllItems);}catch(e){_41e(e,_41c);}}else{var _42c=new Error(this.declaredClass+": No CSV source data was provided as either URL or String data input.");if(_41e){_41e(_42c,_41c);}else{throw _42c;}}}}},close:function(_42d){},_getArrayOfArraysFromCsvFileContents:function(_42e){if(lang.isString(_42e)){var _42f=new RegExp("^\\s+","g");var _430=new RegExp("\\s+$","g");var _431=new RegExp("\"\"","g");var _432=[];var i;var _433=this._splitLines(_42e);for(i=0;i<_433.length;++i){var _434=_433[i];if(_434.length>0){var _435=_434.split(this.separator);var j=0;while(j<_435.length){var _436=_435[j];var _437=_436.replace(_42f,"");var _438=_437.replace(_430,"");var _439=_438.charAt(0);var _43a=_438.charAt(_438.length-1);var _43b=_438.charAt(_438.length-2);var _43c=_438.charAt(_438.length-3);if(_438.length===2&&_438=="\"\""){_435[j]="";}else{if((_439=="\"")&&((_43a!="\"")||((_43a=="\"")&&(_43b=="\"")&&(_43c!="\"")))){if(j+1===_435.length){return;}var _43d=_435[j+1];_435[j]=_437+this.separator+_43d;_435.splice(j+1,1);}else{if((_439=="\"")&&(_43a=="\"")){_438=_438.slice(1,(_438.length-1));_438=_438.replace(_431,"\"");}_435[j]=_438;j+=1;}}}_432.push(_435);}}this._attributes=_432.shift();for(i=0;i<this._attributes.length;i++){this._attributeIndexes[this._attributes[i]]=i;}this._dataArray=_432;}},_splitLines:function(_43e){var _43f=[];var i;var line="";var _440=false;for(i=0;i<_43e.length;i++){var c=_43e.charAt(i);switch(c){case "\"":_440=!_440;line+=c;break;case "\r":if(_440){line+=c;}else{_43f.push(line);line="";if(i<(_43e.length-1)&&_43e.charAt(i+1)=="\n"){i++;}}break;case "\n":if(_440){line+=c;}else{_43f.push(line);line="";}break;default:line+=c;}}if(line!==""){_43f.push(line);}return _43f;},_processData:function(data){this._getArrayOfArraysFromCsvFileContents(data);this._arrayOfAllItems=[];if(this.identifier){if(this._attributeIndexes[this.identifier]===undefined){throw new Error(this.declaredClass+": Identity specified is not a column header in the data set.");}}for(var i=0;i<this._dataArray.length;i++){var id=i;if(this.identifier){var _441=this._dataArray[i];id=_441[this._attributeIndexes[this.identifier]];this._idMap[id]=i;}this._arrayOfAllItems.push(this._createItemFromIdentity(id));}this._loadFinished=true;this._loadInProgress=false;},_createItemFromIdentity:function(_442){var item={};item[this._storeProp]=this;item[this._idProp]=_442;return item;},getIdentity:function(item){if(this.isItem(item)){return item[this._idProp];}return null;},fetchItemByIdentity:function(_443){var item;var _444=_443.scope?_443.scope:_401.global;if(!this._loadFinished){var self=this;if(this.url!==""){if(this._loadInProgress){this._queuedFetches.push({args:_443});}else{this._loadInProgress=true;var _445={url:self.url,handleAs:"text"};var _446=xhr.get(_445);_446.addCallback(function(data){try{self._processData(data);var item=self._createItemFromIdentity(_443.identity);if(!self.isItem(item)){item=null;}if(_443.onItem){_443.onItem.call(_444,item);}self._handleQueuedFetches();}catch(error){if(_443.onError){_443.onError.call(_444,error);}}});_446.addErrback(function(_447){this._loadInProgress=false;if(_443.onError){_443.onError.call(_444,_447);}});}}else{if(this._csvData){try{self._processData(self._csvData);self._csvData=null;item=self._createItemFromIdentity(_443.identity);if(!self.isItem(item)){item=null;}if(_443.onItem){_443.onItem.call(_444,item);}}catch(e){if(_443.onError){_443.onError.call(_444,e);}}}}}else{item=this._createItemFromIdentity(_443.identity);if(!this.isItem(item)){item=null;}if(_443.onItem){_443.onItem.call(_444,item);}}},getIdentityAttributes:function(item){if(this.identifier){return [this.identifier];}else{return null;}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _448=this._queuedFetches[i];var _449=_448.filter;var _44a=_448.args;if(_449){_449(_44a,this._arrayOfAllItems);}else{this.fetchItemByIdentity(_448.args);}}this._queuedFetches=[];}}});lang.extend(_404,_403);return _404;});},"dojox/geo/charting/widget/Map":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/html","dojo/dom-geometry","dijit/_Widget","../Map"],function(dojo,lang,_44b,html,_44c,_44d,Map){return _44b("dojox.geo.charting.widget.Map",_44d,{shapeData:"",dataStore:null,dataBindingAttribute:"",dataBindingValueFunction:null,markerData:"",series:"",adjustMapCenterOnResize:null,adjustMapScaleOnResize:null,animateOnResize:null,onFeatureClick:null,onFeatureOver:null,enableMouseSupport:null,enableTouchSupport:null,enableMouseZoom:null,enableMousePan:null,enableKeyboardSupport:false,showTooltips:false,enableFeatureZoom:null,colorAnimationDuration:0,mouseClickThreshold:2,_mouseInteractionSupport:null,_touchInteractionSupport:null,_keyboardInteractionSupport:null,constructor:function(_44e,div){this.map=null;},startup:function(){this.inherited(arguments);if(this.map){this.map.fitToMapContents();}},postMixInProperties:function(){this.inherited(arguments);},create:function(_44f,_450){this.inherited(arguments);},getInnerMap:function(){return this.map;},buildRendering:function(){this.inherited(arguments);if(this.shapeData){this.map=new Map(this.domNode,this.shapeData);if(this.markerData&&(this.markerData.length>0)){this.map.setMarkerData(this.markerData);}if(this.dataStore){if(this.dataBindingValueFunction){this.map.setDataBindingValueFunction(this.dataBindingValueFunction);}this.map.setDataStore(this.dataStore,this.dataBindingAttribute);}if(this.series&&(this.series.length>0)){this.map.addSeries(this.series);}if(this.onFeatureClick){this.map.onFeatureClick=this.onFeatureClick;}if(this.onFeatureOver){this.map.onFeatureOver=this.onFeatureOver;}if(this.enableMouseSupport){if(!dojox.geo.charting.MouseInteractionSupport){throw Error("Can't find dojox.geo.charting.MouseInteractionSupport. Didn't you forget to dojo"+".require() it?");}var _451={};_451.enablePan=this.enableMousePan;_451.enableZoom=this.enableMouseZoom;_451.mouseClickThreshold=this.mouseClickThreshold;this._mouseInteractionSupport=new dojox.geo.charting.MouseInteractionSupport(this.map,_451);this._mouseInteractionSupport.connect();}if(this.enableTouchSupport){if(!dojox.geo.charting.TouchInteractionSupport){throw Error("Can't find dojox.geo.charting.TouchInteractionSupport. Didn't you forget to dojo"+".require() it?");}this._touchInteractionSupport=new dojox.geo.charting.TouchInteractionSupport(this.map,{});this._touchInteractionSupport.connect();}if(this.enableKeyboardSupport){if(!dojox.geo.charting.KeyboardInteractionSupport){throw Error("Can't find dojox.geo.charting.KeyboardInteractionSupport. Didn't you forget to dojo"+".require() it?");}this._keyboardInteractionSupport=new dojox.geo.charting.KeyboardInteractionSupport(this.map,{});this._keyboardInteractionSupport.connect();}this.map.showTooltips=this.showTooltips;this.map.enableFeatureZoom=this.enableFeatureZoom;this.map.colorAnimationDuration=this.colorAnimationDuration;}},resize:function(b,_452){var box;switch(arguments.length){case 0:break;case 1:box=lang.mixin({},b);_44c.setMarginBox(this.domNode,box);break;case 2:box={w:arguments[0],h:arguments[1]};_44c.setMarginBox(this.domNode,box);break;}if(this.map){this.map.resize(this.adjustMapCenterOnResize,this.adjustMapScaleOnResize,this.animateOnResize);}}});});},"dijit/_Widget":function(){define(["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_453,_454,_455,_456,has,_457,lang,_458,_459,_45a,_45b,_45c,_45d){function _45e(){};function _45f(_460){return function(obj,_461,_462,_463){if(obj&&typeof _461=="string"&&obj[_461]==_45e){return obj.on(_461.substring(2).toLowerCase(),lang.hitch(_462,_463));}return _460.apply(_455,arguments);};};_453.around(_455,"connect",_45f);if(_457.connect){_453.around(_457,"connect",_45f);}var _464=_456("dijit._Widget",[_45b,_45c,_45d],{onClick:_45e,onDblClick:_45e,onKeyDown:_45e,onKeyPress:_45e,onKeyUp:_45e,onMouseDown:_45e,onMouseMove:_45e,onMouseOut:_45e,onMouseOver:_45e,onMouseLeave:_45e,onMouseEnter:_45e,onMouseUp:_45e,constructor:function(_465){this._toConnect={};for(var name in _465){if(this[name]===_45e){this._toConnect[name.replace(/^on/,"").toLowerCase()]=_465[name];delete _465[name];}}},postCreate:function(){this.inherited(arguments);for(var name in this._toConnect){this.on(name,this._toConnect[name]);}delete this._toConnect;},on:function(type,func){if(this[this._onMap(type)]===_45e){return _455.connect(this.domNode,type.toLowerCase(),this,func);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(attr,_466){_457.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_466);},attr:function(name,_467){var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},getDescendants:function(){_457.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_458("[widgetId]",this.containerNode).map(_45a.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_459(0,function(){var _468=["dijit/_base"];require(_468);});}return _464;});},"dijit/_OnDijitClickMixin":function(){define(["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(on,_469,keys,_46a,has,_46b){var ret=_46a("dijit._OnDijitClickMixin",null,{connect:function(obj,_46c,_46d){return this.inherited(arguments,[obj,_46c=="ondijitclick"?_46b:_46c,_46d]);}});ret.a11yclick=_46b;return ret;});},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(keys,_46e,on,_46f){function _470(e){if((e.keyCode===keys.ENTER||e.keyCode===keys.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName)){for(var node=e.target;node;node=node.parentNode){if(node.dojoClick){return true;}}}};var _471;on(document,"keydown",function(e){if(_470(e)){_471=e.target;e.preventDefault();}else{_471=null;}});on(document,"keyup",function(e){if(_470(e)&&e.target==_471){_471=null;on.emit(e.target,"click",{cancelable:true,bubbles:true,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type});}});var _472=function(node,_473){node.dojoClick=true;return on(node,"click",_473);};_472.click=_472;_472.press=function(node,_474){var _475=on(node,_46f.press,function(evt){if(evt.type=="mousedown"&&!_46e.isLeft(evt)){return;}_474(evt);}),_476=on(node,"keydown",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_474(evt);}});return {remove:function(){_475.remove();_476.remove();}};};_472.release=function(node,_477){var _478=on(node,_46f.release,function(evt){if(evt.type=="mouseup"&&!_46e.isLeft(evt)){return;}_477(evt);}),_479=on(node,"keyup",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_477(evt);}});return {remove:function(){_478.remove();_479.remove();}};};_472.move=_46f.move;return _472;});},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_47a,_47b,_47c,lang){lang.extend(_47b,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _47c("dijit._FocusMixin",null,{_focusManager:_47a});});},"dijit/focus":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_47d,_47e,dom,_47f,_480,_481,_482,lang,on,_483,has,_484,win,_485,a11y,_486,_487){var _488;var _489=_47e([_484,_482],{curNode:null,activeStack:[],constructor:function(){var _48a=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_47d.before(_481,"empty",_48a);_47d.before(_481,"destroy",_48a);},registerIframe:function(_48b){return this.registerWin(_48b.contentWindow,_48b);},registerWin:function(_48c,_48d){var _48e=this,body=_48c.document&&_48c.document.body;if(body){var mdh=on(_48c.document,"mousedown, touchstart",function(evt){_48e._justMouseDowned=true;setTimeout(function(){_48e._justMouseDowned=false;},0);if(evt&&evt.target&&evt.target.parentNode==null){return;}_48e._onTouchNode(_48d||evt.target,"mouse");});var fih=on(body,"focusin",function(evt){_488=(new Date()).getTime();if(!evt.target.tagName){return;}var tag=evt.target.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isFocusable(evt.target)){_48e._onFocusNode(_48d||evt.target);}else{_48e._onTouchNode(_48d||evt.target);}});var foh=on(body,"focusout",function(evt){if((new Date()).getTime()<_488+100){return;}_48e._onBlurNode(_48d||evt.target);});return {remove:function(){mdh.remove();fih.remove();foh.remove();mdh=fih=foh=null;body=null;}};}},_onBlurNode:function(node){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(lang.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(node,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}if(_480.contains(node,"dijitPopup")){node=node.firstChild;}var _48f=[];try{while(node){var _490=_47f.get(node,"dijitPopupParent");if(_490){node=_486.byId(_490).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_485.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_491=id&&_486.byId(id);if(_491&&!(by=="mouse"&&_491.get("disabled"))){_48f.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_48f,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",node);},_setStack:function(_492,by){var _493=this.activeStack,_494=_493.length-1,_495=_492.length-1;if(_492[_495]==_493[_494]){return;}this.set("activeStack",_492);var _496,i;for(i=_494;i>=0&&_493[i]!=_492[i];i--){_496=_486.byId(_493[i]);if(_496){_496._hasBeenBlurred=true;_496.set("focused",false);if(_496._focusManager==this){_496._onBlur(by);}this.emit("widget-blur",_496,by);}}for(i++;i<=_495;i++){_496=_486.byId(_492[i]);if(_496){_496.set("focused",true);if(_496._focusManager==this){_496._onFocus(by);}this.emit("widget-focus",_496,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _497=new _489();_483(function(){var _498=_497.registerWin(_485.get(document));if(has("ie")){on(window,"unload",function(){if(_498){_498.remove();_498=null;}});}});_487.focus=function(node){_497.focus(node);};for(var attr in _497){if(!/^_/.test(attr)){_487.focus[attr]=typeof _497[attr]=="function"?lang.hitch(_497,attr):_497[attr];}}_497.watch(function(attr,_499,_49a){_487.focus[attr]=_49a;});return _497;});},"dojo/window":function(){define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(lang,has,_49b,dom,geom,_49c,_49d){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var body=_49b.body(doc),_49e=_49d.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_49d.create("div",{style:{overflow:"hidden",direction:"ltr"}},_49e,"last"),ret=geom.position(div).x!=0;_49e.removeChild(div);body.removeChild(_49e);return ret;});has.add("position-fixed-support",function(win,doc){var body=_49b.body(doc),_49f=_49d.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_4a0=_49d.create("span",{style:{position:"fixed",left:"0",top:"0"}},_49f,"last"),ret=geom.position(_4a0).x!=geom.position(_49f).x;_49f.removeChild(_4a0);body.removeChild(_49f);return ret;});var _4a1={getBox:function(doc){doc=doc||_49b.doc;var _4a2=(doc.compatMode=="BackCompat")?_49b.body(doc):doc.documentElement,_4a3=geom.docScroll(doc),w,h;if(has("touch")){var _4a4=_4a1.get(doc);w=_4a4.innerWidth||_4a2.clientWidth;h=_4a4.innerHeight||_4a2.clientHeight;}else{w=_4a2.clientWidth;h=_4a2.clientHeight;}return {l:_4a3.x,t:_4a3.y,w:w,h:h};},get:function(doc){if(has("ie")<9&&_4a1!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_49b.doc,body=_49b.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if(node==body||node==html){return;}if(!(has("mozilla")||isIE||isWK||has("opera"))&&("scrollIntoView" in node)){node.scrollIntoView(false);return;}var _4a5=doc.compatMode=="BackCompat",_4a6=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_4a7=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_4a8=(isWK||_4a5)?body:html,_4a9=pos||geom.position(node),el=node.parentNode,_4aa=function(el){return (isIE<=6||(isIE==7&&_4a5))?false:(has("position-fixed-support")&&(_49c.get(el,"position").toLowerCase()=="fixed"));};if(_4aa(node)){return;}while(el){if(el==body){el=_4a8;}var _4ab=geom.position(el),_4ac=_4aa(el),rtl=_49c.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_4a8){_4ab.w=_4a6;_4ab.h=_4a7;if(_4a8==html&&isIE&&rtl){_4ab.x+=_4a8.offsetWidth-_4ab.w;}if(_4ab.x<0||!isIE||isIE>=9){_4ab.x=0;}if(_4ab.y<0||!isIE||isIE>=9){_4ab.y=0;}}else{var pb=geom.getPadBorderExtents(el);_4ab.w-=pb.w;_4ab.h-=pb.h;_4ab.x+=pb.l;_4ab.y+=pb.t;var _4ad=el.clientWidth,_4ae=_4ab.w-_4ad;if(_4ad>0&&_4ae>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_4ab.x+=_4ae;}_4ab.w=_4ad;}_4ad=el.clientHeight;_4ae=_4ab.h-_4ad;if(_4ad>0&&_4ae>0){_4ab.h=_4ad;}}if(_4ac){if(_4ab.y<0){_4ab.h+=_4ab.y;_4ab.y=0;}if(_4ab.x<0){_4ab.w+=_4ab.x;_4ab.x=0;}if(_4ab.y+_4ab.h>_4a7){_4ab.h=_4a7-_4ab.y;}if(_4ab.x+_4ab.w>_4a6){_4ab.w=_4a6-_4ab.x;}}var l=_4a9.x-_4ab.x,t=_4a9.y-_4ab.y,r=l+_4a9.w-_4ab.w,bot=t+_4a9.h-_4ab.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_4a8||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_4a5)||isIE>=9)){s=-s;}old=el.scrollLeft;el.scrollLeft+=s;s=el.scrollLeft-old;_4a9.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_4a8||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;el.scrollTop+=s;s=el.scrollTop-old;_4a9.y-=s;}el=(el!=_4a8)&&!_4ac&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_4a1);return _4a1;});},"dijit/a11y":function(){define(["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_4af,dom,_4b0,_4b1,lang,has,_4b2){var _4b3;var a11y={_isElementShown:function(elem){var s=_4b1.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_4b0.get(elem,"type")!="hidden");},hasDefaultTabStop:function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _4b0.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _4b4=elem.contentDocument;if("designMode" in _4b4&&_4b4.designMode=="on"){return true;}body=_4b4.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}},effectiveTabIndex:function(elem){if(_4b0.get(elem,"disabled")){return _4b3;}else{if(_4b0.has(elem,"tabIndex")){return +_4b0.get(elem,"tabIndex");}else{return a11y.hasDefaultTabStop(elem)?0:_4b3;}}},isTabNavigable:function(elem){return a11y.effectiveTabIndex(elem)>=0;},isFocusable:function(elem){return a11y.effectiveTabIndex(elem)>=-1;},_getTabNavigable:function(root){var _4b5,last,_4b6,_4b7,_4b8,_4b9,_4ba={};function _4bb(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _4bc=a11y._isElementShown,_4bd=a11y.effectiveTabIndex;var _4be=function(_4bf){for(var _4c0=_4bf.firstChild;_4c0;_4c0=_4c0.nextSibling){if(_4c0.nodeType!=1||(has("ie")<=9&&_4c0.scopeName!=="HTML")||!_4bc(_4c0)){continue;}var _4c1=_4bd(_4c0);if(_4c1>=0){if(_4c1==0){if(!_4b5){_4b5=_4c0;}last=_4c0;}else{if(_4c1>0){if(!_4b6||_4c1<_4b7){_4b7=_4c1;_4b6=_4c0;}if(!_4b8||_4c1>=_4b9){_4b9=_4c1;_4b8=_4c0;}}}var rn=_4bb(_4c0);if(_4b0.get(_4c0,"checked")&&rn){_4ba[rn]=_4c0;}}if(_4c0.nodeName.toUpperCase()!="SELECT"){_4be(_4c0);}}};if(_4bc(root)){_4be(root);}function rs(node){return _4ba[_4bb(node)]||node;};return {first:rs(_4b5),last:rs(last),lowest:rs(_4b6),highest:rs(_4b8)};},getFirstInTabbingOrder:function(root,doc){var _4c2=a11y._getTabNavigable(dom.byId(root,doc));return _4c2.lowest?_4c2.lowest:_4c2.first;},getLastInTabbingOrder:function(root,doc){var _4c3=a11y._getTabNavigable(dom.byId(root,doc));return _4c3.last?_4c3.last:_4c3.highest;}};1&&lang.mixin(_4b2,a11y);return a11y;});},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(_4c4,lang,_4c5,has,_4c6){var html=_4c6.doc.documentElement,ie=has("ie"),_4c7=has("opera"),maj=Math.floor,ff=has("ff"),_4c8=_4c4.boxModel.replace(/-/,""),_4c9={"dj_quirks":has("quirks"),"dj_opera":_4c7,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ios":has("ios"),"dj_android":has("android")};if(ie){_4c9["dj_ie"]=true;_4c9["dj_ie"+maj(ie)]=true;_4c9["dj_iequirks"]=has("quirks");}if(ff){_4c9["dj_ff"+maj(ff)]=true;}_4c9["dj_"+_4c8]=true;var _4ca="";for(var clz in _4c9){if(_4c9[clz]){_4ca+=clz+" ";}}html.className=lang.trim(html.className+" "+_4ca);_4c5(function(){if(!_4c4.isBodyLtr()){var _4cb="dj_rtl dijitRtl "+_4ca.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_4cb+"dj_rtl dijitRtl "+_4ca.replace(/ /g,"-rtl "));}});return has;});},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(_4cc,has,_4cd,win){_4cd(function(){if(has("highcontrast")){_4cc.add(win.body(),"dijit_a11y");}});return has;});},"dojo/hccss":function(){define(["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(_4ce,_4cf,_4d0,_4d1,has,_4d2,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url(\""+(_4cf.blankGif||_4ce.toUrl("./resources/blank.gif"))+"\");";win.body().appendChild(div);var cs=_4d1.getComputedStyle(div),_4d3=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_4d3&&(_4d3=="none"||_4d3=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_4d2(function(){if(has("highcontrast")){_4d0.add(win.body(),"dj_a11y");}});return has;});},"dojox/geo/charting/Map":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/html","dojo/dom","dojo/dom-geometry","dojo/dom-class","dojo/_base/xhr","dojo/_base/connect","dojo/_base/window","dojox/gfx","./_base","./Feature","./_Marker","dojo/number","dojo/_base/sniff"],function(lang,arr,_4d4,html,dom,_4d5,_4d6,xhr,_4d7,win,gfx,base,_4d8,_4d9,_4da,has){return _4d4("dojox.geo.charting.Map",null,{defaultColor:"#B7B7B7",highlightColor:"#D5D5D5",series:[],dataBindingAttribute:null,dataBindingValueFunction:null,dataStore:null,showTooltips:true,enableFeatureZoom:true,colorAnimationDuration:0,_idAttributes:null,_onSetListener:null,_onNewListener:null,_onDeleteListener:null,constructor:function(_4db,_4dc){html.style(_4db,"display","block");this.container=_4db;var _4dd=this._getContainerBounds();this.surface=gfx.createSurface(_4db,_4dd.w,_4dd.h);this._createZoomingCursor();this.mapBackground=this.surface.createRect({x:0,y:0,width:_4dd.w,height:_4dd.w}).setFill("rgba(0,0,0,0)");this.mapObj=this.surface.createGroup();this.mapObj.features={};if(typeof _4dc=="object"){this._init(_4dc);}else{if(typeof _4dc=="string"&&_4dc.length>0){xhr.get({url:_4dc,handleAs:"json",sync:true,load:lang.hitch(this,"_init")});}}},_getContainerBounds:function(){var _4de=_4d5.position(this.container,true);var _4df=_4d5.getMarginBox(this.container);var _4e0=_4d5.getContentBox(this.container);this._storedContainerBounds={x:_4de.x,y:_4de.y,w:_4e0.w||100,h:_4e0.h||100};return this._storedContainerBounds;},resize:function(_4e1,_4e2,_4e3){var _4e4=this._storedContainerBounds;var _4e5=this._getContainerBounds();if((_4e4.w==_4e5.w)&&(_4e4.h==_4e5.h)){return;}this.mapBackground.setShape({width:_4e5.w,height:_4e5.h});this.surface.setDimensions(_4e5.w,_4e5.h);this.mapObj.marker.hide();this.mapObj.marker._needTooltipRefresh=true;if(_4e1){var _4e6=this.getMapScale();var _4e7=_4e6;if(_4e2){var bbox=this.mapObj.boundBox;var _4e8=_4e5.w/_4e4.w;var _4e9=_4e5.h/_4e4.h;_4e7=_4e6*Math.sqrt(_4e8*_4e9);}var _4ea=this.screenCoordsToMapCoords(_4e4.w/2,_4e4.h/2);this.setMapCenterAndScale(_4ea.x,_4ea.y,_4e7,_4e3);}},_isMobileDevice:function(){return (has("safari")&&(navigator.userAgent.indexOf("iPhone")>-1||navigator.userAgent.indexOf("iPod")>-1||navigator.userAgent.indexOf("iPad")>-1))||(navigator.userAgent.toLowerCase().indexOf("android")>-1);},setMarkerData:function(_4eb){xhr.get({url:_4eb,handleAs:"json",handle:lang.hitch(this,"_appendMarker")});},setDataBindingAttribute:function(prop){this.dataBindingAttribute=prop;if(this.dataStore){this._queryDataStore();}},setDataBindingValueFunction:function(_4ec){this.dataBindingValueFunction=_4ec;if(this.dataStore){this._queryDataStore();}},_queryDataStore:function(){if(!this.dataBindingAttribute||(this.dataBindingAttribute.length==0)){return;}var _4ed=this;this.dataStore.fetch({scope:this,onComplete:function(_4ee){this._idAttributes=_4ed.dataStore.getIdentityAttributes({});arr.forEach(_4ee,function(item){var id=_4ed.dataStore.getValue(item,this._idAttributes[0]);if(_4ed.mapObj.features[id]){var val=null;var _4ef=_4ed.dataStore.getValue(item,_4ed.dataBindingAttribute);if(_4ef){if(this.dataBindingValueFunction){val=this.dataBindingValueFunction(_4ef);}else{if(isNaN(val)){val=_4da.parse(_4ef);}else{val=_4ef;}}}if(val){_4ed.mapObj.features[id].setValue(val);}}},this);}});},_onSet:function(item,_4f0,_4f1,_4f2){var id=this.dataStore.getValue(item,this._idAttributes[0]);var _4f3=this.mapObj.features[id];if(_4f3&&(_4f0==this.dataBindingAttribute)){if(_4f2){_4f3.setValue(_4f2);}else{_4f3.unsetValue();}}},_onNew:function(_4f4,_4f5){var id=this.dataStore.getValue(item,this._idAttributes[0]);var _4f6=this.mapObj.features[id];if(_4f6&&(attribute==this.dataBindingAttribute)){_4f6.setValue(newValue);}},_onDelete:function(item){var id=item[this._idAttributes[0]];var _4f7=this.mapObj.features[id];if(_4f7){_4f7.unsetValue();}},setDataStore:function(_4f8,_4f9){if(this.dataStore!=_4f8){if(this._onSetListener){_4d7.disconnect(this._onSetListener);_4d7.disconnect(this._onNewListener);_4d7.disconnect(this._onDeleteListener);}this.dataStore=_4f8;if(_4f8){_onSetListener=_4d7.connect(this.dataStore,"onSet",this,this._onSet);_onNewListener=_4d7.connect(this.dataStore,"onNew",this,this._onNew);_onDeleteListener=_4d7.connect(this.dataStore,"onDelete",this,this._onDelete);}}if(_4f9){this.setDataBindingAttribute(_4f9);}},addSeries:function(_4fa){if(typeof _4fa=="object"){this._addSeriesImpl(_4fa);}else{if(typeof _4fa=="string"&&_4fa.length>0){xhr.get({url:_4fa,handleAs:"json",sync:true,load:lang.hitch(this,function(_4fb){this._addSeriesImpl(_4fb.series);})});}}},_addSeriesImpl:function(_4fc){this.series=_4fc;for(var item in this.mapObj.features){var _4fd=this.mapObj.features[item];_4fd.setValue(_4fd.value);}},fitToMapArea:function(_4fe,_4ff,_500,_501){if(!_4ff){_4ff=0;}var _502=_4fe.w,_503=_4fe.h,_504=this._getContainerBounds(),_505=Math.min((_504.w-2*_4ff)/_502,(_504.h-2*_4ff)/_503);this.setMapCenterAndScale(_4fe.x+_4fe.w/2,_4fe.y+_4fe.h/2,_505,_500,_501);},fitToMapContents:function(_506,_507,_508){var bbox=this.mapObj.boundBox;this.fitToMapArea(bbox,_506,_507,_508);},setMapCenter:function(_509,_50a,_50b,_50c){var _50d=this.getMapScale();this.setMapCenterAndScale(_509,_50a,_50d,_50b,_50c);},_createAnimation:function(_50e,_50f,_510,_511){var _512=_50f.dx?_50f.dx:0;var _513=_50f.dy?_50f.dy:0;var toDx=_510.dx?_510.dx:0;var toDy=_510.dy?_510.dy:0;var _514=_50f.xx?_50f.xx:1;var _515=_510.xx?_510.xx:1;var anim=gfx.fx.animateTransform({duration:1000,shape:_50e,transform:[{name:"translate",start:[_512,_513],end:[toDx,toDy]},{name:"scale",start:[_514],end:[_515]}]});if(_511){var _516=_4d7.connect(anim,"onEnd",this,function(_517){_511(_517);_4d7.disconnect(_516);});}return anim;},setMapCenterAndScale:function(_518,_519,_51a,_51b,_51c){var bbox=this.mapObj.boundBox;var _51d=this._getContainerBounds();var _51e=_51d.w/2-_51a*(_518-bbox.x);var _51f=_51d.h/2-_51a*(_519-bbox.y);var _520=new gfx.matrix.Matrix2D({xx:_51a,yy:_51a,dx:_51e,dy:_51f});var _521=this.mapObj.getTransform();if(!_51b||!_521){this.mapObj.setTransform(_520);}else{var anim=this._createAnimation(this.mapObj,_521,_520,_51c);anim.play();}},getMapCenter:function(){var _522=this._getContainerBounds();return this.screenCoordsToMapCoords(_522.w/2,_522.h/2);},setMapScale:function(_523,_524,_525){var _526=this._getContainerBounds();var _527=this.screenCoordsToMapCoords(_526.w/2,_526.h/2);this.setMapScaleAt(_523,_527.x,_527.y,_524,_525);},setMapScaleAt:function(_528,_529,_52a,_52b,_52c){var _52d=null;var _52e=null;_52d={x:_529,y:_52a};_52e=this.mapCoordsToScreenCoords(_52d.x,_52d.y);var bbox=this.mapObj.boundBox;var _52f=_52e.x-_528*(_52d.x-bbox.x);var _530=_52e.y-_528*(_52d.y-bbox.y);var _531=new gfx.matrix.Matrix2D({xx:_528,yy:_528,dx:_52f,dy:_530});var _532=this.mapObj.getTransform();if(!_52b||!_532){this.mapObj.setTransform(_531);}else{var anim=this._createAnimation(this.mapObj,_532,_531,_52c);anim.play();}},getMapScale:function(){var mat=this.mapObj.getTransform();var _533=mat?mat.xx:1;return _533;},mapCoordsToScreenCoords:function(mapX,mapY){var _534=this.mapObj.getTransform();var _535=gfx.matrix.multiplyPoint(_534,mapX,mapY);return _535;},screenCoordsToMapCoords:function(_536,_537){var _538=gfx.matrix.invert(this.mapObj.getTransform());var _539=gfx.matrix.multiplyPoint(_538,_536,_537);return _539;},deselectAll:function(){for(var name in this.mapObj.features){this.mapObj.features[name].select(false);}this.selectedFeature=null;this.focused=false;},_init:function(_53a){this.mapObj.boundBox={x:_53a.layerExtent[0],y:_53a.layerExtent[1],w:(_53a.layerExtent[2]-_53a.layerExtent[0]),h:_53a.layerExtent[3]-_53a.layerExtent[1]};this.fitToMapContents(3);arr.forEach(_53a.featureNames,function(item){var _53b=_53a.features[item];_53b.bbox.x=_53b.bbox[0];_53b.bbox.y=_53b.bbox[1];_53b.bbox.w=_53b.bbox[2];_53b.bbox.h=_53b.bbox[3];var _53c=new _4d8(this,item,_53b);_53c.init();this.mapObj.features[item]=_53c;},this);this.mapObj.marker=new _4d9({},this);},_appendMarker:function(_53d){this.mapObj.marker=new _4d9(_53d,this);},_createZoomingCursor:function(){if(!dom.byId("mapZoomCursor")){var _53e=win.doc.createElement("div");html.attr(_53e,"id","mapZoomCursor");_4d6.add(_53e,"mapZoomIn");html.style(_53e,"display","none");win.body().appendChild(_53e);}},onFeatureClick:function(_53f){},onFeatureOver:function(_540){},onZoomEnd:function(_541){}});});},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(lang,_542,_543){_542.switchTo(_543);return _542;});},"dojox/gfx/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/Color","dojo/_base/sniff","dojo/_base/window","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/dom-geometry"],function(_544,lang,_545,has,win,arr,dom,_546,_547){var g=lang.getObject("dojox.gfx",true),b=g._base={};g._hasClass=function(node,_548){var cls=node.getAttribute("className");return cls&&(" "+cls+" ").indexOf(" "+_548+" ")>=0;};g._addClass=function(node,_549){var cls=node.getAttribute("className")||"";if(!cls||(" "+cls+" ").indexOf(" "+_549+" ")<0){node.setAttribute("className",cls+(cls?" ":"")+_549);}};g._removeClass=function(node,_54a){var cls=node.getAttribute("className");if(cls){node.setAttribute("className",cls.replace(new RegExp("(^|\\s+)"+_54a+"(\\s+|$)"),"$1$2"));}};b._getFontMeasurements=function(){var _54b={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};var p;if(has("ie")){win.doc.documentElement.style.fontSize="100%";}var div=_546.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},win.body());for(p in _54b){div.style.fontSize=p;_54b[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}win.body().removeChild(div);return _54b;};var _54c=null;b._getCachedFontMeasurements=function(_54d){if(_54d||!_54c){_54c=b._getFontMeasurements();}return _54c;};var _54e=null,_54f={};b._getTextBox=function(text,_550,_551){var m,s,al=arguments.length;var i;if(!_54e){_54e=_546.create("div",{style:{position:"absolute",top:"-10000px",left:"0"}},win.body());}m=_54e;m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(al>1&&_550){for(i in _550){if(i in _54f){continue;}s[i]=_550[i];}}if(al>2&&_551){m.className=_551;}m.innerHTML=text;if(m["getBoundingClientRect"]){var bcr=m.getBoundingClientRect();return {l:bcr.left,t:bcr.top,w:bcr.width||(bcr.right-bcr.left),h:bcr.height||(bcr.bottom-bcr.top)};}else{return _547.getMarginBox(m);}};b._computeTextLocation=function(_552,_553,_554,_555){var loc={},_556=_552.align;switch(_556){case "end":loc.x=_552.x-_553;break;case "middle":loc.x=_552.x-_553/2;break;default:loc.x=_552.x;break;}var c=_555?0.75:1;loc.y=_552.y-_554*c;return loc;};b._computeTextBoundingBox=function(s){if(!g._base._isRendered(s)){return {x:0,y:0,width:0,height:0};}var loc,_557=s.getShape(),font=s.getFont()||g.defaultFont,w=s.getTextWidth(),h=g.normalizedLength(font.size);loc=b._computeTextLocation(_557,w,h,true);return {x:loc.x,y:loc.y,width:w,height:h};};b._isRendered=function(s){var p=s.parent;while(p&&p.getParent){p=p.parent;}return p!==null;};var _558=0;b._getUniqueId=function(){var id;do{id=_544._scopeName+"xUnique"+(++_558);}while(dom.byId(id));return id;};b._fixMsTouchAction=function(_559){var r=_559.rawNode;if(typeof r.style.msTouchAction!="undefined"){r.style.msTouchAction="none";}};lang.mixin(g,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:(function(){var _55a={};return function(type){var t=_55a[type];if(t){return new t();}t=_55a[type]=new Function();t.prototype=g["default"+type];return new t();};})(),normalizeColor:function(_55b){return (_55b instanceof _545)?_55b:new _545(_55b);},normalizeParameters:function(_55c,_55d){var x;if(_55d){var _55e={};for(x in _55c){if(x in _55d&&!(x in _55e)){_55c[x]=_55d[x];}}}return _55c;},makeParameters:function(_55f,_560){var i=null;if(!_560){return lang.delegate(_55f);}var _561={};for(i in _55f){if(!(i in _561)){_561[i]=lang.clone((i in _560)?_560[i]:_55f[i]);}}return _561;},formatNumber:function(x,_562){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var _563=val.indexOf(".");if(_563>=0&&val.length-_563>5){val=x.toFixed(4);}}if(x<0){return val;}return _562?" "+val:val;},makeFontString:function(font){return font.style+" "+font.variant+" "+font.weight+" "+font.size+" "+font.family;},splitFontString:function(str){var font=g.getDefault("Font");var t=str.split(/\s+/);do{if(t.length<5){break;}font.style=t[0];font.variant=t[1];font.weight=t[2];var i=t[3].indexOf("/");font.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;}else{if(t[4].charAt(0)=="/"){j=5;}}}if(j<t.length){font.family=t.slice(j).join(" ");}}while(false);return font;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return g._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*g.px_in_pt();},px2pt:function(len){return len/g.px_in_pt();},normalizedLength:function(len){if(len.length===0){return 0;}if(len.length>2){var _564=g.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_564;case "in":return val*72*_564;case "pc":return val*12*_564;case "mm":return val*g.mm_in_pt*_564;case "cm":return val*g.cm_in_pt*_564;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a===b;},switchTo:function(_565){var ns=typeof _565=="string"?g[_565]:_565;if(ns){arr.forEach(["Group","Rect","Ellipse","Circle","Line","Polyline","Image","Text","Path","TextPath","Surface","createSurface","fixTarget"],function(name){g[name]=ns[name];});if(typeof _565=="string"){g.renderer=_565;}else{arr.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(r){return (g.renderer=g[r]&&g[r].Surface===g.Surface?r:null);});}}}});return g;});},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(g,lang,has,win,_566){var _567=null;has.add("vml",function(_568,_569,_56a){_56a.innerHTML="<v:shape adj=\"1\"/>";var _56b=("adj" in _56a.firstChild);_56a.innerHTML="";return _56b;});return {load:function(id,_56c,load){if(_567&&id!="force"){load(_567);return;}var _56d=_566.forceGfxRenderer,_56e=!_56d&&(lang.isString(_566.gfxRenderer)?_566.gfxRenderer:"svg,vml,canvas,silverlight").split(","),_56f,_570;while(!_56d&&_56e.length){switch(_56e.shift()){case "svg":if("SVGAngle" in win.global){_56d="svg";}break;case "vml":if(has("vml")){_56d="vml";}break;case "silverlight":try{if(has("ie")){_56f=new ActiveXObject("AgControl.AgControl");if(_56f&&_56f.IsVersionSupported("1.0")){_570=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){_570=true;}}}catch(e){_570=false;}finally{_56f=null;}if(_570){_56d="silverlight";}break;case "canvas":if(win.global.CanvasRenderingContext2D){_56d="canvas";}break;}}if(_56d==="canvas"&&_566.canvasEvents!==false){_56d="canvasWithEvents";}if(_566.isDebug){}function _571(){_56c(["dojox/gfx/"+_56d],function(_572){g.renderer=_56d;_567=_572;load(_572);});};if(_56d=="svg"&&typeof window.svgweb!="undefined"){window.svgweb.addOnLoad(_571);}else{_571();}}};});},"dojox/geo/charting/_base":function(){define(["dojo/_base/lang","dojo/_base/array","../../main","dojo/_base/html","dojo/dom-geometry","dojox/gfx/matrix","dijit/Tooltip","dojo/_base/NodeList","dojo/NodeList-traverse"],function(lang,arr,_573,html,_574,_575,_576,_577,_578){var dgc=lang.getObject("geo.charting",true,_573);dgc.showTooltip=function(_579,_57a,_57b){var _57c=dgc._normalizeArround(_57a);return _576.show(_579,_57c,_57b);};dgc.hideTooltip=function(_57d){return _576.hide(_57d);};dgc._normalizeArround=function(_57e){var bbox=dgc._getRealBBox(_57e);var _57f=_57e._getRealMatrix()||{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0};var _580=_575.multiplyPoint(_57f,bbox.x,bbox.y);var _581=dgc._getGfxContainer(_57e);_57e.x=_574.position(_581,true).x+_580.x,_57e.y=_574.position(_581,true).y+_580.y,_57e.w=bbox.width*_57f.xx,_57e.h=bbox.height*_57f.yy;return _57e;};dgc._getGfxContainer=function(_582){if(_582.surface){return (new _577(_582.surface.rawNode)).parents("div")[0];}else{return (new _577(_582.rawNode)).parents("div")[0];}};dgc._getRealBBox=function(_583){var _584=_583.getBoundingBox();if(!_584){var _585=_583.children;_584=lang.clone(dgc._getRealBBox(_585[0]));arr.forEach(_585,function(item){var _586=dgc._getRealBBox(item);_584.x=Math.min(_584.x,_586.x);_584.y=Math.min(_584.y,_586.y);_584.endX=Math.max(_584.x+_584.width,_586.x+_586.width);_584.endY=Math.max(_584.y+_584.height,_586.y+_586.height);});_584.width=_584.endX-_584.x;_584.height=_584.endY-_584.y;}return _584;};return dgc;});},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(g,lang){var m=g.matrix={};var _587={};m._degToRad=function(_588){return _587[_588]||(_587[_588]=(Math.PI*_588/180));};m._radToDeg=function(_589){return _589/Math.PI*180;};m.Matrix2D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=arg;}else{if(arg instanceof Array){if(arg.length>0){var _58a=m.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=_58a,r=m.normalize(arg[i]);_58a=new m.Matrix2D();_58a.xx=l.xx*r.xx+l.xy*r.yx;_58a.xy=l.xx*r.xy+l.xy*r.yy;_58a.yx=l.yx*r.xx+l.yy*r.yx;_58a.yy=l.yx*r.xy+l.yy*r.yy;_58a.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_58a.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}lang.mixin(this,_58a);}}else{lang.mixin(this,arg);}}}};lang.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});lang.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(_58b){var c=Math.cos(_58b);var s=Math.sin(_58b);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_58c){return m.rotate(m._degToRad(_58c));},skewX:function(_58d){return new m.Matrix2D({xy:Math.tan(_58d)});},skewXg:function(_58e){return m.skewX(m._degToRad(_58e));},skewY:function(_58f){return new m.Matrix2D({yx:Math.tan(_58f)});},skewYg:function(_590){return m.skewY(m._degToRad(_590));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_591){return (_591 instanceof m.Matrix2D)?_591:new m.Matrix2D(_591);},isIdentity:function(_592){return _592.xx==1&&_592.xy==0&&_592.yx==0&&_592.yy==1&&_592.dx==0&&_592.dy==0;},clone:function(_593){var obj=new m.Matrix2D();for(var i in _593){if(typeof (_593[i])=="number"&&typeof (obj[i])=="number"&&obj[i]!=_593[i]){obj[i]=_593[i];}}return obj;},invert:function(_594){var M=m.normalize(_594),D=M.xx*M.yy-M.xy*M.yx;M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_595,x,y){return {x:_595.xx*x+_595.xy*y+_595.dx,y:_595.yx*x+_595.yy*y+_595.dy};},multiplyPoint:function(_596,a,b){var M=m.normalize(_596);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiplyRectangle:function(_597,rect){var M=m.normalize(_597);rect=rect||{x:0,y:0,width:0,height:0};if(m.isIdentity(M)){return {x:rect.x,y:rect.y,width:rect.width,height:rect.height};}var p0=m.multiplyPoint(M,rect.x,rect.y),p1=m.multiplyPoint(M,rect.x,rect.y+rect.height),p2=m.multiplyPoint(M,rect.x+rect.width,rect.y),p3=m.multiplyPoint(M,rect.x+rect.width,rect.y+rect.height),minx=Math.min(p0.x,p1.x,p2.x,p3.x),miny=Math.min(p0.y,p1.y,p2.y,p3.y),maxx=Math.max(p0.x,p1.x,p2.x,p3.x),maxy=Math.max(p0.y,p1.y,p2.y,p3.y);return {x:minx,y:miny,width:maxx-minx,height:maxy-miny};},multiply:function(_598){var M=m.normalize(_598);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_599,x,y){return m.multiply(m.translate(x,y),_599,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(_59a,a,b){if(arguments.length>2){return m._sandwich(m.rotate(_59a),a,b);}return m._sandwich(m.rotate(_59a),a.x,a.y);},rotategAt:function(_59b,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_59b),a,b);}return m._sandwich(m.rotateg(_59b),a.x,a.y);},skewXAt:function(_59c,a,b){if(arguments.length>2){return m._sandwich(m.skewX(_59c),a,b);}return m._sandwich(m.skewX(_59c),a.x,a.y);},skewXgAt:function(_59d,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_59d),a,b);}return m._sandwich(m.skewXg(_59d),a.x,a.y);},skewYAt:function(_59e,a,b){if(arguments.length>2){return m._sandwich(m.skewY(_59e),a,b);}return m._sandwich(m.skewY(_59e),a.x,a.y);},skewYgAt:function(_59f,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_59f),a,b);}return m._sandwich(m.skewYg(_59f),a.x,a.y);}});g.Matrix2D=m.Matrix2D;return m;});},"dijit/Tooltip":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(_5a0,_5a1,fx,dom,_5a2,_5a3,_5a4,lang,_5a5,on,has,_5a6,_5a7,_5a8,_5a9,_5aa,_5ab,_5ac){var _5ad=_5a1("dijit._MasterTooltip",[_5a8,_5a9],{duration:_5a6.defaultDuration,templateString:_5ab,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _5aa(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_5ae,_5af,_5b0,rtl,_5b1){if(this.aroundNode&&this.aroundNode===_5af&&this.containerNode.innerHTML==_5ae){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_5ae;if(_5b1){this.set("textDir",_5b1);}this.containerNode.align=rtl?"right":"left";var pos=_5a7.around(this.domNode,_5af,_5b0&&_5b0.length?_5b0:_5b2.defaultPosition,!rtl,lang.hitch(this,"orient"));var _5b3=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_5b3.y+((_5b3.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_5b3.x+((_5b3.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_5a4.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_5af;},orient:function(node,_5b4,_5b5,_5b6,_5b7){this.connectorNode.style.top="";var _5b8=_5b6.h,_5b9=_5b6.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_5b4+"-"+_5b5];this.domNode.style.width="auto";var size=_5a3.position(this.domNode);if(has("ie")==9){size.w+=2;}var _5ba=Math.min((Math.max(_5b9,1)),size.w);_5a3.setMarginBox(this.domNode,{w:_5ba});if(_5b5.charAt(0)=="B"&&_5b4.charAt(0)=="B"){var bb=_5a3.position(node);var _5bb=this.connectorNode.offsetHeight;if(bb.h>_5b8){var _5bc=_5b8-((_5b7.h+_5bb)>>1);this.connectorNode.style.top=_5bc+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_5b7.h/2-_5bb/2,0),bb.h-_5bb)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_5b9);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_5bd){if(this._onDeck&&this._onDeck[1]==_5bd){this._onDeck=null;}else{if(this.aroundNode===_5bd){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});if(has("dojo-bidi")){_5ad.extend({_setAutoTextDir:function(node){this.applyTextDir(node);_5a0.forEach(node.children,function(_5be){this._setAutoTextDir(_5be);},this);},_setTextDirAttr:function(_5bf){this._set("textDir",_5bf);if(_5bf=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});}_5ac.showTooltip=function(_5c0,_5c1,_5c2,rtl,_5c3){if(_5c2){_5c2=_5a0.map(_5c2,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_5b2._masterTT){_5ac._masterTT=_5b2._masterTT=new _5ad();}return _5b2._masterTT.show(_5c0,_5c1,_5c2,rtl,_5c3);};_5ac.hideTooltip=function(_5c4){return _5b2._masterTT&&_5b2._masterTT.hide(_5c4);};var _5b2=_5a1("dijit.Tooltip",_5a8,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(_5c5){_5a0.forEach(this._connections||[],function(_5c6){_5a0.forEach(_5c6,function(_5c7){_5c7.remove();});},this);this._connectIds=_5a0.filter(lang.isArrayLike(_5c5)?_5c5:(_5c5?[_5c5]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=_5a0.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_5c8=this.selector,_5c9=_5c8?function(_5ca){return on.selector(_5c8,_5ca);}:function(_5cb){return _5cb;},self=this;return [on(node,_5c9(_5a5.enter),function(){self._onHover(this);}),on(node,_5c9("focusin"),function(){self._onHover(this);}),on(node,_5c9(_5a5.leave),lang.hitch(self,"_onUnHover")),on(node,_5c9("focusout"),lang.hitch(self,"_onUnHover"))];},this);this._set("connectId",_5c5);},addTarget:function(node){var id=node.id||node;if(_5a0.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_5a0.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_5a2.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_5a0.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},_onHover:function(_5cc){if(!this._showTimer){this._showTimer=this.defer(function(){this.open(_5cc);},this.showDelay);}},_onUnHover:function(){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}this.close();},open:function(_5cd){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}var _5ce=this.getContent(_5cd);if(!_5ce){return;}_5b2.show(_5ce,_5cd,this.position,!this.isLeftToRight(),this.textDir);this._connectNode=_5cd;this.onShow(_5cd,this.position);},close:function(){if(this._connectNode){_5b2.hide(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}},onShow:function(){},onHide:function(){},destroy:function(){this.close();_5a0.forEach(this._connections||[],function(_5cf){_5a0.forEach(_5cf,function(_5d0){_5d0.remove();});},this);this.inherited(arguments);}});_5b2._MasterTooltip=_5ad;_5b2.show=_5ac.showTooltip;_5b2.hide=_5ac.hideTooltip;_5b2.defaultPosition=["after-centered","before-centered"];return _5b2;});},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_5d1,_5d2,lang,_5d3,_5d4){var _5d5={};_5d1.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_5d5[name]=_5d3[name];});lang.mixin(_5d5,{defaultDuration:_5d2["defaultDuration"]||200});lang.mixin(_5d4,_5d5);return _5d4;});},"dijit/place":function(){define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_5d6,_5d7,_5d8,_5d9,win,_5da,_5db){function _5dc(node,_5dd,_5de,_5df){var view=_5da.getEffectiveBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_5d6.some(_5dd,function(_5e0){var _5e1=_5e0.corner;var pos=_5e0.pos;var _5e2=0;var _5e3={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_5e1.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_5e1.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_5de){var res=_5de(node,_5e0.aroundCorner,_5e1,_5e3,_5df);_5e2=typeof res=="undefined"?0:res;}var _5e4=node.style;var _5e5=_5e4.display;var _5e6=_5e4.visibility;if(_5e4.display=="none"){_5e4.visibility="hidden";_5e4.display="";}var bb=_5d7.position(node);_5e4.display=_5e5;_5e4.visibility=_5e6;var _5e7={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_5e1.charAt(1)],_5e8={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_5e1.charAt(0)],_5e9=Math.max(view.l,_5e7),_5ea=Math.max(view.t,_5e8),endX=Math.min(view.l+view.w,_5e7+bb.w),endY=Math.min(view.t+view.h,_5e8+bb.h),_5eb=endX-_5e9,_5ec=endY-_5ea;_5e2+=(bb.w-_5eb)+(bb.h-_5ec);if(best==null||_5e2<best.overflow){best={corner:_5e1,aroundCorner:_5e0.aroundCorner,x:_5e9,y:_5ea,w:_5eb,h:_5ec,overflow:_5e2,spaceAvailable:_5e3};}return !_5e2;});if(best.overflow&&_5de){_5de(node,best.aroundCorner,best.corner,best.spaceAvailable,_5df);}var l=_5d7.isBodyLtr(node.ownerDocument),top=best.y,side=l?best.x:view.w-best.x-best.w;if(/relative|absolute/.test(_5d8.get(win.body(node.ownerDocument),"position"))){top-=_5d8.get(win.body(node.ownerDocument),"marginTop");side-=(l?1:-1)*_5d8.get(win.body(node.ownerDocument),l?"marginLeft":"marginRight");}var s=node.style;s.top=top+"px";s[l?"left":"right"]=side+"px";s[l?"right":"left"]="auto";return best;};var _5ed={"TL":"BR","TR":"BL","BL":"TR","BR":"TL"};var _5ee={at:function(node,pos,_5ef,_5f0,_5f1){var _5f2=_5d6.map(_5ef,function(_5f3){var c={corner:_5f3,aroundCorner:_5ed[_5f3],pos:{x:pos.x,y:pos.y}};if(_5f0){c.pos.x+=_5f3.charAt(1)=="L"?_5f0.x:-_5f0.x;c.pos.y+=_5f3.charAt(0)=="T"?_5f0.y:-_5f0.y;}return c;});return _5dc(node,_5f2,_5f1);},around:function(node,_5f4,_5f5,_5f6,_5f7){var _5f8;if(typeof _5f4=="string"||"offsetWidth" in _5f4){_5f8=_5d7.position(_5f4,true);if(/^(above|below)/.test(_5f5[0])){var _5f9=_5d7.getBorderExtents(_5f4),_5fa=_5f4.firstChild?_5d7.getBorderExtents(_5f4.firstChild):{t:0,l:0,b:0,r:0},_5fb=_5d7.getBorderExtents(node),_5fc=node.firstChild?_5d7.getBorderExtents(node.firstChild):{t:0,l:0,b:0,r:0};_5f8.y+=Math.min(_5f9.t+_5fa.t,_5fb.t+_5fc.t);_5f8.h-=Math.min(_5f9.t+_5fa.t,_5fb.t+_5fc.t)+Math.min(_5f9.b+_5fa.b,_5fb.b+_5fc.b);}}else{_5f8=_5f4;}if(_5f4.parentNode){var _5fd=_5d8.getComputedStyle(_5f4).position=="absolute";var _5fe=_5f4.parentNode;while(_5fe&&_5fe.nodeType==1&&_5fe.nodeName!="BODY"){var _5ff=_5d7.position(_5fe,true),pcs=_5d8.getComputedStyle(_5fe);if(/relative|absolute/.test(pcs.position)){_5fd=false;}if(!_5fd&&/hidden|auto|scroll/.test(pcs.overflow)){var _600=Math.min(_5f8.y+_5f8.h,_5ff.y+_5ff.h);var _601=Math.min(_5f8.x+_5f8.w,_5ff.x+_5ff.w);_5f8.x=Math.max(_5f8.x,_5ff.x);_5f8.y=Math.max(_5f8.y,_5ff.y);_5f8.h=_600-_5f8.y;_5f8.w=_601-_5f8.x;}if(pcs.position=="absolute"){_5fd=true;}_5fe=_5fe.parentNode;}}var x=_5f8.x,y=_5f8.y,_602="w" in _5f8?_5f8.w:(_5f8.w=_5f8.width),_603="h" in _5f8?_5f8.h:(_5d9.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_5f8.height+", width:"+_602+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_5f8.height+", w:"+_602+" }","","2.0"),_5f8.h=_5f8.height);var _604=[];function push(_605,_606){_604.push({aroundCorner:_605,corner:_606,pos:{x:{"L":x,"R":x+_602,"M":x+(_602>>1)}[_605.charAt(1)],y:{"T":y,"B":y+_603,"M":y+(_603>>1)}[_605.charAt(0)]}});};_5d6.forEach(_5f5,function(pos){var ltr=_5f6;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _607=_5dc(node,_604,_5f7,{w:_602,h:_603});_607.aroundNodePos=_5f8;return _607;}};return _5db.place=_5ee;});},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(_608,on,_609,has,_60a){var _60b=new _608();var _60c;_609(function(){var _60d=_60a.getBox();_60b._rlh=on(window,"resize",function(){var _60e=_60a.getBox();if(_60d.h==_60e.h&&_60d.w==_60e.w){return;}_60d=_60e;_60b.emit("resize");});if(has("ie")==8){var _60f=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_60f){_60f=screen.deviceXDPI;_60b.emit("resize");}},500);}if(has("ios")){on(document,"focusin",function(evt){_60c=evt.target;});on(document,"focusout",function(evt){_60c=null;});}});_60b.getEffectiveBox=function(doc){var box=_60a.getBox(doc);var tag=_60c&&_60c.tagName&&_60c.tagName.toLowerCase();if(has("ios")&&_60c&&!_60c.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_60c.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var rect=_60c.getBoundingClientRect();box.h=Math.max(box.h,rect.top+rect.height);}return box;};return _60b;});},"dijit/_TemplatedMixin":function(){define(["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(_610,_611,_612,lang,on,has,_613,_614){var _615=_611("dijit._TemplatedMixin",_614,{templateString:null,templatePath:null,_skipNodeCache:false,searchContainerNode:true,_stringRepl:function(tmpl){var _616=this.declaredClass,_617=this;return _613.substitute(tmpl,this,function(_618,key){if(key.charAt(0)=="!"){_618=lang.getObject(key.substr(1),false,_617);}if(typeof _618=="undefined"){throw new Error(_616+" template:"+key);}if(_618==null){return "";}return key.charAt(0)=="!"?_618:this._escapeValue(""+_618);},this);},_escapeValue:function(val){return val.replace(/["'<>&]/g,function(val){return {"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#x27;"}[val];});},buildRendering:function(){if(!this._rendered){if(!this.templateString){this.templateString=_610(this.templatePath,{sanitize:true});}var _619=_615.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_619)){node=_612.toDom(this._stringRepl(_619),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_619);}}else{node=_619.cloneNode(true);}this.domNode=node;}this.inherited(arguments);if(!this._rendered){this._fillContent(this.srcNodeRef);}this._rendered=true;},_fillContent:function(_61a){var dest=this.containerNode;if(_61a&&dest){while(_61a.hasChildNodes()){dest.appendChild(_61a.firstChild);}}}});_615._templateCache={};_615.getCachedTemplate=function(_61b,_61c,doc){var _61d=_615._templateCache;var key=_61b;var _61e=_61d[key];if(_61e){try{if(!_61e.ownerDocument||_61e.ownerDocument==(doc||document)){return _61e;}}catch(e){}_612.destroy(_61e);}_61b=_613.trim(_61b);if(_61c||_61b.match(/\$\{([^\}]+)\}/g)){return (_61d[key]=_61b);}else{var node=_612.toDom(_61b,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_61b);}return (_61d[key]=node);}};if(has("ie")){on(window,"unload",function(){var _61f=_615._templateCache;for(var key in _61f){var _620=_61f[key];if(typeof _620=="object"){_612.destroy(_620);}delete _61f[key];}});}return _615;});},"dojo/cache":function(){define(["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(dojo,_621,has,_622){var _623;if(1){_623=function(url,sync,load){_622(url,{sync:!!sync}).then(load);};}else{if(_621.getText){_623=_621.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _624={},_625=function(text){if(text){text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _626=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_626){text=_626[1];}}else{text="";}return text;},_627={},_628={};dojo.cache=function(_629,url,_62a){var key;if(typeof _629=="string"){if(/\//.test(_629)){key=_629;_62a=url;}else{key=_621.toUrl(_629.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_629+"";_62a=url;}var val=(_62a!=undefined&&typeof _62a!="string")?_62a.value:_62a,_62b=_62a&&_62a.sanitize;if(typeof val=="string"){_624[key]=val;return _62b?_625(val):val;}else{if(val===null){delete _624[key];return null;}else{if(!(key in _624)){_623(key,true,function(text){_624[key]=text;});}return _62b?_625(_624[key]):_624[key];}}};return {dynamic:true,normalize:function(id,_62c){var _62d=id.split("!"),url=_62d[0];return (/^\./.test(url)?_62c(url):url)+(_62d[1]?"!"+_62d[1]:"");},load:function(id,_62e,load){var _62f=id.split("!"),_630=_62f.length>1,_631=_62f[0],url=_62e.toUrl(_62f[0]),_632="url:"+url,text=_627,_633=function(text){load(_630?_625(text):text);};if(_631 in _624){text=_624[_631];}else{if(_62e.cache&&_632 in _62e.cache){text=_62e.cache[_632];}else{if(url in _624){text=_624[url];}}}if(text===_627){if(_628[url]){_628[url].push(_633);}else{var _634=_628[url]=[_633];_623(url,!_62e.async,function(text){_624[_631]=_624[url]=text;for(var i=0;i<_634.length;){_634[i++](text);}delete _628[url];});}}else{_633(text);}}};});},"dojo/request":function(){define(["./request/default!"],function(_635){return _635;});},"dojo/request/default":function(){define(["exports","require","../has"],function(_636,_637,has){var _638=has("config-requestProvider"),_639;if(1){_639="./xhr";}else{if(0){_639="./node";}}if(!_638){_638=_639;}_636.getPlatformDefaultId=function(){return _639;};_636.load=function(id,_63a,_63b,_63c){_637([id=="platform"?_639:_638],function(_63d){_63b(_63d);});};});},"dijit/_AttachMixin":function(){define(["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(_63e,_63f,_640,_641,lang,_642,on,_643,_644){var _645=lang.delegate(_643,{"mouseenter":_642.enter,"mouseleave":_642.leave,"keypress":_640._keypress});var _646;var _647=_641("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[];},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent();},_beforeFillContent:function(){},_attachTemplateNodes:function(_648){var node=_648;while(true){if(node.nodeType==1&&(this._processTemplateNode(node,function(n,p){return n.getAttribute(p);},this._attach)||this.searchContainerNode)&&node.firstChild){node=node.firstChild;}else{if(node==_648){return;}while(!node.nextSibling){node=node.parentNode;if(node==_648){return;}}node=node.nextSibling;}}},_processTemplateNode:function(_649,_64a,_64b){var ret=true;var _64c=this.attachScope||this,_64d=_64a(_649,"dojoAttachPoint")||_64a(_649,"data-dojo-attach-point");if(_64d){var _64e,_64f=_64d.split(/\s*,\s*/);while((_64e=_64f.shift())){if(lang.isArray(_64c[_64e])){_64c[_64e].push(_649);}else{_64c[_64e]=_649;}ret=(_64e!="containerNode");this._attachPoints.push(_64e);}}var _650=_64a(_649,"dojoAttachEvent")||_64a(_649,"data-dojo-attach-event");if(_650){var _651,_652=_650.split(/\s*,\s*/);var trim=lang.trim;while((_651=_652.shift())){if(_651){var _653=null;if(_651.indexOf(":")!=-1){var _654=_651.split(":");_651=trim(_654[0]);_653=trim(_654[1]);}else{_651=trim(_651);}if(!_653){_653=_651;}this._attachEvents.push(_64b(_649,_651,lang.hitch(_64c,_653)));}}}return ret;},_attach:function(node,type,func){type=type.replace(/^on/,"").toLowerCase();if(type=="dijitclick"){type=_646||(_646=_63e("./a11yclick"));}else{type=_645[type]||type;}return on(node,type,func);},_detachTemplateNodes:function(){var _655=this.attachScope||this;_63f.forEach(this._attachPoints,function(_656){delete _655[_656];});this._attachPoints=[];_63f.forEach(this._attachEvents,function(_657){_657.remove();});this._attachEvents=[];},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments);}});lang.extend(_644,{dojoAttachEvent:"",dojoAttachPoint:""});return _647;});},"dijit/BackgroundIframe":function(){define(["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(_658,_659,_65a,_65b,_65c,lang,on,has){has.add("config-bgIframe",!has("touch"));var _65d=new function(){var _65e=[];this.pop=function(){var _65f;if(_65e.length){_65f=_65e.pop();_65f.style.display="";}else{if(has("ie")<9){var burl=_65a["dojoBlankHtmlUrl"]||_658.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_65f=document.createElement(html);}else{_65f=_65b.create("iframe");_65f.src="javascript:\"\"";_65f.className="dijitBackgroundIframe";_65f.setAttribute("role","presentation");_65c.set(_65f,"opacity",0.1);}_65f.tabIndex=-1;}return _65f;};this.push=function(_660){_660.style.display="none";_65e.push(_660);};}();_659.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("config-bgIframe")){var _661=(this.iframe=_65d.pop());node.appendChild(_661);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,"resize",node));}else{_65c.set(_661,{width:"100%",height:"100%"});}}};lang.extend(_659.BackgroundIframe,{resize:function(node){if(this.iframe){_65c.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){_65d.push(this.iframe);delete this.iframe;}}});return _659.BackgroundIframe;});},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(_662,lang,_663){var _664=_662.NodeList;lang.extend(_664,{_buildArrayFromCallback:function(_665){var ary=[];for(var i=0;i<this.length;i++){var _666=_665.call(this[i],this[i],ary);if(_666){ary=ary.concat(_666);}}return ary;},_getUniqueAsNodeList:function(_667){var ary=[];for(var i=0,node;node=_667[i];i++){if(node.nodeType==1&&_663.indexOf(ary,node)==-1){ary.push(node);}}return this._wrap(ary,null,this._NodeListCtor);},_getUniqueNodeListWithParent:function(_668,_669){var ary=this._getUniqueAsNodeList(_668);ary=(_669?_662._filterResult(ary,_669):ary);return ary._stash(this);},_getRelatedUniqueNodes:function(_66a,_66b){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(_66b),_66a);},children:function(_66c){return this._getRelatedUniqueNodes(_66c,function(node,ary){return lang._toArray(node.childNodes);});},closest:function(_66d,root){return this._getRelatedUniqueNodes(null,function(node,ary){do{if(_662._filterResult([node],_66d,root).length){return node;}}while(node!=root&&(node=node.parentNode)&&node.nodeType==1);return null;});},parent:function(_66e){return this._getRelatedUniqueNodes(_66e,function(node,ary){return node.parentNode;});},parents:function(_66f){return this._getRelatedUniqueNodes(_66f,function(node,ary){var pary=[];while(node.parentNode){node=node.parentNode;pary.push(node);}return pary;});},siblings:function(_670){return this._getRelatedUniqueNodes(_670,function(node,ary){var pary=[];var _671=(node.parentNode&&node.parentNode.childNodes);for(var i=0;i<_671.length;i++){if(_671[i]!=node){pary.push(_671[i]);}}return pary;});},next:function(_672){return this._getRelatedUniqueNodes(_672,function(node,ary){var next=node.nextSibling;while(next&&next.nodeType!=1){next=next.nextSibling;}return next;});},nextAll:function(_673){return this._getRelatedUniqueNodes(_673,function(node,ary){var pary=[];var next=node;while((next=next.nextSibling)){if(next.nodeType==1){pary.push(next);}}return pary;});},prev:function(_674){return this._getRelatedUniqueNodes(_674,function(node,ary){var prev=node.previousSibling;while(prev&&prev.nodeType!=1){prev=prev.previousSibling;}return prev;});},prevAll:function(_675){return this._getRelatedUniqueNodes(_675,function(node,ary){var pary=[];var prev=node;while((prev=prev.previousSibling)){if(prev.nodeType==1){pary.push(prev);}}return pary;});},andSelf:function(){return this.concat(this._parent);},first:function(){return this._wrap(((this[0]&&[this[0]])||[]),this);},last:function(){return this._wrap((this.length?[this[this.length-1]]:[]),this);},even:function(){return this.filter(function(item,i){return i%2!=0;});},odd:function(){return this.filter(function(item,i){return i%2==0;});}});return _664;});},"dojox/geo/charting/Feature":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/html","dojo/dom","dojo/_base/event","dojox/gfx/fx","dojox/color"],function(lang,_676,arr,html,dom,_677,fx,_678){return _676("dojox.geo.charting.Feature",null,{_isZoomIn:false,isSelected:false,markerText:null,constructor:function(_679,name,_67a){this.id=name;this.shape=_679.mapObj.createGroup();this.parent=_679;this.mapObj=_679.mapObj;this._bbox=_67a.bbox;this._center=_67a.center;this._defaultFill=_679.defaultColor;this._highlightFill=_679.highlightColor;this._defaultStroke={width:this._normalizeStrokeWeight(0.5),color:"white"};var _67b=(lang.isArray(_67a.shape[0]))?_67a.shape:[_67a.shape];arr.forEach(_67b,function(_67c){this.shape.createPolyline(_67c).setStroke(this._defaultStroke);},this);this.unsetValue();},unsetValue:function(){this.value=null;this.unsetColor();},unsetColor:function(){this._defaultFill=this.parent.defaultColor;var col=new _678.Color(this.parent.defaultColor).toHsl();col.l=1.2*col.l;this._highlightFill=_678.fromHsl(col);this._setFillWith(this._defaultFill);},setValue:function(_67d){this.value=_67d;if(_67d==null){this.unsetValue();}else{if(this.parent.series.length!=0){for(var i=0;i<this.parent.series.length;i++){var _67e=this.parent.series[i];if((_67d>=_67e.min)&&(_67d<_67e.max)){this._setFillWith(_67e.color);this._defaultFill=_67e.color;var col=new _678.Color(_67e.color).toHsv();col.v=(col.v+20);this._highlightFill=_678.fromHsv(col);return;}}this.unsetColor();}}},_setFillWith:function(_67f){var _680=(lang.isArray(this.shape.children))?this.shape.children:[this.shape.children];arr.forEach(_680,lang.hitch(this,function(item){if(this.parent.colorAnimationDuration>0){var _681=fx.animateFill({shape:item,color:{start:item.getFill(),end:_67f},duration:this.parent.colorAnimationDuration});_681.play();}else{item.setFill(_67f);}}));},_setStrokeWith:function(_682){var _683=(lang.isArray(this.shape.children))?this.shape.children:[this.shape.children];arr.forEach(_683,function(item){item.setStroke({color:_682.color,width:_682.width,join:"round"});});},_normalizeStrokeWeight:function(_684){var _685=this.shape._getRealMatrix();return (dojox.gfx.renderer!="vml")?_684/(this.shape._getRealMatrix()||{xx:1}).xx:_684;},_onmouseoverHandler:function(evt){this.parent.onFeatureOver(this);this._setFillWith(this._highlightFill);this.mapObj.marker.show(this.id,evt);},_onmouseoutHandler:function(){this._setFillWith(this._defaultFill);this.mapObj.marker.hide();html.style("mapZoomCursor","display","none");},_onmousemoveHandler:function(evt){if(this.mapObj.marker._needTooltipRefresh){this.mapObj.marker.show(this.id,evt);}if(this.isSelected&&evt){if(this.parent.enableFeatureZoom){evt=_677.fix(evt||window.event);html.style("mapZoomCursor","left",evt.pageX+12+"px");html.style("mapZoomCursor","top",evt.pageY+"px");html.byId("mapZoomCursor").className=this._isZoomIn?"mapZoomOut":"mapZoomIn";html.style("mapZoomCursor","display","block");}else{html.style("mapZoomCursor","display","none");}}},_onclickHandler:function(evt){this.parent.onFeatureClick(this);if(!this.isSelected){this.parent.deselectAll();this.select(true);this._onmousemoveHandler(evt);}else{if(this.parent.enableFeatureZoom){if(this._isZoomIn){this._zoomOut();}else{this._zoomIn();}}}},select:function(_686){if(_686){this.shape.moveToFront();this._setStrokeWith({color:"black",width:this._normalizeStrokeWeight(2)});this._setFillWith(this._highlightFill);this.isSelected=true;this.parent.selectedFeature=this;}else{this._setStrokeWith(this._defaultStroke);this._setFillWith(this._defaultFill);this.isSelected=false;this._isZoomIn=false;}},_zoomIn:function(){var _687=this.mapObj.marker;_687.hide();this.parent.fitToMapArea(this._bbox,15,true,lang.hitch(this,function(){this._setStrokeWith({color:"black",width:this._normalizeStrokeWeight(2)});_687._needTooltipRefresh=true;this.parent.onZoomEnd(this);}));this._isZoomIn=true;dom.byId("mapZoomCursor").className="";},_zoomOut:function(){var _688=this.mapObj.marker;_688.hide();this.parent.fitToMapContents(3,true,lang.hitch(this,function(){this._setStrokeWith({color:"black",width:this._normalizeStrokeWeight(2)});_688._needTooltipRefresh=true;this.parent.onZoomEnd(this);}));this._isZoomIn=false;dom.byId("mapZoomCursor").className="";},init:function(){this.shape.id=this.id;this.tooltip=null;}});});},"dojox/gfx/fx":function(){define(["dojo/_base/lang","./_base","./matrix","dojo/_base/Color","dojo/_base/array","dojo/_base/fx","dojo/_base/connect","dojo/sniff"],function(lang,g,m,_689,arr,fx,Hub,has){var fxg=g.fx={};function _68a(_68b,end){this.start=_68b,this.end=end;};_68a.prototype.getValue=function(r){return (this.end-this.start)*r+this.start;};function _68c(_68d,end,_68e){this.start=_68d,this.end=end;this.units=_68e;};_68c.prototype.getValue=function(r){return (this.end-this.start)*r+this.start+this.units;};function _68f(_690,end){this.start=_690,this.end=end;this.temp=new _689();};_68f.prototype.getValue=function(r){return _689.blendColors(this.start,this.end,r,this.temp);};function _691(_692){this.values=_692;this.length=_692.length;};_691.prototype.getValue=function(r){return this.values[Math.min(Math.floor(r*this.length),this.length-1)];};function _693(_694,def){this.values=_694;this.def=def?def:{};};_693.prototype.getValue=function(r){var ret=lang.clone(this.def);for(var i in this.values){ret[i]=this.values[i].getValue(r);}return ret;};function _695(_696,_697){this.stack=_696;this.original=_697;};_695.prototype.getValue=function(r){var ret=[];arr.forEach(this.stack,function(t){if(t instanceof m.Matrix2D){ret.push(t);return;}if(t.name=="original"&&this.original){ret.push(this.original);return;}if(t.name=="matrix"){if((t.start instanceof m.Matrix2D)&&(t.end instanceof m.Matrix2D)){var _698=new m.Matrix2D();for(var p in t.start){_698[p]=(t.end[p]-t.start[p])*r+t.start[p];}ret.push(_698);}return;}if(!(t.name in m)){return;}var f=m[t.name];if(typeof f!="function"){ret.push(f);return;}var val=arr.map(t.start,function(v,i){return (t.end[i]-v)*r+v;}),_699=f.apply(m,val);if(_699 instanceof m.Matrix2D){ret.push(_699);}},this);return ret;};var _69a=new _689(0,0,0,0);function _69b(prop,obj,name,def){if(prop.values){return new _691(prop.values);}var _69c,_69d,end;if(prop.start){_69d=g.normalizeColor(prop.start);}else{_69d=_69c=obj?(name?obj[name]:obj):def;}if(prop.end){end=g.normalizeColor(prop.end);}else{if(!_69c){_69c=obj?(name?obj[name]:obj):def;}end=_69c;}return new _68f(_69d,end);};function _69e(prop,obj,name,def){if(prop.values){return new _691(prop.values);}var _69f,_6a0,end;if(prop.start){_6a0=prop.start;}else{_6a0=_69f=obj?obj[name]:def;}if(prop.end){end=prop.end;}else{if(typeof _69f!="number"){_69f=obj?obj[name]:def;}end=_69f;}return new _68a(_6a0,end);};fxg.animateStroke=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),_6a1=args.shape,_6a2;Hub.connect(anim,"beforeBegin",anim,function(){_6a2=_6a1.getStroke();var prop=args.color,_6a3={},_6a4,_6a5,end;if(prop){_6a3.color=_69b(prop,_6a2,"color",_69a);}prop=args.style;if(prop&&prop.values){_6a3.style=new _691(prop.values);}prop=args.width;if(prop){_6a3.width=_69e(prop,_6a2,"width",1);}prop=args.cap;if(prop&&prop.values){_6a3.cap=new _691(prop.values);}prop=args.join;if(prop){if(prop.values){_6a3.join=new _691(prop.values);}else{_6a5=prop.start?prop.start:(_6a2&&_6a2.join||0);end=prop.end?prop.end:(_6a2&&_6a2.join||0);if(typeof _6a5=="number"&&typeof end=="number"){_6a3.join=new _68a(_6a5,end);}}}this.curve=new _693(_6a3,_6a2);});Hub.connect(anim,"onAnimate",_6a1,"setStroke");return anim;};fxg.animateFill=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),_6a6=args.shape,fill;Hub.connect(anim,"beforeBegin",anim,function(){fill=_6a6.getFill();var prop=args.color,_6a7={};if(prop){this.curve=_69b(prop,fill,"",_69a);}});Hub.connect(anim,"onAnimate",_6a6,"setFill");return anim;};fxg.animateFont=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),_6a8=args.shape,font;Hub.connect(anim,"beforeBegin",anim,function(){font=_6a8.getFont();var prop=args.style,_6a9={},_6aa,_6ab,end;if(prop&&prop.values){_6a9.style=new _691(prop.values);}prop=args.variant;if(prop&&prop.values){_6a9.variant=new _691(prop.values);}prop=args.weight;if(prop&&prop.values){_6a9.weight=new _691(prop.values);}prop=args.family;if(prop&&prop.values){_6a9.family=new _691(prop.values);}prop=args.size;if(prop&&prop.units){_6ab=parseFloat(prop.start?prop.start:(_6a8.font&&_6a8.font.size||"0"));end=parseFloat(prop.end?prop.end:(_6a8.font&&_6a8.font.size||"0"));_6a9.size=new _68c(_6ab,end,prop.units);}this.curve=new _693(_6a9,font);});Hub.connect(anim,"onAnimate",_6a8,"setFont");return anim;};fxg.animateTransform=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),_6ac=args.shape,_6ad;Hub.connect(anim,"beforeBegin",anim,function(){_6ad=_6ac.getTransform();this.curve=new _695(args.transform,_6ad);});Hub.connect(anim,"onAnimate",_6ac,"setTransform");if(g.renderer==="svg"&&has("ie")>=10){var _6ae=[Hub.connect(anim,"onBegin",anim,function(){var _6af=_6ac.getParent();while(_6af&&_6af.getParent){_6af=_6af.getParent();}if(_6af){_6ac.__svgContainer=_6af.rawNode.parentNode;}}),Hub.connect(anim,"onAnimate",anim,function(){try{if(_6ac.__svgContainer){var ov=_6ac.__svgContainer.style.visibility;_6ac.__svgContainer.style.visibility="visible";var _6b0=_6ac.__svgContainer.offsetHeight;_6ac.__svgContainer.style.visibility=ov;}}catch(e){}}),Hub.connect(anim,"onEnd",anim,function(){arr.forEach(_6ae,Hub.disconnect);if(_6ac.__svgContainer){var ov=_6ac.__svgContainer.style.visibility;var sn=_6ac.__svgContainer;_6ac.__svgContainer.style.visibility="visible";setTimeout(function(){try{sn.style.visibility=ov;sn=null;}catch(e){}},100);}delete _6ac.__svgContainer;})];}return anim;};return fxg;});},"dojox/color":function(){define(["./color/_base"],function(_6b1){return _6b1;});},"dojox/color/_base":function(){define(["../main","dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(_6b2,lang,_6b3,_6b4){var cx=lang.getObject("color",true,_6b2);cx.Color=_6b3;cx.blend=_6b3.blendColors;cx.fromRgb=_6b3.fromRgb;cx.fromHex=_6b3.fromHex;cx.fromArray=_6b3.fromArray;cx.fromString=_6b3.fromString;cx.greyscale=_6b4.makeGrey;lang.mixin(cx,{fromCmy:function(cyan,_6b5,_6b6){if(lang.isArray(cyan)){_6b5=cyan[1],_6b6=cyan[2],cyan=cyan[0];}else{if(lang.isObject(cyan)){_6b5=cyan.m,_6b6=cyan.y,cyan=cyan.c;}}cyan/=100,_6b5/=100,_6b6/=100;var r=1-cyan,g=1-_6b5,b=1-_6b6;return new _6b3({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromCmyk:function(cyan,_6b7,_6b8,_6b9){if(lang.isArray(cyan)){_6b7=cyan[1],_6b8=cyan[2],_6b9=cyan[3],cyan=cyan[0];}else{if(lang.isObject(cyan)){_6b7=cyan.m,_6b8=cyan.y,_6b9=cyan.b,cyan=cyan.c;}}cyan/=100,_6b7/=100,_6b8/=100,_6b9/=100;var r,g,b;r=1-Math.min(1,cyan*(1-_6b9)+_6b9);g=1-Math.min(1,_6b7*(1-_6b9)+_6b9);b=1-Math.min(1,_6b8*(1-_6b9)+_6b9);return new _6b3({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsl:function(hue,_6ba,_6bb){if(lang.isArray(hue)){_6ba=hue[1],_6bb=hue[2],hue=hue[0];}else{if(lang.isObject(hue)){_6ba=hue.s,_6bb=hue.l,hue=hue.h;}}_6ba/=100;_6bb/=100;while(hue<0){hue+=360;}while(hue>=360){hue-=360;}var r,g,b;if(hue<120){r=(120-hue)/60,g=hue/60,b=0;}else{if(hue<240){r=0,g=(240-hue)/60,b=(hue-120)/60;}else{r=(hue-240)/60,g=0,b=(360-hue)/60;}}r=2*_6ba*Math.min(r,1)+(1-_6ba);g=2*_6ba*Math.min(g,1)+(1-_6ba);b=2*_6ba*Math.min(b,1)+(1-_6ba);if(_6bb<0.5){r*=_6bb,g*=_6bb,b*=_6bb;}else{r=(1-_6bb)*r+2*_6bb-1;g=(1-_6bb)*g+2*_6bb-1;b=(1-_6bb)*b+2*_6bb-1;}return new _6b3({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});}});cx.fromHsv=function(hue,_6bc,_6bd){if(lang.isArray(hue)){_6bc=hue[1],_6bd=hue[2],hue=hue[0];}else{if(lang.isObject(hue)){_6bc=hue.s,_6bd=hue.v,hue=hue.h;}}if(hue==360){hue=0;}_6bc/=100;_6bd/=100;var r,g,b;if(_6bc==0){r=_6bd,b=_6bd,g=_6bd;}else{var _6be=hue/60,i=Math.floor(_6be),f=_6be-i;var p=_6bd*(1-_6bc);var q=_6bd*(1-(_6bc*f));var t=_6bd*(1-(_6bc*(1-f)));switch(i){case 0:r=_6bd,g=t,b=p;break;case 1:r=q,g=_6bd,b=p;break;case 2:r=p,g=_6bd,b=t;break;case 3:r=p,g=q,b=_6bd;break;case 4:r=t,g=p,b=_6bd;break;case 5:r=_6bd,g=p,b=q;break;}}return new _6b3({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});};lang.extend(_6b3,{toCmy:function(){var cyan=1-(this.r/255),_6bf=1-(this.g/255),_6c0=1-(this.b/255);return {c:Math.round(cyan*100),m:Math.round(_6bf*100),y:Math.round(_6c0*100)};},toCmyk:function(){var cyan,_6c1,_6c2,_6c3;var r=this.r/255,g=this.g/255,b=this.b/255;_6c3=Math.min(1-r,1-g,1-b);cyan=(1-r-_6c3)/(1-_6c3);_6c1=(1-g-_6c3)/(1-_6c3);_6c2=(1-b-_6c3)/(1-_6c3);return {c:Math.round(cyan*100),m:Math.round(_6c1*100),y:Math.round(_6c2*100),b:Math.round(_6c3*100)};},toHsl:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _6c4=max-min;var h=0,s=0,l=(min+max)/2;if(l>0&&l<1){s=_6c4/((l<0.5)?(2*l):(2-2*l));}if(_6c4>0){if(max==r&&max!=g){h+=(g-b)/_6c4;}if(max==g&&max!=b){h+=(2+(b-r)/_6c4);}if(max==b&&max!=r){h+=(4+(r-g)/_6c4);}h*=60;}return {h:h,s:Math.round(s*100),l:Math.round(l*100)};},toHsv:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _6c5=max-min;var h=null,s=(max==0)?0:(_6c5/max);if(s==0){h=0;}else{if(r==max){h=60*(g-b)/_6c5;}else{if(g==max){h=120+60*(b-r)/_6c5;}else{h=240+60*(r-g)/_6c5;}}if(h<0){h+=360;}}return {h:h,s:Math.round(s*100),v:Math.round(max*100)};}});return cx;});},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(dojo,lang,_6c6,_6c7){var _6c8={};lang.setObject("dojo.colors",_6c8);var _6c9=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=_6c6.fromRgb=function(_6ca,obj){var m=_6ca.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){a=_6c7.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return _6c6.fromArray(a,obj);}return _6c6.fromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;a=[_6c9(m1,m2,H+1/3)*256,_6c9(m1,m2,H)*256,_6c9(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return _6c6.fromArray(a,obj);}}return null;};var _6cb=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};_6c6.prototype.sanitize=function(){var t=this;t.r=Math.round(_6cb(t.r,0,255));t.g=Math.round(_6cb(t.g,0,255));t.b=Math.round(_6cb(t.b,0,255));t.a=_6cb(t.a,0,1);return this;};_6c8.makeGrey=_6c6.makeGrey=function(g,a){return _6c6.fromArray([g,g,g,a]);};lang.mixin(_6c6.named,{"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"blanchedalmond":[255,235,205],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"oldlace":[253,245,230],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"whitesmoke":[245,245,245],"yellowgreen":[154,205,50]});return _6c6;});},"dojox/geo/charting/_Marker":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/sniff","./_base"],function(lang,arr,_6cc,has){return _6cc("dojox.geo.charting._Marker",null,{_needTooltipRefresh:null,_map:null,constructor:function(_6cd,map){this._map=map;var _6ce=map.mapObj;this.features=_6ce.features;this.markerData=_6cd;_needTooltipRefresh=false;},show:function(_6cf,evt){this.currentFeature=this.features[_6cf];if(this._map.showTooltips&&this.currentFeature){this.markerText=this.currentFeature.markerText||this.markerData[_6cf]||_6cf;dojox.geo.charting.showTooltip(this.markerText,this.currentFeature.shape,["before"]);}this._needTooltipRefresh=false;},hide:function(){if(this._map.showTooltips&&this.currentFeature){dojox.geo.charting.hideTooltip(this.currentFeature.shape);}this._needTooltipRefresh=false;},_getGroupBoundingBox:function(_6d0){var _6d1=_6d0.children;var _6d2=_6d1[0];var bbox=_6d2.getBoundingBox();this._arround=lang.clone(bbox);arr.forEach(_6d1,function(item){var _6d3=item.getBoundingBox();this._arround.x=Math.min(this._arround.x,_6d3.x);this._arround.y=Math.min(this._arround.y,_6d3.y);},this);},_toWindowCoords:function(_6d4,_6d5,_6d6){var _6d7=(_6d4.x-this.topLeft[0])*this.scale;var _6d8=(_6d4.y-this.topLeft[1])*this.scale;if(has("ff")==3.5){_6d4.x=_6d5.x;_6d4.y=_6d5.y;}else{if(has("chrome")){_6d4.x=_6d6.x+_6d7;_6d4.y=_6d6.y+_6d8;}else{_6d4.x=_6d5.x+_6d7;_6d4.y=_6d5.y+_6d8;}}_6d4.width=(this.currentFeature._bbox[2])*this.scale;_6d4.height=(this.currentFeature._bbox[3])*this.scale;_6d4.x+=_6d4.width/6;_6d4.y+=_6d4.height/4;}});});},"dojox/geo/charting/widget/Legend":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/html","dojo/dom","dojo/dom-construct","dojo/dom-class","dojo/_base/window","dijit/_Widget"],function(dojo,lang,arr,_6d9,html,dom,_6da,_6db,win,_6dc){return _6d9("dojox.geo.charting.widget.Legend",_6dc,{horizontal:true,legendBody:null,swatchSize:18,map:null,postCreate:function(){if(!this.map){return;}this.series=this.map.series;if(!this.domNode.parentNode){dom.byId(this.map.container).appendChild(this.domNode);}this.refresh();},buildRendering:function(){this.domNode=_6da.create("table",{role:"group","class":"dojoxLegendNode"});this.legendBody=_6da.create("tbody",null,this.domNode);this.inherited(arguments);},refresh:function(){while(this.legendBody.lastChild){_6da.destroy(this.legendBody.lastChild);}if(this.horizontal){_6db.add(this.domNode,"dojoxLegendHorizontal");this._tr=win.doc.createElement("tr");this.legendBody.appendChild(this._tr);}var s=this.series;if(s.length==0){return;}arr.forEach(s,function(x){this._addLabel(x.color,x.name);},this);},_addLabel:function(_6dd,_6de){var icon=win.doc.createElement("td");var text=win.doc.createElement("td");var div=win.doc.createElement("div");_6db.add(icon,"dojoxLegendIcon");_6db.add(text,"dojoxLegendText");div.style.width=this.swatchSize+"px";div.style.height=this.swatchSize+"px";icon.appendChild(div);if(this.horizontal){this._tr.appendChild(icon);this._tr.appendChild(text);}else{var tr=win.doc.createElement("tr");this.legendBody.appendChild(tr);tr.appendChild(icon);tr.appendChild(text);}div.style.background=_6dd;text.innerHTML=String(_6de);}});});},"dojox/geo/charting/TouchInteractionSupport":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/event","dojo/_base/connect","dojo/_base/window"],function(lang,_6df,_6e0,_6e1,win){return _6df("dojox.geo.charting.TouchInteractionSupport",null,{_map:null,_centerTouchLocation:null,_touchMoveListener:null,_touchEndListener:null,_touchEndTapListener:null,_touchStartListener:null,_initialFingerSpacing:null,_initialScale:null,_tapCount:null,_tapThreshold:null,_lastTap:null,_doubleTapPerformed:false,_oneFingerTouch:false,_tapCancel:false,constructor:function(map){this._map=map;this._centerTouchLocation={x:0,y:0};this._tapCount=0;this._lastTap={x:0,y:0};this._tapThreshold=100;},connect:function(){this._touchStartListener=this._map.surface.connect("touchstart",this,this._touchStartHandler);},disconnect:function(){if(this._touchStartListener){_6e1.disconnect(this._touchStartListener);this._touchStartListener=null;}},_getTouchBarycenter:function(_6e2){var _6e3=_6e2.touches;var _6e4=_6e3[0];var _6e5=null;if(_6e3.length>1){_6e5=_6e3[1];}else{_6e5=_6e3[0];}var _6e6=this._map._getContainerBounds();var _6e7=(_6e4.pageX+_6e5.pageX)/2-_6e6.x;var _6e8=(_6e4.pageY+_6e5.pageY)/2-_6e6.y;return {x:_6e7,y:_6e8};},_getFingerSpacing:function(_6e9){var _6ea=_6e9.touches;var _6eb=-1;if(_6ea.length>=2){var dx=(_6ea[1].pageX-_6ea[0].pageX);var dy=(_6ea[1].pageY-_6ea[0].pageY);_6eb=Math.sqrt(dx*dx+dy*dy);}return _6eb;},_isDoubleTap:function(_6ec){var _6ed=false;var _6ee=_6ec.touches;if((this._tapCount>0)&&_6ee.length==1){var dx=(_6ee[0].pageX-this._lastTap.x);var dy=(_6ee[0].pageY-this._lastTap.y);var _6ef=dx*dx+dy*dy;if(_6ef<this._tapThreshold){_6ed=true;}else{this._tapCount=0;}}this._tapCount++;this._lastTap.x=_6ee[0].pageX;this._lastTap.y=_6ee[0].pageY;setTimeout(lang.hitch(this,function(){this._tapCount=0;}),300);return _6ed;},_doubleTapHandler:function(_6f0){var _6f1=this._getFeatureFromTouchEvent(_6f0);if(_6f1){this._map.fitToMapArea(_6f1._bbox,15,true);}else{var _6f2=_6f0.touches;var _6f3=this._map._getContainerBounds();var offX=_6f2[0].pageX-_6f3.x;var offY=_6f2[0].pageY-_6f3.y;var _6f4=this._map.screenCoordsToMapCoords(offX,offY);this._map.setMapCenterAndScale(_6f4.x,_6f4.y,this._map.getMapScale()*2,true);}},_getFeatureFromTouchEvent:function(_6f5){var _6f6=null;if(_6f5.gfxTarget&&_6f5.gfxTarget.getParent){_6f6=this._map.mapObj.features[_6f5.gfxTarget.getParent().id];}return _6f6;},_touchStartHandler:function(_6f7){_6e0.stop(_6f7);this._oneFingerTouch=(_6f7.touches.length==1);this._tapCancel=!this._oneFingerTouch;this._doubleTapPerformed=false;if(this._isDoubleTap(_6f7)){this._doubleTapHandler(_6f7);this._doubleTapPerformed=true;return;}var _6f8=this._getTouchBarycenter(_6f7);var _6f9=this._map.screenCoordsToMapCoords(_6f8.x,_6f8.y);this._centerTouchLocation.x=_6f9.x;this._centerTouchLocation.y=_6f9.y;this._initialFingerSpacing=this._getFingerSpacing(_6f7);this._initialScale=this._map.getMapScale();if(!this._touchMoveListener){this._touchMoveListener=_6e1.connect(win.global,"touchmove",this,this._touchMoveHandler);}if(!this._touchEndTapListener){this._touchEndTapListener=this._map.surface.connect("touchend",this,this._touchEndTapHandler);}if(!this._touchEndListener){this._touchEndListener=_6e1.connect(win.global,"touchend",this,this._touchEndHandler);}},_touchEndTapHandler:function(_6fa){var _6fb=_6fa.touches;if(_6fb.length==0){if(this._oneFingerTouch&&!this._tapCancel){this._oneFingerTouch=false;setTimeout(lang.hitch(this,function(){if(!this._doubleTapPerformed){var dx=(_6fa.changedTouches[0].pageX-this._lastTap.x);var dy=(_6fa.changedTouches[0].pageY-this._lastTap.y);var _6fc=dx*dx+dy*dy;if(_6fc<this._tapThreshold){this._singleTapHandler(_6fa);}}}),350);}this._tapCancel=false;}},_touchEndHandler:function(_6fd){_6e0.stop(_6fd);var _6fe=_6fd.touches;if(_6fe.length==0){if(this._touchMoveListener){_6e1.disconnect(this._touchMoveListener);this._touchMoveListener=null;}if(this._touchEndListener){_6e1.disconnect(this._touchEndListener);this._touchEndListener=null;}}else{var _6ff=this._getTouchBarycenter(_6fd);var _700=this._map.screenCoordsToMapCoords(_6ff.x,_6ff.y);this._centerTouchLocation.x=_700.x;this._centerTouchLocation.y=_700.y;}},_singleTapHandler:function(_701){var _702=this._getFeatureFromTouchEvent(_701);if(_702){_702._onclickHandler(_701);}else{for(var name in this._map.mapObj.features){this._map.mapObj.features[name].select(false);}this._map.onFeatureClick(null);}},_touchMoveHandler:function(_703){_6e0.stop(_703);if(!this._tapCancel){var dx=(_703.touches[0].pageX-this._lastTap.x),dy=(_703.touches[0].pageY-this._lastTap.y);var _704=dx*dx+dy*dy;if(_704>this._tapThreshold){this._tapCancel=true;}}var _705=this._getTouchBarycenter(_703);var _706=this._map.screenCoordsToMapCoords(_705.x,_705.y),_707=_706.x-this._centerTouchLocation.x,_708=_706.y-this._centerTouchLocation.y;var _709=1;var _70a=_703.touches;if(_70a.length>=2){var _70b=this._getFingerSpacing(_703);_709=_70b/this._initialFingerSpacing;this._map.setMapScale(this._initialScale*_709);}var _70c=this._map.getMapCenter();this._map.setMapCenter(_70c.x-_707,_70c.y-_708);}});});},"dojox/geo/charting/MouseInteractionSupport":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/event","dojo/_base/connect","dojo/_base/window","dojo/_base/html","dojo/dom","dojo/_base/sniff"],function(lang,_70d,_70e,_70f,win,html,dom,has){return _70d("dojox.geo.charting.MouseInteractionSupport",null,{_map:null,_mapClickLocation:null,_screenClickLocation:null,_mouseDragListener:null,_mouseUpListener:null,_mouseUpClickListener:null,_mouseDownListener:null,_mouseMoveListener:null,_mouseWheelListener:null,_currentFeature:null,_cancelMouseClick:null,_zoomEnabled:false,_panEnabled:false,_onDragStartListener:null,_onSelectStartListener:null,mouseClickThreshold:2,constructor:function(map,_710){this._map=map;this._mapClickLocation={x:0,y:0};this._screenClickLocation={x:0,y:0};this._cancelMouseClick=false;if(_710){this._zoomEnabled=_710.enableZoom;this._panEnabled=_710.enablePan;if(_710.mouseClickThreshold&&_710.mouseClickThreshold>0){this.mouseClickThreshold=_710.mouseClickThreshold;}}},setEnableZoom:function(_711){if(_711&&!this._mouseWheelListener){var _712=!has("mozilla")?"onmousewheel":"DOMMouseScroll";this._mouseWheelListener=this._map.surface.connect(_712,this,this._mouseWheelHandler);}else{if(!_711&&this._mouseWheelListener){_70f.disconnect(this._mouseWheelListener);this._mouseWheelListener=null;}}this._zoomEnabled=_711;},setEnablePan:function(_713){this._panEnabled=_713;},connect:function(){this._mouseMoveListener=this._map.surface.connect("onmousemove",this,this._mouseMoveHandler);this._mouseDownListener=this._map.surface.connect("onmousedown",this,this._mouseDownHandler);if(has("ie")){_onDragStartListener=_70f.connect(win.doc,"ondragstart",this,_70e.stop);_onSelectStartListener=_70f.connect(win.doc,"onselectstart",this,_70e.stop);}this.setEnableZoom(this._zoomEnabled);this.setEnablePan(this._panEnabled);},disconnect:function(){var _714=this._zoomEnabled;this.setEnableZoom(false);this._zoomEnabled=_714;if(this._mouseMoveListener){_70f.disconnect(this._mouseMoveListener);this._mouseMoveListener=null;_70f.disconnect(this._mouseDownListener);this._mouseDownListener=null;}if(this._onDragStartListener){_70f.disconnect(this._onDragStartListener);this._onDragStartListener=null;_70f.disconnect(this._onSelectStartListener);this._onSelectStartListener=null;}},_mouseClickHandler:function(_715){var _716=this._getFeatureFromMouseEvent(_715);if(_716){_716._onclickHandler(_715);}else{for(var name in this._map.mapObj.features){this._map.mapObj.features[name].select(false);}this._map.onFeatureClick(null);}},_mouseDownHandler:function(_717){_70e.stop(_717);this._map.focused=true;this._cancelMouseClick=false;this._screenClickLocation.x=_717.pageX;this._screenClickLocation.y=_717.pageY;var _718=this._map._getContainerBounds();var offX=_717.pageX-_718.x,offY=_717.pageY-_718.y;var _719=this._map.screenCoordsToMapCoords(offX,offY);this._mapClickLocation.x=_719.x;this._mapClickLocation.y=_719.y;if(!has("ie")){this._mouseDragListener=_70f.connect(win.doc,"onmousemove",this,this._mouseDragHandler);this._mouseUpClickListener=this._map.surface.connect("onmouseup",this,this._mouseUpClickHandler);this._mouseUpListener=_70f.connect(win.doc,"onmouseup",this,this._mouseUpHandler);}else{var node=dom.byId(this._map.container);this._mouseDragListener=_70f.connect(node,"onmousemove",this,this._mouseDragHandler);this._mouseUpClickListener=this._map.surface.connect("onmouseup",this,this._mouseUpClickHandler);this._mouseUpListener=this._map.surface.connect("onmouseup",this,this._mouseUpHandler);this._map.surface.rawNode.setCapture();}},_mouseUpClickHandler:function(_71a){if(!this._cancelMouseClick){this._mouseClickHandler(_71a);}this._cancelMouseClick=false;},_mouseUpHandler:function(_71b){_70e.stop(_71b);this._map.mapObj.marker._needTooltipRefresh=true;if(this._mouseDragListener){_70f.disconnect(this._mouseDragListener);this._mouseDragListener=null;}if(this._mouseUpClickListener){_70f.disconnect(this._mouseUpClickListener);this._mouseUpClickListener=null;}if(this._mouseUpListener){_70f.disconnect(this._mouseUpListener);this._mouseUpListener=null;}if(has("ie")){this._map.surface.rawNode.releaseCapture();}},_getFeatureFromMouseEvent:function(_71c){var _71d=null;if(_71c.gfxTarget&&_71c.gfxTarget.getParent){_71d=this._map.mapObj.features[_71c.gfxTarget.getParent().id];}return _71d;},_mouseMoveHandler:function(_71e){if(this._mouseDragListener&&this._panEnabled){return;}var _71f=this._getFeatureFromMouseEvent(_71e);if(_71f!=this._currentFeature){if(this._currentFeature){this._currentFeature._onmouseoutHandler();}this._currentFeature=_71f;if(_71f){_71f._onmouseoverHandler();}}if(_71f){_71f._onmousemoveHandler(_71e);}},_mouseDragHandler:function(_720){_70e.stop(_720);var dx=Math.abs(_720.pageX-this._screenClickLocation.x);var dy=Math.abs(_720.pageY-this._screenClickLocation.y);if(!this._cancelMouseClick&&(dx>this.mouseClickThreshold||dy>this.mouseClickThreshold)){this._cancelMouseClick=true;if(this._panEnabled){this._map.mapObj.marker.hide();}}if(!this._panEnabled){return;}var _721=this._map._getContainerBounds();var offX=_720.pageX-_721.x,offY=_720.pageY-_721.y;var _722=this._map.screenCoordsToMapCoords(offX,offY);var _723=_722.x-this._mapClickLocation.x;var _724=_722.y-this._mapClickLocation.y;var _725=this._map.getMapCenter();this._map.setMapCenter(_725.x-_723,_725.y-_724);},_mouseWheelHandler:function(_726){_70e.stop(_726);this._map.mapObj.marker.hide();var _727=this._map._getContainerBounds();var offX=_726.pageX-_727.x,offY=_726.pageY-_727.y;var _728=this._map.screenCoordsToMapCoords(offX,offY);var _729=_726[(has("mozilla")?"detail":"wheelDelta")]/(has("mozilla")?-3:120);var _72a=Math.pow(1.2,_729);this._map.setMapScaleAt(this._map.getMapScale()*_72a,_728.x,_728.y,false);this._map.mapObj.marker._needTooltipRefresh=true;}});});},"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n></div>\n","*now":function(r){r(["dojo/i18n!*preload*demos/mobileGeoCharting/nls/src*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});require(["dojo/ready","dojox/mobile","dojox/mobile/parser","dojox/mobile/compat","dojox/mobile/deviceTheme","dojo/dom","dijit/registry","dojo/on","dojo/topic","dojo/_base/connect","dojo/_base/event","dojo/_base/NodeList","dojo/_base/window","dojo/number","dojo/dom-geometry","dojox/mobile/SpinWheel","dojo/data/ItemFileReadStore","dojox/data/CsvStore","dojox/geo/charting/widget/Map","dojox/geo/charting/widget/Legend","dojox/geo/charting/TouchInteractionSupport","dojox/geo/charting/MouseInteractionSupport"],function(_72b,_72c,_72d,_72e,_72f,dom,_730,on,_731,_732,_733,_734,_735,_736,_737,_738,_739,_73a,Map,_73b,_73c,_73d){var _73e=false;var _73f;var _740,_741,_742,_743,_744;updateHeaderTitle=function(_745){_73f=_745;var text="US population from 1960 to 2009";if(_73f){var text=_742.get("value")+" "+_740.getInnerMap().mapObj.marker.markerData[_745.id]+" pop. : "+(_745.value/1000000).toFixed(1)+"M";}_743.innerHTML=text;};updateYear=function(e){var _746=_742.get("value");_740.getInnerMap().setDataBindingAttribute(_746);if(_73f){_740.getInnerMap().onFeatureClick(_73f);}};getPopData=function(data){return _736.parse(data,{locale:"en-us"})*1000;};layoutUI=function(){var _747=_72c.getScreenSize();var _748=_735.global.innerWidth,_749=_735.global.innerHeight,_74a=1,_74b=_747.h<_747.w?false:true;var _74c=_741.style,_74d=_740.domNode.style,_74e=_737.getMarginBox(_743).h,_74f=_737.getMarginBox(_741).h,_750=_744?_744.style:{};if(_74b){_74d.position="relative";_74d.height=(_749-_74e-_74f*_74a)+"px";_74d.width=_748+"px";_74d.top=0;_74d.left=0;var _751=150;_74c.width=_751-6+"px";_74c.position="relative";_750.top=(_749-_74f*_74a)+"px";_750.left=_751*_74a+"px";_750.height=_74f*_74a+"px";_750.width=_748-(_751*_74a)+"px";_750.margin="0px 0px 0px 10px";}else{var _751=120;_74c.width=_751-6+"px";_74c.position="absolute";_750.height=_74f*_74a+"px";_750.width=_751*_74a+"px";if((_749-_74e)>2*(_74f*_74a)){_750.top=_74f*_74a+_74e+"px";_750.left=0;_750.borderSpacing="0px 0px";_750.margin="5px 0px 0px 5px";_74d.position="absolute";_74d.height=(_749-_74e)+"px";_74d.width=(_748-_751*_74a)+"px";_74d.top=_74e+"px";_74d.left=_751*_74a+"px";}else{_750.top=_74e+"px";_750.left=_751*_74a+"px";_750.margin="0px 0px 0px 5px";_74d.position="absolute";_74d.height=(_749-_74e)+"px";_74d.width=(_748-2*_751*_74a)+"px";_74d.top=_74e+"px";_74d.left=2*_751*_74a+"px";}}_740.resize();if(!_73e){_740.getInnerMap().fitToMapContents(3);}};startDemo=function(){_740=_730.byId("mapWidget");_740.onFeatureClick=updateHeaderTitle;_740.dataBindingValueFunction=getPopData;_742=_730.byId("yearSlot");_741=dom.byId("yearSpinner");_743=dom.byId("mapHeader");_744=dom.byId("mapLegend");_744.map=_740.getInnerMap();layoutUI();var _752=_742.on("FlickAnimationEnd",updateYear);_742.setInitialValue();on(_735.doc,"touchmove",function(e){if(_734(e.target).parents("#mapLegend").length==1){_733.stop(e);}});var _753=_740.getInnerMap().surface;var _754=_753.connect("touchstart",this,function(e){_73e=true;_732.disconnect(_754);});var _755=_753.connect("onmousedown",this,function(e){_73e=true;_732.disconnect(_755);});_731.subscribe("/dojox/mobile/resizeAll",function(){layoutUI();});on(_735.global,"resize",function(){});_740.startup();};_72b(startDemo);});