//>>built
define("demos/cropper/src/nav",["dojo","dijit","dojox","dojo/require!dojo/fx,dojo/fx/easing,dojox/image/_base"],function(_1,_2,_3){_1.provide("demos.cropper.src.nav");_1.require("dojo.fx");_1.require("dojo.fx.easing");_1.require("dojox.image._base");(function(d,$){var _4="mouse"+(d.isIE?"enter":"over");d.extend(d.NodeList,{hover:function(_5,_6){return this.onmouseenter(_5).onmouseleave(_6||_5);},hoverClass:function(_7){return this.hover(function(e){d[(e.type==_4?"addClass":"removeClass")](e.target,_7);});}});d.addOnLoad(function(){var _8=[],_9=70,_a=[];var _b=$("> li","picker").forEach(function(n,i){d.style(n,"position","relative");_8.push(d.animateProperty({node:n,duration:375,delay:_9*i,properties:{top:45},easing:d.fx.easing.backIn}));_8.push(d.fadeOut({node:n,delay:_9*i,duration:375}));_a.push(d.animateProperty({node:n,delay:_9*i,properties:{opacity:1,top:0}}));});var _c=d.fx.combine(_8),_d=d.fx.combine(_a);var _e=function(_f){var c=d.connect(_c,"onEnd",function(){_b.query("a").forEach(function(n,i){d.attr(n,{href:_f[i].replace(/\/thumb/,"").replace(/t\./,".")});});_b.query("img").forEach(function(n,i){d.attr(n,"src",_f[i]);});d.disconnect(c);_d.play();});_c.play();};d.xhrGet({url:"images.json",handleAs:"json",load:function(_10){var _11=_10.images,_12=[],_13=(_11.length/6);var _14=d.map(_11,function(_15){var _16=_15.src.replace(/\./,"t.");return "images/thumb/"+_16;});_3.image.preload(_14);var _17=[];_17.push(_b.query("img").attr("src"));var _18=d.filter(_14,function(url){return d.indexOf(_17[0],url)<0;});_17.push(_18.slice(0,6));_17.push(_18.slice(6));var _19=d.create("ul",{id:"pager",style:{opacity:0}},"navi");d.forEach(_17,function(p,i){var n=d.create("li",{innerHTML:(1+i)+""},_19);$(n).hoverClass("over").onclick(function(e){if(d.hasClass(n,"selected")){return;}$("> li",_19).removeClass("selected");d.addClass(n,"selected");_e(p);});});d.fadeIn({node:_19}).play();}});});})(_1,_1.query);});