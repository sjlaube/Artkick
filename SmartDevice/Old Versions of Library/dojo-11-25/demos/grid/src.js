/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dojo/data/ItemFileWriteStore":function(){define(["../_base/lang","../_base/declare","../_base/array","../_base/json","../_base/kernel","./ItemFileReadStore","../date/stamp"],function(_1,_2,_3,_4,_5,_6,_7){return _2("dojo.data.ItemFileWriteStore",_6,{constructor:function(_8){this._features["dojo.data.api.Write"]=true;this._features["dojo.data.api.Notification"]=true;this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};if(!this._datatypeMap["Date"].serialize){this._datatypeMap["Date"].serialize=function(_9){return _7.toISOString(_9,{zulu:true});};}if(_8&&(_8.referenceIntegrity===false)){this.referenceIntegrity=false;}this._saveInProgress=false;},referenceIntegrity:true,_assert:function(_a){if(!_a){throw new Error("assertion failed in ItemFileWriteStore");}},_getIdentifierAttribute:function(){return this.getFeatures()["dojo.data.api.Identity"];},newItem:function(_b,_c){this._assert(!this._saveInProgress);if(!this._loadFinished){this._forceLoad();}if(typeof _b!="object"&&typeof _b!="undefined"){throw new Error("newItem() was passed something other than an object");}var _d=null;var _e=this._getIdentifierAttribute();if(_e===Number){_d=this._arrayOfAllItems.length;}else{_d=_b[_e];if(typeof _d==="undefined"){throw new Error("newItem() was not passed an identity for the new item");}if(_1.isArray(_d)){throw new Error("newItem() was not passed an single-valued identity");}}if(this._itemsByIdentity){this._assert(typeof this._itemsByIdentity[_d]==="undefined");}this._assert(typeof this._pending._newItems[_d]==="undefined");this._assert(typeof this._pending._deletedItems[_d]==="undefined");var _f={};_f[this._storeRefPropName]=this;_f[this._itemNumPropName]=this._arrayOfAllItems.length;if(this._itemsByIdentity){this._itemsByIdentity[_d]=_f;_f[_e]=[_d];}this._arrayOfAllItems.push(_f);var _10=null;if(_c&&_c.parent&&_c.attribute){_10={item:_c.parent,attribute:_c.attribute,oldValue:undefined};var _11=this.getValues(_c.parent,_c.attribute);if(_11&&_11.length>0){var _12=_11.slice(0,_11.length);if(_11.length===1){_10.oldValue=_11[0];}else{_10.oldValue=_11.slice(0,_11.length);}_12.push(_f);this._setValueOrValues(_c.parent,_c.attribute,_12,false);_10.newValue=this.getValues(_c.parent,_c.attribute);}else{this._setValueOrValues(_c.parent,_c.attribute,_f,false);_10.newValue=_f;}}else{_f[this._rootItemPropName]=true;this._arrayOfTopLevelItems.push(_f);}this._pending._newItems[_d]=_f;for(var key in _b){if(key===this._storeRefPropName||key===this._itemNumPropName){throw new Error("encountered bug in ItemFileWriteStore.newItem");}var _13=_b[key];if(!_1.isArray(_13)){_13=[_13];}_f[key]=_13;if(this.referenceIntegrity){for(var i=0;i<_13.length;i++){var val=_13[i];if(this.isItem(val)){this._addReferenceToMap(val,_f,key);}}}}this.onNew(_f,_10);return _f;},_removeArrayElement:function(_14,_15){var _16=_3.indexOf(_14,_15);if(_16!=-1){_14.splice(_16,1);return true;}return false;},deleteItem:function(_17){this._assert(!this._saveInProgress);this._assertIsItem(_17);var _18=_17[this._itemNumPropName];var _19=this.getIdentity(_17);if(this.referenceIntegrity){var _1a=this.getAttributes(_17);if(_17[this._reverseRefMap]){_17["backup_"+this._reverseRefMap]=_1.clone(_17[this._reverseRefMap]);}_3.forEach(_1a,function(_1b){_3.forEach(this.getValues(_17,_1b),function(_1c){if(this.isItem(_1c)){if(!_17["backupRefs_"+this._reverseRefMap]){_17["backupRefs_"+this._reverseRefMap]=[];}_17["backupRefs_"+this._reverseRefMap].push({id:this.getIdentity(_1c),attr:_1b});this._removeReferenceFromMap(_1c,_17,_1b);}},this);},this);var _1d=_17[this._reverseRefMap];if(_1d){for(var _1e in _1d){var _1f=null;if(this._itemsByIdentity){_1f=this._itemsByIdentity[_1e];}else{_1f=this._arrayOfAllItems[_1e];}if(_1f){for(var _20 in _1d[_1e]){var _21=this.getValues(_1f,_20)||[];var _22=_3.filter(_21,function(_23){return !(this.isItem(_23)&&this.getIdentity(_23)==_19);},this);this._removeReferenceFromMap(_17,_1f,_20);if(_22.length<_21.length){this._setValueOrValues(_1f,_20,_22,true);}}}}}}this._arrayOfAllItems[_18]=null;_17[this._storeRefPropName]=null;if(this._itemsByIdentity){delete this._itemsByIdentity[_19];}this._pending._deletedItems[_19]=_17;if(_17[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,_17);}this.onDelete(_17);return true;},setValue:function(_24,_25,_26){return this._setValueOrValues(_24,_25,_26,true);},setValues:function(_27,_28,_29){return this._setValueOrValues(_27,_28,_29,true);},unsetAttribute:function(_2a,_2b){return this._setValueOrValues(_2a,_2b,[],true);},_setValueOrValues:function(_2c,_2d,_2e,_2f){this._assert(!this._saveInProgress);this._assertIsItem(_2c);this._assert(_1.isString(_2d));this._assert(typeof _2e!=="undefined");var _30=this._getIdentifierAttribute();if(_2d==_30){throw new Error("ItemFileWriteStore does not have support for changing the value of an item's identifier.");}var _31=this._getValueOrValues(_2c,_2d);var _32=this.getIdentity(_2c);if(!this._pending._modifiedItems[_32]){var _33={};for(var key in _2c){if((key===this._storeRefPropName)||(key===this._itemNumPropName)||(key===this._rootItemPropName)){_33[key]=_2c[key];}else{if(key===this._reverseRefMap){_33[key]=_1.clone(_2c[key]);}else{_33[key]=_2c[key].slice(0,_2c[key].length);}}}this._pending._modifiedItems[_32]=_33;}var _34=false;if(_1.isArray(_2e)&&_2e.length===0){_34=delete _2c[_2d];_2e=undefined;if(this.referenceIntegrity&&_31){var _35=_31;if(!_1.isArray(_35)){_35=[_35];}for(var i=0;i<_35.length;i++){var _36=_35[i];if(this.isItem(_36)){this._removeReferenceFromMap(_36,_2c,_2d);}}}}else{var _37;if(_1.isArray(_2e)){_37=_2e.slice(0,_2e.length);}else{_37=[_2e];}if(this.referenceIntegrity){if(_31){var _35=_31;if(!_1.isArray(_35)){_35=[_35];}var map={};_3.forEach(_35,function(_38){if(this.isItem(_38)){var id=this.getIdentity(_38);map[id.toString()]=true;}},this);_3.forEach(_37,function(_39){if(this.isItem(_39)){var id=this.getIdentity(_39);if(map[id.toString()]){delete map[id.toString()];}else{this._addReferenceToMap(_39,_2c,_2d);}}},this);for(var rId in map){var _3a;if(this._itemsByIdentity){_3a=this._itemsByIdentity[rId];}else{_3a=this._arrayOfAllItems[rId];}this._removeReferenceFromMap(_3a,_2c,_2d);}}else{for(var i=0;i<_37.length;i++){var _36=_37[i];if(this.isItem(_36)){this._addReferenceToMap(_36,_2c,_2d);}}}}_2c[_2d]=_37;_34=true;}if(_2f){this.onSet(_2c,_2d,_31,_2e);}return _34;},_addReferenceToMap:function(_3b,_3c,_3d){var _3e=this.getIdentity(_3c);var _3f=_3b[this._reverseRefMap];if(!_3f){_3f=_3b[this._reverseRefMap]={};}var _40=_3f[_3e];if(!_40){_40=_3f[_3e]={};}_40[_3d]=true;},_removeReferenceFromMap:function(_41,_42,_43){var _44=this.getIdentity(_42);var _45=_41[this._reverseRefMap];var _46;if(_45){for(_46 in _45){if(_46==_44){delete _45[_46][_43];if(this._isEmpty(_45[_46])){delete _45[_46];}}}if(this._isEmpty(_45)){delete _41[this._reverseRefMap];}}},_dumpReferenceMap:function(){var i;for(i=0;i<this._arrayOfAllItems.length;i++){var _47=this._arrayOfAllItems[i];if(_47&&_47[this._reverseRefMap]){}}},_getValueOrValues:function(_48,_49){var _4a=undefined;if(this.hasAttribute(_48,_49)){var _4b=this.getValues(_48,_49);if(_4b.length==1){_4a=_4b[0];}else{_4a=_4b;}}return _4a;},_flatten:function(_4c){if(this.isItem(_4c)){return {_reference:this.getIdentity(_4c)};}else{if(typeof _4c==="object"){for(var _4d in this._datatypeMap){var _4e=this._datatypeMap[_4d];if(_1.isObject(_4e)&&!_1.isFunction(_4e)){if(_4c instanceof _4e.type){if(!_4e.serialize){throw new Error("ItemFileWriteStore:  No serializer defined for type mapping: ["+_4d+"]");}return {_type:_4d,_value:_4e.serialize(_4c)};}}else{if(_4c instanceof _4e){return {_type:_4d,_value:_4c.toString()};}}}}return _4c;}},_getNewFileContentString:function(){var _4f={};var _50=this._getIdentifierAttribute();if(_50!==Number){_4f.identifier=_50;}if(this._labelAttr){_4f.label=this._labelAttr;}_4f.items=[];for(var i=0;i<this._arrayOfAllItems.length;++i){var _51=this._arrayOfAllItems[i];if(_51!==null){var _52={};for(var key in _51){if(key!==this._storeRefPropName&&key!==this._itemNumPropName&&key!==this._reverseRefMap&&key!==this._rootItemPropName){var _53=this.getValues(_51,key);if(_53.length==1){_52[key]=this._flatten(_53[0]);}else{var _54=[];for(var j=0;j<_53.length;++j){_54.push(this._flatten(_53[j]));_52[key]=_54;}}}}_4f.items.push(_52);}}var _55=true;return _4.toJson(_4f,_55);},_isEmpty:function(_56){var _57=true;if(_1.isObject(_56)){var i;for(i in _56){_57=false;break;}}else{if(_1.isArray(_56)){if(_56.length>0){_57=false;}}}return _57;},save:function(_58){this._assert(!this._saveInProgress);this._saveInProgress=true;var _59=this;var _5a=function(){_59._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};_59._saveInProgress=false;if(_58&&_58.onComplete){var _5b=_58.scope||_5.global;_58.onComplete.call(_5b);}};var _5c=function(err){_59._saveInProgress=false;if(_58&&_58.onError){var _5d=_58.scope||_5.global;_58.onError.call(_5d,err);}};if(this._saveEverything){var _5e=this._getNewFileContentString();this._saveEverything(_5a,_5c,_5e);}if(this._saveCustom){this._saveCustom(_5a,_5c);}if(!this._saveEverything&&!this._saveCustom){_5a();}},revert:function(){this._assert(!this._saveInProgress);var _5f;for(_5f in this._pending._modifiedItems){var _60=this._pending._modifiedItems[_5f];var _61=null;if(this._itemsByIdentity){_61=this._itemsByIdentity[_5f];}else{_61=this._arrayOfAllItems[_5f];}_60[this._storeRefPropName]=this;for(var key in _61){delete _61[key];}_1.mixin(_61,_60);}var _62;for(_5f in this._pending._deletedItems){_62=this._pending._deletedItems[_5f];_62[this._storeRefPropName]=this;var _63=_62[this._itemNumPropName];if(_62["backup_"+this._reverseRefMap]){_62[this._reverseRefMap]=_62["backup_"+this._reverseRefMap];delete _62["backup_"+this._reverseRefMap];}this._arrayOfAllItems[_63]=_62;if(this._itemsByIdentity){this._itemsByIdentity[_5f]=_62;}if(_62[this._rootItemPropName]){this._arrayOfTopLevelItems.push(_62);}}for(_5f in this._pending._deletedItems){_62=this._pending._deletedItems[_5f];if(_62["backupRefs_"+this._reverseRefMap]){_3.forEach(_62["backupRefs_"+this._reverseRefMap],function(_64){var _65;if(this._itemsByIdentity){_65=this._itemsByIdentity[_64.id];}else{_65=this._arrayOfAllItems[_64.id];}this._addReferenceToMap(_65,_62,_64.attr);},this);delete _62["backupRefs_"+this._reverseRefMap];}}for(_5f in this._pending._newItems){var _66=this._pending._newItems[_5f];_66[this._storeRefPropName]=null;this._arrayOfAllItems[_66[this._itemNumPropName]]=null;if(_66[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,_66);}if(this._itemsByIdentity){delete this._itemsByIdentity[_5f];}}this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};return true;},isDirty:function(_67){if(_67){var _68=this.getIdentity(_67);return new Boolean(this._pending._newItems[_68]||this._pending._modifiedItems[_68]||this._pending._deletedItems[_68]).valueOf();}else{return !this._isEmpty(this._pending._newItems)||!this._isEmpty(this._pending._modifiedItems)||!this._isEmpty(this._pending._deletedItems);}},onSet:function(_69,_6a,_6b,_6c){},onNew:function(_6d,_6e){},onDelete:function(_6f){},close:function(_70){if(this.clearOnClose){if(!this.isDirty()){this.inherited(arguments);}else{throw new Error("dojo.data.ItemFileWriteStore: There are unsaved changes present in the store.  Please save or revert the changes before invoking close.");}}}});});},"dojo/data/ItemFileReadStore":function(){define(["../_base/kernel","../_base/lang","../_base/declare","../_base/array","../_base/xhr","../Evented","./util/filter","./util/simpleFetch","../date/stamp"],function(_71,_72,_73,_74,xhr,_75,_76,_77,_78){var _79=_73("dojo.data.ItemFileReadStore",[_75],{constructor:function(_7a){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_7a.url;this._ccUrl=_7a.url;this.url=_7a.url;this._jsonData=_7a.data;this.data=null;this._datatypeMap=_7a.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_7b){return _78.fromISOString(_7b);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_7a.urlPreventCache!==undefined){this.urlPreventCache=_7a.urlPreventCache?true:false;}if(_7a.hierarchical!==undefined){this.hierarchical=_7a.hierarchical?true:false;}if(_7a.clearOnClose){this.clearOnClose=true;}if("failOk" in _7a){this.failOk=_7a.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(_7c){if(!this.isItem(_7c)){throw new Error(this.declaredClass+": Invalid item argument.");}},_assertIsAttribute:function(_7d){if(typeof _7d!=="string"){throw new Error(this.declaredClass+": Invalid attribute argument.");}},getValue:function(_7e,_7f,_80){var _81=this.getValues(_7e,_7f);return (_81.length>0)?_81[0]:_80;},getValues:function(_82,_83){this._assertIsItem(_82);this._assertIsAttribute(_83);return (_82[_83]||[]).slice(0);},getAttributes:function(_84){this._assertIsItem(_84);var _85=[];for(var key in _84){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_85.push(key);}}return _85;},hasAttribute:function(_86,_87){this._assertIsItem(_86);this._assertIsAttribute(_87);return (_87 in _86);},containsValue:function(_88,_89,_8a){var _8b=undefined;if(typeof _8a==="string"){_8b=_76.patternToRegExp(_8a,false);}return this._containsValue(_88,_89,_8a,_8b);},_containsValue:function(_8c,_8d,_8e,_8f){return _74.some(this.getValues(_8c,_8d),function(_90){if(_90!==null&&!_72.isObject(_90)&&_8f){if(_90.toString().match(_8f)){return true;}}else{if(_8e===_90){return true;}}});},isItem:function(_91){if(_91&&_91[this._storeRefPropName]===this){if(this._arrayOfAllItems[_91[this._itemNumPropName]]===_91){return true;}}return false;},isItemLoaded:function(_92){return this.isItem(_92);},loadItem:function(_93){this._assertIsItem(_93.item);},getFeatures:function(){return this._features;},getLabel:function(_94){if(this._labelAttr&&this.isItem(_94)){return this.getValue(_94,this._labelAttr);}return undefined;},getLabelAttributes:function(_95){if(this._labelAttr){return [this._labelAttr];}return null;},filter:function(_96,_97,_98){var _99=[],i,key;if(_96.query){var _9a,_9b=_96.queryOptions?_96.queryOptions.ignoreCase:false;var _9c={};for(key in _96.query){_9a=_96.query[key];if(typeof _9a==="string"){_9c[key]=_76.patternToRegExp(_9a,_9b);}else{if(_9a instanceof RegExp){_9c[key]=_9a;}}}for(i=0;i<_97.length;++i){var _9d=true;var _9e=_97[i];if(_9e===null){_9d=false;}else{for(key in _96.query){_9a=_96.query[key];if(!this._containsValue(_9e,key,_9a,_9c[key])){_9d=false;}}}if(_9d){_99.push(_9e);}}_98(_99,_96);}else{for(i=0;i<_97.length;++i){var _9f=_97[i];if(_9f!==null){_99.push(_9f);}}_98(_99,_96);}},_fetchItems:function(_a0,_a1,_a2){var _a3=this;if(this._loadFinished){this.filter(_a0,this._getItemsArray(_a0.queryOptions),_a1);}else{if(this._jsonFileUrl!==this._ccUrl){_71.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_a0,filter:_72.hitch(_a3,"filter"),findCallback:_72.hitch(_a3,_a1)});}else{this._loadInProgress=true;var _a4={url:_a3._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _a5=xhr.get(_a4);_a5.addCallback(function(_a6){try{_a3._getItemsFromLoadedData(_a6);_a3._loadFinished=true;_a3._loadInProgress=false;_a3.filter(_a0,_a3._getItemsArray(_a0.queryOptions),_a1);_a3._handleQueuedFetches();}catch(e){_a3._loadFinished=true;_a3._loadInProgress=false;_a2(e,_a0);}});_a5.addErrback(function(_a7){_a3._loadInProgress=false;_a2(_a7,_a0);});var _a8=null;if(_a0.abort){_a8=_a0.abort;}_a0.abort=function(){var df=_a5;if(df&&df.fired===-1){df.cancel();df=null;}if(_a8){_a8.call(_a0);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_a3.filter(_a0,this._getItemsArray(_a0.queryOptions),_a1);}catch(e){_a2(e,_a0);}}else{_a2(new Error(this.declaredClass+": No JSON source data was provided as either URL or a nested Javascript object."),_a0);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _a9=this._queuedFetches[i],_aa=_a9.args,_ab=_a9.filter,_ac=_a9.findCallback;if(_ab){_ab(_aa,this._getItemsArray(_aa.queryOptions),_ac);}else{this.fetchItemByIdentity(_aa);}}this._queuedFetches=[];}},_getItemsArray:function(_ad){if(_ad&&_ad.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_ae){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_af){var _b0=false,_b1=this;function _b2(_b3){return (_b3!==null)&&(typeof _b3==="object")&&(!_72.isArray(_b3)||_b0)&&(!_72.isFunction(_b3))&&(_b3.constructor==Object||_72.isArray(_b3))&&(typeof _b3._reference==="undefined")&&(typeof _b3._type==="undefined")&&(typeof _b3._value==="undefined")&&_b1.hierarchical;};function _b4(_b5){_b1._arrayOfAllItems.push(_b5);for(var _b6 in _b5){var _b7=_b5[_b6];if(_b7){if(_72.isArray(_b7)){var _b8=_b7;for(var k=0;k<_b8.length;++k){var _b9=_b8[k];if(_b2(_b9)){_b4(_b9);}}}else{if(_b2(_b7)){_b4(_b7);}}}}};this._labelAttr=_af.label;var i,_ba;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_af.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){_ba=this._arrayOfTopLevelItems[i];if(_72.isArray(_ba)){_b0=true;}_b4(_ba);_ba[this._rootItemPropName]=true;}var _bb={},key;for(i=0;i<this._arrayOfAllItems.length;++i){_ba=this._arrayOfAllItems[i];for(key in _ba){if(key!==this._rootItemPropName){var _bc=_ba[key];if(_bc!==null){if(!_72.isArray(_bc)){_ba[key]=[_bc];}}else{_ba[key]=[null];}}_bb[key]=key;}}while(_bb[this._storeRefPropName]){this._storeRefPropName+="_";}while(_bb[this._itemNumPropName]){this._itemNumPropName+="_";}while(_bb[this._reverseRefMap]){this._reverseRefMap+="_";}var _bd;var _be=_af.identifier;if(_be){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_be;for(i=0;i<this._arrayOfAllItems.length;++i){_ba=this._arrayOfAllItems[i];_bd=_ba[_be];var _bf=_bd[0];if(!Object.hasOwnProperty.call(this._itemsByIdentity,_bf)){this._itemsByIdentity[_bf]=_ba;}else{if(this._jsonFileUrl){throw new Error(this.declaredClass+":  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_be+"].  Value collided: ["+_bf+"]");}else{if(this._jsonData){throw new Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_be+"].  Value collided: ["+_bf+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){_ba=this._arrayOfAllItems[i];_ba[this._storeRefPropName]=this;_ba[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){_ba=this._arrayOfAllItems[i];for(key in _ba){_bd=_ba[key];for(var j=0;j<_bd.length;++j){_bc=_bd[j];if(_bc!==null&&typeof _bc=="object"){if(("_type" in _bc)&&("_value" in _bc)){var _c0=_bc._type;var _c1=this._datatypeMap[_c0];if(!_c1){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+_c0+"'");}else{if(_72.isFunction(_c1)){_bd[j]=new _c1(_bc._value);}else{if(_72.isFunction(_c1.deserialize)){_bd[j]=_c1.deserialize(_bc._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_bc._reference){var _c2=_bc._reference;if(!_72.isObject(_c2)){_bd[j]=this._getItemByIdentity(_c2);}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _c3=this._arrayOfAllItems[k],_c4=true;for(var _c5 in _c2){if(_c3[_c5]!=_c2[_c5]){_c4=false;}}if(_c4){_bd[j]=_c3;}}}if(this.referenceIntegrity){var _c6=_bd[j];if(this.isItem(_c6)){this._addReferenceToMap(_c6,_ba,key);}}}else{if(this.isItem(_bc)){if(this.referenceIntegrity){this._addReferenceToMap(_bc,_ba,key);}}}}}}}},_addReferenceToMap:function(_c7,_c8,_c9){},getIdentity:function(_ca){var _cb=this._features["dojo.data.api.Identity"];if(_cb===Number){return _ca[this._itemNumPropName];}else{var _cc=_ca[_cb];if(_cc){return _cc[0];}}return null;},fetchItemByIdentity:function(_cd){var _ce,_cf;if(!this._loadFinished){var _d0=this;if(this._jsonFileUrl!==this._ccUrl){_71.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_cd});}else{this._loadInProgress=true;var _d1={url:_d0._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _d2=xhr.get(_d1);_d2.addCallback(function(_d3){var _d4=_cd.scope?_cd.scope:_71.global;try{_d0._getItemsFromLoadedData(_d3);_d0._loadFinished=true;_d0._loadInProgress=false;_ce=_d0._getItemByIdentity(_cd.identity);if(_cd.onItem){_cd.onItem.call(_d4,_ce);}_d0._handleQueuedFetches();}catch(error){_d0._loadInProgress=false;if(_cd.onError){_cd.onError.call(_d4,error);}}});_d2.addErrback(function(_d5){_d0._loadInProgress=false;if(_cd.onError){var _d6=_cd.scope?_cd.scope:_71.global;_cd.onError.call(_d6,_d5);}});}}else{if(this._jsonData){_d0._getItemsFromLoadedData(_d0._jsonData);_d0._jsonData=null;_d0._loadFinished=true;_ce=_d0._getItemByIdentity(_cd.identity);if(_cd.onItem){_cf=_cd.scope?_cd.scope:_71.global;_cd.onItem.call(_cf,_ce);}}}}else{_ce=this._getItemByIdentity(_cd.identity);if(_cd.onItem){_cf=_cd.scope?_cd.scope:_71.global;_cd.onItem.call(_cf,_ce);}}},_getItemByIdentity:function(_d7){var _d8=null;if(this._itemsByIdentity){if(Object.hasOwnProperty.call(this._itemsByIdentity,_d7)){_d8=this._itemsByIdentity[_d7];}}else{if(Object.hasOwnProperty.call(this._arrayOfAllItems,_d7)){_d8=this._arrayOfAllItems[_d7];}}if(_d8===undefined){_d8=null;}return _d8;},getIdentityAttributes:function(_d9){var _da=this._features["dojo.data.api.Identity"];if(_da===Number){return null;}else{return [_da];}},_forceLoad:function(){var _db=this;if(this._jsonFileUrl!==this._ccUrl){_71.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _dc={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _dd=xhr.get(_dc);_dd.addCallback(function(_de){try{if(_db._loadInProgress!==true&&!_db._loadFinished){_db._getItemsFromLoadedData(_de);_db._loadFinished=true;}else{if(_db._loadInProgress){throw new Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){throw e;}});_dd.addErrback(function(_df){throw _df;});}else{if(this._jsonData){_db._getItemsFromLoadedData(_db._jsonData);_db._jsonData=null;_db._loadFinished=true;}}}});_72.extend(_79,_77);return _79;});},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(_e0){var _e1={};_e0.setObject("dojo.data.util.filter",_e1);_e1.patternToRegExp=function(_e2,_e3){var rxp="^";var c=null;for(var i=0;i<_e2.length;i++){c=_e2.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_e2.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_e3){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};return _e1;});},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(_e4,_e5,_e6){var _e7={};_e4.setObject("dojo.data.util.simpleFetch",_e7);_e7.errorHandler=function(_e8,_e9){if(_e9.onError){var _ea=_e9.scope||_e5.global;_e9.onError.call(_ea,_e8,_e9);}};_e7.fetchHandler=function(_eb,_ec){var _ed=_ec.abort||null,_ee=false,_ef=_ec.start?_ec.start:0,_f0=(_ec.count&&(_ec.count!==Infinity))?(_ef+_ec.count):_eb.length;_ec.abort=function(){_ee=true;if(_ed){_ed.call(_ec);}};var _f1=_ec.scope||_e5.global;if(!_ec.store){_ec.store=this;}if(_ec.onBegin){_ec.onBegin.call(_f1,_eb.length,_ec);}if(_ec.sort){_eb.sort(_e6.createSortFunction(_ec.sort,this));}if(_ec.onItem){for(var i=_ef;(i<_eb.length)&&(i<_f0);++i){var _f2=_eb[i];if(!_ee){_ec.onItem.call(_f1,_f2,_ec);}}}if(_ec.onComplete&&!_ee){var _f3=null;if(!_ec.onItem){_f3=_eb.slice(_ef,_f0);}_ec.onComplete.call(_f1,_f3,_ec);}};_e7.fetch=function(_f4){_f4=_f4||{};if(!_f4.store){_f4.store=this;}this._fetchItems(_f4,_e4.hitch(this,"fetchHandler"),_e4.hitch(this,"errorHandler"));return _f4;};return _e7;});},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(_f5){var _f6={};_f5.setObject("dojo.data.util.sorter",_f6);_f6.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};_f6.createSortFunction=function(_f7,_f8){var _f9=[];function _fa(_fb,dir,_fc,s){return function(_fd,_fe){var a=s.getValue(_fd,_fb);var b=s.getValue(_fe,_fb);return dir*_fc(a,b);};};var _ff;var map=_f8.comparatorMap;var bc=_f6.basicComparator;for(var i=0;i<_f7.length;i++){_ff=_f7[i];var attr=_ff.attribute;if(attr){var dir=(_ff.descending)?-1:1;var comp=bc;if(map){if(typeof attr!=="string"&&("toString" in attr)){attr=attr.toString();}comp=map[attr]||bc;}_f9.push(_fa(attr,dir,comp,_f8));}}return function(rowA,rowB){var i=0;while(i<_f9.length){var ret=_f9[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};return _f6;});},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(lang,_100){var _101={};lang.setObject("dojo.date.stamp",_101);_101.fromISOString=function(_102,_103){if(!_101._isoRegExp){_101._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _104=_101._isoRegExp.exec(_102),_105=null;if(_104){_104.shift();if(_104[1]){_104[1]--;}if(_104[6]){_104[6]*=1000;}if(_103){_103=new Date(_103);_100.forEach(_100.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _103["get"+prop]();}),function(_106,_107){_104[_107]=_104[_107]||_106;});}_105=new Date(_104[0]||1970,_104[1]||0,_104[2]||1,_104[3]||0,_104[4]||0,_104[5]||0,_104[6]||0);if(_104[0]<100){_105.setFullYear(_104[0]||1970);}var _108=0,_109=_104[7]&&_104[7].charAt(0);if(_109!="Z"){_108=((_104[8]||0)*60)+(Number(_104[9])||0);if(_109!="-"){_108*=-1;}}if(_109){_108-=_105.getTimezoneOffset();}if(_108){_105.setTime(_105.getTime()+_108*60000);}}return _105;};_101.toISOString=function(_10a,_10b){var _10c=function(n){return (n<10)?"0"+n:n;};_10b=_10b||{};var _10d=[],_10e=_10b.zulu?"getUTC":"get",date="";if(_10b.selector!="time"){var year=_10a[_10e+"FullYear"]();date=["0000".substr((year+"").length)+year,_10c(_10a[_10e+"Month"]()+1),_10c(_10a[_10e+"Date"]())].join("-");}_10d.push(date);if(_10b.selector!="date"){var time=[_10c(_10a[_10e+"Hours"]()),_10c(_10a[_10e+"Minutes"]()),_10c(_10a[_10e+"Seconds"]())].join(":");var _10f=_10a[_10e+"Milliseconds"]();if(_10b.milliseconds){time+="."+(_10f<100?"0":"")+_10c(_10f);}if(_10b.zulu){time+="Z";}else{if(_10b.selector!="time"){var _110=_10a.getTimezoneOffset();var _111=Math.abs(_110);time+=(_110>0?"-":"+")+_10c(Math.floor(_111/60))+":"+_10c(_111%60);}}_10d.push(time);}return _10d.join("T");};return _101;});},"dojox/grid/EnhancedGrid":function(){define(["dojo/_base/kernel","../main","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/sniff","dojo/dom","dojo/dom-geometry","./DataGrid","./DataSelection","./enhanced/_PluginManager","./enhanced/plugins/_SelectionPreserver","dojo/i18n!./enhanced/nls/EnhancedGrid"],function(dojo,_112,_113,lang,_114,has,dom,_115,_116,_117,_118,_119,nls){dojo.experimental("dojox.grid.EnhancedGrid");var _11a=_113("dojox.grid.EnhancedGrid",_116,{plugins:null,pluginMgr:null,_pluginMgrClass:_118,postMixInProperties:function(){this._nls=nls;this.inherited(arguments);},postCreate:function(){this.pluginMgr=new this._pluginMgrClass(this);this.pluginMgr.preInit();this.inherited(arguments);this.pluginMgr.postInit();},plugin:function(name){return this.pluginMgr.getPlugin(name);},startup:function(){this.inherited(arguments);this.pluginMgr.startup();},createSelection:function(){this.selection=new _112.grid.enhanced.DataSelection(this);},canSort:function(_11b,_11c){return true;},doKeyEvent:function(e){try{var view=this.focus.focusView;view.content.decorateEvent(e);if(!e.cell){view.header.decorateEvent(e);}}catch(e){}this.inherited(arguments);},doApplyCellEdit:function(_11d,_11e,_11f){if(!_11f){this.invalidated[_11e]=true;return;}this.inherited(arguments);},mixin:function(_120,_121){var _122={};for(var p in _121){if(p=="_inherited"||p=="declaredClass"||p=="constructor"||_121["privates"]&&_121["privates"][p]){continue;}_122[p]=_121[p];}lang.mixin(_120,_122);},_copyAttr:function(idx,attr){if(!attr){return;}return this.inherited(arguments);},_getHeaderHeight:function(){this.inherited(arguments);return _115.getMarginBox(this.viewsHeaderNode).h;},_fetch:function(_123,_124){if(this.items){return this.inherited(arguments);}_123=_123||0;if(this.store&&!this._pending_requests[_123]){if(!this._isLoaded&&!this._isLoading){this._isLoading=true;this.showMessage(this.loadingMessage);}this._pending_requests[_123]=true;try{var req={start:_123,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:_124,onBegin:lang.hitch(this,"_onFetchBegin"),onComplete:lang.hitch(this,"_onFetchComplete"),onError:lang.hitch(this,"_onFetchError")};this._storeLayerFetch(req);}catch(e){this._onFetchError(e,{start:_123,count:this.rowsPerPage});}}return 0;},_storeLayerFetch:function(req){this.store.fetch(req);},getCellByField:function(_125){return _114.filter(this.layout.cells,function(cell){return cell.field==_125;})[0];},onMouseUp:function(e){},createView:function(){var view=this.inherited(arguments);if(has("mozilla")){var _126=function(_127,_128){for(var n=_127;n&&_128(n);n=n.parentNode){}return n;};var _129=function(_12a){var name=_12a.toUpperCase();return function(node){return node.tagName!=name;};};var func=view.header.getCellX;view.header.getCellX=function(e){var x=func.call(view.header,e);var n=_126(e.target,_129("th"));if(n&&n!==e.target&&dom.isDescendant(e.target,n)){x+=n.firstChild.offsetLeft;}return x;};}return view;},destroy:function(){delete this._nls;this.pluginMgr.destroy();this.inherited(arguments);}});_113("dojox.grid.enhanced.DataSelection",_117,{constructor:function(grid){if(grid.keepSelection){if(this.preserver){this.preserver.destroy();}this.preserver=new _119(this);}},_range:function(_12b,inTo){this.grid._selectingRange=true;this.inherited(arguments);this.grid._selectingRange=false;this.onChanged();},deselectAll:function(_12c){this.grid._selectingRange=true;this.inherited(arguments);this.grid._selectingRange=false;this.onChanged();}});_11a.markupFactory=function(_12d,node,ctor,_12e){return _112.grid._Grid.markupFactory(_12d,node,ctor,lang.partial(_116.cell_markupFactory,_12e));};_11a.registerPlugin=function(_12f,_130){_118.registerPlugin(_12f,_130);};return _11a;});},"dojox/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dojox;});},"dojox/grid/DataGrid":function(){define(["../main","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/_base/sniff","dojo/_base/declare","./_Grid","./DataSelection","dojo/_base/html","dojo/has","dojo/has!dojo-bidi?./bidi/_BidiMixin"],function(_131,_132,lang,json,has,_133,_134,_135,html){var _136=_133("dojox.grid.DataGrid",_134,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:false,_isLoading:false,keepSelection:false,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments);},destroy:function(){this.selection.destroy();this.inherited(arguments);},createSelection:function(){this.selection=new _135(this);},get:function(_137,_138){if(_138&&this.field=="_item"&&!this.fields){return _138;}else{if(_138&&this.fields){var ret=[];var s=this.grid.store;_132.forEach(this.fields,function(f){ret=ret.concat(s.getValues(_138,f));});return ret;}else{if(!_138&&typeof _137==="string"){return this.inherited(arguments);}}}return (!_138?this.defaultValue:(!this.field?this.value:(this.field=="_item"?_138:this.grid.store.getValue(_138,this.field))));},_checkUpdateStatus:function(){if(this.updateDelay>0){var _139=false;if(this._endUpdateDelay){clearTimeout(this._endUpdateDelay);delete this._endUpdateDelay;_139=true;}if(!this.updating){this.beginUpdate();_139=true;}if(_139){var _13a=this;this._endUpdateDelay=setTimeout(function(){delete _13a._endUpdateDelay;_13a.endUpdate();},this.updateDelay);}}},_onSet:function(item,_13b,_13c,_13d){this._checkUpdateStatus();var idx=this.getItemIndex(item);if(idx>-1){this.updateRow(idx);}},_createItem:function(item,_13e){var idty=this._hasIdentity?this.store.getIdentity(item):json.toJson(this.query)+":idx:"+_13e+":sort:"+json.toJson(this.getSortProps());var o=this._by_idty[idty]={idty:idty,item:item};return o;},_addItem:function(item,_13f,_140){this._by_idx[_13f]=this._createItem(item,_13f);if(!_140){this.updateRow(_13f);}},_onNew:function(item,_141){this._checkUpdateStatus();var _142=this.get("rowCount");this._addingItem=true;this.updateRowCount(_142+1);this._addingItem=false;this._addItem(item,_142);this.showMessage();},_onDelete:function(item){this._checkUpdateStatus();var idx=this._getItemIndex(item,true);if(idx>=0){this._pages=[];this._bop=-1;this._eop=-1;var o=this._by_idx[idx];this._by_idx.splice(idx,1);delete this._by_idty[o.idty];this.updateRowCount(this.get("rowCount")-1);if(this.get("rowCount")===0){this.showMessage(this.noDataMessage);}}if(this.selection.isSelected(idx)){this.selection.deselect(idx);this.selection.selected.splice(idx,1);}},_onRevert:function(){this._refresh();},setStore:function(_143,_144,_145){if(this._requestsPending(0)){return;}this._setQuery(_144,_145);this._setStore(_143);this._refresh(true);},setQuery:function(_146,_147){if(this._requestsPending(0)){return;}this._setQuery(_146,_147);this._refresh(true);},setItems:function(_148){this.items=_148;this._setStore(this.store);this._refresh(true);},_setQuery:function(_149,_14a){this.query=_149;this.queryOptions=_14a||this.queryOptions;},_setStore:function(_14b){if(this.store&&this._store_connects){_132.forEach(this._store_connects,this.disconnect,this);}this.store=_14b;if(this.store){var f=this.store.getFeatures();var h=[];this._canEdit=!!f["dojo.data.api.Write"]&&!!f["dojo.data.api.Identity"];this._hasIdentity=!!f["dojo.data.api.Identity"];if(!!f["dojo.data.api.Notification"]&&!this.items){h.push(this.connect(this.store,"onSet","_onSet"));h.push(this.connect(this.store,"onNew","_onNew"));h.push(this.connect(this.store,"onDelete","_onDelete"));}if(this._canEdit){h.push(this.connect(this.store,"revert","_onRevert"));}this._store_connects=h;}},_onFetchBegin:function(size,req){if(!this.scroller){return;}if(this.rowCount!=size){if(req.isRender){this.scroller.init(size,this.keepRows,this.rowsPerPage);this.rowCount=size;this._setAutoHeightAttr(this.autoHeight,true);this._skipRowRenormalize=true;this.prerender();this._skipRowRenormalize=false;}else{this.updateRowCount(size);}}if(!size){this.views.render();this._resize();this.showMessage(this.noDataMessage);this.focus.initFocusView();}else{this.showMessage();}},_onFetchComplete:function(_14c,req){if(!this.scroller){return;}if(_14c&&_14c.length>0){_132.forEach(_14c,function(item,idx){this._addItem(item,req.start+idx,true);},this);this.updateRows(req.start,_14c.length);if(req.isRender){this.setScrollTop(0);this.postrender();}else{if(this._lastScrollTop){this.setScrollTop(this._lastScrollTop);}}if(has("ie")){html.setSelectable(this.domNode,this.selectable);}}delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;}this._pending_requests[req.start]=false;},_onFetchError:function(err,req){delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;this.showMessage(this.errorMessage);}this._pending_requests[req.start]=false;this.onFetchError(err,req);},onFetchError:function(err,req){},_fetch:function(_14d,_14e){_14d=_14d||0;if(this.store&&!this._pending_requests[_14d]){if(!this._isLoaded&&!this._isLoading){this._isLoading=true;this.showMessage(this.loadingMessage);}this._pending_requests[_14d]=true;try{if(this.items){var _14f=this.items;var _150=this.store;this.rowsPerPage=_14f.length;var req={start:_14d,count:this.rowsPerPage,isRender:_14e};this._onFetchBegin(_14f.length,req);var _151=0;_132.forEach(_14f,function(i){if(!_150.isItemLoaded(i)){_151++;}});if(_151===0){this._onFetchComplete(_14f,req);}else{var _152=function(item){_151--;if(_151===0){this._onFetchComplete(_14f,req);}};_132.forEach(_14f,function(i){if(!_150.isItemLoaded(i)){_150.loadItem({item:i,onItem:_152,scope:this});}},this);}}else{this.store.fetch({start:_14d,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:_14e,onBegin:lang.hitch(this,"_onFetchBegin"),onComplete:lang.hitch(this,"_onFetchComplete"),onError:lang.hitch(this,"_onFetchError")});}}catch(e){this._onFetchError(e,{start:_14d,count:this.rowsPerPage});}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoaded=false;this._isLoading=false;},getItem:function(idx){var data=this._by_idx[idx];if(!data||(data&&!data.item)){this._preparePage(idx);return null;}return data.item;},getItemIndex:function(item){return this._getItemIndex(item,false);},_getItemIndex:function(item,_153){if(!_153&&!this.store.isItem(item)){return -1;}var idty=this._hasIdentity?this.store.getIdentity(item):null;for(var i=0,l=this._by_idx.length;i<l;i++){var d=this._by_idx[i];if(d&&((idty&&d.idty==idty)||(d.item===item))){return i;}}return -1;},filter:function(_154,_155){this.query=_154;if(_155){this._clearData();}this._fetch();},_getItemAttr:function(idx,attr){var item=this.getItem(idx);return (!item?this.fetchText:this.store.getValue(item,attr));},_render:function(){if(this.domNode.parentNode){this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this._fetch(0,true);}},_requestsPending:function(_156){return this._pending_requests[_156];},_rowToPage:function(_157){return (this.rowsPerPage?Math.floor(_157/this.rowsPerPage):_157);},_pageToRow:function(_158){return (this.rowsPerPage?this.rowsPerPage*_158:_158);},_preparePage:function(_159){if((_159<this._bop||_159>=this._eop)&&!this._addingItem){var _15a=this._rowToPage(_159);this._needPage(_15a);this._bop=_15a*this.rowsPerPage;this._eop=this._bop+(this.rowsPerPage||this.get("rowCount"));}},_needPage:function(_15b){if(!this._pages[_15b]){this._pages[_15b]=true;this._requestPage(_15b);}},_requestPage:function(_15c){var row=this._pageToRow(_15c);var _15d=Math.min(this.rowsPerPage,this.get("rowCount")-row);if(_15d>0){this._requests++;if(!this._requestsPending(row)){setTimeout(lang.hitch(this,"_fetch",row,false),1);}}},getCellName:function(_15e){return _15e.field;},_refresh:function(_15f){this._clearData();this._fetch(0,_15f);},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh();},canSort:function(){return (!this._isLoading);},getSortProps:function(){var c=this.getCell(this.getSortIndex());if(!c){if(this.sortFields){return this.sortFields;}return null;}else{var desc=c["sortDesc"];var si=!(this.sortInfo>0);if(typeof desc=="undefined"){desc=si;}else{desc=si?!desc:desc;}return [{attribute:c.field,descending:desc}];}},styleRowState:function(_160){if(this.store&&this.store.getState){var _161=this.store.getState(_160.index),c="";for(var i=0,ss=["inflight","error","inserting"],s;s=ss[i];i++){if(_161[s]){c=" dojoxGridRow-"+s;break;}}_160.customClasses+=c;}},onStyleRow:function(_162){this.styleRowState(_162);this.inherited(arguments);},canEdit:function(_163,_164){return this._canEdit;},_copyAttr:function(idx,attr){var row={};var _165={};var src=this.getItem(idx);return this.store.getValue(src,attr);},doStartEdit:function(_166,_167){if(!this._cache[_167]){this._cache[_167]=this._copyAttr(_167,_166.field);}this.onStartEdit(_166,_167);},doApplyCellEdit:function(_168,_169,_16a){this.store.fetchItemByIdentity({identity:this._by_idx[_169].idty,onItem:lang.hitch(this,function(item){var _16b=this.store.getValue(item,_16a);if(typeof _16b=="number"){_168=isNaN(_168)?_168:parseFloat(_168);}else{if(typeof _16b=="boolean"){_168=_168=="true"?true:_168=="false"?false:_168;}else{if(_16b instanceof Date){var _16c=new Date(_168);_168=isNaN(_16c.getTime())?_168:_16c;}}}this.store.setValue(item,_16a,_168);this.onApplyCellEdit(_168,_169,_16a);})});},doCancelEdit:function(_16d){var _16e=this._cache[_16d];if(_16e){this.updateRow(_16d);delete this._cache[_16d];}this.onCancelEdit.apply(this,arguments);},doApplyEdit:function(_16f,_170){var _171=this._cache[_16f];this.onApplyEdit(_16f);},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var fx=lang.hitch(this,function(_172){if(_172.length){_132.forEach(_172,this.store.deleteItem,this.store);this.selection.clear();}});if(this.allItemsSelected){this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:fx});}else{fx(this.selection.getSelected());}}}});_136.cell_markupFactory=function(_173,node,_174){var _175=lang.trim(html.attr(node,"field")||"");if(_175){_174.field=_175;}_174.field=_174.field||_174.name;var _176=lang.trim(html.attr(node,"fields")||"");if(_176){_174.fields=_176.split(",");}if(_173){_173(node,_174);}};_136.markupFactory=function(_177,node,ctor,_178){return _134.markupFactory(_177,node,ctor,lang.partial(_136.cell_markupFactory,_178));};return _136;});},"dojox/grid/_Grid":function(){define(["dojo/_base/kernel","../main","dojo/_base/declare","./_Events","./_Scroller","./_Layout","./_View","./_ViewManager","./_RowManager","./_FocusManager","./_EditManager","./Selection","./_RowSelector","./util","dijit/_Widget","dijit/_TemplatedMixin","dijit/CheckedMenuItem","dojo/text!./resources/_Grid.html","dojo/string","dojo/_base/array","dojo/_base/lang","dojo/_base/sniff","dojox/html/metrics","dojo/_base/html","dojo/query","dojo/dnd/common","dojo/i18n!dijit/nls/loading"],function(dojo,_179,_17a,_17b,_17c,_17d,_17e,_17f,_180,_181,_182,_183,_184,util,_185,_186,_187,_188,_189,_18a,lang,has,_18b,html,_18c){if(!dojo.isCopyKey){dojo.isCopyKey=dojo.dnd.getCopyKeyState;}var _18d=_17a("dojox.grid._Grid",[_185,_186,_17b],{templateString:_188,classTag:"dojoxGrid",rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:false,initialWidth:"",autoHeight:"",rowHeight:0,autoRender:true,defaultHeight:"15em",height:"",structure:null,elasticView:-1,singleClickEdit:false,selectionMode:"extended",rowSelector:"",columnReordering:false,headerMenu:null,placeholderLabel:"GridColumns",selectable:false,_click:null,loadingMessage:"<span class='dojoxGridLoading'>${loadingState}</span>",errorMessage:"<span class='dojoxGridError'>${errorState}</span>",noDataMessage:"",escapeHTMLInData:true,formatterScope:null,editable:false,summary:"",_setSummaryAttr:"domNode",sortInfo:0,_placeholders:null,_layoutClass:_17d,buildRendering:function(){this.inherited(arguments);if(!this.domNode.getAttribute("tabIndex")){this.domNode.tabIndex="0";}this.createScroller();this.createLayout();this.createViews();this.createManagers();this.createSelection();this.connect(this.selection,"onSelected","onSelected");this.connect(this.selection,"onDeselected","onDeselected");this.connect(this.selection,"onChanged","onSelectionChanged");_18b.initOnFontResize();this.connect(_18b,"onFontResize","textSizeChanged");util.funnelEvents(this.domNode,this,"doKeyEvent",util.keyEvents);if(this.selectionMode!="none"){this.domNode.setAttribute("aria-multiselectable",this.selectionMode=="single"?"false":"true");}html.addClass(this.domNode,this.classTag);if(!this.isLeftToRight()){html.addClass(this.domNode,this.classTag+"Rtl");}if(this.rowHeight>0){html.addClass(this.viewsNode,this.classTag+"FixedRowHeight");}},postMixInProperties:function(){this.inherited(arguments);var _18e=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_189.substitute(this.loadingMessage,_18e);this.errorMessage=_189.substitute(this.errorMessage,_18e);if(this.srcNodeRef&&this.srcNodeRef.style.height){this.height=this.srcNodeRef.style.height;}this._setAutoHeightAttr(this.autoHeight,true);this.lastScrollTop=this.scrollTop=0;},postCreate:function(){this._placeholders=[];this._setHeaderMenuAttr(this.headerMenu);this._setStructureAttr(this.structure);this._click=[];this.inherited(arguments);if(this.domNode&&this.autoWidth&&this.initialWidth){this.domNode.style.width=this.initialWidth;}if(this.domNode&&!this.editable){html.attr(this.domNode,"aria-readonly","true");}},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;delete this._click;if(this.scroller){this.scroller.destroy();delete this.scroller;}this.edit.destroy();delete this.edit;this.views.destroyViews();if(this.focus){this.focus.destroy();delete this.focus;}if(this.headerMenu&&this._placeholders.length){_18a.forEach(this._placeholders,function(p){p.unReplace(true);});this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.inherited(arguments);},_setAutoHeightAttr:function(ah,_18f){if(typeof ah=="string"){if(!ah||ah=="false"){ah=false;}else{if(ah=="true"){ah=true;}else{ah=window.parseInt(ah,10);}}}if(typeof ah=="number"){if(isNaN(ah)){ah=false;}if(ah<0){ah=true;}else{if(ah===0){ah=false;}}}this.autoHeight=ah;if(typeof ah=="boolean"){this._autoHeight=ah;}else{if(typeof ah=="number"){this._autoHeight=(ah>=this.get("rowCount"));}else{this._autoHeight=false;}}if(this._started&&!_18f){this.render();}},_getRowCountAttr:function(){return this.updating&&this.invalidated&&this.invalidated.rowCount!=undefined?this.invalidated.rowCount:this.rowCount;},textSizeChanged:function(){this.render();},sizeChange:function(){this.update();},createManagers:function(){this.rows=new _180(this);this.focus=new _181(this);this.edit=new _182(this);},createSelection:function(){this.selection=new _183(this);},createScroller:function(){this.scroller=new _17c();this.scroller.grid=this;this.scroller.renderRow=lang.hitch(this,"renderRow");this.scroller.removeRow=lang.hitch(this,"rowRemoved");},createLayout:function(){this.layout=new this._layoutClass(this);this.connect(this.layout,"moveColumn","onMoveColumn");},onMoveColumn:function(){this.update();},onResizeColumn:function(_190){},createViews:function(){this.views=new _17f(this);this.views.createView=lang.hitch(this,"createView");},createView:function(_191,idx){var c=lang.getObject(_191);var view=new c({grid:this,index:idx});this.viewsNode.appendChild(view.domNode);this.viewsHeaderNode.appendChild(view.headerNode);this.views.addView(view);html.attr(this.domNode,"align",this.isLeftToRight()?"left":"right");return view;},buildViews:function(){for(var i=0,vs;(vs=this.layout.structure[i]);i++){this.createView(vs.type||_179._scopeName+".grid._View",i).setStructure(vs);}this.scroller.setContentNodes(this.views.getContentNodes());},_setStructureAttr:function(_192){var s=_192;if(s&&lang.isString(s)){dojo.deprecated("dojox.grid._Grid.set('structure', 'objVar')","use dojox.grid._Grid.set('structure', objVar) instead","2.0");s=lang.getObject(s);}this.structure=s;if(!s){if(this.layout.structure){s=this.layout.structure;}else{return;}}this.views.destroyViews();this.focus.focusView=null;if(s!==this.layout.structure){this.layout.setStructure(s);}this._structureChanged();},setStructure:function(_193){dojo.deprecated("dojox.grid._Grid.setStructure(obj)","use dojox.grid._Grid.set('structure', obj) instead.","2.0");this._setStructureAttr(_193);},getColumnTogglingItems:function(){var _194,_195=[];_194=_18a.map(this.layout.cells,function(cell){if(!cell.menuItems){cell.menuItems=[];}var self=this;var item=new _187({label:cell.name,checked:!cell.hidden,_gridCell:cell,onChange:function(_196){if(self.layout.setColumnVisibility(this._gridCell.index,_196)){var _197=this._gridCell.menuItems;if(_197.length>1){_18a.forEach(_197,function(item){if(item!==this){item.setAttribute("checked",_196);}},this);}_196=_18a.filter(self.layout.cells,function(c){if(c.menuItems.length>1){_18a.forEach(c.menuItems,"item.set('disabled', false);");}else{c.menuItems[0].set("disabled",false);}return !c.hidden;});if(_196.length==1){_18a.forEach(_196[0].menuItems,"item.set('disabled', true);");}}},destroy:function(){var _198=_18a.indexOf(this._gridCell.menuItems,this);this._gridCell.menuItems.splice(_198,1);delete this._gridCell;_187.prototype.destroy.apply(this,arguments);}});cell.menuItems.push(item);if(!cell.hidden){_195.push(item);}return item;},this);if(_195.length==1){_195[0].set("disabled",true);}return _194;},_setHeaderMenuAttr:function(menu){if(this._placeholders&&this._placeholders.length){_18a.forEach(this._placeholders,function(p){p.unReplace(true);});this._placeholders=[];}if(this.headerMenu){this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.headerMenu=menu;if(!menu){return;}this.headerMenu.bindDomNode(this.viewsHeaderNode);if(this.headerMenu.getPlaceholders){this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel);}},setHeaderMenu:function(menu){dojo.deprecated("dojox.grid._Grid.setHeaderMenu(obj)","use dojox.grid._Grid.set('headerMenu', obj) instead.","2.0");this._setHeaderMenuAttr(menu);},setupHeaderMenu:function(){if(this._placeholders&&this._placeholders.length){_18a.forEach(this._placeholders,function(p){if(p._replaced){p.unReplace(true);}p.replace(this.getColumnTogglingItems());},this);}},_fetch:function(_199){this.setScrollTop(0);},getItem:function(_19a){return null;},showMessage:function(_19b){if(_19b){this.messagesNode.innerHTML=_19b;this.messagesNode.style.display="";}else{this.messagesNode.innerHTML="";this.messagesNode.style.display="none";}},_structureChanged:function(){this.buildViews();if(this.autoRender&&this._started){this.render();}},hasLayout:function(){return this.layout.cells.length;},resize:function(_19c,_19d){this._pendingChangeSize=_19c;this._pendingResultSize=_19d;this.sizeChange();},_getPadBorder:function(){this._padBorder=this._padBorder||html._getPadBorderExtents(this.domNode);return this._padBorder;},_getHeaderHeight:function(){var vns=this.viewsHeaderNode.style,t=vns.display=="none"?0:this.views.measureHeader();vns.height=t+"px";this.views.normalizeHeaderNodeHeight();return t;},_resize:function(_19e,_19f){_19e=_19e||this._pendingChangeSize;_19f=_19f||this._pendingResultSize;delete this._pendingChangeSize;delete this._pendingResultSize;if(!this.domNode){return;}var pn=this.domNode.parentNode;if(!pn||pn.nodeType!=1||!this.hasLayout()||pn.style.visibility=="hidden"||pn.style.display=="none"){return;}var _1a0=this._getPadBorder();var hh=undefined;var h;if(this._autoHeight){this.domNode.style.height="auto";}else{if(typeof this.autoHeight=="number"){h=hh=this._getHeaderHeight();h+=(this.scroller.averageRowHeight*this.autoHeight);this.domNode.style.height=h+"px";}else{if(this.domNode.clientHeight<=_1a0.h){if(pn==document.body){this.domNode.style.height=this.defaultHeight;}else{if(this.height){this.domNode.style.height=this.height;}else{this.fitTo="parent";}}}}}if(_19f){_19e=_19f;}if(!this._autoHeight&&_19e){html.marginBox(this.domNode,_19e);this.height=this.domNode.style.height;delete this.fitTo;}else{if(this.fitTo=="parent"){h=this._parentContentBoxHeight=(this._parentContentBoxHeight>0?this._parentContentBoxHeight:html._getContentBox(pn).h);this.domNode.style.height=Math.max(0,h)+"px";}}var _1a1=_18a.some(this.views.views,function(v){return v.flexCells;});if(!this._autoHeight&&(h||html._getContentBox(this.domNode).h)===0){this.viewsHeaderNode.style.display="none";}else{this.viewsHeaderNode.style.display="block";if(!_1a1&&hh===undefined){hh=this._getHeaderHeight();}}if(_1a1){hh=undefined;}this.adaptWidth();this.adaptHeight(hh);this.postresize();},adaptWidth:function(){var _1a2=(!this.initialWidth&&this.autoWidth);var w=_1a2?0:this.domNode.clientWidth||(this.domNode.offsetWidth-this._getPadBorder().w),vw=this.views.arrange(1,w);this.views.onEach("adaptWidth");if(_1a2){this.domNode.style.width=vw+"px";}},adaptHeight:function(_1a3){var t=_1a3===undefined?this._getHeaderHeight():_1a3;var h=(this._autoHeight?-1:Math.max(this.domNode.clientHeight-t,0)||0);this.views.onEach("setSize",[0,h]);this.views.onEach("adaptHeight");if(!this._autoHeight){var _1a4=0,_1a5=0;var _1a6=_18a.filter(this.views.views,function(v){var has=v.hasHScrollbar();if(has){_1a4++;}else{_1a5++;}return (!has);});if(_1a4>0&&_1a5>0){_18a.forEach(_1a6,function(v){v.adaptHeight(true);});}}if(this.autoHeight===true||h!=-1||(typeof this.autoHeight=="number"&&this.autoHeight>=this.get("rowCount"))){this.scroller.windowHeight=h;}else{this.scroller.windowHeight=Math.max(this.domNode.clientHeight-t,0);}},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.autoRender){this.render();}},render:function(){if(!this.domNode){return;}if(!this._started){return;}if(!this.hasLayout()){this.scroller.init(0,this.keepRows,this.rowsPerPage);return;}this.update=this.defaultUpdate;this._render();},_render:function(){this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender();},prerender:function(){this.keepRows=this._autoHeight?0:this.keepRows;this.scroller.setKeepInfo(this.keepRows);this.views.render();this._resize();},postrender:function(){this.postresize();this.focus.initFocusView();html.setSelectable(this.domNode,this.selectable);},postresize:function(){if(this._autoHeight){var size=Math.max(this.views.measureContent())+"px";this.viewsNode.style.height=size;}},renderRow:function(_1a7,_1a8){this.views.renderRow(_1a7,_1a8,this._skipRowRenormalize);},rowRemoved:function(_1a9){this.views.rowRemoved(_1a9);},invalidated:null,updating:false,beginUpdate:function(){this.invalidated=[];this.updating=true;},endUpdate:function(){this.updating=false;var i=this.invalidated,r;if(i.all){this.update();}else{if(i.rowCount!=undefined){this.updateRowCount(i.rowCount);}else{for(r in i){this.updateRow(Number(r));}}}this.invalidated=[];},defaultUpdate:function(){if(!this.domNode){return;}if(this.updating){this.invalidated.all=true;return;}this.lastScrollTop=this.scrollTop;this.prerender();this.scroller.invalidateNodes();this.setScrollTop(this.lastScrollTop);this.postrender();},update:function(){this.render();},updateRow:function(_1aa){_1aa=Number(_1aa);if(this.updating){this.invalidated[_1aa]=true;}else{this.views.updateRow(_1aa);this.scroller.rowHeightChanged(_1aa);}},updateRows:function(_1ab,_1ac){_1ab=Number(_1ab);_1ac=Number(_1ac);var i;if(this.updating){for(i=0;i<_1ac;i++){this.invalidated[i+_1ab]=true;}}else{for(i=0;i<_1ac;i++){this.views.updateRow(i+_1ab,this._skipRowRenormalize);}this.scroller.rowHeightChanged(_1ab);}},updateRowCount:function(_1ad){if(this.updating){this.invalidated.rowCount=_1ad;}else{this.rowCount=_1ad;this._setAutoHeightAttr(this.autoHeight,true);if(this.layout.cells.length){this.scroller.updateRowCount(_1ad);}this._resize();if(this.layout.cells.length){this.setScrollTop(this.scrollTop);}}},updateRowStyles:function(_1ae){this.views.updateRowStyles(_1ae);},getRowNode:function(_1af){if(this.focus.focusView&&!(this.focus.focusView instanceof _184)){return this.focus.focusView.rowNodes[_1af];}else{for(var i=0,_1b0;(_1b0=this.views.views[i]);i++){if(!(_1b0 instanceof _184)){return _1b0.rowNodes[_1af];}}}return null;},rowHeightChanged:function(_1b1){this.views.renormalizeRow(_1b1);this.scroller.rowHeightChanged(_1b1);},fastScroll:true,delayScroll:false,scrollRedrawThreshold:(has("ie")?100:50),scrollTo:function(_1b2){if(!this.fastScroll){this.setScrollTop(_1b2);return;}var _1b3=Math.abs(this.lastScrollTop-_1b2);this.lastScrollTop=_1b2;if(_1b3>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=true;this.scrollTop=_1b2;this.views.setScrollTop(_1b2);if(this._pendingScroll){window.clearTimeout(this._pendingScroll);}var _1b4=this;this._pendingScroll=window.setTimeout(function(){delete _1b4._pendingScroll;_1b4.finishScrollJob();},200);}else{this.setScrollTop(_1b2);}},finishScrollJob:function(){this.delayScroll=false;this.setScrollTop(this.scrollTop);},setScrollTop:function(_1b5){this.scroller.scroll(this.views.setScrollTop(_1b5));},scrollToRow:function(_1b6){this.setScrollTop(this.scroller.findScrollTop(_1b6)+1);},styleRowNode:function(_1b7,_1b8){if(_1b8){this.rows.styleRowNode(_1b7,_1b8);}},_mouseOut:function(e){this.rows.setOverRow(-2);},getCell:function(_1b9){return this.layout.cells[_1b9];},setCellWidth:function(_1ba,_1bb){this.getCell(_1ba).unitWidth=_1bb;},getCellName:function(_1bc){return "Cell "+_1bc.index;},canSort:function(_1bd){},sort:function(){},getSortAsc:function(_1be){_1be=_1be==undefined?this.sortInfo:_1be;return Boolean(_1be>0);},getSortIndex:function(_1bf){_1bf=_1bf==undefined?this.sortInfo:_1bf;return Math.abs(_1bf)-1;},setSortIndex:function(_1c0,_1c1){var si=_1c0+1;if(_1c1!=undefined){si*=(_1c1?1:-1);}else{if(this.getSortIndex()==_1c0){si=-this.sortInfo;}}this.setSortInfo(si);},setSortInfo:function(_1c2){if(this.canSort(_1c2)){this.sortInfo=_1c2;this.sort();this.update();}},doKeyEvent:function(e){e.dispatch="do"+e.type;this.onKeyEvent(e);},_dispatch:function(m,e){if(m in this){return this[m](e);}return false;},dispatchKeyEvent:function(e){this._dispatch(e.dispatch,e);},dispatchContentEvent:function(e){this.edit.dispatchEvent(e)||e.sourceView.dispatchContentEvent(e)||this._dispatch(e.dispatch,e);},dispatchHeaderEvent:function(e){e.sourceView.dispatchHeaderEvent(e)||this._dispatch("doheader"+e.type,e);},dokeydown:function(e){this.onKeyDown(e);},doclick:function(e){if(e.cellNode){this.onCellClick(e);}else{this.onRowClick(e);}},dodblclick:function(e){if(e.cellNode){this.onCellDblClick(e);}else{this.onRowDblClick(e);}},docontextmenu:function(e){if(e.cellNode){this.onCellContextMenu(e);}else{this.onRowContextMenu(e);}},doheaderclick:function(e){if(e.cellNode){this.onHeaderCellClick(e);}else{this.onHeaderClick(e);}},doheaderdblclick:function(e){if(e.cellNode){this.onHeaderCellDblClick(e);}else{this.onHeaderDblClick(e);}},doheadercontextmenu:function(e){if(e.cellNode){this.onHeaderCellContextMenu(e);}else{this.onHeaderContextMenu(e);}},doStartEdit:function(_1c3,_1c4){this.onStartEdit(_1c3,_1c4);},doApplyCellEdit:function(_1c5,_1c6,_1c7){this.onApplyCellEdit(_1c5,_1c6,_1c7);},doCancelEdit:function(_1c8){this.onCancelEdit(_1c8);},doApplyEdit:function(_1c9){this.onApplyEdit(_1c9);},addRow:function(){this.updateRowCount(this.get("rowCount")+1);},removeSelectedRows:function(){if(this.allItemsSelected){this.updateRowCount(0);}else{this.updateRowCount(Math.max(0,this.get("rowCount")-this.selection.getSelected().length));}this.selection.clear();}});_18d.markupFactory=function(_1ca,node,ctor,_1cb){var _1cc=function(n){var w=html.attr(n,"width")||"auto";if((w!="auto")&&(w.slice(-2)!="em")&&(w.slice(-1)!="%")){w=parseInt(w,10)+"px";}return w;};if(!_1ca.structure&&node.nodeName.toLowerCase()=="table"){_1ca.structure=_18c("> colgroup",node).map(function(cg){var sv=html.attr(cg,"span");var v={noscroll:(html.attr(cg,"noscroll")=="true")?true:false,__span:(!!sv?parseInt(sv,10):1),cells:[]};if(html.hasAttr(cg,"width")){v.width=_1cc(cg);}return v;});if(!_1ca.structure.length){_1ca.structure.push({__span:Infinity,cells:[]});}_18c("thead > tr",node).forEach(function(tr,_1cd){var _1ce=0;var _1cf=0;var _1d0;var _1d1=null;_18c("> th",tr).map(function(th){if(!_1d1){_1d0=0;_1d1=_1ca.structure[0];}else{if(_1ce>=(_1d0+_1d1.__span)){_1cf++;_1d0+=_1d1.__span;var _1d2=_1d1;_1d1=_1ca.structure[_1cf];}}var cell={name:lang.trim(html.attr(th,"name")||th.innerHTML),colSpan:parseInt(html.attr(th,"colspan")||1,10),type:lang.trim(html.attr(th,"cellType")||""),id:lang.trim(html.attr(th,"id")||"")};_1ce+=cell.colSpan;var _1d3=html.attr(th,"rowspan");if(_1d3){cell.rowSpan=_1d3;}if(html.hasAttr(th,"width")){cell.width=_1cc(th);}if(html.hasAttr(th,"relWidth")){cell.relWidth=window.parseInt(html.attr(th,"relWidth"),10);}if(html.hasAttr(th,"hidden")){cell.hidden=(html.attr(th,"hidden")=="true"||html.attr(th,"hidden")===true);}if(_1cb){_1cb(th,cell);}cell.type=cell.type?lang.getObject(cell.type):_179.grid.cells.Cell;if(cell.type&&cell.type.markupFactory){cell.type.markupFactory(th,cell);}if(!_1d1.cells[_1cd]){_1d1.cells[_1cd]=[];}_1d1.cells[_1cd].push(cell);});});}return new ctor(_1ca,node);};return _18d;});},"dojox/grid/_Events":function(){define(["dojo/keys","dojo/dom-class","dojo/_base/declare","dojo/_base/event","dojo/_base/sniff"],function(keys,_1d4,_1d5,_1d6,has){return _1d5("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(e){this.dispatchKeyEvent(e);},onContentEvent:function(e){this.dispatchContentEvent(e);},onHeaderEvent:function(e){this.dispatchHeaderEvent(e);},onStyleRow:function(_1d7){var i=_1d7;i.customClasses+=(i.odd?" dojoxGridRowOdd":"")+(i.selected?" dojoxGridRowSelected":"")+(i.over?" dojoxGridRowOver":"");this.focus.styleRow(_1d7);this.edit.styleRow(_1d7);},onKeyDown:function(e){if(e.altKey||e.metaKey){return;}var _1d8;switch(e.keyCode){case keys.ESCAPE:this.edit.cancel();break;case keys.ENTER:if(!this.edit.isEditing()){_1d8=this.focus.getHeaderIndex();if(_1d8>=0){this.setSortIndex(_1d8);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);}_1d6.stop(e);}if(!e.shiftKey){var _1d9=this.edit.isEditing();this.edit.apply();if(!_1d9){this.edit.setEditCell(this.focus.cell,this.focus.rowIndex);}}if(!this.edit.isEditing()){var _1da=this.focus.focusView||this.views.views[0];_1da.content.decorateEvent(e);this.onRowClick(e);_1d6.stop(e);}break;case keys.SPACE:if(!this.edit.isEditing()){_1d8=this.focus.getHeaderIndex();if(_1d8>=0){this.setSortIndex(_1d8);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);}_1d6.stop(e);}break;case keys.TAB:this.focus[e.shiftKey?"previousKey":"nextKey"](e);break;case keys.LEFT_ARROW:case keys.RIGHT_ARROW:if(!this.edit.isEditing()){var _1db=e.keyCode;_1d6.stop(e);_1d8=this.focus.getHeaderIndex();if(_1d8>=0&&(e.shiftKey&&e.ctrlKey)){this.focus.colSizeAdjust(e,_1d8,(_1db==keys.LEFT_ARROW?-1:1)*5);}else{var _1dc=(_1db==keys.LEFT_ARROW)?1:-1;if(this.isLeftToRight()){_1dc*=-1;}this.focus.move(0,_1dc);}}break;case keys.UP_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex!==0){_1d6.stop(e);this.focus.move(-1,0);}break;case keys.DOWN_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){_1d6.stop(e);this.focus.move(1,0);}break;case keys.PAGE_UP:if(!this.edit.isEditing()&&this.focus.rowIndex!==0){_1d6.stop(e);if(this.focus.rowIndex!=this.scroller.firstVisibleRow+1){this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1));this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0);}}break;case keys.PAGE_DOWN:if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){_1d6.stop(e);if(this.focus.rowIndex!=this.scroller.lastVisibleRow-1){this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1));this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-1,0);}}break;default:break;}},onMouseOver:function(e){e.rowIndex==-1?this.onHeaderCellMouseOver(e):this.onCellMouseOver(e);},onMouseOut:function(e){e.rowIndex==-1?this.onHeaderCellMouseOut(e):this.onCellMouseOut(e);},onMouseDown:function(e){e.rowIndex==-1?this.onHeaderCellMouseDown(e):this.onCellMouseDown(e);},onMouseOverRow:function(e){if(!this.rows.isOver(e.rowIndex)){this.rows.setOverRow(e.rowIndex);e.rowIndex==-1?this.onHeaderMouseOver(e):this.onRowMouseOver(e);}},onMouseOutRow:function(e){if(this.rows.isOver(-1)){this.onHeaderMouseOut(e);}else{if(!this.rows.isOver(-2)){this.rows.setOverRow(-2);this.onRowMouseOut(e);}}},onMouseDownRow:function(e){if(e.rowIndex!=-1){this.onRowMouseDown(e);}},onCellMouseOver:function(e){if(e.cellNode){_1d4.add(e.cellNode,this.cellOverClass);}},onCellMouseOut:function(e){if(e.cellNode){_1d4.remove(e.cellNode,this.cellOverClass);}},onCellMouseDown:function(e){},onCellClick:function(e){this._click[0]=this._click[1];this._click[1]=e;if(!this.edit.isEditCell(e.rowIndex,e.cellIndex)){this.focus.setFocusCell(e.cell,e.rowIndex);}if(this._click.length>1&&this._click[0]==null){this._click.shift();}this.onRowClick(e);},onCellDblClick:function(e){var _1dd;if(this._click.length>1&&has("ie")){_1dd=this._click[1];}else{if(this._click.length>1&&this._click[0].rowIndex!=this._click[1].rowIndex){_1dd=this._click[0];}else{_1dd=e;}}this.focus.setFocusCell(_1dd.cell,_1dd.rowIndex);this.edit.setEditCell(_1dd.cell,_1dd.rowIndex);this.onRowDblClick(e);},onCellContextMenu:function(e){this.onRowContextMenu(e);},onCellFocus:function(_1de,_1df){this.edit.cellFocus(_1de,_1df);},onRowClick:function(e){this.edit.rowClick(e);this.selection.clickSelectEvent(e);},onRowDblClick:function(e){},onRowMouseOver:function(e){},onRowMouseOut:function(e){},onRowMouseDown:function(e){},onRowContextMenu:function(e){_1d6.stop(e);},onHeaderMouseOver:function(e){},onHeaderMouseOut:function(e){},onHeaderCellMouseOver:function(e){if(e.cellNode){_1d4.add(e.cellNode,this.cellOverClass);}},onHeaderCellMouseOut:function(e){if(e.cellNode){_1d4.remove(e.cellNode,this.cellOverClass);}},onHeaderCellMouseDown:function(e){},onHeaderClick:function(e){},onHeaderCellClick:function(e){this.setSortIndex(e.cell.index);this.onHeaderClick(e);},onHeaderDblClick:function(e){},onHeaderCellDblClick:function(e){this.onHeaderDblClick(e);},onHeaderCellContextMenu:function(e){this.onHeaderContextMenu(e);},onHeaderContextMenu:function(e){if(!this.headerMenu){_1d6.stop(e);}},onStartEdit:function(_1e0,_1e1){},onApplyCellEdit:function(_1e2,_1e3,_1e4){},onCancelEdit:function(_1e5){},onApplyEdit:function(_1e6){},onCanSelect:function(_1e7){return true;},onCanDeselect:function(_1e8){return true;},onSelected:function(_1e9){this.updateRowStyles(_1e9);},onDeselected:function(_1ea){this.updateRowStyles(_1ea);},onSelectionChanged:function(){}});});},"dojox/grid/_Scroller":function(){define(["dijit/registry","dojo/_base/declare","dojo/_base/lang","./util","dojo/_base/html"],function(_1eb,_1ec,lang,util,html){var _1ed=function(_1ee){var i=0,n,p=_1ee.parentNode;while((n=p.childNodes[i++])){if(n==_1ee){return i-1;}}return -1;};var _1ef=function(_1f0){if(!_1f0){return;}dojo.forEach(_1eb.toArray(),function(w){if(w.domNode&&html.isDescendant(w.domNode,_1f0,true)){w.destroy();}});};var _1f1=function(_1f2){var node=html.byId(_1f2);return (node&&node.tagName?node.tagName.toLowerCase():"");};var _1f3=function(_1f4,_1f5){var _1f6=[];var i=0,n;while((n=_1f4.childNodes[i])){i++;if(_1f1(n)==_1f5){_1f6.push(n);}}return _1f6;};var _1f7=function(_1f8){return _1f3(_1f8,"div");};return _1ec("dojox.grid._Scroller",null,{constructor:function(_1f9){this.setContentNodes(_1f9);this.pageHeights=[];this.pageNodes=[];this.stack=[];},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,averageRowHeight:0,page:0,pageTop:0,init:function(_1fa,_1fb,_1fc){switch(arguments.length){case 3:this.rowsPerPage=_1fc;case 2:this.keepRows=_1fb;case 1:this.rowCount=_1fa;default:break;}this.defaultPageHeight=(this.grid.rowHeight>0?this.grid.rowHeight:this.defaultRowHeight)*this.rowsPerPage;this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);this.setKeepInfo(this.keepRows);this.invalidate();if(this.scrollboxNode){this.scrollboxNode.scrollTop=0;this.scroll(0);this.scrollboxNode.onscroll=lang.hitch(this,"onscroll");}},_getPageCount:function(_1fd,_1fe){return _1fd?(Math.ceil(_1fd/_1fe)||1):0;},destroy:function(){this.invalidateNodes();delete this.contentNodes;delete this.contentNode;delete this.scrollboxNode;},setKeepInfo:function(_1ff){this.keepRows=_1ff;this.keepPages=!this.keepRows?this.keepPages:Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2);},setContentNodes:function(_200){this.contentNodes=_200;this.colCount=(this.contentNodes?this.contentNodes.length:0);this.pageNodes=[];for(var i=0;i<this.colCount;i++){this.pageNodes[i]=[];}},getDefaultNodes:function(){return this.pageNodes[0]||[];},invalidate:function(){this._invalidating=true;this.invalidateNodes();this.pageHeights=[];this.height=(this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0);this.resize();this._invalidating=false;},updateRowCount:function(_201){this.invalidateNodes();this.rowCount=_201;var _202=this.pageCount;if(_202===0){this.height=1;}this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);if(this.pageCount<_202){for(var i=_202-1;i>=this.pageCount;i--){this.height-=this.getPageHeight(i);delete this.pageHeights[i];}}else{if(this.pageCount>_202){this.height+=this.defaultPageHeight*(this.pageCount-_202-1)+this.calcLastPageHeight();}}this.resize();},pageExists:function(_203){return Boolean(this.getDefaultPageNode(_203));},measurePage:function(_204){if(this.grid.rowHeight){return ((_204+1)*this.rowsPerPage>this.rowCount?this.rowCount-_204*this.rowsPerPage:this.rowsPerPage)*this.grid.rowHeight;}var n=this.getDefaultPageNode(_204);return (n&&n.innerHTML)?n.offsetHeight:undefined;},positionPage:function(_205,_206){for(var i=0;i<this.colCount;i++){this.pageNodes[i][_205].style.top=_206+"px";}},repositionPages:function(_207){var _208=this.getDefaultNodes();var last=0;for(var i=0;i<this.stack.length;i++){last=Math.max(this.stack[i],last);}var n=_208[_207];var y=(n?this.getPageNodePosition(n)+this.getPageHeight(_207):0);for(var p=_207+1;p<=last;p++){n=_208[p];if(n){if(this.getPageNodePosition(n)==y){return;}this.positionPage(p,y);}y+=this.getPageHeight(p);}},installPage:function(_209){for(var i=0;i<this.colCount;i++){this.contentNodes[i].appendChild(this.pageNodes[i][_209]);}},preparePage:function(_20a,_20b){var p=(_20b?this.popPage():null);for(var i=0;i<this.colCount;i++){var _20c=this.pageNodes[i];var _20d=(p===null?this.createPageNode():this.invalidatePageNode(p,_20c));_20d.pageIndex=_20a;_20c[_20a]=_20d;}},renderPage:function(_20e){var _20f=[];var i,j;for(i=0;i<this.colCount;i++){_20f[i]=this.pageNodes[i][_20e];}for(i=0,j=_20e*this.rowsPerPage;(i<this.rowsPerPage)&&(j<this.rowCount);i++,j++){this.renderRow(j,_20f);}},removePage:function(_210){for(var i=0,j=_210*this.rowsPerPage;i<this.rowsPerPage;i++,j++){this.removeRow(j);}},destroyPage:function(_211){for(var i=0;i<this.colCount;i++){var n=this.invalidatePageNode(_211,this.pageNodes[i]);if(n){html.destroy(n);}}},pacify:function(_212){},pacifying:false,pacifyTicks:200,setPacifying:function(_213){if(this.pacifying!=_213){this.pacifying=_213;this.pacify(this.pacifying);}},startPacify:function(){this.startPacifyTicks=new Date().getTime();},doPacify:function(){var _214=(new Date().getTime()-this.startPacifyTicks)>this.pacifyTicks;this.setPacifying(true);this.startPacify();return _214;},endPacify:function(){this.setPacifying(false);},resize:function(){if(this.scrollboxNode){this.windowHeight=this.scrollboxNode.clientHeight;}for(var i=0;i<this.colCount;i++){util.setStyleHeightPx(this.contentNodes[i],Math.max(1,this.height));}var _215=(!this._invalidating);if(!_215){var ah=this.grid.get("autoHeight");if(typeof ah=="number"&&ah<=Math.min(this.rowsPerPage,this.rowCount)){_215=true;}}if(_215){this.needPage(this.page,this.pageTop);}var _216=(this.page<this.pageCount-1)?this.rowsPerPage:((this.rowCount%this.rowsPerPage)||this.rowsPerPage);var _217=this.getPageHeight(this.page);this.averageRowHeight=(_217>0&&_216>0)?(_217/_216):0;},calcLastPageHeight:function(){if(!this.pageCount){return 0;}var _218=this.pageCount-1;var _219=((this.rowCount%this.rowsPerPage)||(this.rowsPerPage))*this.defaultRowHeight;this.pageHeights[_218]=_219;return _219;},updateContentHeight:function(inDh){this.height+=inDh;this.resize();},updatePageHeight:function(_21a,_21b,_21c){if(this.pageExists(_21a)){var oh=this.getPageHeight(_21a);var h=(this.measurePage(_21a));if(h===undefined){h=oh;}this.pageHeights[_21a]=h;if(oh!=h){this.updateContentHeight(h-oh);var ah=this.grid.get("autoHeight");if((typeof ah=="number"&&ah>this.rowCount)||(ah===true&&!_21b)){if(!_21c){this.grid.sizeChange();}else{var ns=this.grid.viewsNode.style;ns.height=parseInt(ns.height)+h-oh+"px";this.repositionPages(_21a);}}else{this.repositionPages(_21a);}}return h;}return 0;},rowHeightChanged:function(_21d,_21e){this.updatePageHeight(Math.floor(_21d/this.rowsPerPage),false,_21e);},invalidateNodes:function(){while(this.stack.length){this.destroyPage(this.popPage());}},createPageNode:function(){var p=document.createElement("div");html.attr(p,"role","presentation");p.style.position="absolute";p.style[this.grid.isLeftToRight()?"left":"right"]="0";return p;},getPageHeight:function(_21f){var ph=this.pageHeights[_21f];return (ph!==undefined?ph:this.defaultPageHeight);},pushPage:function(_220){return this.stack.push(_220);},popPage:function(){return this.stack.shift();},findPage:function(_221){var i=0,h=0;for(var ph=0;i<this.pageCount;i++,h+=ph){ph=this.getPageHeight(i);if(h+ph>=_221){break;}}this.page=i;this.pageTop=h;},buildPage:function(_222,_223,_224){this.preparePage(_222,_223);this.positionPage(_222,_224);this.installPage(_222);this.renderPage(_222);this.pushPage(_222);},needPage:function(_225,_226){var h=this.getPageHeight(_225),oh=h;if(!this.pageExists(_225)){this.buildPage(_225,(!this.grid._autoHeight&&this.keepPages&&(this.stack.length>=this.keepPages)),_226);h=this.updatePageHeight(_225,true);}else{this.positionPage(_225,_226);}return h;},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop);},scroll:function(_227){this.grid.scrollTop=_227;if(this.colCount){this.startPacify();this.findPage(_227);var h=this.height;var b=this.getScrollBottom(_227);for(var p=this.page,y=this.pageTop;(p<this.pageCount)&&((b<0)||(y<b));p++){y+=this.needPage(p,y);}this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,_227);this.lastVisibleRow=this.getLastVisibleRow(p-1,y,b);if(h!=this.height){this.repositionPages(p-1);}this.endPacify();}},getScrollBottom:function(_228){return (this.windowHeight>=0?_228+this.windowHeight:-1);},processNodeEvent:function(e,_229){var t=e.target;while(t&&(t!=_229)&&t.parentNode&&(t.parentNode.parentNode!=_229)){t=t.parentNode;}if(!t||!t.parentNode||(t.parentNode.parentNode!=_229)){return false;}var page=t.parentNode;e.topRowIndex=page.pageIndex*this.rowsPerPage;e.rowIndex=e.topRowIndex+_1ed(t);e.rowTarget=t;return true;},processEvent:function(e){return this.processNodeEvent(e,this.contentNode);},renderRow:function(_22a,_22b){},removeRow:function(_22c){},getDefaultPageNode:function(_22d){return this.getDefaultNodes()[_22d];},positionPageNode:function(_22e,_22f){},getPageNodePosition:function(_230){return _230.offsetTop;},invalidatePageNode:function(_231,_232){var p=_232[_231];if(p){delete _232[_231];this.removePage(_231,p);_1ef(p);p.innerHTML="";}return p;},getPageRow:function(_233){return _233*this.rowsPerPage;},getLastPageRow:function(_234){return Math.min(this.rowCount,this.getPageRow(_234+1))-1;},getFirstVisibleRow:function(_235,_236,_237){if(!this.pageExists(_235)){return 0;}var row=this.getPageRow(_235);var _238=this.getDefaultNodes();var rows=_1f7(_238[_235]);for(var i=0,l=rows.length;i<l&&_236<_237;i++,row++){_236+=rows[i].offsetHeight;}return (row?row-1:row);},getLastVisibleRow:function(_239,_23a,_23b){if(!this.pageExists(_239)){return 0;}var _23c=this.getDefaultNodes();var row=this.getLastPageRow(_239);var rows=_1f7(_23c[_239]);for(var i=rows.length-1;i>=0&&_23a>_23b;i--,row--){_23a-=rows[i].offsetHeight;}return row+1;},findTopRow:function(_23d){var _23e=this.getDefaultNodes();var rows=_1f7(_23e[this.page]);for(var i=0,l=rows.length,t=this.pageTop,h;i<l;i++){h=rows[i].offsetHeight;t+=h;if(t>=_23d){this.offset=h-(t-_23d);return i+this.page*this.rowsPerPage;}}return -1;},findScrollTop:function(_23f){var _240=Math.floor(_23f/this.rowsPerPage);var t=0;var i,l;for(i=0;i<_240;i++){t+=this.getPageHeight(i);}this.pageTop=t;this.page=_240;this.needPage(_240,this.pageTop);var _241=this.getDefaultNodes();var rows=_1f7(_241[_240]);var r=_23f-this.rowsPerPage*_240;for(i=0,l=rows.length;i<l&&i<r;i++){t+=rows[i].offsetHeight;}return t;},dummy:0});});},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(_242,win,_243){var _244={},hash={};var _245={length:0,add:function(_246){if(hash[_246.id]){throw new Error("Tried to register widget with id=="+_246.id+" but that id is already registered");}hash[_246.id]=_246;this.length++;},remove:function(id){if(hash[id]){delete hash[id];this.length--;}},byId:function(id){return typeof id=="string"?hash[id]:id;},byNode:function(node){return hash[node.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in hash){ar.push(hash[id]);}return ar;},getUniqueId:function(_247){var id;do{id=_247+"_"+(_247 in _244?++_244[_247]:_244[_247]=0);}while(hash[id]);return _243._scopeName=="dijit"?id:_243._scopeName+"_"+id;},findWidgets:function(root,_248){var _249=[];function _24a(root){for(var node=root.firstChild;node;node=node.nextSibling){if(node.nodeType==1){var _24b=node.getAttribute("widgetId");if(_24b){var _24c=hash[_24b];if(_24c){_249.push(_24c);}}else{if(node!==_248){_24a(node);}}}}};_24a(root);return _249;},_destroyAll:function(){_243._curFocus=null;_243._prevFocus=null;_243._activeStack=[];_242.forEach(_245.findWidgets(win.body()),function(_24d){if(!_24d._destroyed){if(_24d.destroyRecursive){_24d.destroyRecursive();}else{if(_24d.destroy){_24d.destroy();}}}});},getEnclosingWidget:function(node){while(node){var id=node.nodeType==1&&node.getAttribute("widgetId");if(id){return hash[id];}node=node.parentNode;}return null;},_hash:hash};_243.registry=_245;return _245;});},"dijit/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dijit;});},"dojox/grid/util":function(){define(["../main","dojo/_base/lang","dojo/dom"],function(_24e,lang,dom){var dgu=lang.getObject("grid.util",true,_24e);dgu.na="...";dgu.rowIndexTag="gridRowIndex";dgu.gridViewTag="gridView";dgu.fire=function(ob,ev,args){var fn=ob&&ev&&ob[ev];return fn&&(args?fn.apply(ob,args):ob[ev]());};dgu.setStyleHeightPx=function(_24f,_250){if(_250>=0){var s=_24f.style;var v=_250+"px";if(_24f&&s["height"]!=v){s["height"]=v;}}};dgu.mouseEvents=["mouseover","mouseout","mousedown","mouseup","click","dblclick","contextmenu"];dgu.keyEvents=["keyup","keydown","keypress"];dgu.funnelEvents=function(_251,_252,_253,_254){var evts=(_254?_254:dgu.mouseEvents.concat(dgu.keyEvents));for(var i=0,l=evts.length;i<l;i++){_252.connect(_251,"on"+evts[i],_253);}};dgu.removeNode=function(_255){_255=dom.byId(_255);_255&&_255.parentNode&&_255.parentNode.removeChild(_255);return _255;};dgu.arrayCompare=function(inA,inB){for(var i=0,l=inA.length;i<l;i++){if(inA[i]!=inB[i]){return false;}}return (inA.length==inB.length);};dgu.arrayInsert=function(_256,_257,_258){if(_256.length<=_257){_256[_257]=_258;}else{_256.splice(_257,0,_258);}};dgu.arrayRemove=function(_259,_25a){_259.splice(_25a,1);};dgu.arraySwap=function(_25b,inI,inJ){var _25c=_25b[inI];_25b[inI]=_25b[inJ];_25b[inJ]=_25c;};return dgu;});},"dojox/grid/_Layout":function(){define(["dojo/_base/kernel","../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-geometry","./cells","./_RowSelector"],function(dojo,_25d,_25e,_25f,lang,_260){return _25e("dojox.grid._Layout",null,{constructor:function(_261){this.grid=_261;},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(_262,_263,_264,_265,_266){var _267=this.structure[_262].cells[0];var _268=this.structure[_263].cells[0];var cell=null;var _269=0;var _26a=0;for(var i=0,c;c=_267[i];i++){if(c.index==_264){_269=i;break;}}cell=_267.splice(_269,1)[0];cell.view=this.grid.views.views[_263];for(i=0,c=null;c=_268[i];i++){if(c.index==_265){_26a=i;break;}}if(!_266){_26a+=1;}_268.splice(_26a,0,cell);var _26b=this.grid.getCell(this.grid.getSortIndex());if(_26b){_26b._currentlySorted=this.grid.getSortAsc();}this.cells=[];_264=0;var v;for(i=0;v=this.structure[i];i++){for(var j=0,cs;cs=v.cells[j];j++){for(var k=0;c=cs[k];k++){c.index=_264;this.cells.push(c);if("_currentlySorted" in c){var si=_264+1;si*=c._currentlySorted?1:-1;this.grid.sortInfo=si;delete c._currentlySorted;}_264++;}}}_25f.forEach(this.cells,function(c){var _26c=c.markup[2].split(" ");var _26d=parseInt(_26c[1].substring(5));if(_26d!=c.index){_26c[1]="idx=\""+c.index+"\"";c.markup[2]=_26c.join(" ");}});this.grid.setupHeaderMenu();},setColumnVisibility:function(_26e,_26f){var cell=this.cells[_26e];if(cell.hidden==_26f){cell.hidden=!_26f;var v=cell.view,w=v.viewWidth;if(w&&w!="auto"){v._togglingColumn=_260.getMarginBox(cell.getHeaderNode()).w||0;}v.update();return true;}else{return false;}},addCellDef:function(_270,_271,_272){var self=this;var _273=function(_274){var w=0;if(_274.colSpan>1){w=0;}else{w=_274.width||self._defaultCellProps.width||self.defaultWidth;if(!isNaN(w)){w=w+"em";}}return w;};var _275={grid:this.grid,subrow:_270,layoutIndex:_271,index:this.cells.length};if(_272&&_272 instanceof _25d.grid.cells._Base){var _276=lang.clone(_272);_275.unitWidth=_273(_276._props);_276=lang.mixin(_276,this._defaultCellProps,_272._props,_275);return _276;}var _277=_272.type||_272.cellType||this._defaultCellProps.type||this._defaultCellProps.cellType||_25d.grid.cells.Cell;if(lang.isString(_277)){_277=lang.getObject(_277);}_275.unitWidth=_273(_272);return new _277(lang.mixin({},this._defaultCellProps,_272,_275));},addRowDef:function(_278,_279){var _27a=[];var _27b=0,_27c=0,_27d=true;for(var i=0,def,cell;(def=_279[i]);i++){cell=this.addCellDef(_278,i,def);_27a.push(cell);this.cells.push(cell);if(_27d&&cell.relWidth){_27b+=cell.relWidth;}else{if(cell.width){var w=cell.width;if(typeof w=="string"&&w.slice(-1)=="%"){_27c+=window.parseInt(w,10);}else{if(w=="auto"){_27d=false;}}}}}if(_27b&&_27d){_25f.forEach(_27a,function(cell){if(cell.relWidth){cell.width=cell.unitWidth=((cell.relWidth/_27b)*(100-_27c))+"%";}});}return _27a;},addRowsDef:function(_27e){var _27f=[];if(lang.isArray(_27e)){if(lang.isArray(_27e[0])){for(var i=0,row;_27e&&(row=_27e[i]);i++){_27f.push(this.addRowDef(i,row));}}else{_27f.push(this.addRowDef(0,_27e));}}return _27f;},addViewDef:function(_280){this._defaultCellProps=_280.defaultCell||{};if(_280.width&&_280.width=="auto"){delete _280.width;}return lang.mixin({},_280,{cells:this.addRowsDef(_280.rows||_280.cells)});},setStructure:function(_281){this.fieldIndex=0;this.cells=[];var s=this.structure=[];if(this.grid.rowSelector){var sel={type:_25d._scopeName+".grid._RowSelector"};if(lang.isString(this.grid.rowSelector)){var _282=this.grid.rowSelector;if(_282=="false"){sel=null;}else{if(_282!="true"){sel["width"]=_282;}}}else{if(!this.grid.rowSelector){sel=null;}}if(sel){s.push(this.addViewDef(sel));}}var _283=function(def){return ("name" in def||"field" in def||"get" in def);};var _284=function(def){if(lang.isArray(def)){if(lang.isArray(def[0])||_283(def[0])){return true;}}return false;};var _285=function(def){return (def!==null&&lang.isObject(def)&&("cells" in def||"rows" in def||("type" in def&&!_283(def))));};if(lang.isArray(_281)){var _286=false;for(var i=0,st;(st=_281[i]);i++){if(_285(st)){_286=true;break;}}if(!_286){s.push(this.addViewDef({cells:_281}));}else{for(i=0;(st=_281[i]);i++){if(_284(st)){s.push(this.addViewDef({cells:st}));}else{if(_285(st)){s.push(this.addViewDef(st));}}}}}else{if(_285(_281)){s.push(this.addViewDef(_281));}}this.cellCount=this.cells.length;this.grid.setupHeaderMenu();}});});},"dojox/grid/cells":function(){define(["../main","./cells/_base"],function(_287){return _287.grid.cells;});},"dojox/grid/cells/_base":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/event","dojo/_base/connect","dojo/_base/array","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dijit/_Widget","../util"],function(dojo,_288,lang,_289,_28a,_28b,has,dom,_28c,_28d,_28e,util){var _28f=_288("dojox.grid._DeferredTextWidget",_28e,{deferred:null,_destroyOnRemove:true,postCreate:function(){if(this.deferred){this.deferred.addBoth(lang.hitch(this,function(text){if(this.domNode){this.domNode.innerHTML=text;}}));}}});var _290=function(_291){try{util.fire(_291,"focus");util.fire(_291,"select");}catch(e){}};var _292=function(){setTimeout(lang.hitch.apply(dojo,arguments),0);};var _293=_288("dojox.grid.cells._Base",null,{styles:"",classes:"",editable:false,alwaysEditing:false,formatter:null,defaultValue:"...",value:null,hidden:false,noresize:false,draggable:true,_valueProp:"value",_formatPending:false,constructor:function(_294){this._props=_294||{};lang.mixin(this,_294);if(this.draggable===undefined){this.draggable=true;}},_defaultFormat:function(_295,_296){var s=this.grid.formatterScope||this;var f=this.formatter;if(f&&s&&typeof f=="string"){f=this.formatter=s[f];}var v=(_295!=this.defaultValue&&f)?f.apply(s,_296):_295;if(typeof v=="undefined"){return this.defaultValue;}if(v&&v.addBoth){v=new _28f({deferred:v},_28d.create("span",{innerHTML:this.defaultValue}));}if(v&&v.declaredClass&&v.startup){return "<div class='dojoxGridStubNode' linkWidget='"+v.id+"' cellIdx='"+this.index+"'>"+this.defaultValue+"</div>";}return v;},format:function(_297,_298){var f,i=this.grid.edit.info,d=this.get?this.get(_297,_298):(this.value||this.defaultValue);d=(d&&d.replace&&this.grid.escapeHTMLInData)?d.replace(/&/g,"&amp;").replace(/</g,"&lt;"):d;if(this.editable&&(this.alwaysEditing||(i.rowIndex==_297&&i.cell==this))){return this.formatEditing(i.value?i.value:d,_297);}else{return this._defaultFormat(d,[d,_297,this]);}},formatEditing:function(_299,_29a){},getNode:function(_29b){return this.view.getCellNode(_29b,this.index);},getHeaderNode:function(){return this.view.getHeaderCellNode(this.index);},getEditNode:function(_29c){return (this.getNode(_29c)||0).firstChild||0;},canResize:function(){var uw=this.unitWidth;return uw&&(uw!=="auto");},isFlex:function(){var uw=this.unitWidth;return uw&&lang.isString(uw)&&(uw=="auto"||uw.slice(-1)=="%");},applyEdit:function(_29d,_29e){if(this.getNode(_29e)){this.grid.edit.applyCellEdit(_29d,this,_29e);}},cancelEdit:function(_29f){this.grid.doCancelEdit(_29f);},_onEditBlur:function(_2a0){if(this.grid.edit.isEditCell(_2a0,this.index)){this.grid.edit.apply();}},registerOnBlur:function(_2a1,_2a2){if(this.commitOnBlur){_28a.connect(_2a1,"onblur",function(e){setTimeout(lang.hitch(this,"_onEditBlur",_2a2),250);});}},needFormatNode:function(_2a3,_2a4){this._formatPending=true;_292(this,"_formatNode",_2a3,_2a4);},cancelFormatNode:function(){this._formatPending=false;},_formatNode:function(_2a5,_2a6){if(this._formatPending){this._formatPending=false;if(!has("ie")){dom.setSelectable(this.grid.domNode,true);}this.formatNode(this.getEditNode(_2a6),_2a5,_2a6);}},formatNode:function(_2a7,_2a8,_2a9){if(has("ie")){_292(this,"focus",_2a9,_2a7);}else{this.focus(_2a9,_2a7);}},dispatchEvent:function(m,e){if(m in this){return this[m](e);}},getValue:function(_2aa){return this.getEditNode(_2aa)[this._valueProp];},setValue:function(_2ab,_2ac){var n=this.getEditNode(_2ab);if(n){n[this._valueProp]=_2ac;}},focus:function(_2ad,_2ae){_290(_2ae||this.getEditNode(_2ad));},save:function(_2af){this.value=this.value||this.getValue(_2af);},restore:function(_2b0){this.setValue(_2b0,this.value);},_finish:function(_2b1){dom.setSelectable(this.grid.domNode,false);this.cancelFormatNode();},apply:function(_2b2){this.applyEdit(this.getValue(_2b2),_2b2);this._finish(_2b2);},cancel:function(_2b3){this.cancelEdit(_2b3);this._finish(_2b3);}});_293.markupFactory=function(node,_2b4){var _2b5=lang.trim(_28c.get(node,"formatter")||"");if(_2b5){_2b4.formatter=lang.getObject(_2b5)||_2b5;}var get=lang.trim(_28c.get(node,"get")||"");if(get){_2b4.get=lang.getObject(get);}var _2b6=function(attr,cell,_2b7){var _2b8=lang.trim(_28c.get(node,attr)||"");if(_2b8){cell[_2b7||attr]=!(_2b8.toLowerCase()=="false");}};_2b6("sortDesc",_2b4);_2b6("editable",_2b4);_2b6("alwaysEditing",_2b4);_2b6("noresize",_2b4);_2b6("draggable",_2b4);var _2b9=lang.trim(_28c.get(node,"loadingText")||_28c.get(node,"defaultValue")||"");if(_2b9){_2b4.defaultValue=_2b9;}var _2ba=function(attr,cell,_2bb){var _2bc=lang.trim(_28c.get(node,attr)||"")||undefined;if(_2bc){cell[_2bb||attr]=_2bc;}};_2ba("styles",_2b4);_2ba("headerStyles",_2b4);_2ba("cellStyles",_2b4);_2ba("classes",_2b4);_2ba("headerClasses",_2b4);_2ba("cellClasses",_2b4);};var Cell=_293.Cell=_288("dojox.grid.cells.Cell",_293,{constructor:function(){this.keyFilter=this.keyFilter;},keyFilter:null,formatEditing:function(_2bd,_2be){this.needFormatNode(_2bd,_2be);return "<input class=\"dojoxGridInput\" type=\"text\" value=\""+_2bd+"\">";},formatNode:function(_2bf,_2c0,_2c1){this.inherited(arguments);this.registerOnBlur(_2bf,_2c1);},doKey:function(e){if(this.keyFilter){var key=String.fromCharCode(e.charCode);if(key.search(this.keyFilter)==-1){_289.stop(e);}}},_finish:function(_2c2){this.inherited(arguments);var n=this.getEditNode(_2c2);try{util.fire(n,"blur");}catch(e){}}});Cell.markupFactory=function(node,_2c3){_293.markupFactory(node,_2c3);var _2c4=lang.trim(_28c.get(node,"keyFilter")||"");if(_2c4){_2c3.keyFilter=new RegExp(_2c4);}};var _2c5=_293.RowIndex=_288("dojox.grid.cells.RowIndex",Cell,{name:"Row",postscript:function(){this.editable=false;},get:function(_2c6){return _2c6+1;}});_2c5.markupFactory=function(node,_2c7){Cell.markupFactory(node,_2c7);};var _2c8=_293.Select=_288("dojox.grid.cells.Select",Cell,{options:null,values:null,returnIndex:-1,constructor:function(_2c9){this.values=this.values||this.options;},formatEditing:function(_2ca,_2cb){this.needFormatNode(_2ca,_2cb);var h=["<select class=\"dojoxGridSelect\">"];for(var i=0,o,v;((o=this.options[i])!==undefined)&&((v=this.values[i])!==undefined);i++){v=v.replace?v.replace(/&/g,"&amp;").replace(/</g,"&lt;"):v;o=o.replace?o.replace(/&/g,"&amp;").replace(/</g,"&lt;"):o;h.push("<option",(_2ca==v?" selected":"")," value=\""+v+"\"",">",o,"</option>");}h.push("</select>");return h.join("");},_defaultFormat:function(_2cc,_2cd){var v=this.inherited(arguments);if(!this.formatter&&this.values&&this.options){var i=_28b.indexOf(this.values,v);if(i>=0){v=this.options[i];}}return v;},getValue:function(_2ce){var n=this.getEditNode(_2ce);if(n){var i=n.selectedIndex,o=n.options[i];return this.returnIndex>-1?i:o.value||o.innerHTML;}}});_2c8.markupFactory=function(node,cell){Cell.markupFactory(node,cell);var _2cf=lang.trim(_28c.get(node,"options")||"");if(_2cf){var o=_2cf.split(",");if(o[0]!=_2cf){cell.options=o;}}var _2d0=lang.trim(_28c.get(node,"values")||"");if(_2d0){var v=_2d0.split(",");if(v[0]!=_2d0){cell.values=v;}}};var _2d1=_293.AlwaysEdit=_288("dojox.grid.cells.AlwaysEdit",Cell,{alwaysEditing:true,_formatNode:function(_2d2,_2d3){this.formatNode(this.getEditNode(_2d3),_2d2,_2d3);},applyStaticValue:function(_2d4){var e=this.grid.edit;e.applyCellEdit(this.getValue(_2d4),this,_2d4);e.start(this,_2d4,true);}});_2d1.markupFactory=function(node,cell){Cell.markupFactory(node,cell);};var Bool=_293.Bool=_288("dojox.grid.cells.Bool",_2d1,{_valueProp:"checked",formatEditing:function(_2d5,_2d6){return "<input class=\"dojoxGridInput\" type=\"checkbox\""+(_2d5?" checked=\"checked\"":"")+" style=\"width: auto\" />";},doclick:function(e){if(e.target.tagName=="INPUT"){this.applyStaticValue(e.rowIndex);}}});Bool.markupFactory=function(node,cell){_2d1.markupFactory(node,cell);};return _293;});},"dijit/_Widget":function(){define(["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_2d7,_2d8,_2d9,_2da,has,_2db,lang,_2dc,_2dd,_2de,_2df,_2e0,_2e1){function _2e2(){};function _2e3(_2e4){return function(obj,_2e5,_2e6,_2e7){if(obj&&typeof _2e5=="string"&&obj[_2e5]==_2e2){return obj.on(_2e5.substring(2).toLowerCase(),lang.hitch(_2e6,_2e7));}return _2e4.apply(_2d9,arguments);};};_2d7.around(_2d9,"connect",_2e3);if(_2db.connect){_2d7.around(_2db,"connect",_2e3);}var _2e8=_2da("dijit._Widget",[_2df,_2e0,_2e1],{onClick:_2e2,onDblClick:_2e2,onKeyDown:_2e2,onKeyPress:_2e2,onKeyUp:_2e2,onMouseDown:_2e2,onMouseMove:_2e2,onMouseOut:_2e2,onMouseOver:_2e2,onMouseLeave:_2e2,onMouseEnter:_2e2,onMouseUp:_2e2,constructor:function(_2e9){this._toConnect={};for(var name in _2e9){if(this[name]===_2e2){this._toConnect[name.replace(/^on/,"").toLowerCase()]=_2e9[name];delete _2e9[name];}}},postCreate:function(){this.inherited(arguments);for(var name in this._toConnect){this.on(name,this._toConnect[name]);}delete this._toConnect;},on:function(type,func){if(this[this._onMap(type)]===_2e2){return _2d9.connect(this.domNode,type.toLowerCase(),this,func);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(attr,_2ea){_2db.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_2ea);},attr:function(name,_2eb){var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},getDescendants:function(){_2db.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_2dc("[widgetId]",this.containerNode).map(_2de.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_2dd(0,function(){var _2ec=["dijit/_base"];require(_2ec);});}return _2e8;});},"dijit/_WidgetBase":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(_2ed,_2ee,_2ef,_2f0,_2f1,_2f2,dom,_2f3,_2f4,_2f5,_2f6,_2f7,has,_2f8,lang,on,_2f9,_2fa,_2fb,win,_2fc,_2fd,_2fe){has.add("dijit-legacy-requires",!_2f8.isAsync);has.add("dojo-bidi",false);if(has("dijit-legacy-requires")){_2f9(0,function(){var _2ff=["dijit/_base/manager"];_2ed(_2ff);});}var _300={};function _301(obj){var ret={};for(var attr in obj){ret[attr.toLowerCase()]=true;}return ret;};function _302(attr){return function(val){_2f3[val?"set":"remove"](this.domNode,attr,val);this._set(attr,val);};};var _303=_2f2("dijit._WidgetBase",[_2fa,_2fc],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_302("lang"),dir:"",_setDirAttr:_302("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_2f0.blankGif||_2ed.toUrl("dojo/resources/blank.gif"),_introspect:function(){var ctor=this.constructor;if(!ctor._setterAttrs){var _304=ctor.prototype,_305=ctor._setterAttrs=[],_306=(ctor._onMap={});for(var name in _304.attributeMap){_305.push(name);}for(name in _304){if(/^on/.test(name)){_306[name.substring(2).toLowerCase()]=name;}if(/^_set[A-Z](.*)Attr$/.test(name)){name=name.charAt(4).toLowerCase()+name.substr(5,name.length-9);if(!_304.attributeMap||!(name in _304.attributeMap)){_305.push(name);}}}}},postscript:function(_307,_308){this.create(_307,_308);},create:function(_309,_30a){this._introspect();this.srcNodeRef=dom.byId(_30a);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_309){this.params=_309;lang.mixin(this,_309);}this.postMixInProperties();if(!this.id){this.id=_2fe.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=win.body(this.ownerDocument);_2fe.add(this);this.buildRendering();var _30b;if(this.domNode){this._applyAttributes();var _30c=this.srcNodeRef;if(_30c&&_30c.parentNode&&this.domNode!==_30c){_30c.parentNode.replaceChild(this.domNode,_30c);_30b=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_30b){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _30d={};for(var key in this.params||{}){_30d[key]=this._get(key);}_2ee.forEach(this.constructor._setterAttrs,function(key){if(!(key in _30d)){var val=this._get(key);if(val){this.set(key,val);}}},this);for(key in _30d){this.set(key,_30d[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _30e=this.baseClass.split(" ");if(!this.isLeftToRight()){_30e=_30e.concat(_2ee.map(_30e,function(name){return name+"Rtl";}));}_2f4.add(this.domNode,_30e);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_2ee.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_30f){this._beingDestroyed=true;this.destroyDescendants(_30f);this.destroy(_30f);},destroy:function(_310){this._beingDestroyed=true;this.uninitialize();function _311(w){if(w.destroyRecursive){w.destroyRecursive(_310);}else{if(w.destroy){w.destroy(_310);}}};_2ee.forEach(this._connects,lang.hitch(this,"disconnect"));_2ee.forEach(this._supportingWidgets,_311);if(this.domNode){_2ee.forEach(_2fe.findWidgets(this.domNode,this.containerNode),_311);}this.destroyRendering(_310);_2fe.remove(this.id);this._destroyed=true;},destroyRendering:function(_312){if(this.bgIframe){this.bgIframe.destroy(_312);delete this.bgIframe;}if(this.domNode){if(_312){_2f3.remove(this.domNode,"widgetId");}else{_2f5.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_312){_2f5.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_313){_2ee.forEach(this.getChildren(),function(_314){if(_314.destroyRecursive){_314.destroyRecursive(_313);}});},uninitialize:function(){return false;},_setStyleAttr:function(_315){var _316=this.domNode;if(lang.isObject(_315)){_2f7.set(_316,_315);}else{if(_316.style.cssText){_316.style.cssText+="; "+_315;}else{_316.style.cssText=_315;}}this._set("style",_315);},_attrToDom:function(attr,_317,_318){_318=arguments.length>=3?_318:this.attributeMap[attr];_2ee.forEach(lang.isArray(_318)?_318:[_318],function(_319){var _31a=this[_319.node||_319||"domNode"];var type=_319.type||"attribute";switch(type){case "attribute":if(lang.isFunction(_317)){_317=lang.hitch(this,_317);}var _31b=_319.attribute?_319.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);if(_31a.tagName){_2f3.set(_31a,_31b,_317);}else{_31a.set(_31b,_317);}break;case "innerText":_31a.innerHTML="";_31a.appendChild(this.ownerDocument.createTextNode(_317));break;case "innerHTML":_31a.innerHTML=_317;break;case "class":_2f4.replace(_31a,_317,this[attr]);break;}},this);},get:function(name){var _31c=this._getAttrNames(name);return this[_31c.g]?this[_31c.g]():this._get(name);},set:function(name,_31d){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _31e=this._getAttrNames(name),_31f=this[_31e.s];if(lang.isFunction(_31f)){var _320=_31f.apply(this,Array.prototype.slice.call(arguments,1));}else{var _321=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_321]&&this[_321].tagName,_322=tag&&(_300[tag]||(_300[tag]=_301(this[_321]))),map=name in this.attributeMap?this.attributeMap[name]:_31e.s in this?this[_31e.s]:((_322&&_31e.l in _322&&typeof _31d!="function")||/^aria-|^data-|^role$/.test(name))?_321:null;if(map!=null){this._attrToDom(name,_31d,map);}this._set(name,_31d);}return _320||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,_323){var _324=this[name];this[name]=_323;if(this._created&&_323!==_324){if(this._watchCallbacks){this._watchCallbacks(name,_324,_323);}this.emit("attrmodified-"+name,{detail:{prevValue:_324,newValue:_323}});}},_get:function(name){return this[name];},emit:function(type,_325,_326){_325=_325||{};if(_325.bubbles===undefined){_325.bubbles=true;}if(_325.cancelable===undefined){_325.cancelable=true;}if(!_325.detail){_325.detail={};}_325.detail.widget=this;var ret,_327=this["on"+type];if(_327){ret=_327.apply(this,_326?_326:[_325]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,type.toLowerCase(),_325);}return ret;},on:function(type,func){var _328=this._onMap(type);if(_328){return _2ef.after(this,_328,func,true);}return this.own(on(this.domNode,type,func))[0];},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[typeof type=="string"&&type.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_2fe.findWidgets(this.containerNode):[];},getParent:function(){return _2fe.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_329,_32a){return this.own(_2f1.connect(obj,_329,this,_32a))[0];},disconnect:function(_32b){_32b.remove();},subscribe:function(t,_32c){return this.own(_2fb.subscribe(t,lang.hitch(this,_32c)))[0];},unsubscribe:function(_32d){_32d.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_2f6.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_2f7.get(this.domNode,"display")!="none");},placeAt:function(_32e,_32f){var _330=!_32e.tagName&&_2fe.byId(_32e);if(_330&&_330.addChild&&(!_32f||typeof _32f==="number")){_330.addChild(this,_32f);}else{var ref=_330?(_330.containerNode&&!/after|before|replace/.test(_32f||"")?_330.containerNode:_330.domNode):dom.byId(_32e,this.ownerDocument);_2f5.place(this.domNode,ref,_32f);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},defer:function(fcn,_331){var _332=setTimeout(lang.hitch(this,function(){if(!_332){return;}_332=null;if(!this._destroyed){lang.hitch(this,fcn)();}}),_331||0);return {remove:function(){if(_332){clearTimeout(_332);_332=null;}return null;}};}});if(has("dojo-bidi")){_303.extend(_2fd);}return _303;});},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(_333,lang,_334,when){return _333("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}return (apn[name]={s:"_"+name+"Setter",g:"_"+name+"Getter"});},postscript:function(_335){if(_335){this.set(_335);}},_get:function(name,_336){return typeof this[_336.g]==="function"?this[_336.g]():this[name];},get:function(name){return this._get(name,this._getAttrNames(name));},set:function(name,_337){if(typeof name==="object"){for(var x in name){if(name.hasOwnProperty(x)&&x!="_watchCallbacks"){this.set(x,name[x]);}}return this;}var _338=this._getAttrNames(name),_339=this._get(name,_338),_33a=this[_338.s],_33b;if(typeof _33a==="function"){_33b=_33a.apply(this,Array.prototype.slice.call(arguments,1));}else{this[name]=_337;}if(this._watchCallbacks){var self=this;when(_33b,function(){self._watchCallbacks(name,_339,_337);});}return this;},_changeAttrValue:function(name,_33c){var _33d=this.get(name);this[name]=_33c;if(this._watchCallbacks){this._watchCallbacks(name,_33d,_33c);}return this;},watch:function(name,_33e){var _33f=this._watchCallbacks;if(!_33f){var self=this;_33f=this._watchCallbacks=function(name,_340,_341,_342){var _343=function(_344){if(_344){_344=_344.slice();for(var i=0,l=_344.length;i<l;i++){_344[i].call(self,name,_340,_341);}}};_343(_33f["_"+name]);if(!_342){_343(_33f["*"]);}};}if(!_33e&&typeof name==="function"){_33e=name;name="*";}else{name="_"+name;}var _345=_33f[name];if(typeof _345!=="object"){_345=_33f[name]=[];}_345.push(_33e);var _346={};_346.unwatch=_346.remove=function(){var _347=_334.indexOf(_345,_33e);if(_347>-1){_345.splice(_347,1);}};return _346;}});});},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_348,_349,_34a){return _34a("dijit.Destroyable",null,{destroy:function(_34b){this._destroyed=true;},own:function(){_348.forEach(arguments,function(_34c){var _34d="destroyRecursive" in _34c?"destroyRecursive":"destroy" in _34c?"destroy":"remove";var odh=_349.before(this,"destroy",function(_34e){_34c[_34d](_34e);});var hdh=_349.after(_34c,_34d,function(){odh.remove();hdh.remove();},true);},this);return arguments;}});});},"dijit/_OnDijitClickMixin":function(){define(["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(on,_34f,keys,_350,has,_351){var ret=_350("dijit._OnDijitClickMixin",null,{connect:function(obj,_352,_353){return this.inherited(arguments,[obj,_352=="ondijitclick"?_351:_352,_353]);}});ret.a11yclick=_351;return ret;});},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(keys,_354,on,_355){function _356(e){if((e.keyCode===keys.ENTER||e.keyCode===keys.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName)){for(var node=e.target;node;node=node.parentNode){if(node.dojoClick){return true;}}}};var _357;on(document,"keydown",function(e){if(_356(e)){_357=e.target;e.preventDefault();}else{_357=null;}});on(document,"keyup",function(e){if(_356(e)&&e.target==_357){_357=null;on.emit(e.target,"click",{cancelable:true,bubbles:true,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type});}});var _358=function(node,_359){node.dojoClick=true;return on(node,"click",_359);};_358.click=_358;_358.press=function(node,_35a){var _35b=on(node,_355.press,function(evt){if(evt.type=="mousedown"&&!_354.isLeft(evt)){return;}_35a(evt);}),_35c=on(node,"keydown",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_35a(evt);}});return {remove:function(){_35b.remove();_35c.remove();}};};_358.release=function(node,_35d){var _35e=on(node,_355.release,function(evt){if(evt.type=="mouseup"&&!_354.isLeft(evt)){return;}_35d(evt);}),_35f=on(node,"keyup",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_35d(evt);}});return {remove:function(){_35e.remove();_35f.remove();}};};_358.move=_355.move;return _358;});},"dojo/touch":function(){define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(dojo,_360,dom,_361,lang,on,has,_362,_363,win){var _364=has("touch");var ios4=has("ios")<5;var _365=navigator.msPointerEnabled;var _366,_367,_368,_369,_36a,_36b,_36c,_36d;var _36e;function _36f(_370,_371,_372){if(_365&&_372){return function(node,_373){return on(node,_372,_373);};}else{if(_364){return function(node,_374){var _375=on(node,_371,_374),_376=on(node,_370,function(evt){if(!_36e||(new Date()).getTime()>_36e+1000){_374.call(this,evt);}});return {remove:function(){_375.remove();_376.remove();}};};}else{return function(node,_377){return on(node,_370,_377);};}}};function _378(node){do{if(node.dojoClick){return node;}}while(node=node.parentNode);};function _379(e,_37a,_37b){var _37c=_378(e.target);_367=!e.target.disabled&&_37c&&_37c.dojoClick;if(_367){var _37d=(_367=="useTarget");_368=(_37d?_37c:e.target);if(_37d){e.preventDefault();}_369=e.touches?e.touches[0].pageX:e.clientX;_36a=e.touches?e.touches[0].pageY:e.clientY;_36b=(typeof _367=="object"?_367.x:(typeof _367=="number"?_367:0))||4;_36c=(typeof _367=="object"?_367.y:(typeof _367=="number"?_367:0))||4;if(!_366){_366=true;function _37e(e){if(_37d){_367=dom.isDescendant(win.doc.elementFromPoint((e.changedTouches?e.changedTouches[0].pageX:e.clientX),(e.changedTouches?e.changedTouches[0].pageY:e.clientY)),_368);}else{_367=_367&&e.target==_368&&Math.abs((e.changedTouches?e.changedTouches[0].pageX:e.clientX)-_369)<=_36b&&Math.abs((e.changedTouches?e.changedTouches[0].pageY:e.clientY)-_36a)<=_36c;}};win.doc.addEventListener(_37a,function(e){_37e(e);if(_37d){e.preventDefault();}},true);win.doc.addEventListener(_37b,function(e){_37e(e);if(_367){_36d=(new Date()).getTime();var _37f=(_37d?_368:e.target);if(_37f.tagName==="LABEL"){_37f=dom.byId(_37f.getAttribute("for"))||_37f;}setTimeout(function(){on.emit(_37f,"click",{bubbles:true,cancelable:true,_dojo_click:true});},0);}},true);function _380(type){win.doc.addEventListener(type,function(e){if(!e._dojo_click&&(new Date()).getTime()<=_36d+1000&&!(e.target.tagName=="INPUT"&&_361.contains(e.target,"dijitOffScreen"))){e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();if(type=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){e.preventDefault();}}},true);};_380("click");_380("mousedown");_380("mouseup");}}};var _381;if(_364){if(_365){_363(function(){win.doc.addEventListener("MSPointerDown",function(evt){_379(evt,"MSPointerMove","MSPointerUp");},true);});}else{_363(function(){_381=win.body();win.doc.addEventListener("touchstart",function(evt){_36e=(new Date()).getTime();var _382=_381;_381=evt.target;on.emit(_382,"dojotouchout",{relatedTarget:_381,bubbles:true});on.emit(_381,"dojotouchover",{relatedTarget:_382,bubbles:true});_379(evt,"touchmove","touchend");},true);function _383(evt){var _384=lang.delegate(evt,{bubbles:true});if(has("ios")>=6){_384.touches=evt.touches;_384.altKey=evt.altKey;_384.changedTouches=evt.changedTouches;_384.ctrlKey=evt.ctrlKey;_384.metaKey=evt.metaKey;_384.shiftKey=evt.shiftKey;_384.targetTouches=evt.targetTouches;}return _384;};on(win.doc,"touchmove",function(evt){_36e=(new Date()).getTime();var _385=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));if(_385){if(_381!==_385){on.emit(_381,"dojotouchout",{relatedTarget:_385,bubbles:true});on.emit(_385,"dojotouchover",{relatedTarget:_381,bubbles:true});_381=_385;}if(!on.emit(_385,"dojotouchmove",_383(evt))){evt.preventDefault();}}});on(win.doc,"touchend",function(evt){_36e=(new Date()).getTime();var node=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset))||win.body();on.emit(node,"dojotouchend",_383(evt));});});}}var _386={press:_36f("mousedown","touchstart","MSPointerDown"),move:_36f("mousemove","dojotouchmove","MSPointerMove"),release:_36f("mouseup","dojotouchend","MSPointerUp"),cancel:_36f(_362.leave,"touchcancel",_364?"MSPointerCancel":null),over:_36f("mouseover","dojotouchover","MSPointerOver"),out:_36f("mouseout","dojotouchout","MSPointerOut"),enter:_362._eventHandler(_36f("mouseover","dojotouchover","MSPointerOver")),leave:_362._eventHandler(_36f("mouseout","dojotouchout","MSPointerOut"))};1&&(dojo.touch=_386);return _386;});},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_387,_388,_389,lang){lang.extend(_388,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _389("dijit._FocusMixin",null,{_focusManager:_387});});},"dijit/focus":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_38a,_38b,dom,_38c,_38d,_38e,_38f,lang,on,_390,has,_391,win,_392,a11y,_393,_394){var _395;var _396=_38b([_391,_38f],{curNode:null,activeStack:[],constructor:function(){var _397=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_38a.before(_38e,"empty",_397);_38a.before(_38e,"destroy",_397);},registerIframe:function(_398){return this.registerWin(_398.contentWindow,_398);},registerWin:function(_399,_39a){var _39b=this,body=_399.document&&_399.document.body;if(body){var mdh=on(_399.document,"mousedown, touchstart",function(evt){_39b._justMouseDowned=true;setTimeout(function(){_39b._justMouseDowned=false;},0);if(evt&&evt.target&&evt.target.parentNode==null){return;}_39b._onTouchNode(_39a||evt.target,"mouse");});var fih=on(body,"focusin",function(evt){_395=(new Date()).getTime();if(!evt.target.tagName){return;}var tag=evt.target.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isFocusable(evt.target)){_39b._onFocusNode(_39a||evt.target);}else{_39b._onTouchNode(_39a||evt.target);}});var foh=on(body,"focusout",function(evt){if((new Date()).getTime()<_395+100){return;}_39b._onBlurNode(_39a||evt.target);});return {remove:function(){mdh.remove();fih.remove();foh.remove();mdh=fih=foh=null;body=null;}};}},_onBlurNode:function(node){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(lang.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(node,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}if(_38d.contains(node,"dijitPopup")){node=node.firstChild;}var _39c=[];try{while(node){var _39d=_38c.get(node,"dijitPopupParent");if(_39d){node=_393.byId(_39d).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_392.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_39e=id&&_393.byId(id);if(_39e&&!(by=="mouse"&&_39e.get("disabled"))){_39c.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_39c,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",node);},_setStack:function(_39f,by){var _3a0=this.activeStack,_3a1=_3a0.length-1,_3a2=_39f.length-1;if(_39f[_3a2]==_3a0[_3a1]){return;}this.set("activeStack",_39f);var _3a3,i;for(i=_3a1;i>=0&&_3a0[i]!=_39f[i];i--){_3a3=_393.byId(_3a0[i]);if(_3a3){_3a3._hasBeenBlurred=true;_3a3.set("focused",false);if(_3a3._focusManager==this){_3a3._onBlur(by);}this.emit("widget-blur",_3a3,by);}}for(i++;i<=_3a2;i++){_3a3=_393.byId(_39f[i]);if(_3a3){_3a3.set("focused",true);if(_3a3._focusManager==this){_3a3._onFocus(by);}this.emit("widget-focus",_3a3,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _3a4=new _396();_390(function(){var _3a5=_3a4.registerWin(_392.get(document));if(has("ie")){on(window,"unload",function(){if(_3a5){_3a5.remove();_3a5=null;}});}});_394.focus=function(node){_3a4.focus(node);};for(var attr in _3a4){if(!/^_/.test(attr)){_394.focus[attr]=typeof _3a4[attr]=="function"?lang.hitch(_3a4,attr):_3a4[attr];}}_3a4.watch(function(attr,_3a6,_3a7){_394.focus[attr]=_3a7;});return _3a4;});},"dojo/window":function(){define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(lang,has,_3a8,dom,geom,_3a9,_3aa){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var body=_3a8.body(doc),_3ab=_3aa.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_3aa.create("div",{style:{overflow:"hidden",direction:"ltr"}},_3ab,"last"),ret=geom.position(div).x!=0;_3ab.removeChild(div);body.removeChild(_3ab);return ret;});has.add("position-fixed-support",function(win,doc){var body=_3a8.body(doc),_3ac=_3aa.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_3ad=_3aa.create("span",{style:{position:"fixed",left:"0",top:"0"}},_3ac,"last"),ret=geom.position(_3ad).x!=geom.position(_3ac).x;_3ac.removeChild(_3ad);body.removeChild(_3ac);return ret;});var _3ae={getBox:function(doc){doc=doc||_3a8.doc;var _3af=(doc.compatMode=="BackCompat")?_3a8.body(doc):doc.documentElement,_3b0=geom.docScroll(doc),w,h;if(has("touch")){var _3b1=_3ae.get(doc);w=_3b1.innerWidth||_3af.clientWidth;h=_3b1.innerHeight||_3af.clientHeight;}else{w=_3af.clientWidth;h=_3af.clientHeight;}return {l:_3b0.x,t:_3b0.y,w:w,h:h};},get:function(doc){if(has("ie")<9&&_3ae!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_3a8.doc,body=_3a8.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if(node==body||node==html){return;}if(!(has("mozilla")||isIE||isWK||has("opera"))&&("scrollIntoView" in node)){node.scrollIntoView(false);return;}var _3b2=doc.compatMode=="BackCompat",_3b3=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_3b4=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_3b5=(isWK||_3b2)?body:html,_3b6=pos||geom.position(node),el=node.parentNode,_3b7=function(el){return (isIE<=6||(isIE==7&&_3b2))?false:(has("position-fixed-support")&&(_3a9.get(el,"position").toLowerCase()=="fixed"));};if(_3b7(node)){return;}while(el){if(el==body){el=_3b5;}var _3b8=geom.position(el),_3b9=_3b7(el),rtl=_3a9.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_3b5){_3b8.w=_3b3;_3b8.h=_3b4;if(_3b5==html&&isIE&&rtl){_3b8.x+=_3b5.offsetWidth-_3b8.w;}if(_3b8.x<0||!isIE||isIE>=9){_3b8.x=0;}if(_3b8.y<0||!isIE||isIE>=9){_3b8.y=0;}}else{var pb=geom.getPadBorderExtents(el);_3b8.w-=pb.w;_3b8.h-=pb.h;_3b8.x+=pb.l;_3b8.y+=pb.t;var _3ba=el.clientWidth,_3bb=_3b8.w-_3ba;if(_3ba>0&&_3bb>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_3b8.x+=_3bb;}_3b8.w=_3ba;}_3ba=el.clientHeight;_3bb=_3b8.h-_3ba;if(_3ba>0&&_3bb>0){_3b8.h=_3ba;}}if(_3b9){if(_3b8.y<0){_3b8.h+=_3b8.y;_3b8.y=0;}if(_3b8.x<0){_3b8.w+=_3b8.x;_3b8.x=0;}if(_3b8.y+_3b8.h>_3b4){_3b8.h=_3b4-_3b8.y;}if(_3b8.x+_3b8.w>_3b3){_3b8.w=_3b3-_3b8.x;}}var l=_3b6.x-_3b8.x,t=_3b6.y-_3b8.y,r=l+_3b6.w-_3b8.w,bot=t+_3b6.h-_3b8.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_3b5||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_3b2)||isIE>=9)){s=-s;}old=el.scrollLeft;el.scrollLeft+=s;s=el.scrollLeft-old;_3b6.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_3b5||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;el.scrollTop+=s;s=el.scrollTop-old;_3b6.y-=s;}el=(el!=_3b5)&&!_3b9&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_3ae);return _3ae;});},"dijit/a11y":function(){define(["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_3bc,dom,_3bd,_3be,lang,has,_3bf){var _3c0;var a11y={_isElementShown:function(elem){var s=_3be.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_3bd.get(elem,"type")!="hidden");},hasDefaultTabStop:function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _3bd.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _3c1=elem.contentDocument;if("designMode" in _3c1&&_3c1.designMode=="on"){return true;}body=_3c1.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}},effectiveTabIndex:function(elem){if(_3bd.get(elem,"disabled")){return _3c0;}else{if(_3bd.has(elem,"tabIndex")){return +_3bd.get(elem,"tabIndex");}else{return a11y.hasDefaultTabStop(elem)?0:_3c0;}}},isTabNavigable:function(elem){return a11y.effectiveTabIndex(elem)>=0;},isFocusable:function(elem){return a11y.effectiveTabIndex(elem)>=-1;},_getTabNavigable:function(root){var _3c2,last,_3c3,_3c4,_3c5,_3c6,_3c7={};function _3c8(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _3c9=a11y._isElementShown,_3ca=a11y.effectiveTabIndex;var _3cb=function(_3cc){for(var _3cd=_3cc.firstChild;_3cd;_3cd=_3cd.nextSibling){if(_3cd.nodeType!=1||(has("ie")<=9&&_3cd.scopeName!=="HTML")||!_3c9(_3cd)){continue;}var _3ce=_3ca(_3cd);if(_3ce>=0){if(_3ce==0){if(!_3c2){_3c2=_3cd;}last=_3cd;}else{if(_3ce>0){if(!_3c3||_3ce<_3c4){_3c4=_3ce;_3c3=_3cd;}if(!_3c5||_3ce>=_3c6){_3c6=_3ce;_3c5=_3cd;}}}var rn=_3c8(_3cd);if(_3bd.get(_3cd,"checked")&&rn){_3c7[rn]=_3cd;}}if(_3cd.nodeName.toUpperCase()!="SELECT"){_3cb(_3cd);}}};if(_3c9(root)){_3cb(root);}function rs(node){return _3c7[_3c8(node)]||node;};return {first:rs(_3c2),last:rs(last),lowest:rs(_3c3),highest:rs(_3c5)};},getFirstInTabbingOrder:function(root,doc){var _3cf=a11y._getTabNavigable(dom.byId(root,doc));return _3cf.lowest?_3cf.lowest:_3cf.first;},getLastInTabbingOrder:function(root,doc){var _3d0=a11y._getTabNavigable(dom.byId(root,doc));return _3d0.last?_3d0.last:_3d0.highest;}};1&&lang.mixin(_3bf,a11y);return a11y;});},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(_3d1,lang,_3d2,has,_3d3){var html=_3d3.doc.documentElement,ie=has("ie"),_3d4=has("opera"),maj=Math.floor,ff=has("ff"),_3d5=_3d1.boxModel.replace(/-/,""),_3d6={"dj_quirks":has("quirks"),"dj_opera":_3d4,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ios":has("ios"),"dj_android":has("android")};if(ie){_3d6["dj_ie"]=true;_3d6["dj_ie"+maj(ie)]=true;_3d6["dj_iequirks"]=has("quirks");}if(ff){_3d6["dj_ff"+maj(ff)]=true;}_3d6["dj_"+_3d5]=true;var _3d7="";for(var clz in _3d6){if(_3d6[clz]){_3d7+=clz+" ";}}html.className=lang.trim(html.className+" "+_3d7);_3d2(function(){if(!_3d1.isBodyLtr()){var _3d8="dj_rtl dijitRtl "+_3d7.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_3d8+"dj_rtl dijitRtl "+_3d7.replace(/ /g,"-rtl "));}});return has;});},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(_3d9,has,_3da,win){_3da(function(){if(has("highcontrast")){_3d9.add(win.body(),"dijit_a11y");}});return has;});},"dojo/hccss":function(){define(["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(_3db,_3dc,_3dd,_3de,has,_3df,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url(\""+(_3dc.blankGif||_3db.toUrl("./resources/blank.gif"))+"\");";win.body().appendChild(div);var cs=_3de.getComputedStyle(div),_3e0=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_3e0&&(_3e0=="none"||_3e0=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_3df(function(){if(has("highcontrast")){_3dd.add(win.body(),"dj_a11y");}});return has;});},"dojox/grid/_RowSelector":function(){define(["dojo/_base/declare","./_View"],function(_3e1,_3e2){return _3e1("dojox.grid._RowSelector",_3e2,{defaultWidth:"2em",noscroll:true,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden";},getWidth:function(){return this.viewWidth||this.defaultWidth;},buildRowContent:function(_3e3,_3e4){var w=this.contentWidth||0;_3e4.innerHTML="<table class=\"dojoxGridRowbarTable\" style=\"width:"+w+"px;height:1px;\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"><tr><td class=\"dojoxGridRowbarInner\">&nbsp;</td></tr></table>";},renderHeader:function(){},updateRow:function(){},resize:function(){this.adaptHeight();},adaptWidth:function(){if(!("contentWidth" in this)&&this.contentNode&&this.contentNode.offsetWidth>0){this.contentWidth=this.contentNode.offsetWidth-this.padBorderWidth;}},doStyleRowNode:function(_3e5,_3e6){var n=["dojoxGridRowbar dojoxGridNonNormalizedCell"];if(this.grid.rows.isOver(_3e5)){n.push("dojoxGridRowbarOver");}if(this.grid.selection.isSelected(_3e5)){n.push("dojoxGridRowbarSelected");}_3e6.className=n.join(" ");},domouseover:function(e){this.grid.onMouseOverRow(e);},domouseout:function(e){if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}});});},"dojox/grid/_View":function(){define(["dojo","dijit/registry","../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/connect","dojo/_base/sniff","dojo/query","dojo/_base/window","dojo/text!./resources/View.html","dojo/dnd/Source","dijit/_Widget","dijit/_TemplatedMixin","dojox/html/metrics","./util","dojo/_base/html","./_Builder","dojo/dnd/Avatar","dojo/dnd/Manager"],function(dojo,_3e7,_3e8,_3e9,_3ea,lang,_3eb,has,_3ec,win,_3ed,_3ee,_3ef,_3f0,_3f1,util,html,_3f2,_3f3,_3f4){var _3f5=function(_3f6,_3f7){return _3f6.style.cssText==undefined?_3f6.getAttribute("style"):_3f6.style.cssText;};var _3f8=_3e9("dojox.grid._View",[_3ef,_3f0],{defaultWidth:"18em",viewWidth:"",templateString:_3ed,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,_headerBuilderClass:_3f2._HeaderBuilder,_contentBuilderClass:_3f2._ContentBuilder,postMixInProperties:function(){this.rowNodes={};},postCreate:function(){this.connect(this.scrollboxNode,"onscroll","doscroll");util.funnelEvents(this.contentNode,this,"doContentEvent",["mouseover","mouseout","click","dblclick","contextmenu","mousedown"]);util.funnelEvents(this.headerNode,this,"doHeaderEvent",["dblclick","mouseover","mouseout","mousemove","mousedown","click","contextmenu"]);this.content=new this._contentBuilderClass(this);this.header=new this._headerBuilderClass(this);if(!this.grid.isLeftToRight()){this.headerNodeContainer.style.width="";}},destroy:function(){html.destroy(this.headerNode);delete this.headerNode;for(var i in this.rowNodes){this._cleanupRowWidgets(this.rowNodes[i]);html.destroy(this.rowNodes[i]);}this.rowNodes={};if(this.source){this.source.destroy();}this.inherited(arguments);},focus:function(){if(has("ie")||has("webkit")||has("opera")){this.hiddenFocusNode.focus();}else{this.scrollboxNode.focus();}},setStructure:function(_3f9){var vs=(this.structure=_3f9);if(vs.width&&!isNaN(vs.width)){this.viewWidth=vs.width+"em";}else{this.viewWidth=vs.width||(vs.noscroll?"auto":this.viewWidth);}this._onBeforeRow=vs.onBeforeRow||function(){};this._onAfterRow=vs.onAfterRow||function(){};this.noscroll=vs.noscroll;if(this.noscroll){this.scrollboxNode.style.overflow="hidden";}this.simpleStructure=Boolean(vs.cells.length==1);this.testFlexCells();this.updateStructure();},_cleanupRowWidgets:function(_3fa){if(_3fa){_3ea.forEach(_3ec("[widgetId]",_3fa).map(_3e7.byNode),function(w){if(w._destroyOnRemove){w.destroy();delete w;}else{if(w.domNode&&w.domNode.parentNode){w.domNode.parentNode.removeChild(w.domNode);}}});}},onBeforeRow:function(_3fb,_3fc){this._onBeforeRow(_3fb,_3fc);if(_3fb>=0){this._cleanupRowWidgets(this.getRowNode(_3fb));}},onAfterRow:function(_3fd,_3fe,_3ff){this._onAfterRow(_3fd,_3fe,_3ff);var g=this.grid;_3ea.forEach(_3ec(".dojoxGridStubNode",_3ff),function(n){if(n&&n.parentNode){var lw=n.getAttribute("linkWidget");var _400=window.parseInt(html.attr(n,"cellIdx"),10);var _401=g.getCell(_400);var w=_3e7.byId(lw);if(w){n.parentNode.replaceChild(w.domNode,n);if(!w._started){w.startup();}dojo.destroy(n);}else{n.innerHTML="";}}},this);},testFlexCells:function(){this.flexCells=false;for(var j=0,row;(row=this.structure.cells[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.view=this;this.flexCells=this.flexCells||cell.isFlex();}}return this.flexCells;},updateStructure:function(){this.header.update();this.content.update();},getScrollbarWidth:function(){var _402=this.hasVScrollbar();var _403=html.style(this.scrollboxNode,"overflow");if(this.noscroll||!_403||_403=="hidden"){_402=false;}else{if(_403=="scroll"){_402=true;}}return (_402?_3f1.getScrollbar().w:0);},getColumnsWidth:function(){var h=this.headerContentNode;return h&&h.firstChild?(h.firstChild.offsetWidth||html.style(h.firstChild,"width")):0;},setColumnsWidth:function(_404){this.headerContentNode.firstChild.style.width=_404+"px";if(this.viewWidth){this.viewWidth=_404+"px";}},getWidth:function(){return this.viewWidth||(this.getColumnsWidth()+this.getScrollbarWidth())+"px";},getContentWidth:function(){return Math.max(0,html._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px";},render:function(){this.scrollboxNode.style.height="";this.renderHeader();if(this._togglingColumn>=0){this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn);this._togglingColumn=-1;}var _405=this.grid.layout.cells;var _406=lang.hitch(this,function(node,_407){!this.grid.isLeftToRight()&&(_407=!_407);var inc=_407?-1:1;var idx=this.header.getCellNodeIndex(node)+inc;var cell=_405[idx];while(cell&&cell.getHeaderNode()&&cell.getHeaderNode().style.display=="none"){idx+=inc;cell=_405[idx];}if(cell){return cell.getHeaderNode();}return null;});if(this.grid.columnReordering&&this.simpleStructure){if(this.source){this.source.destroy();}var _408="dojoxGrid_bottomMarker";var _409="dojoxGrid_topMarker";if(this.bottomMarker){html.destroy(this.bottomMarker);}this.bottomMarker=html.byId(_408);if(this.topMarker){html.destroy(this.topMarker);}this.topMarker=html.byId(_409);if(!this.bottomMarker){this.bottomMarker=html.create("div",{"id":_408,"class":"dojoxGridColPlaceBottom"},win.body());this._hide(this.bottomMarker);this.topMarker=html.create("div",{"id":_409,"class":"dojoxGridColPlaceTop"},win.body());this._hide(this.topMarker);}this.arrowDim=html.contentBox(this.bottomMarker);var _40a=html.contentBox(this.headerContentNode.firstChild.rows[0]).h;this.source=new _3ee(this.headerContentNode.firstChild.rows[0],{horizontal:true,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,generateText:false,onMouseDown:lang.hitch(this,function(e){this.header.decorateEvent(e);if((this.header.overRightResizeArea(e)||this.header.overLeftResizeArea(e))&&this.header.canResize(e)&&!this.header.moveable){this.header.beginColumnResize(e);}else{if(this.grid.headerMenu){this.grid.headerMenu.onCancel(true);}if(e.button===(has("ie")<9?1:0)){_3ee.prototype.onMouseDown.call(this.source,e);}}}),onMouseOver:lang.hitch(this,function(e){var src=this.source;if(src._getChildByEvent(e)){_3ee.prototype.onMouseOver.apply(src,arguments);}}),_markTargetAnchor:lang.hitch(this,function(_40b){var src=this.source;if(src.current==src.targetAnchor&&src.before==_40b){return;}if(src.targetAnchor&&_406(src.targetAnchor,src.before)){src._removeItemClass(_406(src.targetAnchor,src.before),src.before?"After":"Before");}_3ee.prototype._markTargetAnchor.call(src,_40b);var _40c=_40b?src.targetAnchor:_406(src.targetAnchor,src.before);var _40d=0;if(!_40c){_40c=src.targetAnchor;_40d=html.contentBox(_40c).w+this.arrowDim.w/2+2;}var pos=html.position(_40c,true);var left=Math.floor(pos.x-this.arrowDim.w/2+_40d);html.style(this.bottomMarker,"visibility","visible");html.style(this.topMarker,"visibility","visible");html.style(this.bottomMarker,{"left":left+"px","top":(_40a+pos.y)+"px"});html.style(this.topMarker,{"left":left+"px","top":(pos.y-this.arrowDim.h)+"px"});if(src.targetAnchor&&_406(src.targetAnchor,src.before)){src._addItemClass(_406(src.targetAnchor,src.before),src.before?"After":"Before");}}),_unmarkTargetAnchor:lang.hitch(this,function(){var src=this.source;if(!src.targetAnchor){return;}if(src.targetAnchor&&_406(src.targetAnchor,src.before)){src._removeItemClass(_406(src.targetAnchor,src.before),src.before?"After":"Before");}this._hide(this.bottomMarker);this._hide(this.topMarker);_3ee.prototype._unmarkTargetAnchor.call(src);}),destroy:lang.hitch(this,function(){_3eb.disconnect(this._source_conn);_3eb.unsubscribe(this._source_sub);_3ee.prototype.destroy.call(this.source);if(this.bottomMarker){html.destroy(this.bottomMarker);delete this.bottomMarker;}if(this.topMarker){html.destroy(this.topMarker);delete this.topMarker;}}),onDndCancel:lang.hitch(this,function(){_3ee.prototype.onDndCancel.call(this.source);this._hide(this.bottomMarker);this._hide(this.topMarker);})});this._source_conn=_3eb.connect(this.source,"onDndDrop",this,"_onDndDrop");this._source_sub=_3eb.subscribe("/dnd/drop/before",this,"_onDndDropBefore");this.source.startup();}},_hide:function(node){html.style(node,{top:"-10000px","visibility":"hidden"});},_onDndDropBefore:function(_40e,_40f,copy){if(_3f4.manager().target!==this.source){return;}this.source._targetNode=this.source.targetAnchor;this.source._beforeTarget=this.source.before;var _410=this.grid.views.views;var _411=_410[_40e.viewIndex];var _412=_410[this.index];if(_412!=_411){_411.convertColPctToFixed();_412.convertColPctToFixed();}},_onDndDrop:function(_413,_414,copy){if(_3f4.manager().target!==this.source){if(_3f4.manager().source===this.source){this._removingColumn=true;}return;}this._hide(this.bottomMarker);this._hide(this.topMarker);var _415=function(n){return n?html.attr(n,"idx"):null;};var w=html.marginBox(_414[0]).w;if(_413.viewIndex!==this.index){var _416=this.grid.views.views;var _417=_416[_413.viewIndex];var _418=_416[this.index];if(_417.viewWidth&&_417.viewWidth!="auto"){_417.setColumnsWidth(_417.getColumnsWidth()-w);}if(_418.viewWidth&&_418.viewWidth!="auto"){_418.setColumnsWidth(_418.getColumnsWidth());}}var stn=this.source._targetNode;var stb=this.source._beforeTarget;!this.grid.isLeftToRight()&&(stb=!stb);var _419=this.grid.layout;var idx=this.index;delete this.source._targetNode;delete this.source._beforeTarget;_419.moveColumn(_413.viewIndex,idx,_415(_414[0]),_415(stn),stb);},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}util.fire(this,"onAfterRow",[-1,this.structure.cells,this.headerContentNode]);},_getHeaderContent:function(_41a){var n=_41a.name||_41a.grid.getCellName(_41a);if(/^\s+$/.test(n)){n="&nbsp;";}var ret=["<div class=\"dojoxGridSortNode"];if(_41a.index!=_41a.grid.getSortIndex()){ret.push("\">");}else{ret=ret.concat([" ",_41a.grid.sortInfo>0?"dojoxGridSortUp":"dojoxGridSortDown","\"><div class=\"dojoxGridArrowButtonChar\">",_41a.grid.sortInfo>0?"&#9650;":"&#9660;","</div><div class=\"dojoxGridArrowButtonNode\" role=\"presentation\"></div>","<div class=\"dojoxGridColCaption\">"]);}ret=ret.concat([n,"</div></div>"]);return ret.join("");},resize:function(){this.adaptHeight();this.adaptWidth();},hasHScrollbar:function(_41b){var _41c=this._hasHScroll||false;if(this._hasHScroll==undefined||_41b){if(this.noscroll){this._hasHScroll=false;}else{var _41d=html.style(this.scrollboxNode,"overflow");if(_41d=="hidden"){this._hasHScroll=false;}else{if(_41d=="scroll"){this._hasHScroll=true;}else{this._hasHScroll=(this.scrollboxNode.offsetWidth-this.getScrollbarWidth()<this.contentNode.offsetWidth);}}}}if(_41c!==this._hasHScroll){this.grid.update();}return this._hasHScroll;},hasVScrollbar:function(_41e){var _41f=this._hasVScroll||false;if(this._hasVScroll==undefined||_41e){if(this.noscroll){this._hasVScroll=false;}else{var _420=html.style(this.scrollboxNode,"overflow");if(_420=="hidden"){this._hasVScroll=false;}else{if(_420=="scroll"){this._hasVScroll=true;}else{this._hasVScroll=(this.scrollboxNode.scrollHeight>this.scrollboxNode.clientHeight);}}}}if(_41f!==this._hasVScroll){this.grid.update();}return this._hasVScroll;},convertColPctToFixed:function(){var _421=false;this.grid.initialWidth="";var _422=_3ec("th",this.headerContentNode);var _423=_3ea.map(_422,function(c,vIdx){var w=c.style.width;html.attr(c,"vIdx",vIdx);if(w&&w.slice(-1)=="%"){_421=true;}else{if(w&&w.slice(-2)=="px"){return window.parseInt(w,10);}}return html.contentBox(c).w;});if(_421){_3ea.forEach(this.grid.layout.cells,function(cell,idx){if(cell.view==this){var _424=cell.view.getHeaderCellNode(cell.index);if(_424&&html.hasAttr(_424,"vIdx")){var vIdx=window.parseInt(html.attr(_424,"vIdx"));this.setColWidth(idx,_423[vIdx]);html.removeAttr(_424,"vIdx");}}},this);return true;}return false;},adaptHeight:function(_425){if(!this.grid._autoHeight){var h=(this.domNode.style.height&&parseInt(this.domNode.style.height.replace(/px/,""),10))||this.domNode.clientHeight;var self=this;var _426=function(){var v;for(var i in self.grid.views.views){v=self.grid.views.views[i];if(v!==self&&v.hasHScrollbar()){return true;}}return false;};if(_425||(this.noscroll&&_426())){h-=_3f1.getScrollbar().h;}util.setStyleHeightPx(this.scrollboxNode,h);}this.hasVScrollbar(true);},adaptWidth:function(){if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}var w=this.scrollboxNode.offsetWidth-this.getScrollbarWidth();if(!this._removingColumn){w=Math.max(w,this.getColumnsWidth())+"px";}else{w=Math.min(w,this.getColumnsWidth())+"px";this._removingColumn=false;}var cn=this.contentNode;cn.style.width=w;this.hasHScrollbar(true);},setSize:function(w,h){var ds=this.domNode.style;var hs=this.headerNode.style;if(w){ds.width=w;hs.width=w;}ds.height=(h>=0?h+"px":"");},renderRow:function(_427){var _428=this.createRowNode(_427);this.buildRow(_427,_428);return _428;},createRowNode:function(_429){var node=document.createElement("div");node.className=this.classTag+"Row";if(this instanceof _3e8.grid._RowSelector){html.attr(node,"role","presentation");}else{html.attr(node,"role","row");if(this.grid.selectionMode!="none"){node.setAttribute("aria-selected","false");}}node[util.gridViewTag]=this.id;node[util.rowIndexTag]=_429;this.rowNodes[_429]=node;return node;},buildRow:function(_42a,_42b){this.buildRowContent(_42a,_42b);this.styleRow(_42a,_42b);},buildRowContent:function(_42c,_42d){_42d.innerHTML=this.content.generateHtml(_42c,_42c);if(this.flexCells&&this.contentWidth){_42d.firstChild.style.width=this.contentWidth;}util.fire(this,"onAfterRow",[_42c,this.structure.cells,_42d]);},rowRemoved:function(_42e){if(_42e>=0){this._cleanupRowWidgets(this.getRowNode(_42e));}this.grid.edit.save(this,_42e);delete this.rowNodes[_42e];},getRowNode:function(_42f){return this.rowNodes[_42f];},getCellNode:function(_430,_431){var row=this.getRowNode(_430);if(row){return this.content.getCellNode(row,_431);}},getHeaderCellNode:function(_432){if(this.headerContentNode){return this.header.getCellNode(this.headerContentNode,_432);}},styleRow:function(_433,_434){_434._style=_3f5(_434);this.styleRowNode(_433,_434);},styleRowNode:function(_435,_436){if(_436){this.doStyleRowNode(_435,_436);}},doStyleRowNode:function(_437,_438){this.grid.styleRowNode(_437,_438);},updateRow:function(_439){var _43a=this.getRowNode(_439);if(_43a){_43a.style.height="";this.buildRow(_439,_43a);}return _43a;},updateRowStyles:function(_43b){this.styleRowNode(_43b,this.getRowNode(_43b));},lastTop:0,firstScroll:0,_nativeScroll:false,doscroll:function(_43c){if(has("ff")>=13){this._nativeScroll=true;}var _43d=this.grid.isLeftToRight();if(this.firstScroll<2){if((!_43d&&this.firstScroll==1)||(_43d&&this.firstScroll===0)){var s=html.marginBox(this.headerNodeContainer);if(has("ie")){this.headerNodeContainer.style.width=s.w+this.getScrollbarWidth()+"px";}else{if(has("mozilla")){this.headerNodeContainer.style.width=s.w-this.getScrollbarWidth()+"px";this.scrollboxNode.scrollLeft=_43d?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth;}}}this.firstScroll++;}this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;var top=this.scrollboxNode.scrollTop;if(top!==this.lastTop){this.grid.scrollTo(top);}this._nativeScroll=false;},setScrollTop:function(_43e){this.lastTop=_43e;if(!this._nativeScroll){this.scrollboxNode.scrollTop=_43e;}return this.scrollboxNode.scrollTop;},doContentEvent:function(e){if(this.content.decorateEvent(e)){this.grid.onContentEvent(e);}},doHeaderEvent:function(e){if(this.header.decorateEvent(e)){this.grid.onHeaderEvent(e);}},dispatchContentEvent:function(e){return this.content.dispatchEvent(e);},dispatchHeaderEvent:function(e){return this.header.dispatchEvent(e);},setColWidth:function(_43f,_440){this.grid.setCellWidth(_43f,_440+"px");},update:function(){if(!this.domNode){return;}this.content.update();this.grid.update();var left=this.scrollboxNode.scrollLeft;this.scrollboxNode.scrollLeft=left;this.headerNode.scrollLeft=left;}});var _441=_3e9("dojox.grid._GridAvatar",_3f3,{construct:function(){var dd=win.doc;var a=dd.createElement("table");a.cellPadding=a.cellSpacing="0";a.className="dojoxGridDndAvatar";a.style.position="absolute";a.style.zIndex=1999;a.style.margin="0px";var b=dd.createElement("tbody");var tr=dd.createElement("tr");var td=dd.createElement("td");var img=dd.createElement("td");tr.className="dojoxGridDndAvatarItem";img.className="dojoxGridDndAvatarItemImage";img.style.width="16px";var _442=this.manager.source,node;if(_442.creator){node=_442._normalizedCreator(_442.getItem(this.manager.nodes[0].id).data,"avatar").node;}else{node=this.manager.nodes[0].cloneNode(true);var _443,_444;if(node.tagName.toLowerCase()=="tr"){_443=dd.createElement("table");_444=dd.createElement("tbody");_444.appendChild(node);_443.appendChild(_444);node=_443;}else{if(node.tagName.toLowerCase()=="th"){_443=dd.createElement("table");_444=dd.createElement("tbody");var r=dd.createElement("tr");_443.cellPadding=_443.cellSpacing="0";r.appendChild(node);_444.appendChild(r);_443.appendChild(_444);node=_443;}}}node.id="";td.appendChild(node);tr.appendChild(img);tr.appendChild(td);html.style(tr,"opacity",0.9);b.appendChild(tr);a.appendChild(b);this.node=a;var m=_3f4.manager();this.oldOffsetY=m.OFFSET_Y;m.OFFSET_Y=1;},destroy:function(){_3f4.manager().OFFSET_Y=this.oldOffsetY;this.inherited(arguments);}});var _445=_3f4.manager().makeAvatar;_3f4.manager().makeAvatar=function(){var src=this.source;if(src.viewIndex!==undefined&&!html.hasClass(win.body(),"dijit_a11y")){return new _441(this);}return _445.call(_3f4.manager());};return _3f8;});},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(dojo,_446,has,_447){var _448;if(1){_448=function(url,sync,load){_447(url,{sync:!!sync}).then(load);};}else{if(_446.getText){_448=_446.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _449={},_44a=function(text){if(text){text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _44b=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_44b){text=_44b[1];}}else{text="";}return text;},_44c={},_44d={};dojo.cache=function(_44e,url,_44f){var key;if(typeof _44e=="string"){if(/\//.test(_44e)){key=_44e;_44f=url;}else{key=_446.toUrl(_44e.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_44e+"";_44f=url;}var val=(_44f!=undefined&&typeof _44f!="string")?_44f.value:_44f,_450=_44f&&_44f.sanitize;if(typeof val=="string"){_449[key]=val;return _450?_44a(val):val;}else{if(val===null){delete _449[key];return null;}else{if(!(key in _449)){_448(key,true,function(text){_449[key]=text;});}return _450?_44a(_449[key]):_449[key];}}};return {dynamic:true,normalize:function(id,_451){var _452=id.split("!"),url=_452[0];return (/^\./.test(url)?_451(url):url)+(_452[1]?"!"+_452[1]:"");},load:function(id,_453,load){var _454=id.split("!"),_455=_454.length>1,_456=_454[0],url=_453.toUrl(_454[0]),_457="url:"+url,text=_44c,_458=function(text){load(_455?_44a(text):text);};if(_456 in _449){text=_449[_456];}else{if(_453.cache&&_457 in _453.cache){text=_453.cache[_457];}else{if(url in _449){text=_449[url];}}}if(text===_44c){if(_44d[url]){_44d[url].push(_458);}else{var _459=_44d[url]=[_458];_448(url,!_453.async,function(text){_449[_456]=_449[url]=text;for(var i=0;i<_459.length;){_459[i++](text);}delete _44d[url];});}}else{_458(text);}}};});},"dojo/request":function(){define(["./request/default!"],function(_45a){return _45a;});},"dojo/request/default":function(){define(["exports","require","../has"],function(_45b,_45c,has){var _45d=has("config-requestProvider"),_45e;if(1){_45e="./xhr";}else{if(0){_45e="./node";}}if(!_45d){_45d=_45e;}_45b.getPlatformDefaultId=function(){return _45e;};_45b.load=function(id,_45f,_460,_461){_45c([id=="platform"?_45e:_45d],function(_462){_460(_462);});};});},"dojo/dnd/Source":function(){define(["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../dom-class","../dom-geometry","../mouse","../ready","../topic","./common","./Selector","./Manager"],function(_463,_464,_465,lang,_466,_467,_468,_469,_46a,dnd,_46b,_46c){if(!_465.isAsync){_469(0,function(){var _46d=["dojo/dnd/AutoSource","dojo/dnd/Target"];require(_46d);});}var _46e=_464("dojo.dnd.Source",_46b,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],generateText:true,constructor:function(node,_46f){lang.mixin(this,lang.mixin({},_46f));var type=this.accept;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){_466.add(this.node,"dojoDndSource");}this.targetState="";if(this.accept){_466.add(this.node,"dojoDndTarget");}if(this.horizontal){_466.add(this.node,"dojoDndHorizontal");}this.topics=[_46a.subscribe("/dnd/source/over",lang.hitch(this,"onDndSourceOver")),_46a.subscribe("/dnd/start",lang.hitch(this,"onDndStart")),_46a.subscribe("/dnd/drop",lang.hitch(this,"onDndDrop")),_46a.subscribe("/dnd/cancel",lang.hitch(this,"onDndCancel"))];},checkAcceptance:function(_470,_471){if(this==_470){return !this.copyOnly||this.selfAccept;}for(var i=0;i<_471.length;++i){var type=_470.getItem(_471[i].id).type;var flag=false;for(var j=0;j<type.length;++j){if(type[j] in this.accept){flag=true;break;}}if(!flag){return false;}}return true;},copyState:function(_472,self){if(_472){return true;}if(arguments.length<2){self=this==_46c.manager().target;}if(self){if(this.copyOnly){return this.selfCopy;}}else{return this.copyOnly;}return false;},destroy:function(){_46e.superclass.destroy.call(this);_463.forEach(this.topics,function(t){t.remove();});this.targetAnchor=null;},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}_46e.superclass.onMouseMove.call(this,e);var m=_46c.manager();if(!this.isDragging){if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){var _473=this.getSelectedNodes();if(_473.length){m.startDrag(this,_473,this.copyState(dnd.getCopyKeyState(e),true));}}}if(this.isDragging){var _474=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox=_467.position(this.current,true);}if(this.horizontal){_474=(e.pageX-this.targetBox.x<this.targetBox.w/2)==_467.isBodyLtr(this.current.ownerDocument);}else{_474=(e.pageY-this.targetBox.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_474!=this.before){this._markTargetAnchor(_474);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}},onMouseDown:function(e){if(!this.mouseDown&&this._legalMouseDown(e)&&(!this.skipForm||!dnd.isFormElement(e))){this.mouseDown=true;this._lastX=e.pageX;this._lastY=e.pageY;_46e.superclass.onMouseDown.call(this,e);}},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;_46e.superclass.onMouseUp.call(this,e);}},onDndSourceOver:function(_475){if(this!==_475){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=_46c.manager();m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));}}},onDndStart:function(_476,_477,copy){if(this.autoSync){this.sync();}if(this.isSource){this._changeState("Source",this==_476?(copy?"Copied":"Moved"):"");}var _478=this.accept&&this.checkAcceptance(_476,_477);this._changeState("Target",_478?"":"Disabled");if(this==_476){_46c.manager().overSource(this);}this.isDragging=true;},onDndDrop:function(_479,_47a,copy,_47b){if(this==_47b){this.onDrop(_479,_47a,copy);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;this._changeState("Source","");this._changeState("Target","");},onDrop:function(_47c,_47d,copy){if(this!=_47c){this.onDropExternal(_47c,_47d,copy);}else{this.onDropInternal(_47d,copy);}},onDropExternal:function(_47e,_47f,copy){var _480=this._normalizedCreator;if(this.creator){this._normalizedCreator=function(node,hint){return _480.call(this,_47e.getItem(node.id).data,hint);};}else{if(copy){this._normalizedCreator=function(node){var t=_47e.getItem(node.id);var n=node.cloneNode(true);n.id=dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}else{this._normalizedCreator=function(node){var t=_47e.getItem(node.id);_47e.delItem(node.id);return {node:node,data:t.data,type:t.type};};}}this.selectNone();if(!copy&&!this.creator){_47e.selectNone();}this.insertNodes(true,_47f,this.before,this.current);if(!copy&&this.creator){_47e.deleteSelectedNodes();}this._normalizedCreator=_480;},onDropInternal:function(_481,copy){var _482=this._normalizedCreator;if(this.current&&this.current.id in this.selection){return;}if(copy){if(this.creator){this._normalizedCreator=function(node,hint){return _482.call(this,this.getItem(node.id).data,hint);};}else{this._normalizedCreator=function(node){var t=this.getItem(node.id);var n=node.cloneNode(true);n.id=dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}}else{if(!this.current){return;}this._normalizedCreator=function(node){var t=this.getItem(node.id);return {node:node,data:t.data,type:t.type};};}this._removeSelection();this.insertNodes(true,_481,this.before,this.current);this._normalizedCreator=_482;},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){_46e.superclass.onOverEvent.call(this);_46c.manager().overSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOver();}},onOutEvent:function(){_46e.superclass.onOutEvent.call(this);_46c.manager().outSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOut();}},_markTargetAnchor:function(_483){if(this.current==this.targetAnchor&&this.before==_483){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_483;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");},_legalMouseDown:function(e){if(e.type!="touchstart"&&!_468.isLeft(e)){return false;}if(!this.withHandles){return true;}for(var node=e.target;node&&node!==this.node;node=node.parentNode){if(_466.contains(node,"dojoDndHandle")){return true;}if(_466.contains(node,"dojoDndItem")||_466.contains(node,"dojoDndIgnore")){break;}}return false;}});return _46e;});},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(has,_484,lang,dom){var _485=lang.getObject("dojo.dnd",true);_485.getCopyKeyState=function(evt){return evt[has("mac")?"metaKey":"ctrlKey"];};_485._uniqueId=0;_485.getUniqueId=function(){var id;do{id=_484._scopeName+"Unique"+(++_485._uniqueId);}while(dom.byId(id));return id;};_485._empty={};_485.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};return _485;});},"dojo/dnd/Selector":function(){define(["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../dom","../dom-construct","../mouse","../_base/NodeList","../on","../touch","./common","./Container"],function(_486,_487,_488,lang,dom,_489,_48a,_48b,on,_48c,dnd,_48d){var _48e=_487("dojo.dnd.Selector",_48d,{constructor:function(node,_48f){if(!_48f){_48f={};}this.singular=_48f.singular;this.autoSync=_48f.autoSync;this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(on(this.node,_48c.press,lang.hitch(this,"onMouseDown")),on(this.node,_48c.release,lang.hitch(this,"onMouseUp")));},singular:false,getSelectedNodes:function(){var t=new _48b();var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}t.push(dom.byId(i));}return t;},selectNone:function(){return this._removeSelection()._removeAnchor();},selectAll:function(){this.forInItems(function(data,id){this._addItemClass(dom.byId(id),"Selected");this.selection[id]=1;},this);return this._removeAnchor();},deleteSelectedNodes:function(){var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}var n=dom.byId(i);this.delItem(i);_489.destroy(n);}this.anchor=null;this.selection={};return this;},forInSelectedItems:function(f,o){o=o||_488.global;var s=this.selection,e=dnd._empty;for(var i in s){if(i in e){continue;}f.call(o,this.getItem(i),i,this);}},sync:function(){_48e.superclass.sync.call(this);if(this.anchor){if(!this.getItem(this.anchor.id)){this.anchor=null;}}var t=[],e=dnd._empty;for(var i in this.selection){if(i in e){continue;}if(!this.getItem(i)){t.push(i);}}_486.forEach(t,function(i){delete this.selection[i];},this);return this;},insertNodes:function(_490,data,_491,_492){var _493=this._normalizedCreator;this._normalizedCreator=function(item,hint){var t=_493.call(this,item,hint);if(_490){if(!this.anchor){this.anchor=t.node;this._removeItemClass(t.node,"Selected");this._addItemClass(this.anchor,"Anchor");}else{if(this.anchor!=t.node){this._removeItemClass(t.node,"Anchor");this._addItemClass(t.node,"Selected");}}this.selection[t.node.id]=1;}else{this._removeItemClass(t.node,"Selected");this._removeItemClass(t.node,"Anchor");}return t;};_48e.superclass.insertNodes.call(this,data,_491,_492);this._normalizedCreator=_493;return this;},destroy:function(){_48e.superclass.destroy.call(this);this.selection=this.anchor=null;},onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(_48a.isLeft(e)){e.stopPropagation();e.preventDefault();}return;}if(!this.singular&&e.shiftKey){if(!dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0,node;for(;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}e.stopPropagation();e.preventDefault();},onMouseUp:function(){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}},onMouseMove:function(){this.simpleSelection=false;},onOverEvent:function(){this.onmousemoveEvent=on(this.node,_48c.move,lang.hitch(this,"onMouseMove"));},onOutEvent:function(){if(this.onmousemoveEvent){this.onmousemoveEvent.remove();delete this.onmousemoveEvent;}},_removeSelection:function(){var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}var node=dom.byId(i);if(node){this._removeItemClass(node,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});return _48e;});},"dojo/dnd/Container":function(){define(["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../_base/window","../dom","../dom-class","../dom-construct","../Evented","../has","../on","../query","../touch","./common"],function(_494,_495,_496,lang,win,dom,_497,_498,_499,has,on,_49a,_49b,dnd){var _49c=_495("dojo.dnd.Container",_499,{skipForm:false,allowNested:false,constructor:function(node,_49d){this.node=dom.byId(node);if(!_49d){_49d={};}this.creator=_49d.creator||null;this.skipForm=_49d.skipForm;this.parent=_49d.dropParent&&dom.byId(_49d.dropParent);this.map={};this.current=null;this.containerState="";_497.add(this.node,"dojoDndContainer");if(!(_49d&&_49d._skipStartup)){this.startup();}this.events=[on(this.node,_49b.over,lang.hitch(this,"onMouseOver")),on(this.node,_49b.out,lang.hitch(this,"onMouseOut")),on(this.node,"dragstart",lang.hitch(this,"onSelectStart")),on(this.node,"selectstart",lang.hitch(this,"onSelectStart"))];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,data){this.map[key]=data;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||_496.global;var m=this.map,e=dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return _49a((this.allowNested?"":"> ")+".dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(data,_49e,_49f){if(!this.parent.firstChild){_49f=null;}else{if(_49e){if(!_49f){_49f=this.parent.firstChild;}}else{if(_49f){_49f=_49f.nextSibling;}}}var i,t;if(_49f){for(i=0;i<data.length;++i){t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});_49f.parentNode.insertBefore(t.node,_49f);}}else{for(i=0;i<data.length;++i){t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){_494.forEach(this.events,function(_4a0){_4a0.remove();});this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_4a1,node,Ctor){_4a1._skipStartup=true;return new Ctor(node,_4a1);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dnd.isFormElement(e)){e.stopPropagation();e.preventDefault();}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(type,_4a2){var _4a3="dojoDnd"+type;var _4a4=type.toLowerCase()+"State";_497.replace(this.node,_4a3+_4a2,_4a3+this[_4a4]);this[_4a4]=_4a2;},_addItemClass:function(node,type){_497.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_497.remove(node,"dojoDndItem"+type);},_getChildByEvent:function(e){var node=e.target;if(node){for(var _4a5=node.parentNode;_4a5;node=_4a5,_4a5=node.parentNode){if((_4a5==this.parent||this.allowNested)&&_497.contains(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!lang.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dnd.getUniqueId();}_497.add(t.node,"dojoDndItem");return t;}});dnd._createNode=function(tag){if(!tag){return dnd._createSpan;}return function(text){return _498.create(tag,{innerHTML:text});};};dnd._createTrTd=function(text){var tr=_498.create("tr");_498.create("td",{innerHTML:text},tr);return tr;};dnd._createSpan=function(text){return _498.create("span",{innerHTML:text});};dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dnd._defaultCreator=function(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dnd._createTrTd:dnd._createNode(dnd._defaultCreatorNodes[tag]);return function(item,hint){var _4a6=item&&lang.isObject(item),data,type,n;if(_4a6&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(_4a6&&item.data)?item.data:item;type=(_4a6&&item.type)?item.type:["text"];n=(hint=="avatar"?dnd._createSpan:c)(String(data));}if(!n.id){n.id=dnd.getUniqueId();}return {node:n,data:data,type:type};};};return _49c;});},"dojo/dnd/Manager":function(){define(["../_base/array","../_base/declare","../_base/lang","../_base/window","../dom-class","../Evented","../has","../keys","../on","../topic","../touch","./common","./autoscroll","./Avatar"],function(_4a7,_4a8,lang,win,_4a9,_4aa,has,keys,on,_4ab,_4ac,dnd,_4ad,_4ae){var _4af=_4a8("dojo.dnd.Manager",[_4aa],{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:has("touch")?0:16,OFFSET_Y:has("touch")?-64:16,overSource:function(_4b0){if(this.avatar){this.target=(_4b0&&_4b0.targetState!="Disabled")?_4b0:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}_4ab.publish("/dnd/source/over",_4b0);},outSource:function(_4b1){if(this.avatar){if(this.target==_4b1){this.target=null;this.canDropFlag=false;this.avatar.update();_4ab.publish("/dnd/source/over",null);}}else{_4ab.publish("/dnd/source/over",null);}},startDrag:function(_4b2,_4b3,copy){_4ad.autoScrollStart(win.doc);this.source=_4b2;this.nodes=_4b3;this.copy=Boolean(copy);this.avatar=this.makeAvatar();win.body().appendChild(this.avatar.node);_4ab.publish("/dnd/start",_4b2,_4b3,this.copy);function _4b4(e){e.preventDefault();e.stopPropagation();};this.events=[on(win.doc,_4ac.move,lang.hitch(this,"onMouseMove")),on(win.doc,_4ac.release,lang.hitch(this,"onMouseUp")),on(win.doc,"keydown",lang.hitch(this,"onKeyDown")),on(win.doc,"keyup",lang.hitch(this,"onKeyUp")),on(win.doc,"dragstart",_4b4),on(win.body(),"selectstart",_4b4)];var c="dojoDnd"+(copy?"Copy":"Move");_4a9.add(win.body(),c);},canDrop:function(flag){var _4b5=Boolean(this.target&&flag);if(this.canDropFlag!=_4b5){this.canDropFlag=_4b5;this.avatar.update();}},stopDrag:function(){_4a9.remove(win.body(),["dojoDndCopy","dojoDndMove"]);_4a7.forEach(this.events,function(_4b6){_4b6.remove();});this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new _4ae(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){_4ad.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}if(has("touch")){e.preventDefault();}},onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));_4ab.publish("/dnd/drop/before",this.source,this.nodes,copy,this.target,e);_4ab.publish("/dnd/drop",this.source,this.nodes,copy,this.target,e);}else{_4ab.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case keys.ESCAPE:_4ab.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();_4a9.replace(win.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"));}});dnd._manager=null;_4af.manager=dnd.manager=function(){if(!dnd._manager){dnd._manager=new _4af();}return dnd._manager;};return _4af;});},"dojo/dnd/autoscroll":function(){define(["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(lang,has,win,_4b7,_4b8,_4b9){var _4ba={};lang.setObject("dojo.dnd.autoscroll",_4ba);_4ba.getViewport=_4b9.getBox;_4ba.V_TRIGGER_AUTOSCROLL=32;_4ba.H_TRIGGER_AUTOSCROLL=32;_4ba.V_AUTOSCROLL_VALUE=16;_4ba.H_AUTOSCROLL_VALUE=16;var _4bb,doc=win.doc,_4bc=Infinity,_4bd=Infinity;_4ba.autoScrollStart=function(d){doc=d;_4bb=_4b9.getBox(doc);var html=win.body(doc).parentNode;_4bc=Math.max(html.scrollHeight-_4bb.h,0);_4bd=Math.max(html.scrollWidth-_4bb.w,0);};_4ba.autoScroll=function(e){var v=_4bb||_4b9.getBox(doc),html=win.body(doc).parentNode,dx=0,dy=0;if(e.clientX<_4ba.H_TRIGGER_AUTOSCROLL){dx=-_4ba.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-_4ba.H_TRIGGER_AUTOSCROLL){dx=Math.min(_4ba.H_AUTOSCROLL_VALUE,_4bd-html.scrollLeft);}}if(e.clientY<_4ba.V_TRIGGER_AUTOSCROLL){dy=-_4ba.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-_4ba.V_TRIGGER_AUTOSCROLL){dy=Math.min(_4ba.V_AUTOSCROLL_VALUE,_4bc-html.scrollTop);}}window.scrollBy(dx,dy);};_4ba._validNodes={"div":1,"p":1,"td":1};_4ba._validOverflow={"auto":1,"scroll":1};_4ba.autoScrollNodes=function(e){var b,t,w,h,rx,ry,dx=0,dy=0,_4be,_4bf;for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in _4ba._validNodes)){var s=_4b8.getComputedStyle(n),_4c0=(s.overflow.toLowerCase() in _4ba._validOverflow),_4c1=(s.overflowX.toLowerCase() in _4ba._validOverflow),_4c2=(s.overflowY.toLowerCase() in _4ba._validOverflow);if(_4c0||_4c1||_4c2){b=_4b7.getContentBox(n,s);t=_4b7.position(n,true);}if(_4c0||_4c1){w=Math.min(_4ba.H_TRIGGER_AUTOSCROLL,b.w/2);rx=e.pageX-t.x;if(has("webkit")||has("opera")){rx+=win.body().scrollLeft;}dx=0;if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}_4be=n.scrollLeft;n.scrollLeft=n.scrollLeft+dx;}}if(_4c0||_4c2){h=Math.min(_4ba.V_TRIGGER_AUTOSCROLL,b.h/2);ry=e.pageY-t.y;if(has("webkit")||has("opera")){ry+=win.body().scrollTop;}dy=0;if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}_4bf=n.scrollTop;n.scrollTop=n.scrollTop+dy;}}if(dx||dy){return;}}try{n=n.parentNode;}catch(x){n=null;}}_4ba.autoScroll(e);};return _4ba;});},"dojo/dnd/Avatar":function(){define(["../_base/declare","../_base/window","../dom","../dom-attr","../dom-class","../dom-construct","../hccss","../query"],function(_4c3,win,dom,_4c4,_4c5,_4c6,has,_4c7){return _4c3("dojo.dnd.Avatar",null,{constructor:function(_4c8){this.manager=_4c8;this.construct();},construct:function(){var a=_4c6.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_4c9=this.manager.source,node,b=_4c6.create("tbody",null,a),tr=_4c6.create("tr",null,b),td=_4c6.create("td",null,tr),k=Math.min(5,this.manager.nodes.length),i=0;if(has("highcontrast")){_4c6.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},td);}_4c6.create("span",{innerHTML:_4c9.generateText?this._generateText():""},td);_4c4.set(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});for(;i<k;++i){if(_4c9.creator){node=_4c9._normalizedCreator(_4c9.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _4ca=_4c6.create("table"),_4cb=_4c6.create("tbody",null,_4ca);_4cb.appendChild(node);node=_4ca;}}node.id="";tr=_4c6.create("tr",null,b);td=_4c6.create("td",null,tr);td.appendChild(node);_4c4.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}this.node=a;},destroy:function(){_4c6.destroy(this.node);this.node=false;},update:function(){_4c5.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(has("highcontrast")){var icon=dom.byId("a11yIcon");var text="+";if(this.manager.canDropFlag&&!this.manager.copy){text="< ";}else{if(!this.manager.canDropFlag&&!this.manager.copy){text="o";}else{if(!this.manager.canDropFlag){text="x";}}}icon.innerHTML=text;}_4c7(("tr.dojoDndAvatarHeader td span"+(has("highcontrast")?" span":"")),this.node).forEach(function(node){node.innerHTML=this.manager.source.generateText?this._generateText():"";},this);},_generateText:function(){return this.manager.nodes.length.toString();}});});},"dijit/_TemplatedMixin":function(){define(["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(_4cc,_4cd,_4ce,lang,on,has,_4cf,_4d0){var _4d1=_4cd("dijit._TemplatedMixin",_4d0,{templateString:null,templatePath:null,_skipNodeCache:false,searchContainerNode:true,_stringRepl:function(tmpl){var _4d2=this.declaredClass,_4d3=this;return _4cf.substitute(tmpl,this,function(_4d4,key){if(key.charAt(0)=="!"){_4d4=lang.getObject(key.substr(1),false,_4d3);}if(typeof _4d4=="undefined"){throw new Error(_4d2+" template:"+key);}if(_4d4==null){return "";}return key.charAt(0)=="!"?_4d4:this._escapeValue(""+_4d4);},this);},_escapeValue:function(val){return val.replace(/["'<>&]/g,function(val){return {"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#x27;"}[val];});},buildRendering:function(){if(!this._rendered){if(!this.templateString){this.templateString=_4cc(this.templatePath,{sanitize:true});}var _4d5=_4d1.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_4d5)){node=_4ce.toDom(this._stringRepl(_4d5),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_4d5);}}else{node=_4d5.cloneNode(true);}this.domNode=node;}this.inherited(arguments);if(!this._rendered){this._fillContent(this.srcNodeRef);}this._rendered=true;},_fillContent:function(_4d6){var dest=this.containerNode;if(_4d6&&dest){while(_4d6.hasChildNodes()){dest.appendChild(_4d6.firstChild);}}}});_4d1._templateCache={};_4d1.getCachedTemplate=function(_4d7,_4d8,doc){var _4d9=_4d1._templateCache;var key=_4d7;var _4da=_4d9[key];if(_4da){try{if(!_4da.ownerDocument||_4da.ownerDocument==(doc||document)){return _4da;}}catch(e){}_4ce.destroy(_4da);}_4d7=_4cf.trim(_4d7);if(_4d8||_4d7.match(/\$\{([^\}]+)\}/g)){return (_4d9[key]=_4d7);}else{var node=_4ce.toDom(_4d7,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_4d7);}return (_4d9[key]=node);}};if(has("ie")){on(window,"unload",function(){var _4db=_4d1._templateCache;for(var key in _4db){var _4dc=_4db[key];if(typeof _4dc=="object"){_4ce.destroy(_4dc);}delete _4db[key];}});}return _4d1;});},"dojo/cache":function(){define(["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(_4dd,lang){var _4de={};lang.setObject("dojo.string",_4de);_4de.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};_4de.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=_4de.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};_4de.substitute=function(_4df,map,_4e0,_4e1){_4e1=_4e1||_4dd.global;_4e0=_4e0?lang.hitch(_4e1,_4e0):function(v){return v;};return _4df.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_4e2,key,_4e3){var _4e4=lang.getObject(key,false,map);if(_4e3){_4e4=lang.getObject(_4e3,false,_4e1).call(_4e1,_4e4,key);}return _4e0(_4e4,key).toString();});};_4de.trim=String.prototype.trim?lang.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};return _4de;});},"dijit/_AttachMixin":function(){define(["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(_4e5,_4e6,_4e7,_4e8,lang,_4e9,on,_4ea,_4eb){var _4ec=lang.delegate(_4ea,{"mouseenter":_4e9.enter,"mouseleave":_4e9.leave,"keypress":_4e7._keypress});var _4ed;var _4ee=_4e8("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[];},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent();},_beforeFillContent:function(){},_attachTemplateNodes:function(_4ef){var node=_4ef;while(true){if(node.nodeType==1&&(this._processTemplateNode(node,function(n,p){return n.getAttribute(p);},this._attach)||this.searchContainerNode)&&node.firstChild){node=node.firstChild;}else{if(node==_4ef){return;}while(!node.nextSibling){node=node.parentNode;if(node==_4ef){return;}}node=node.nextSibling;}}},_processTemplateNode:function(_4f0,_4f1,_4f2){var ret=true;var _4f3=this.attachScope||this,_4f4=_4f1(_4f0,"dojoAttachPoint")||_4f1(_4f0,"data-dojo-attach-point");if(_4f4){var _4f5,_4f6=_4f4.split(/\s*,\s*/);while((_4f5=_4f6.shift())){if(lang.isArray(_4f3[_4f5])){_4f3[_4f5].push(_4f0);}else{_4f3[_4f5]=_4f0;}ret=(_4f5!="containerNode");this._attachPoints.push(_4f5);}}var _4f7=_4f1(_4f0,"dojoAttachEvent")||_4f1(_4f0,"data-dojo-attach-event");if(_4f7){var _4f8,_4f9=_4f7.split(/\s*,\s*/);var trim=lang.trim;while((_4f8=_4f9.shift())){if(_4f8){var _4fa=null;if(_4f8.indexOf(":")!=-1){var _4fb=_4f8.split(":");_4f8=trim(_4fb[0]);_4fa=trim(_4fb[1]);}else{_4f8=trim(_4f8);}if(!_4fa){_4fa=_4f8;}this._attachEvents.push(_4f2(_4f0,_4f8,lang.hitch(_4f3,_4fa)));}}}return ret;},_attach:function(node,type,func){type=type.replace(/^on/,"").toLowerCase();if(type=="dijitclick"){type=_4ed||(_4ed=_4e5("./a11yclick"));}else{type=_4ec[type]||type;}return on(node,type,func);},_detachTemplateNodes:function(){var _4fc=this.attachScope||this;_4e6.forEach(this._attachPoints,function(_4fd){delete _4fc[_4fd];});this._attachPoints=[];_4e6.forEach(this._attachEvents,function(_4fe){_4fe.remove();});this._attachEvents=[];},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments);}});lang.extend(_4eb,{dojoAttachEvent:"",dojoAttachPoint:""});return _4ee;});},"dojox/html/metrics":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojo/ready","dojo/_base/unload","dojo/_base/window","dojo/dom-geometry"],function(_4ff,lang,has,_500,_501,_502,_503){var dhm=lang.getObject("dojox.html.metrics",true);var _504=lang.getObject("dojox");dhm.getFontMeasurements=function(){var _505={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(has("ie")){_502.doc.documentElement.style.fontSize="100%";}var div=_502.doc.createElement("div");var ds=div.style;ds.position="absolute";ds.left="-100px";ds.top="0";ds.width="30px";ds.height="1000em";ds.borderWidth="0";ds.margin="0";ds.padding="0";ds.outline="0";ds.lineHeight="1";ds.overflow="hidden";_502.body().appendChild(div);for(var p in _505){ds.fontSize=p;_505[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}_502.body().removeChild(div);div=null;return _505;};var _506=null;dhm.getCachedFontMeasurements=function(_507){if(_507||!_506){_506=dhm.getFontMeasurements();}return _506;};var _508=null,_509={};dhm.getTextBox=function(text,_50a,_50b){var m,s;if(!_508){m=_508=_502.doc.createElement("div");var c=_502.doc.createElement("div");c.appendChild(m);s=c.style;s.overflow="scroll";s.position="absolute";s.left="0px";s.top="-10000px";s.width="1px";s.height="1px";s.visibility="hidden";s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";_502.body().appendChild(c);}else{m=_508;}m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(arguments.length>1&&_50a){for(var i in _50a){if(i in _509){continue;}s[i]=_50a[i];}}if(arguments.length>2&&_50b){m.className=_50b;}m.innerHTML=text;var box=_503.position(m);box.w=m.parentNode.scrollWidth;return box;};var _50c={w:16,h:16};dhm.getScrollbar=function(){return {w:_50c.w,h:_50c.h};};dhm._fontResizeNode=null;dhm.initOnFontResize=function(_50d){var f=dhm._fontResizeNode=_502.doc.createElement("iframe");var fs=f.style;fs.position="absolute";fs.width="5em";fs.height="10em";fs.top="-10000px";fs.display="none";if(has("ie")){f.onreadystatechange=function(){if(f.contentWindow.document.readyState=="complete"){f.onresize=f.contentWindow.parent[_504._scopeName].html.metrics._fontresize;}};}else{f.onload=function(){f.contentWindow.onresize=f.contentWindow.parent[_504._scopeName].html.metrics._fontresize;};}f.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}</script></head><body></body></html>'");_502.body().appendChild(f);dhm.initOnFontResize=function(){};};dhm.onFontResize=function(){};dhm._fontresize=function(){dhm.onFontResize();};_501.addOnUnload(function(){var f=dhm._fontResizeNode;if(f){if(has("ie")&&f.onresize){f.onresize=null;}else{if(f.contentWindow&&f.contentWindow.onresize){f.contentWindow.onresize=null;}}dhm._fontResizeNode=null;}});_500(function(){try{var n=_502.doc.createElement("div");n.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";_502.body().appendChild(n);_50c.w=n.offsetWidth-n.clientWidth;_50c.h=n.offsetHeight-n.clientHeight;_502.body().removeChild(n);delete n;}catch(e){}if("fontSizeWatch" in _4ff.config&&!!_4ff.config.fontSizeWatch){dhm.initOnFontResize();}});return dhm;});},"dojox/grid/_Builder":function(){define(["../main","dojo/_base/array","dojo/_base/lang","dojo/_base/window","dojo/_base/event","dojo/_base/sniff","dojo/_base/connect","dojo/dnd/Moveable","dojox/html/metrics","./util","dojo/_base/html","dojo/dom-geometry"],function(_50e,_50f,lang,win,_510,has,_511,_512,_513,util,html,_514){var dg=_50e.grid;var _515=function(td){return td.cellIndex>=0?td.cellIndex:_50f.indexOf(td.parentNode.cells,td);};var _516=function(tr){return tr.rowIndex>=0?tr.rowIndex:_50f.indexOf(tr.parentNode.childNodes,tr);};var _517=function(_518,_519){return _518&&((_518.rows||0)[_519]||_518.childNodes[_519]);};var _51a=function(node){for(var n=node;n&&n.tagName!="TABLE";n=n.parentNode){}return n;};var _51b=function(_51c,_51d){for(var n=_51c;n&&_51d(n);n=n.parentNode){}return n;};var _51e=function(_51f){var name=_51f.toUpperCase();return function(node){return node.tagName!=name;};};var _520=util.rowIndexTag;var _521=util.gridViewTag;var _522=dg._Builder=lang.extend(function(view){if(view){this.view=view;this.grid=view.grid;}},{view:null,_table:"<table class=\"dojoxGridRowTable\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"",getTableArray:function(){var html=[this._table];if(this.view.viewWidth){html.push([" style=\"width:",this.view.viewWidth,";\""].join(""));}html.push(">");return html;},generateCellMarkup:function(_523,_524,_525,_526){var _527=[],html;if(_526){var _528=_523.index!=_523.grid.getSortIndex()?"":_523.grid.sortInfo>0?"aria-sort=\"ascending\"":"aria-sort=\"descending\"";if(!_523.id){_523.id=this.grid.id+"Hdr"+_523.index;}html=["<th tabIndex=\"-1\" aria-readonly=\"true\" role=\"columnheader\"",_528," id=\"",_523.id,"\""];}else{var _529=this.grid.editable&&!_523.editable?"aria-readonly=\"true\"":"";html=["<td tabIndex=\"-1\" role=\"gridcell\"",_529];}if(_523.colSpan){html.push(" colspan=\"",_523.colSpan,"\"");}if(_523.rowSpan){html.push(" rowspan=\"",_523.rowSpan,"\"");}html.push(" class=\"dojoxGridCell ");if(_523.classes){html.push(_523.classes," ");}if(_525){html.push(_525," ");}_527.push(html.join(""));_527.push("");html=["\" idx=\"",_523.index,"\" style=\""];if(_524&&_524[_524.length-1]!=";"){_524+=";";}html.push(_523.styles,_524||"",_523.hidden?"display:none;":"");if(_523.unitWidth){html.push("width:",_523.unitWidth,";");}_527.push(html.join(""));_527.push("");html=["\""];if(_523.attrs){html.push(" ",_523.attrs);}html.push(">");_527.push(html.join(""));_527.push("");_527.push(_526?"</th>":"</td>");return _527;},isCellNode:function(_52a){return Boolean(_52a&&_52a!=win.doc&&html.attr(_52a,"idx"));},getCellNodeIndex:function(_52b){return _52b?Number(html.attr(_52b,"idx")):-1;},getCellNode:function(_52c,_52d){for(var i=0,row;((row=_517(_52c.firstChild,i))&&row.cells);i++){for(var j=0,cell;(cell=row.cells[j]);j++){if(this.getCellNodeIndex(cell)==_52d){return cell;}}}return null;},findCellTarget:function(_52e,_52f){var n=_52e;while(n&&(!this.isCellNode(n)||(n.offsetParent&&_521 in n.offsetParent.parentNode&&n.offsetParent.parentNode[_521]!=this.view.id))&&(n!=_52f)){n=n.parentNode;}return n!=_52f?n:null;},baseDecorateEvent:function(e){e.dispatch="do"+e.type;e.grid=this.grid;e.sourceView=this.view;e.cellNode=this.findCellTarget(e.target,e.rowNode);e.cellIndex=this.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);},findTarget:function(_530,_531){var n=_530;while(n&&(n!=this.domNode)&&(!(_531 in n)||(_521 in n&&n[_521]!=this.view.id))){n=n.parentNode;}return (n!=this.domNode)?n:null;},findRowTarget:function(_532){return this.findTarget(_532,_520);},isIntraNodeEvent:function(e){try{return (e.cellNode&&e.relatedTarget&&html.isDescendant(e.relatedTarget,e.cellNode));}catch(x){return false;}},isIntraRowEvent:function(e){try{var row=e.relatedTarget&&this.findRowTarget(e.relatedTarget);return !row&&(e.rowIndex==-1)||row&&(e.rowIndex==row.gridRowIndex);}catch(x){return false;}},dispatchEvent:function(e){if(e.dispatch in this){return this[e.dispatch](e);}return false;},domouseover:function(e){if(e.cellNode&&(e.cellNode!=this.lastOverCellNode)){this.lastOverCellNode=e.cellNode;this.grid.onMouseOver(e);}this.grid.onMouseOverRow(e);},domouseout:function(e){if(e.cellNode&&(e.cellNode==this.lastOverCellNode)&&!this.isIntraNodeEvent(e,this.lastOverCellNode)){this.lastOverCellNode=null;this.grid.onMouseOut(e);if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}},domousedown:function(e){if(e.cellNode){this.grid.onMouseDown(e);}this.grid.onMouseDownRow(e);},_getTextDirStyle:function(_533,_534,_535){return "";}});var _536=dg._ContentBuilder=lang.extend(function(view){_522.call(this,view);},_522.prototype,{update:function(){this.prepareHtml();},prepareHtml:function(){var _537=this.grid.get,_538=this.view.structure.cells;for(var j=0,row;(row=_538[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.get=cell.get||(cell.value==undefined)&&_537;cell.markup=this.generateCellMarkup(cell,cell.cellStyles,cell.cellClasses,false);if(!this.grid.editable&&cell.editable){this.grid.editable=true;}}}},generateHtml:function(_539,_53a){var html=this.getTableArray(),v=this.view,dir,_53b=v.structure.cells,item=this.grid.getItem(_53a);util.fire(this.view,"onBeforeRow",[_53a,_53b]);for(var j=0,row;(row=_53b[j]);j++){if(row.hidden||row.header){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");for(var i=0,cell,m,cc,cs;(cell=row[i]);i++){m=cell.markup;cc=cell.customClasses=[];cs=cell.customStyles=[];m[5]=cell.format(_53a,item);m[1]=cc.join(" ");m[3]=cs.join(";");dir=cell.textDir||this.grid.textDir;if(dir){m[3]+=this._getTextDirStyle(dir,cell,_53a);}html.push.apply(html,m);}html.push("</tr>");}html.push("</table>");return html.join("");},decorateEvent:function(e){e.rowNode=this.findRowTarget(e.target);if(!e.rowNode){return false;}e.rowIndex=e.rowNode[_520];this.baseDecorateEvent(e);e.cell=this.grid.getCell(e.cellIndex);return true;}});var _53c=dg._HeaderBuilder=lang.extend(function(view){this.moveable=null;_522.call(this,view);},_522.prototype,{_skipBogusClicks:false,overResizeWidth:4,minColWidth:1,update:function(){if(this.tableMap){this.tableMap.mapRows(this.view.structure.cells);}else{this.tableMap=new dg._TableMap(this.view.structure.cells);}},generateHtml:function(_53d,_53e){var dir,html=this.getTableArray(),_53f=this.view.structure.cells;util.fire(this.view,"onBeforeRow",[-1,_53f]);for(var j=0,row;(row=_53f[j]);j++){if(row.hidden){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");for(var i=0,cell,_540;(cell=row[i]);i++){cell.customClasses=[];cell.customStyles=[];if(this.view.simpleStructure){if(cell.draggable){if(cell.headerClasses){if(cell.headerClasses.indexOf("dojoDndItem")==-1){cell.headerClasses+=" dojoDndItem";}}else{cell.headerClasses="dojoDndItem";}}if(cell.attrs){if(cell.attrs.indexOf("dndType='gridColumn_")==-1){cell.attrs+=" dndType='gridColumn_"+this.grid.id+"'";}}else{cell.attrs="dndType='gridColumn_"+this.grid.id+"'";}}_540=this.generateCellMarkup(cell,cell.headerStyles,cell.headerClasses,true);_540[5]=(_53e!=undefined?_53e:_53d(cell));_540[3]=cell.customStyles.join(";");dir=cell.textDir||this.grid.textDir;if(dir){_540[3]+=this._getTextDirStyle(dir,cell,_53e);}_540[1]=cell.customClasses.join(" ");html.push(_540.join(""));}html.push("</tr>");}html.push("</table>");return html.join("");},getCellX:function(e){var n,x,pos;n=_51b(e.target,_51e("th"));if(n){pos=_514.position(n);x=e.clientX-pos.x;}else{x=e.layerX;}return x;},decorateEvent:function(e){this.baseDecorateEvent(e);e.rowIndex=-1;e.cellX=this.getCellX(e);return true;},prepareResize:function(e,mod){do{var i=e.cellIndex;e.cellNode=(i?e.cellNode.parentNode.cells[i+mod]:null);e.cellIndex=(e.cellNode?this.getCellNodeIndex(e.cellNode):-1);}while(e.cellNode&&e.cellNode.style.display=="none");return Boolean(e.cellNode);},canResize:function(e){if(!e.cellNode||e.cellNode.colSpan>1){return false;}var cell=this.grid.getCell(e.cellIndex);return !cell.noresize&&cell.canResize();},overLeftResizeArea:function(e){if(html.hasClass(win.body(),"dojoDndMove")){return false;}if(has("ie")){var tN=e.target;if(html.hasClass(tN,"dojoxGridArrowButtonNode")||html.hasClass(tN,"dojoxGridArrowButtonChar")||html.hasClass(tN,"dojoxGridColCaption")){return false;}}if(this.grid.isLeftToRight()){return (e.cellIndex>0)&&(e.cellX>0&&e.cellX<this.overResizeWidth)&&this.prepareResize(e,-1);}var t=e.cellNode&&(e.cellX>0&&e.cellX<this.overResizeWidth);return t;},overRightResizeArea:function(e){if(html.hasClass(win.body(),"dojoDndMove")){return false;}if(has("ie")){var tN=e.target;if(html.hasClass(tN,"dojoxGridArrowButtonNode")||html.hasClass(tN,"dojoxGridArrowButtonChar")||html.hasClass(tN,"dojoxGridColCaption")){return false;}}if(this.grid.isLeftToRight()){return e.cellNode&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth);}return (e.cellIndex>0)&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth)&&this.prepareResize(e,-1);},domousemove:function(e){if(!this.moveable){var c=(this.overRightResizeArea(e)?"dojoxGridColResize":(this.overLeftResizeArea(e)?"dojoxGridColResize":""));if(c&&!this.canResize(e)){c="dojoxGridColNoResize";}html.toggleClass(e.sourceView.headerNode,"dojoxGridColNoResize",(c=="dojoxGridColNoResize"));html.toggleClass(e.sourceView.headerNode,"dojoxGridColResize",(c=="dojoxGridColResize"));if(c){_510.stop(e);}}},domousedown:function(e){if(!this.moveable){if((this.overRightResizeArea(e)||this.overLeftResizeArea(e))&&this.canResize(e)){this.beginColumnResize(e);}else{this.grid.onMouseDown(e);this.grid.onMouseOverRow(e);}}},doclick:function(e){if(this._skipBogusClicks){_510.stop(e);return true;}return false;},colResizeSetup:function(e,_541){var _542=html.contentBox(e.sourceView.headerNode);if(_541){this.lineDiv=document.createElement("div");var vw=html.position(e.sourceView.headerNode,true);var _543=html.contentBox(e.sourceView.domNode);var l=e.pageX;if(!this.grid.isLeftToRight()&&has("ie")<8){l-=_513.getScrollbar().w;}html.style(this.lineDiv,{top:vw.y+"px",left:l+"px",height:(_543.h+_542.h)+"px"});html.addClass(this.lineDiv,"dojoxGridResizeColLine");this.lineDiv._origLeft=l;win.body().appendChild(this.lineDiv);}var _544=[],_545=this.tableMap.findOverlappingNodes(e.cellNode);for(var i=0,cell;(cell=_545[i]);i++){_544.push({node:cell,index:this.getCellNodeIndex(cell),width:cell.offsetWidth});}var view=e.sourceView;var adj=this.grid.isLeftToRight()?1:-1;var _546=e.grid.views.views;var _547=[];for(var j=view.idx+adj,_548;(_548=_546[j]);j=j+adj){_547.push({node:_548.headerNode,left:window.parseInt(_548.headerNode.style.left)});}var _549=view.headerContentNode.firstChild;var drag={scrollLeft:e.sourceView.headerNode.scrollLeft,view:view,node:e.cellNode,index:e.cellIndex,w:html.contentBox(e.cellNode).w,vw:_542.w,table:_549,tw:html.contentBox(_549).w,spanners:_544,followers:_547};return drag;},beginColumnResize:function(e){this.moverDiv=document.createElement("div");html.style(this.moverDiv,{position:"absolute",left:0});win.body().appendChild(this.moverDiv);html.addClass(this.grid.domNode,"dojoxGridColumnResizing");var m=(this.moveable=new _512(this.moverDiv));var drag=this.colResizeSetup(e,true);m.onMove=lang.hitch(this,"doResizeColumn",drag);_511.connect(m,"onMoveStop",lang.hitch(this,function(){this.endResizeColumn(drag);if(drag.node.releaseCapture){drag.node.releaseCapture();}this.moveable.destroy();delete this.moveable;this.moveable=null;html.removeClass(this.grid.domNode,"dojoxGridColumnResizing");}));if(e.cellNode.setCapture){e.cellNode.setCapture();}m.onMouseDown(e);},doResizeColumn:function(_54a,_54b,_54c){var _54d=_54c.l;var data={deltaX:_54d,w:_54a.w+(this.grid.isLeftToRight()?_54d:-_54d),vw:_54a.vw+_54d,tw:_54a.tw+_54d};this.dragRecord={inDrag:_54a,mover:_54b,leftTop:_54c};if(data.w>=this.minColWidth){if(!_54b){this.doResizeNow(_54a,data);}else{html.style(this.lineDiv,"left",(this.lineDiv._origLeft+data.deltaX)+"px");}}},endResizeColumn:function(_54e){if(this.dragRecord){var _54f=this.dragRecord.leftTop;var _550=this.grid.isLeftToRight()?_54f.l:-_54f.l;_550+=Math.max(_54e.w+_550,this.minColWidth)-(_54e.w+_550);if(has("webkit")&&_54e.spanners.length){_550+=html._getPadBorderExtents(_54e.spanners[0].node).w;}var data={deltaX:_550,w:_54e.w+_550,vw:_54e.vw+_550,tw:_54e.tw+_550};this.doResizeNow(_54e,data);delete this.dragRecord;}html.destroy(this.lineDiv);html.destroy(this.moverDiv);html.destroy(this.moverDiv);delete this.moverDiv;this._skipBogusClicks=true;_54e.view.update();this._skipBogusClicks=false;this.grid.onResizeColumn(_54e.index);},doResizeNow:function(_551,data){_551.view.convertColPctToFixed();if(_551.view.flexCells&&!_551.view.testFlexCells()){var t=_51a(_551.node);if(t){(t.style.width="");}}var i,s,sw,f,fl;for(i=0;(s=_551.spanners[i]);i++){sw=s.width+data.deltaX;if(sw>0){s.node.style.width=sw+"px";_551.view.setColWidth(s.index,sw);}}if(this.grid.isLeftToRight()||!has("ie")){for(i=0;(f=_551.followers[i]);i++){fl=f.left+data.deltaX;f.node.style.left=fl+"px";}}_551.node.style.width=data.w+"px";_551.view.setColWidth(_551.index,data.w);_551.view.headerNode.style.width=data.vw+"px";_551.view.setColumnsWidth(data.tw);if(!this.grid.isLeftToRight()){_551.view.headerNode.scrollLeft=_551.scrollLeft+data.deltaX;}}});dg._TableMap=lang.extend(function(rows){this.mapRows(rows);},{map:null,mapRows:function(_552){var _553=_552.length;if(!_553){return;}this.map=[];var row;for(var k=0;(row=_552[k]);k++){this.map[k]=[];}for(var j=0;(row=_552[j]);j++){for(var i=0,x=0,cell,_554,_555;(cell=row[i]);i++){while(this.map[j][x]){x++;}this.map[j][x]={c:i,r:j};_555=cell.rowSpan||1;_554=cell.colSpan||1;for(var y=0;y<_555;y++){for(var s=0;s<_554;s++){this.map[j+y][x+s]=this.map[j][x];}}x+=_554;}}},dumpMap:function(){for(var j=0,row,h="";(row=this.map[j]);j++,h=""){for(var i=0,cell;(cell=row[i]);i++){h+=cell.r+","+cell.c+"   ";}}},getMapCoords:function(_556,_557){for(var j=0,row;(row=this.map[j]);j++){for(var i=0,cell;(cell=row[i]);i++){if(cell.c==_557&&cell.r==_556){return {j:j,i:i};}}}return {j:-1,i:-1};},getNode:function(_558,_559,_55a){var row=_558&&_558.rows[_559];return row&&row.cells[_55a];},_findOverlappingNodes:function(_55b,_55c,_55d){var _55e=[];var m=this.getMapCoords(_55c,_55d);for(var j=0,row;(row=this.map[j]);j++){if(j==m.j){continue;}var rw=row[m.i];var n=(rw?this.getNode(_55b,rw.r,rw.c):null);if(n){_55e.push(n);}}return _55e;},findOverlappingNodes:function(_55f){return this._findOverlappingNodes(_51a(_55f),_516(_55f.parentNode),_515(_55f));}});return {_Builder:_522,_HeaderBuilder:_53c,_ContentBuilder:_536};});},"dojo/dnd/Moveable":function(){define(["../_base/array","../_base/declare","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_560,_561,lang,dom,_562,_563,on,_564,_565,dnd,_566,win){var _567=_561("dojo.dnd.Moveable",[_563],{handle:"",delay:0,skip:false,constructor:function(node,_568){this.node=dom.byId(node);if(!_568){_568={};}this.handle=_568.handle?dom.byId(_568.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_568.delay>0?_568.delay:0;this.skip=_568.skip;this.mover=_568.mover?_568.mover:_566;this.events=[on(this.handle,_565.press,lang.hitch(this,"onMouseDown")),on(this.handle,"dragstart",lang.hitch(this,"onSelectStart")),on(this.handle,"selectstart",lang.hitch(this,"onSelectStart"))];},markupFactory:function(_569,node,Ctor){return new Ctor(node,_569);},destroy:function(){_560.forEach(this.events,function(_56a){_56a.remove();});this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_565.move,lang.hitch(this,"onMouseMove")),on(this.handle,_565.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseUp:function(e){for(var i=0;i<2;++i){this.events.pop().remove();}e.stopPropagation();e.preventDefault();},onSelectStart:function(e){if(!this.skip||!dnd.isFormElement(e)){e.stopPropagation();e.preventDefault();}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_56b){_564.publish("/dnd/move/start",_56b);_562.add(win.body(),"dojoMove");_562.add(this.node,"dojoMoveItem");},onMoveStop:function(_56c){_564.publish("/dnd/move/stop",_56c);_562.remove(win.body(),"dojoMove");_562.remove(this.node,"dojoMoveItem");},onFirstMove:function(){},onMove:function(_56d,_56e){this.onMoving(_56d,_56e);var s=_56d.node.style;s.left=_56e.l+"px";s.top=_56e.t+"px";this.onMoved(_56d,_56e);},onMoving:function(){},onMoved:function(){}});return _567;});},"dojo/dnd/Mover":function(){define(["../_base/array","../_base/declare","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_56f,_570,lang,has,win,dom,_571,_572,_573,on,_574,dnd,_575){return _570("dojo.dnd.Mover",[_573],{constructor:function(node,e,host){this.node=dom.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;function _576(e){e.preventDefault();e.stopPropagation();};this.events=[on(d,_574.move,lang.hitch(this,"onFirstMove")),on(d,_574.move,lang.hitch(this,"onMouseMove")),on(d,_574.release,lang.hitch(this,"onMouseUp")),on(d,"dragstart",_576),on(d.body,"selectstart",_576)];_575.autoScrollStart(d);if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){_575.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);e.preventDefault();e.stopPropagation();},onMouseUp:function(e){if(has("webkit")&&has("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}e.preventDefault();e.stopPropagation();},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=_571.getMarginBox(this.node);var b=win.doc.body;var bs=_572.getComputedStyle(b);var bm=_571.getMarginBox(b,bs);var bc=_571.getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}this.events.shift().remove();},destroy:function(){_56f.forEach(this.events,function(_577){_577.remove();});var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});});},"dojox/grid/_ViewManager":function(){define(["dojo/_base/declare","dojo/_base/sniff","dojo/dom-class"],function(_578,has,_579){return _578("dojox.grid._ViewManager",null,{constructor:function(_57a){this.grid=_57a;},defaultWidth:200,views:[],resize:function(){this.onEach("resize");},render:function(){this.onEach("render");},addView:function(_57b){_57b.idx=this.views.length;this.views.push(_57b);},destroyViews:function(){for(var i=0,v;v=this.views[i];i++){v.destroy();}this.views=[];},getContentNodes:function(){var _57c=[];for(var i=0,v;v=this.views[i];i++){_57c.push(v.contentNode);}return _57c;},forEach:function(_57d){for(var i=0,v;v=this.views[i];i++){_57d(v,i);}},onEach:function(_57e,_57f){_57f=_57f||[];for(var i=0,v;v=this.views[i];i++){if(_57e in v){v[_57e].apply(v,_57f);}}},normalizeHeaderNodeHeight:function(){var _580=[];for(var i=0,v;(v=this.views[i]);i++){if(v.headerContentNode.firstChild){_580.push(v.headerContentNode);}}this.normalizeRowNodeHeights(_580);},normalizeRowNodeHeights:function(_581){var h=0;var _582=[];if(this.grid.rowHeight){h=this.grid.rowHeight;}else{if(_581.length<=1){return;}for(var i=0,n;(n=_581[i]);i++){if(!_579.contains(n,"dojoxGridNonNormalizedCell")){_582[i]=n.firstChild.offsetHeight;h=Math.max(h,_582[i]);}}h=(h>=0?h:0);if((has("mozilla")||has("ie")>8)&&h){h++;}}for(i=0;(n=_581[i]);i++){if(_582[i]!=h){n.firstChild.style.height=h+"px";}}},resetHeaderNodeHeight:function(){for(var i=0,v,n;(v=this.views[i]);i++){n=v.headerContentNode.firstChild;if(n){n.style.height="";}}},renormalizeRow:function(_583){var _584=[];for(var i=0,v,n;(v=this.views[i])&&(n=v.getRowNode(_583));i++){n.firstChild.style.height="";_584.push(n);}this.normalizeRowNodeHeights(_584);},getViewWidth:function(_585){return this.views[_585].getWidth()||this.defaultWidth;},measureHeader:function(){this.resetHeaderNodeHeight();this.forEach(function(_586){_586.headerContentNode.style.height="";});var h=0;this.forEach(function(_587){h=Math.max(_587.headerNode.offsetHeight,h);});return h;},measureContent:function(){var h=0;this.forEach(function(_588){h=Math.max(_588.domNode.offsetHeight,h);});return h;},findClient:function(_589){var c=this.grid.elasticView||-1;if(c<0){for(var i=1,v;(v=this.views[i]);i++){if(v.viewWidth){for(i=1;(v=this.views[i]);i++){if(!v.viewWidth){c=i;break;}}break;}}}if(c<0){c=Math.floor(this.views.length/2);}return c;},arrange:function(l,w){var i,v,vw,len=this.views.length,self=this;var c=(w<=0?len:this.findClient());var _58a=function(v,l){var ds=v.domNode.style;var hs=v.headerNode.style;if(!self.grid.isLeftToRight()){ds.right=l+"px";if(has("ff")<4){hs.right=l+v.getScrollbarWidth()+"px";}else{hs.right=l+"px";}if(!has("webkit")&&hs.width!="auto"){hs.width=parseInt(hs.width,10)-v.getScrollbarWidth()+"px";}}else{ds.left=l+"px";hs.left=l+"px";}ds.top=0+"px";hs.top=0;};for(i=0;(v=this.views[i])&&(i<c);i++){vw=this.getViewWidth(i);v.setSize(vw,0);_58a(v,l);if(v.headerContentNode&&v.headerContentNode.firstChild){vw=v.getColumnsWidth()+v.getScrollbarWidth();}else{vw=v.domNode.offsetWidth;}l+=vw;}i++;var r=w;for(var j=len-1;(v=this.views[j])&&(i<=j);j--){vw=this.getViewWidth(j);v.setSize(vw,0);vw=v.domNode.offsetWidth;r-=vw;_58a(v,r);}if(c<len){v=this.views[c];vw=Math.max(1,r-l);v.setSize(vw+"px",0);_58a(v,l);}return l;},renderRow:function(_58b,_58c,_58d){var _58e=[];for(var i=0,v,n,_58f;(v=this.views[i])&&(n=_58c[i]);i++){_58f=v.renderRow(_58b);n.appendChild(_58f);_58e.push(_58f);}if(!_58d){this.normalizeRowNodeHeights(_58e);}},rowRemoved:function(_590){this.onEach("rowRemoved",[_590]);},updateRow:function(_591,_592){for(var i=0,v;v=this.views[i];i++){v.updateRow(_591);}if(!_592){this.renormalizeRow(_591);}},updateRowStyles:function(_593){this.onEach("updateRowStyles",[_593]);},setScrollTop:function(_594){var top=_594;for(var i=0,v;v=this.views[i];i++){top=v.setScrollTop(_594);if(has("ie")&&v.headerNode&&v.scrollboxNode){v.headerNode.scrollLeft=v.scrollboxNode.scrollLeft;}}return top;},getFirstScrollingView:function(){for(var i=0,v;(v=this.views[i]);i++){if(v.hasHScrollbar()||v.hasVScrollbar()){return v;}}return null;}});});},"dojox/grid/_RowManager":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class"],function(_595,lang,_596){var _597=function(_598,_599){if(_598.style.cssText==undefined){_598.setAttribute("style",_599);}else{_598.style.cssText=_599;}};return _595("dojox.grid._RowManager",null,{constructor:function(_59a){this.grid=_59a;},linesToEms:2,overRow:-2,prepareStylingRow:function(_59b,_59c){return {index:_59b,node:_59c,odd:Boolean(_59b&1),selected:!!this.grid.selection.isSelected(_59b),over:this.isOver(_59b),customStyles:"",customClasses:"dojoxGridRow"};},styleRowNode:function(_59d,_59e){var row=this.prepareStylingRow(_59d,_59e);this.grid.onStyleRow(row);this.applyStyles(row);},applyStyles:function(_59f){var i=_59f;i.node.className=i.customClasses;var h=i.node.style.height;_597(i.node,i.customStyles+";"+(i.node._style||""));i.node.style.height=h;},updateStyles:function(_5a0){this.grid.updateRowStyles(_5a0);},setOverRow:function(_5a1){var last=this.overRow;this.overRow=_5a1;if((last!=this.overRow)&&(lang.isString(last)||last>=0)){this.updateStyles(last);}this.updateStyles(this.overRow);},isOver:function(_5a2){return (this.overRow==_5a2&&!_596.contains(this.grid.domNode,"dojoxGridColumnResizing"));}});});},"dojox/grid/_FocusManager":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/_base/event","dojo/_base/sniff","dojo/query","./util","dojo/_base/html"],function(_5a3,lang,_5a4,_5a5,_5a6,has,_5a7,util,html){return _5a4("dojox.grid._FocusManager",null,{constructor:function(_5a8){this.grid=_5a8;this.cell=null;this.rowIndex=-1;this._connects=[];this._headerConnects=[];this.headerMenu=this.grid.headerMenu;this._connects.push(_5a5.connect(this.grid.domNode,"onfocus",this,"doFocus"));this._connects.push(_5a5.connect(this.grid.domNode,"onblur",this,"doBlur"));this._connects.push(_5a5.connect(this.grid.domNode,"mousedown",this,"_mouseDown"));this._connects.push(_5a5.connect(this.grid.domNode,"mouseup",this,"_mouseUp"));this._connects.push(_5a5.connect(this.grid.domNode,"oncontextmenu",this,"doContextMenu"));this._connects.push(_5a5.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));this._connects.push(_5a5.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));this._connects.push(_5a5.connect(this.grid,"_onFetchComplete",this,"_delayedCellFocus"));this._connects.push(_5a5.connect(this.grid,"postrender",this,"_delayedHeaderFocus"));},destroy:function(){_5a3.forEach(this._connects,_5a5.disconnect);_5a3.forEach(this._headerConnects,_5a5.disconnect);delete this.grid;delete this.cell;},_colHeadNode:null,_colHeadFocusIdx:null,_contextMenuBindNode:null,tabbingOut:false,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||this.focusView||this.grid.views.views[0];this._initColumnHeaders();},isFocusCell:function(_5a9,_5aa){return (this.cell==_5a9)&&(this.rowIndex==_5aa);},isLastFocusCell:function(){if(this.cell){return (this.rowIndex==this.grid.rowCount-1)&&(this.cell.index==this.grid.layout.cellCount-1);}return false;},isFirstFocusCell:function(){if(this.cell){return (this.rowIndex===0)&&(this.cell.index===0);}return false;},isNoFocusCell:function(){return (this.rowIndex<0)||!this.cell;},isNavHeader:function(){return (!!this._colHeadNode);},getHeaderIndex:function(){if(this._colHeadNode){return _5a3.indexOf(this._findHeaderCells(),this._colHeadNode);}else{return -1;}},_focusifyCellNode:function(_5ab){var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){html.toggleClass(n,this.focusClass,_5ab);if(_5ab){var sl=this.scrollIntoView();try{if(has("webkit")||!this.grid.edit.isEditing()){util.fire(n,"focus");if(sl){this.cell.view.scrollboxNode.scrollLeft=sl;}}}catch(e){}}}},_delayedCellFocus:function(){if(this.isNavHeader()||!this.grid.focused){return;}var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){try{if(!this.grid.edit.isEditing()){html.toggleClass(n,this.focusClass,true);if(this._colHeadNode){this.blurHeader();}util.fire(n,"focus");}}catch(e){}}},_delayedHeaderFocus:function(){if(this.isNavHeader()){this.focusHeader();}},_initColumnHeaders:function(){_5a3.forEach(this._headerConnects,_5a5.disconnect);this._headerConnects=[];var _5ac=this._findHeaderCells();for(var i=0;i<_5ac.length;i++){this._headerConnects.push(_5a5.connect(_5ac[i],"onfocus",this,"doColHeaderFocus"));this._headerConnects.push(_5a5.connect(_5ac[i],"onblur",this,"doColHeaderBlur"));}},_findHeaderCells:function(){var _5ad=_5a7("th",this.grid.viewsHeaderNode);var _5ae=[];for(var i=0;i<_5ad.length;i++){var _5af=_5ad[i];var _5b0=html.hasAttr(_5af,"tabIndex");var _5b1=html.attr(_5af,"tabIndex");if(_5b0&&_5b1<0){_5ae.push(_5af);}}return _5ae;},_setActiveColHeader:function(_5b2,_5b3,_5b4){this.grid.domNode.setAttribute("aria-activedescendant",_5b2.id);if(_5b4!=null&&_5b4>=0&&_5b4!=_5b3){html.toggleClass(this._findHeaderCells()[_5b4],this.focusClass,false);}html.toggleClass(_5b2,this.focusClass,true);this._colHeadNode=_5b2;this._colHeadFocusIdx=_5b3;this._scrollHeader(this._colHeadFocusIdx);},scrollIntoView:function(){var info=(this.cell?this._scrollInfo(this.cell):null);if(!info||!info.s){return null;}var rt=this.grid.scroller.findScrollTop(this.rowIndex);if(info.n&&info.sr){if(info.n.offsetLeft+info.n.offsetWidth>info.sr.l+info.sr.w){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}}}if(info.r&&info.sr){if(rt+info.r.offsetHeight>info.sr.t+info.sr.h){this.grid.setScrollTop(rt+info.r.offsetHeight-info.sr.h);}else{if(rt<info.sr.t){this.grid.setScrollTop(rt);}}}return info.s.scrollLeft;},_scrollInfo:function(cell,_5b5){if(cell){var cl=cell,sbn=cl.view.scrollboxNode,sbnr={w:sbn.clientWidth,l:sbn.scrollLeft,t:sbn.scrollTop,h:sbn.clientHeight},rn=cl.view.getRowNode(this.rowIndex);return {c:cl,s:sbn,sr:sbnr,n:(_5b5?_5b5:cell.getNode(this.rowIndex)),r:rn};}return null;},_scrollHeader:function(_5b6){var info=null;if(this._colHeadNode){var cell=this.grid.getCell(_5b6);if(!cell){return;}info=this._scrollInfo(cell,cell.getNode(0));}if(info&&info.s&&info.sr&&info.n){var _5b7=info.sr.l+info.sr.w;if(info.n.offsetLeft+info.n.offsetWidth>_5b7){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}else{if(has("ie")<=7&&cell&&cell.view.headerNode){cell.view.headerNode.scrollLeft=info.s.scrollLeft;}}}}},_isHeaderHidden:function(){var _5b8=this.focusView;if(!_5b8){for(var i=0,_5b9;(_5b9=this.grid.views.views[i]);i++){if(_5b9.headerNode){_5b8=_5b9;break;}}}return (_5b8&&html.getComputedStyle(_5b8.headerNode).display=="none");},colSizeAdjust:function(e,_5ba,_5bb){var _5bc=this._findHeaderCells();var view=this.focusView;if(!view||!view.header.tableMap.map){for(var i=0,_5bd;(_5bd=this.grid.views.views[i]);i++){if(_5bd.header.tableMap.map){view=_5bd;break;}}}var _5be=_5bc[_5ba];if(!view||(_5ba==_5bc.length-1&&_5ba===0)){return;}view.content.baseDecorateEvent(e);e.cellNode=_5be;e.cellIndex=view.content.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);if(view.header.canResize(e)){var _5bf={l:_5bb};var drag=view.header.colResizeSetup(e,false);view.header.doResizeColumn(drag,null,_5bf);view.update();}},styleRow:function(_5c0){return;},setFocusIndex:function(_5c1,_5c2){this.setFocusCell(this.grid.getCell(_5c2),_5c1);},setFocusCell:function(_5c3,_5c4){if(_5c3&&!this.isFocusCell(_5c3,_5c4)){this.tabbingOut=false;if(this._colHeadNode){this.blurHeader();}this._colHeadNode=this._colHeadFocusIdx=null;this.focusGridView();this._focusifyCellNode(false);this.cell=_5c3;this.rowIndex=_5c4;this._focusifyCellNode(true);}if(has("opera")){setTimeout(lang.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);}else{this.grid.onCellFocus(this.cell,this.rowIndex);}},next:function(){if(this.cell){var row=this.rowIndex,col=this.cell.index+1,cc=this.grid.layout.cellCount-1,rc=this.grid.rowCount-1;if(col>cc){col=0;row++;}if(row>rc){col=cc;row=rc;}if(this.grid.edit.isEditing()){var _5c5=this.grid.getCell(col);if(!this.isLastFocusCell()&&(!_5c5.editable||this.grid.canEdit&&!this.grid.canEdit(_5c5,row))){this.cell=_5c5;this.rowIndex=row;this.next();return;}}this.setFocusIndex(row,col);}},previous:function(){if(this.cell){var row=(this.rowIndex||0),col=(this.cell.index||0)-1;if(col<0){col=this.grid.layout.cellCount-1;row--;}if(row<0){row=0;col=0;}if(this.grid.edit.isEditing()){var _5c6=this.grid.getCell(col);if(!this.isFirstFocusCell()&&!_5c6.editable){this.cell=_5c6;this.rowIndex=row;this.previous();return;}}this.setFocusIndex(row,col);}},move:function(_5c7,_5c8){var _5c9=_5c8<0?-1:1;if(this.isNavHeader()){var _5ca=this._findHeaderCells();var _5cb=currentIdx=_5a3.indexOf(_5ca,this._colHeadNode);currentIdx+=_5c8;while(currentIdx>=0&&currentIdx<_5ca.length&&_5ca[currentIdx].style.display=="none"){currentIdx+=_5c9;}if((currentIdx>=0)&&(currentIdx<_5ca.length)){this._setActiveColHeader(_5ca[currentIdx],currentIdx,_5cb);}}else{if(this.cell){var sc=this.grid.scroller,r=this.rowIndex,rc=this.grid.rowCount-1,row=Math.min(rc,Math.max(0,r+_5c7));if(_5c7){if(_5c7>0){if(row>sc.getLastPageRow(sc.page)){this.grid.setScrollTop(this.grid.scrollTop+sc.findScrollTop(row)-sc.findScrollTop(r));}}else{if(_5c7<0){if(row<=sc.getPageRow(sc.page)){this.grid.setScrollTop(this.grid.scrollTop-sc.findScrollTop(r)-sc.findScrollTop(row));}}}}var cc=this.grid.layout.cellCount-1,i=this.cell.index,col=Math.min(cc,Math.max(0,i+_5c8));var cell=this.grid.getCell(col);while(col>=0&&col<cc&&cell&&cell.hidden===true){col+=_5c9;cell=this.grid.getCell(col);}if(!cell||cell.hidden===true){col=i;}var n=cell.getNode(row);if(!n&&_5c7){if((row+_5c7)>=0&&(row+_5c7)<=rc){this.move(_5c7>0?++_5c7:--_5c7,_5c8);}return;}else{if((!n||html.style(n,"display")==="none")&&_5c8){if((col+_5c8)>=0&&(col+_5c8)<=cc){this.move(_5c7,_5c8>0?++_5c8:--_5c8);}return;}}this.setFocusIndex(row,col);if(_5c7){this.grid.updateRow(r);}}}},previousKey:function(e){if(this.grid.edit.isEditing()){_5a6.stop(e);this.previous();}else{if(!this.isNavHeader()&&!this._isHeaderHidden()){this.grid.domNode.focus();_5a6.stop(e);}else{this.tabOut(this.grid.domNode);if(this._colHeadFocusIdx!=null){html.toggleClass(this._findHeaderCells()[this._colHeadFocusIdx],this.focusClass,false);this._colHeadFocusIdx=null;}this._focusifyCellNode(false);}}},nextKey:function(e){var _5cc=(this.grid.rowCount===0);if(e.target===this.grid.domNode&&this._colHeadFocusIdx==null){this.focusHeader();_5a6.stop(e);}else{if(this.isNavHeader()){this.blurHeader();if(!this.findAndFocusGridCell()){this.tabOut(this.grid.lastFocusNode);}this._colHeadNode=this._colHeadFocusIdx=null;}else{if(this.grid.edit.isEditing()){_5a6.stop(e);this.next();}else{this.tabOut(this.grid.lastFocusNode);}}}},tabOut:function(_5cd){this.tabbingOut=true;_5cd.focus();},focusGridView:function(){util.fire(this.focusView,"focus");},focusGrid:function(_5ce){this.focusGridView();this._focusifyCellNode(true);},findAndFocusGridCell:function(){var _5cf=true;var _5d0=(this.grid.rowCount===0);if(this.isNoFocusCell()&&!_5d0){var _5d1=0;var cell=this.grid.getCell(_5d1);if(cell.hidden){_5d1=this.isNavHeader()?this._colHeadFocusIdx:0;}this.setFocusIndex(0,_5d1);}else{if(this.cell&&!_5d0){if(this.focusView&&!this.focusView.rowNodes[this.rowIndex]){this.grid.scrollToRow(this.rowIndex);}this.focusGrid();}else{_5cf=false;}}this._colHeadNode=this._colHeadFocusIdx=null;return _5cf;},focusHeader:function(){var _5d2=this._findHeaderCells();var _5d3=this._colHeadFocusIdx;if(this._isHeaderHidden()){this.findAndFocusGridCell();}else{if(!this._colHeadFocusIdx){if(this.isNoFocusCell()){this._colHeadFocusIdx=0;}else{this._colHeadFocusIdx=this.cell.index;}}}this._colHeadNode=_5d2[this._colHeadFocusIdx];while(this._colHeadNode&&this._colHeadFocusIdx>=0&&this._colHeadFocusIdx<_5d2.length&&this._colHeadNode.style.display=="none"){this._colHeadFocusIdx++;this._colHeadNode=_5d2[this._colHeadFocusIdx];}if(this._colHeadNode&&this._colHeadNode.style.display!="none"){if(this.headerMenu&&this._contextMenuBindNode!=this.grid.domNode){this.headerMenu.unBindDomNode(this.grid.viewsHeaderNode);this.headerMenu.bindDomNode(this.grid.domNode);this._contextMenuBindNode=this.grid.domNode;}this._setActiveColHeader(this._colHeadNode,this._colHeadFocusIdx,_5d3);this._scrollHeader(this._colHeadFocusIdx);this._focusifyCellNode(false);}else{this.findAndFocusGridCell();}},blurHeader:function(){html.removeClass(this._colHeadNode,this.focusClass);html.removeAttr(this.grid.domNode,"aria-activedescendant");if(this.headerMenu&&this._contextMenuBindNode==this.grid.domNode){var _5d4=this.grid.viewsHeaderNode;this.headerMenu.unBindDomNode(this.grid.domNode);this.headerMenu.bindDomNode(_5d4);this._contextMenuBindNode=_5d4;}},doFocus:function(e){if(e&&e.target!=e.currentTarget){_5a6.stop(e);return;}if(this._clickFocus){return;}if(!this.tabbingOut){this.focusHeader();}this.tabbingOut=false;_5a6.stop(e);},doBlur:function(e){_5a6.stop(e);},doContextMenu:function(e){if(!this.headerMenu){_5a6.stop(e);}},doLastNodeFocus:function(e){if(this.tabbingOut){this._focusifyCellNode(false);}else{if(this.grid.rowCount>0){if(this.isNoFocusCell()){this.setFocusIndex(0,0);}this._focusifyCellNode(true);}else{this.focusHeader();}}this.tabbingOut=false;_5a6.stop(e);},doLastNodeBlur:function(e){_5a6.stop(e);},doColHeaderFocus:function(e){this._setActiveColHeader(e.target,html.attr(e.target,"idx"),this._colHeadFocusIdx);this._scrollHeader(this.getHeaderIndex());_5a6.stop(e);},doColHeaderBlur:function(e){html.toggleClass(e.target,this.focusClass,false);},_mouseDown:function(e){this._clickFocus=dojo.some(this.grid.views.views,function(v){return v.scrollboxNode===e.target;});},_mouseUp:function(e){this._clickFocus=false;}});});},"dojox/grid/_EditManager":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect","dojo/_base/sniff","./util"],function(lang,_5d5,_5d6,_5d7,has,util){return _5d6("dojox.grid._EditManager",null,{constructor:function(_5d8){this.grid=_5d8;this.connections=!has("ie")?[]:[_5d7.connect(document.body,"onfocus",lang.hitch(this,"_boomerangFocus"))];this.connections.push(_5d7.connect(this.grid,"onBlur",this,"apply"));this.connections.push(_5d7.connect(this.grid,"prerender",this,"_onPreRender"));},info:{},destroy:function(){_5d5.forEach(this.connections,_5d7.disconnect);},cellFocus:function(_5d9,_5da){if(this.grid.singleClickEdit||this.isEditRow(_5da)){this.setEditCell(_5d9,_5da);}else{this.apply();}if(this.isEditing()||(_5d9&&_5d9.editable&&_5d9.alwaysEditing)){this._focusEditor(_5d9,_5da);}},rowClick:function(e){if(this.isEditing()&&!this.isEditRow(e.rowIndex)){this.apply();}},styleRow:function(_5db){if(_5db.index==this.info.rowIndex){_5db.customClasses+=" dojoxGridRowEditing";}},dispatchEvent:function(e){var c=e.cell,ed=(c&&c["editable"])?c:0;return ed&&ed.dispatchEvent(e.dispatch,e);},isEditing:function(){return this.info.rowIndex!==undefined;},isEditCell:function(_5dc,_5dd){return (this.info.rowIndex===_5dc)&&(this.info.cell.index==_5dd);},isEditRow:function(_5de){return this.info.rowIndex===_5de;},setEditCell:function(_5df,_5e0){if(!this.isEditCell(_5e0,_5df.index)&&this.grid.canEdit&&this.grid.canEdit(_5df,_5e0)){this.start(_5df,_5e0,this.isEditRow(_5e0)||_5df.editable);}},_focusEditor:function(_5e1,_5e2){util.fire(_5e1,"focus",[_5e2]);},focusEditor:function(){if(this.isEditing()){this._focusEditor(this.info.cell,this.info.rowIndex);}},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>new Date().getTime();},_boomerangFocus:function(){if(this._shouldCatchBoomerang()){this.grid.focus.focusGrid();this.focusEditor();this._catchBoomerang=0;}},_doCatchBoomerang:function(){if(has("ie")){this._catchBoomerang=new Date().getTime()+this._boomerangWindow;}},start:function(_5e3,_5e4,_5e5){if(!this._isValidInput()){return;}this.grid.beginUpdate();this.editorApply();if(this.isEditing()&&!this.isEditRow(_5e4)){this.applyRowEdit();this.grid.updateRow(_5e4);}if(_5e5){this.info={cell:_5e3,rowIndex:_5e4};this.grid.doStartEdit(_5e3,_5e4);this.grid.updateRow(_5e4);}else{this.info={};}this.grid.endUpdate();this.grid.focus.focusGrid();this._focusEditor(_5e3,_5e4);this._doCatchBoomerang();},_editorDo:function(_5e6){var c=this.info.cell;if(c&&c.editable){c[_5e6](this.info.rowIndex);}},editorApply:function(){this._editorDo("apply");},editorCancel:function(){this._editorDo("cancel");},applyCellEdit:function(_5e7,_5e8,_5e9){if(this.grid.canEdit(_5e8,_5e9)){this.grid.doApplyCellEdit(_5e7,_5e9,_5e8.field);}},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field);},apply:function(){if(this.isEditing()&&this._isValidInput()){this.grid.beginUpdate();this.editorApply();this.applyRowEdit();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},cancel:function(){if(this.isEditing()){this.grid.beginUpdate();this.editorCancel();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},save:function(_5ea,_5eb){var c=this.info.cell;if(this.isEditRow(_5ea)&&(!_5eb||c.view==_5eb)&&c.editable){c.save(c,this.info.rowIndex);}},restore:function(_5ec,_5ed){var c=this.info.cell;if(this.isEditRow(_5ed)&&c.view==_5ec&&c.editable){c.restore(this.info.rowIndex);}},_isValidInput:function(){var w=(this.info.cell||{}).widget;if(!w||!w.isValid){return true;}w.focused=true;return w.isValid(true);},_onPreRender:function(){if(this.isEditing()){this.info.value=this.info.cell.getValue();}}});});},"dojox/grid/Selection":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-attr"],function(_5ee,_5ef,lang,_5f0){return _5ee("dojox.grid.Selection",null,{constructor:function(_5f1){this.grid=_5f1;this.selected=[];this.setMode(_5f1.selectionMode);},mode:"extended",selected:null,updating:0,selectedIndex:-1,rangeStartIndex:-1,setMode:function(mode){if(this.selected.length){this.deselectAll();}if(mode!="extended"&&mode!="multiple"&&mode!="single"&&mode!="none"){this.mode="extended";}else{this.mode=mode;}},onCanSelect:function(_5f2){return this.grid.onCanSelect(_5f2);},onCanDeselect:function(_5f3){return this.grid.onCanDeselect(_5f3);},onSelected:function(_5f4){},onDeselected:function(_5f5){},onChanging:function(){},onChanged:function(){},isSelected:function(_5f6){if(this.mode=="none"){return false;}return this.selected[_5f6];},getFirstSelected:function(){if(!this.selected.length||this.mode=="none"){return -1;}for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getNextSelected:function(_5f7){if(this.mode=="none"){return -1;}for(var i=_5f7+1,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getSelected:function(){var _5f8=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_5f8.push(i);}}return _5f8;},getSelectedCount:function(){var c=0;for(var i=0;i<this.selected.length;i++){if(this.selected[i]){c++;}}return c;},_beginUpdate:function(){if(this.updating===0){this.onChanging();}this.updating++;},_endUpdate:function(){this.updating--;if(this.updating===0){this.onChanged();}},select:function(_5f9){if(this.mode=="none"){return;}if(this.mode!="multiple"){this.deselectAll(_5f9);this.addToSelection(_5f9);}else{this.toggleSelect(_5f9);}},addToSelection:function(_5fa){if(this.mode=="none"){return;}if(lang.isArray(_5fa)){_5ef.forEach(_5fa,this.addToSelection,this);return;}_5fa=Number(_5fa);if(this.selected[_5fa]){this.selectedIndex=_5fa;}else{if(this.onCanSelect(_5fa)!==false){this.selectedIndex=_5fa;var _5fb=this.grid.getRowNode(_5fa);if(_5fb){_5f0.set(_5fb,"aria-selected","true");}this._beginUpdate();this.selected[_5fa]=true;this.onSelected(_5fa);this._endUpdate();}}},deselect:function(_5fc){if(this.mode=="none"){return;}if(lang.isArray(_5fc)){_5ef.forEach(_5fc,this.deselect,this);return;}_5fc=Number(_5fc);if(this.selectedIndex==_5fc){this.selectedIndex=-1;}if(this.selected[_5fc]){if(this.onCanDeselect(_5fc)===false){return;}var _5fd=this.grid.getRowNode(_5fc);if(_5fd){_5f0.set(_5fd,"aria-selected","false");}this._beginUpdate();delete this.selected[_5fc];this.onDeselected(_5fc);this._endUpdate();}},setSelected:function(_5fe,_5ff){this[(_5ff?"addToSelection":"deselect")](_5fe);},toggleSelect:function(_600){if(lang.isArray(_600)){_5ef.forEach(_600,this.toggleSelect,this);return;}this.setSelected(_600,!this.selected[_600]);},_range:function(_601,inTo,func){var s=(_601>=0?_601:inTo),e=inTo;if(s>e){e=s;s=inTo;}for(var i=s;i<=e;i++){func(i);}},selectRange:function(_602,inTo){this._range(_602,inTo,lang.hitch(this,"addToSelection"));},deselectRange:function(_603,inTo){this._range(_603,inTo,lang.hitch(this,"deselect"));},insert:function(_604){this.selected.splice(_604,0,false);if(this.selectedIndex>=_604){this.selectedIndex++;}},remove:function(_605){this.selected.splice(_605,1);if(this.selectedIndex>=_605){this.selectedIndex--;}},deselectAll:function(_606){for(var i in this.selected){if((i!=_606)&&(this.selected[i]===true)){this.deselect(i);}}},clickSelect:function(_607,_608,_609){if(this.mode=="none"){return;}this._beginUpdate();if(this.mode!="extended"){this.select(_607);}else{if(!_609||this.rangeStartIndex<0){this.rangeStartIndex=_607;}if(!_608){this.deselectAll(_607);}if(_609){this.selectRange(this.rangeStartIndex,_607);}else{if(_608){this.toggleSelect(_607);}else{this.addToSelection(_607);}}}this._endUpdate();},clickSelectEvent:function(e){this.clickSelect(e.rowIndex,dojo.isCopyKey(e),e.shiftKey);},clear:function(){this._beginUpdate();this.deselectAll();this._endUpdate();}});});},"dijit/CheckedMenuItem":function(){define(["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(_60a,_60b,_60c,_60d){return _60a("dijit.CheckedMenuItem",_60c,{baseClass:"dijitMenuItem dijitCheckedMenuItem",templateString:_60d,checked:false,_setCheckedAttr:function(_60e){this.domNode.setAttribute("aria-checked",_60e?"true":"false");this._set("checked",_60e);},iconClass:"",role:"menuitemcheckbox",checkedChar:"&#10003;",onChange:function(){},_onClick:function(evt){if(!this.disabled){this.set("checked",!this.checked);this.onChange(this.checked);}this.onClick(evt);}});});},"dijit/MenuItem":function(){define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","dojo/_base/lang","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_60f,dom,_610,_611,_612,has,lang,_613,_614,_615,_616,_617){var _618=_60f("dijit.MenuItem"+(has("dojo-bidi")?"_NoBidi":""),[_613,_614,_615,_616],{templateString:_617,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(val){this._set("label",val);var _619="";var text;var ndx=val.search(/{\S}/);if(ndx>=0){_619=val.charAt(ndx+1);var _61a=val.substr(0,ndx);var _61b=val.substr(ndx+3);text=_61a+_619+_61b;val=_61a+"<span class=\"dijitMenuItemShortcutKey\">"+_619+"</span>"+_61b;}else{text=val;}this.domNode.setAttribute("aria-label",text+" "+this.accelKey);this.containerNode.innerHTML=val;this._set("shortcutKey",_619);},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_61c){if(_61c&&!("label" in this.params)){this._set("label",_61c.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _61d=this.id+"_text";_610.set(this.containerNode,"id",_61d);if(this.accelKeyNode){_610.set(this.accelKeyNode,"id",this.id+"_accel");}dom.setSelectable(this.domNode,false);},onClick:function(){},focus:function(){try{if(has("ie")==8){this.containerNode.focus();}this.focusNode.focus();}catch(e){}},_setSelected:function(_61e){_611.toggle(this.domNode,"dijitMenuItemSelected",_61e);},setLabel:function(_61f){_612.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_61f);},setDisabled:function(_620){_612.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_620);},_setDisabledAttr:function(_621){this.focusNode.setAttribute("aria-disabled",_621?"true":"false");this._set("disabled",_621);},_setAccelKeyAttr:function(_622){if(this.accelKeyNode){this.accelKeyNode.style.display=_622?"":"none";this.accelKeyNode.innerHTML=_622;_610.set(this.containerNode,"colSpan",_622?"1":"2");}this._set("accelKey",_622);}});if(has("dojo-bidi")){_618=_60f("dijit.MenuItem",_618,{_setLabelAttr:function(val){this.inherited(arguments);if(this.textDir==="auto"){this.applyTextDir(this.textDirNode);}}});}return _618;});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_623,_624){return _623("dijit._Contained",null,{_getSibling:function(_625){var node=this.domNode;do{node=node[_625+"Sibling"];}while(node&&node.nodeType!=1);return node&&_624.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dijit/_CssStateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(_626,_627,dom,_628,has,lang,on,_629,_62a,win,_62b,_62c){var _62d=_627("dijit._CssStateMixin",[],{hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_626.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes||{}){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(_62e){if(!this.disabled){switch(_62e.type){case "mouseover":case "MSPointerOver":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "keydown":this._set("active",true);break;case "mouseup":case "dojotouchend":case "keyup":this._set("active",false);break;}}},_setStateClass:function(){var _62f=this.baseClass.split(" ");function _630(_631){_62f=_62f.concat(_626.map(_62f,function(c){return c+_631;}),"dijit"+_631);};if(!this.isLeftToRight()){_630("Rtl");}var _632=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_630(_632);}if(this.state){_630(this.state);}if(this.selected){_630("Selected");}if(this._opened){_630("Opened");}if(this.disabled){_630("Disabled");}else{if(this.readOnly){_630("ReadOnly");}else{if(this.active){_630("Active");}else{if(this.hovering){_630("Hover");}}}}if(this.focused){_630("Focused");}var tn=this.stateNode||this.domNode,_633={};_626.forEach(tn.className.split(" "),function(c){_633[c]=true;});if("_stateClasses" in this){_626.forEach(this._stateClasses,function(c){delete _633[c];});}_626.forEach(_62f,function(c){_633[c]=true;});var _634=[];for(var c in _633){_634.push(c);}tn.className=_634.join(" ");this._stateClasses=_62f;},_subnodeCssMouseEvent:function(node,_635,evt){if(this.disabled||this.readOnly){return;}function _636(_637){_628.toggle(node,_635+"Hover",_637);};function _638(_639){_628.toggle(node,_635+"Active",_639);};function _63a(_63b){_628.toggle(node,_635+"Focused",_63b);};switch(evt.type){case "mouseover":case "MSPointerOver":_636(true);break;case "mouseout":case "MSPointerOut":_636(false);_638(false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "keydown":_638(true);break;case "mouseup":case "MSPointerUp":case "dojotouchend":case "keyup":_638(false);break;case "focus":case "focusin":_63a(true);break;case "blur":case "focusout":_63a(false);break;}},_trackMouseState:function(node,_63c){node._cssState=_63c;}});_629(function(){function _63d(evt,_63e,_63f){if(_63f&&dom.isDescendant(_63f,_63e)){return;}for(var node=_63e;node&&node!=_63f;node=node.parentNode){if(node._cssState){var _640=_62c.getEnclosingWidget(node);if(_640){if(node==_640.domNode){_640._cssMouseEvent(evt);}else{_640._subnodeCssMouseEvent(node,node._cssState,evt);}}}}};var body=win.body(),_641;on(body,_62a.over,function(evt){_63d(evt,evt.target,evt.relatedTarget);});on(body,_62a.out,function(evt){_63d(evt,evt.target,evt.relatedTarget);});on(body,_62b.press,function(evt){_641=evt.target;_63d(evt,_641);});on(body,_62b.release,function(evt){_63d(evt,_641);_641=null;});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _642=_62c.getEnclosingWidget(node);if(_642){_642._subnodeCssMouseEvent(node,node._cssState,evt);}}});});return _62d;});},"dojo/i18n":function(){define(["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(dojo,_643,has,_644,_645,lang,xhr,json,_646){has.add("dojo-preload-i18n-Api",1);1||has.add("dojo-v1x-i18n-Api",1);var _647=dojo.i18n={},_648=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,_649=function(root,_64a,_64b,_64c){for(var _64d=[_64b+_64c],_64e=_64a.split("-"),_64f="",i=0;i<_64e.length;i++){_64f+=(_64f?"-":"")+_64e[i];if(!root||root[_64f]){_64d.push(_64b+_64f+"/"+_64c);_64d.specificity=_64f;}}return _64d;},_650={},_651=function(_652,_653,_654){_654=_654?_654.toLowerCase():dojo.locale;_652=_652.replace(/\./g,"/");_653=_653.replace(/\./g,"/");return (/root/i.test(_654))?(_652+"/nls/"+_653):(_652+"/nls/"+_654+"/"+_653);},_655=dojo.getL10nName=function(_656,_657,_658){return _656=_646.id+"!"+_651(_656,_657,_658);},_659=function(_65a,_65b,_65c,_65d,_65e,load){_65a([_65b],function(root){var _65f=lang.clone(root.root),_660=_649(!root._v1x&&root,_65e,_65c,_65d);_65a(_660,function(){for(var i=1;i<_660.length;i++){_65f=lang.mixin(lang.clone(_65f),arguments[i]);}var _661=_65b+"/"+_65e;_650[_661]=_65f;_65f.$locale=_660.specificity;load();});});},_662=function(id,_663){return /^\./.test(id)?_663(id):id;},_664=function(_665){var list=_645.extraLocale||[];list=lang.isArray(list)?list:[list];list.push(_665);return list;},load=function(id,_666,load){if(has("dojo-preload-i18n-Api")){var _667=id.split("*"),_668=_667[1]=="preload";if(_668){if(!_650[id]){_650[id]=1;_669(_667[2],json.parse(_667[3]),1,_666);}load(1);}if(_668||_66a(id,_666,load)){return;}}var _66b=_648.exec(id),_66c=_66b[1]+"/",_66d=_66b[5]||_66b[4],_66e=_66c+_66d,_66f=(_66b[5]&&_66b[4]),_670=_66f||dojo.locale||"",_671=_66e+"/"+_670,_672=_66f?[_670]:_664(_670),_673=_672.length,_674=function(){if(!--_673){load(lang.delegate(_650[_671]));}};_644.forEach(_672,function(_675){var _676=_66e+"/"+_675;if(has("dojo-preload-i18n-Api")){_677(_676);}if(!_650[_676]){_659(_666,_66e,_66c,_66d,_675,_674);}else{_674();}});};if(has("dojo-unit-tests")){var _678=_647.unitTests=[];}if(has("dojo-preload-i18n-Api")||1){var _679=_647.normalizeLocale=function(_67a){var _67b=_67a?_67a.toLowerCase():dojo.locale;return _67b=="root"?"ROOT":_67b;},isXd=function(mid,_67c){return (1&&1)?_67c.isXdUrl(_643.toUrl(mid+".js")):true;},_67d=0,_67e=[],_669=_647._preloadLocalizations=function(_67f,_680,_681,_682){_682=_682||_643;function _683(mid,_684){if(isXd(mid,_682)||_681){_682([mid],_684);}else{_68e([mid],_684,_682);}};function _685(_686,func){var _687=_686.split("-");while(_687.length){if(func(_687.join("-"))){return;}_687.pop();}func("ROOT");};function _688(_689){_689=_679(_689);_685(_689,function(loc){if(_644.indexOf(_680,loc)>=0){var mid=_67f.replace(/\./g,"/")+"_"+loc;_67d++;_683(mid,function(_68a){for(var p in _68a){_650[_643.toAbsMid(p)+"/"+loc]=_68a[p];}--_67d;while(!_67d&&_67e.length){load.apply(null,_67e.shift());}});return true;}return false;});};_688();_644.forEach(dojo.config.extraLocale,_688);},_66a=function(id,_68b,load){if(_67d){_67e.push([id,_68b,load]);}return _67d;},_677=function(){};}if(1){var _68c={},_68d=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},"+"\t   require = function(){define.called = 1;};"+"try{"+"define.called = 0;"+"eval(__bundle);"+"if(define.called==1)"+"return __amdValue;"+"if((__checkForLegacyModules = __checkForLegacyModules(__mid)))"+"return __checkForLegacyModules;"+"}catch(e){}"+"try{"+"return eval('('+__bundle+')');"+"}catch(e){"+"return e;"+"}"),_68e=function(deps,_68f,_690){var _691=[];_644.forEach(deps,function(mid){var url=_690.toUrl(mid+".js");function load(text){var _692=_68d(text,_677,mid,_68c);if(_692===_68c){_691.push(_650[url]=_68c.result);}else{if(_692 instanceof Error){console.error("failed to evaluate i18n bundle; url="+url,_692);_692={};}_691.push(_650[url]=(/nls\/[^\/]+\/[^\/]+$/.test(url)?_692:{root:_692,_v1x:1}));}};if(_650[url]){_691.push(_650[url]);}else{var _693=_690.syncLoadNls(mid);if(_693){_691.push(_693);}else{if(!xhr){try{_690.getText(url,true,load);}catch(e){_691.push(_650[url]={});}}else{xhr.get({url:url,sync:true,load:load,error:function(){_691.push(_650[url]={});}});}}}});_68f&&_68f.apply(null,_691);};_677=function(_694){for(var _695,_696=_694.split("/"),_697=dojo.global[_696[0]],i=1;_697&&i<_696.length-1;_697=_697[_696[i++]]){}if(_697){_695=_697[_696[i]];if(!_695){_695=_697[_696[i].replace(/-/g,"_")];}if(_695){_650[_694]=_695;}}return _695;};_647.getLocalization=function(_698,_699,_69a){var _69b,_69c=_651(_698,_699,_69a);load(_69c,(!isXd(_69c,_643)?function(deps,_69d){_68e(deps,_69d,_643);}:_643),function(_69e){_69b=_69e;});return _69b;};if(has("dojo-unit-tests")){_678.push(function(doh){doh.register("tests.i18n.unit",function(t){var _69f;_69f=_68d("{prop:1}",_677,"nonsense",_68c);t.is({prop:1},_69f);t.is(undefined,_69f[1]);_69f=_68d("({prop:1})",_677,"nonsense",_68c);t.is({prop:1},_69f);t.is(undefined,_69f[1]);_69f=_68d("{'prop-x':1}",_677,"nonsense",_68c);t.is({"prop-x":1},_69f);t.is(undefined,_69f[1]);_69f=_68d("({'prop-x':1})",_677,"nonsense",_68c);t.is({"prop-x":1},_69f);t.is(undefined,_69f[1]);_69f=_68d("define({'prop-x':1})",_677,"nonsense",_68c);t.is(_68c,_69f);t.is({"prop-x":1},_68c.result);_69f=_68d("define('some/module', {'prop-x':1})",_677,"nonsense",_68c);t.is(_68c,_69f);t.is({"prop-x":1},_68c.result);_69f=_68d("this is total nonsense and should throw an error",_677,"nonsense",_68c);t.is(_69f instanceof Error,true);});});}}return lang.mixin(_647,{dynamic:true,normalize:_662,load:load,cache:_650,getL10nName:_655});});},"dojox/grid/DataSelection":function(){define(["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(_6a0,_6a1,_6a2){return _6a0("dojox.grid.DataSelection",_6a2,{constructor:function(grid){if(grid.keepSelection){this.preserver=new _6a1(this);}},destroy:function(){if(this.preserver){this.preserver.destroy();}},getFirstSelected:function(){var idx=_6a2.prototype.getFirstSelected.call(this);if(idx==-1){return null;}return this.grid.getItem(idx);},getNextSelected:function(_6a3){var _6a4=this.grid.getItemIndex(_6a3);var idx=_6a2.prototype.getNextSelected.call(this,_6a4);if(idx==-1){return null;}return this.grid.getItem(idx);},getSelected:function(){var _6a5=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_6a5.push(this.grid.getItem(i));}}return _6a5;},addToSelection:function(_6a6){if(this.mode=="none"){return;}var idx=null;if(typeof _6a6=="number"||typeof _6a6=="string"){idx=_6a6;}else{idx=this.grid.getItemIndex(_6a6);}_6a2.prototype.addToSelection.call(this,idx);},deselect:function(_6a7){if(this.mode=="none"){return;}var idx=null;if(typeof _6a7=="number"||typeof _6a7=="string"){idx=_6a7;}else{idx=this.grid.getItemIndex(_6a7);}_6a2.prototype.deselect.call(this,idx);},deselectAll:function(_6a8){var idx=null;if(_6a8||typeof _6a8=="number"){if(typeof _6a8=="number"||typeof _6a8=="string"){idx=_6a8;}else{idx=this.grid.getItemIndex(_6a8);}_6a2.prototype.deselectAll.call(this,idx);}else{this.inherited(arguments);}}});});},"dojox/grid/_SelectionPreserver":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(_6a9,_6aa,lang,_6ab){return _6a9("dojox.grid._SelectionPreserver",null,{constructor:function(_6ac){this.selection=_6ac;var grid=this.grid=_6ac.grid;this.reset();this._connects=[_6aa.connect(grid,"_setStore",this,"reset"),_6aa.connect(grid,"_addItem",this,"_reSelectById"),_6aa.connect(_6ac,"onSelected",lang.hitch(this,"_selectById",true)),_6aa.connect(_6ac,"onDeselected",lang.hitch(this,"_selectById",false)),_6aa.connect(_6ac,"deselectAll",this,"reset")];},destroy:function(){this.reset();_6ab.forEach(this._connects,_6aa.disconnect);delete this._connects;},reset:function(){this._selectedById={};},_reSelectById:function(item,_6ad){if(item&&this.grid._hasIdentity){this.selection.selected[_6ad]=this._selectedById[this.grid.store.getIdentity(item)];}},_selectById:function(_6ae,_6af){if(this.selection.mode=="none"||!this.grid._hasIdentity){return;}var item=_6af,g=this.grid;if(typeof _6af=="number"||typeof _6af=="string"){var _6b0=g._by_idx[_6af];item=_6b0&&_6b0.item;}if(item){this._selectedById[g.store.getIdentity(item)]=!!_6ae;}return item;}});});},"dojox/grid/enhanced/_PluginManager":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","./_Events","./_FocusManager","../util"],function(dojo,lang,_6b1,_6b2,_6b3,_6b4,_6b5,util){var _6b6=_6b1("dojox.grid.enhanced._PluginManager",null,{_options:null,_plugins:null,_connects:null,constructor:function(_6b7){this.grid=_6b7;this._store=_6b7.store;this._options={};this._plugins=[];this._connects=[];this._parseProps(this.grid.plugins);_6b7.connect(_6b7,"_setStore",lang.hitch(this,function(_6b8){if(this._store!==_6b8){this.forEach("onSetStore",[_6b8,this._store]);this._store=_6b8;}}));},startup:function(){this.forEach("onStartUp");},preInit:function(){this.grid.focus.destroy();this.grid.focus=new _6b5(this.grid);new _6b4(this.grid);this._init(true);this.forEach("onPreInit");},postInit:function(){this._init(false);_6b2.forEach(this.grid.views.views,this._initView,this);this._connects.push(_6b3.connect(this.grid.views,"addView",lang.hitch(this,this._initView)));if(this._plugins.length>0){var edit=this.grid.edit;if(edit){edit.styleRow=function(_6b9){};}}this.forEach("onPostInit");},forEach:function(func,args){_6b2.forEach(this._plugins,function(p){if(!p||!p[func]){return;}p[func].apply(p,args?args:[]);});},_parseProps:function(_6ba){if(!_6ba){return;}var p,_6bb={},_6bc=this._options,grid=this.grid;var _6bd=_6b6.registry;for(p in _6ba){if(_6ba[p]){this._normalize(p,_6ba,_6bd,_6bb);}}if(_6bc.dnd){_6bc.columnReordering=false;}lang.mixin(grid,_6bc);},_normalize:function(p,_6be,_6bf,_6c0){if(!_6bf[p]){throw new Error("Plugin "+p+" is required.");}if(_6c0[p]){throw new Error("Recursive cycle dependency is not supported.");}var _6c1=this._options;if(_6c1[p]){return _6c1[p];}_6c0[p]=true;_6c1[p]=lang.mixin({},_6bf[p],lang.isObject(_6be[p])?_6be[p]:{});var _6c2=_6c1[p]["dependency"];if(_6c2){if(!lang.isArray(_6c2)){_6c2=_6c1[p]["dependency"]=[_6c2];}_6b2.forEach(_6c2,function(_6c3){if(!this._normalize(_6c3,_6be,_6bf,_6c0)){throw new Error("Plugin "+_6c3+" is required.");}},this);}delete _6c0[p];return _6c1[p];},_init:function(pre){var p,_6c4,_6c5=this._options;for(p in _6c5){_6c4=_6c5[p]["preInit"];if((pre?_6c4:!_6c4)&&_6c5[p]["class"]&&!this.pluginExisted(p)){this.loadPlugin(p);}}},loadPlugin:function(name){var _6c6=this._options[name];if(!_6c6){return null;}var _6c7=this.getPlugin(name);if(_6c7){return _6c7;}var _6c8=_6c6["dependency"];_6b2.forEach(_6c8,function(_6c9){if(!this.loadPlugin(_6c9)){throw new Error("Plugin "+_6c9+" is required.");}},this);var cls=_6c6["class"];delete _6c6["class"];_6c7=new this.getPluginClazz(cls)(this.grid,_6c6);this._plugins.push(_6c7);return _6c7;},_initView:function(view){if(!view){return;}util.funnelEvents(view.contentNode,view,"doContentEvent",["mouseup","mousemove"]);util.funnelEvents(view.headerNode,view,"doHeaderEvent",["mouseup"]);},pluginExisted:function(name){return !!this.getPlugin(name);},getPlugin:function(name){var _6ca=this._plugins;name=name.toLowerCase();for(var i=0,len=_6ca.length;i<len;i++){if(name==_6ca[i]["name"].toLowerCase()){return _6ca[i];}}return null;},getPluginClazz:function(_6cb){if(lang.isFunction(_6cb)){return _6cb;}var _6cc="Please make sure Plugin \""+_6cb+"\" is existed.";try{var cls=lang.getObject(_6cb);if(!cls){throw new Error(_6cc);}return cls;}catch(e){throw new Error(_6cc);}},isFixedCell:function(cell){return cell&&(cell.isRowSelector||cell.fixedPos);},destroy:function(){_6b2.forEach(this._connects,_6b3.disconnect);this.forEach("destroy");if(this.grid.unwrap){this.grid.unwrap();}delete this._connects;delete this._plugins;delete this._options;}});_6b6.registerPlugin=function(_6cd,_6ce){if(!_6cd){console.warn("Failed to register plugin, class missed!");return;}var cls=_6b6;cls.registry=cls.registry||{};cls.registry[_6cd.prototype.name]=lang.mixin({"class":_6cd},(_6ce?_6ce:{}));};return _6b6;});},"dojox/grid/enhanced/_Events":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/keys","dojo/_base/html","dojo/_base/event","dojox/grid/_Events"],function(dojo,_6cf,keys,html,_6d0,_6d1){return _6cf("dojox.grid.enhanced._Events",null,{_events:null,headerCellActiveClass:"dojoxGridHeaderActive",cellActiveClass:"dojoxGridCellActive",rowActiveClass:"dojoxGridRowActive",constructor:function(_6d2){this._events=new _6d1();_6d2.mixin(_6d2,this);},dokeyup:function(e){this.focus.currentArea().keyup(e);},onKeyDown:function(e){if(e.altKey||e.metaKey){return;}var _6d3=this.focus;var _6d4=this.edit.isEditing();switch(e.keyCode){case keys.TAB:if(e.ctrlKey){return;}_6d3.tab(e.shiftKey?-1:1,e);break;case keys.UP_ARROW:case keys.DOWN_ARROW:if(_6d4){return;}_6d3.currentArea().move(e.keyCode==keys.UP_ARROW?-1:1,0,e);break;case keys.LEFT_ARROW:case keys.RIGHT_ARROW:if(_6d4){return;}var _6d5=(e.keyCode==keys.LEFT_ARROW)?1:-1;if(html._isBodyLtr()){_6d5*=-1;}_6d3.currentArea().move(0,_6d5,e);break;case keys.F10:if(this.menus&&e.shiftKey){this.onRowContextMenu(e);}break;default:_6d3.currentArea().keydown(e);break;}},domouseup:function(e){if(e.cellNode){this.onMouseUp(e);}else{this.onRowSelectorMouseUp(e);}},domousedown:function(e){if(!e.cellNode){this.onRowSelectorMouseDown(e);}},onMouseUp:function(e){this[e.rowIndex==-1?"onHeaderCellMouseUp":"onCellMouseUp"](e);},onCellMouseDown:function(e){html.addClass(e.cellNode,this.cellActiveClass);html.addClass(e.rowNode,this.rowActiveClass);},onCellMouseUp:function(e){html.removeClass(e.cellNode,this.cellActiveClass);html.removeClass(e.rowNode,this.rowActiveClass);},onCellClick:function(e){this._events.onCellClick.call(this,e);this.focus.contentMouseEvent(e);},onCellDblClick:function(e){if(this.pluginMgr.isFixedCell(e.cell)){return;}if(this._click.length>1&&(!this._click[0]||!this._click[1])){this._click[0]=this._click[1]=e;}this._events.onCellDblClick.call(this,e);},onRowClick:function(e){this.edit.rowClick(e);if(!e.cell||!this.plugin("indirectSelection")){this.selection.clickSelectEvent(e);}},onRowContextMenu:function(e){if(!this.edit.isEditing()&&this.menus){this.showMenu(e);}},onSelectedRegionContextMenu:function(e){if(this.selectedRegionMenu){this.selectedRegionMenu._openMyself({target:e.target,coords:e.keyCode!==keys.F10&&"pageX" in e?{x:e.pageX,y:e.pageY}:null});_6d0.stop(e);}},onHeaderCellMouseOut:function(e){if(e.cellNode){html.removeClass(e.cellNode,this.cellOverClass);html.removeClass(e.cellNode,this.headerCellActiveClass);}},onHeaderCellMouseDown:function(e){if(e.cellNode){html.addClass(e.cellNode,this.headerCellActiveClass);}},onHeaderCellMouseUp:function(e){if(e.cellNode){html.removeClass(e.cellNode,this.headerCellActiveClass);}},onHeaderCellClick:function(e){this.focus.currentArea("header");if(!e.cell.isRowSelector){this._events.onHeaderCellClick.call(this,e);}this.focus.headerMouseEvent(e);},onRowSelectorMouseDown:function(e){this.focus.focusArea("rowHeader",e);},onRowSelectorMouseUp:function(e){},onMouseUpRow:function(e){if(e.rowIndex!=-1){this.onRowMouseUp(e);}},onRowMouseUp:function(e){}});});},"dojox/grid/enhanced/_FocusManager":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/sniff","dojo/_base/html","dojo/keys","dijit/a11y","dijit/focus","../_FocusManager"],function(dojo,lang,_6d6,_6d7,_6d8,_6d9,has,html,keys,_6da,_6db,_6dc){var _6dd=_6d6("dojox.grid.enhanced._FocusArea",null,{constructor:function(area,_6de){this._fm=_6de;this._evtStack=[area.name];var _6df=function(){return true;};area.onFocus=area.onFocus||_6df;area.onBlur=area.onBlur||_6df;area.onMove=area.onMove||_6df;area.onKeyUp=area.onKeyUp||_6df;area.onKeyDown=area.onKeyDown||_6df;lang.mixin(this,area);},move:function(_6e0,_6e1,evt){if(this.name){var i,len=this._evtStack.length;for(i=len-1;i>=0;--i){if(this._fm._areas[this._evtStack[i]].onMove(_6e0,_6e1,evt)===false){return false;}}}return true;},_onKeyEvent:function(evt,_6e2){if(this.name){var i,len=this._evtStack.length;for(i=len-1;i>=0;--i){if(this._fm._areas[this._evtStack[i]][_6e2](evt,false)===false){return false;}}for(i=0;i<len;++i){if(this._fm._areas[this._evtStack[i]][_6e2](evt,true)===false){return false;}}}return true;},keydown:function(evt){return this._onKeyEvent(evt,"onKeyDown");},keyup:function(evt){return this._onKeyEvent(evt,"onKeyUp");},contentMouseEventPlanner:function(){return 0;},headerMouseEventPlanner:function(){return 0;}});return _6d6("dojox.grid.enhanced._FocusManager",_6dc,{_stopEvent:function(evt){try{if(evt&&evt.preventDefault){_6d9.stop(evt);}}catch(e){}},constructor:function(grid){this.grid=grid;this._areas={};this._areaQueue=[];this._contentMouseEventHandlers=[];this._headerMouseEventHandlers=[];this._currentAreaIdx=-1;this._gridBlured=true;this._connects.push(_6d8.connect(grid,"onBlur",this,"_doBlur"));this._connects.push(_6d8.connect(grid.scroller,"renderPage",this,"_delayedCellFocus"));this.addArea({name:"header",onFocus:lang.hitch(this,this.focusHeader),onBlur:lang.hitch(this,this._blurHeader),onMove:lang.hitch(this,this._navHeader),getRegions:lang.hitch(this,this._findHeaderCells),onRegionFocus:lang.hitch(this,this.doColHeaderFocus),onRegionBlur:lang.hitch(this,this.doColHeaderBlur),onKeyDown:lang.hitch(this,this._onHeaderKeyDown)});this.addArea({name:"content",onFocus:lang.hitch(this,this._focusContent),onBlur:lang.hitch(this,this._blurContent),onMove:lang.hitch(this,this._navContent),onKeyDown:lang.hitch(this,this._onContentKeyDown)});this.addArea({name:"editableCell",onFocus:lang.hitch(this,this._focusEditableCell),onBlur:lang.hitch(this,this._blurEditableCell),onKeyDown:lang.hitch(this,this._onEditableCellKeyDown),onContentMouseEvent:lang.hitch(this,this._onEditableCellMouseEvent),contentMouseEventPlanner:function(evt,_6e3){return -1;}});this.placeArea("header");this.placeArea("content");this.placeArea("editableCell");this.placeArea("editableCell","above","content");},destroy:function(){for(var name in this._areas){var area=this._areas[name];_6d7.forEach(area._connects,_6d8.disconnect);area._connects=null;if(area.uninitialize){area.uninitialize();}}this.inherited(arguments);},addArea:function(area){if(area.name&&lang.isString(area.name)){if(this._areas[area.name]){_6d7.forEach(area._connects,_6d8.disconnect);}this._areas[area.name]=new _6dd(area,this);if(area.onHeaderMouseEvent){this._headerMouseEventHandlers.push(area.name);}if(area.onContentMouseEvent){this._contentMouseEventHandlers.push(area.name);}}},getArea:function(_6e4){return this._areas[_6e4];},_bindAreaEvents:function(){var area,hdl,_6e5=this._areas;_6d7.forEach(this._areaQueue,function(name){area=_6e5[name];if(!area._initialized&&lang.isFunction(area.initialize)){area.initialize();area._initialized=true;}if(area.getRegions){area._regions=area.getRegions()||[];_6d7.forEach(area._connects||[],_6d8.disconnect);area._connects=[];_6d7.forEach(area._regions,function(r){if(area.onRegionFocus){hdl=_6d8.connect(r,"onfocus",area.onRegionFocus);area._connects.push(hdl);}if(area.onRegionBlur){hdl=_6d8.connect(r,"onblur",area.onRegionBlur);area._connects.push(hdl);}});}});},removeArea:function(_6e6){var area=this._areas[_6e6];if(area){this.ignoreArea(_6e6);var i=_6d7.indexOf(this._contentMouseEventHandlers,_6e6);if(i>=0){this._contentMouseEventHandlers.splice(i,1);}i=_6d7.indexOf(this._headerMouseEventHandlers,_6e6);if(i>=0){this._headerMouseEventHandlers.splice(i,1);}_6d7.forEach(area._connects,_6d8.disconnect);if(area.uninitialize){area.uninitialize();}delete this._areas[_6e6];}},currentArea:function(_6e7,_6e8){var idx,cai=this._currentAreaIdx;if(lang.isString(_6e7)&&(idx=_6d7.indexOf(this._areaQueue,_6e7))>=0){if(cai!=idx){this.tabbingOut=false;if(_6e8&&cai>=0&&cai<this._areaQueue.length){this._areas[this._areaQueue[cai]].onBlur();}this._currentAreaIdx=idx;}}else{return (cai<0||cai>=this._areaQueue.length)?new _6dd({},this):this._areas[this._areaQueue[this._currentAreaIdx]];}return null;},placeArea:function(name,pos,_6e9){if(!this._areas[name]){return;}var idx=_6d7.indexOf(this._areaQueue,_6e9);switch(pos){case "after":if(idx>=0){++idx;}case "before":if(idx>=0){this._areaQueue.splice(idx,0,name);break;}default:this._areaQueue.push(name);break;case "above":var _6ea=true;case "below":var _6eb=this._areas[_6e9];if(_6eb){if(_6ea){_6eb._evtStack.push(name);}else{_6eb._evtStack.splice(0,0,name);}}}},ignoreArea:function(name){this._areaQueue=_6d7.filter(this._areaQueue,function(_6ec){return _6ec!=name;});},focusArea:function(_6ed,evt){var idx;if(typeof _6ed=="number"){idx=_6ed<0?this._areaQueue.length+_6ed:_6ed;}else{idx=_6d7.indexOf(this._areaQueue,lang.isString(_6ed)?_6ed:(_6ed&&_6ed.name));}if(idx<0){idx=0;}var step=idx-this._currentAreaIdx;this._gridBlured=false;if(step){this.tab(step,evt);}else{this.currentArea().onFocus(evt,step);}},tab:function(step,evt){this._gridBlured=false;this.tabbingOut=false;if(step===0){return;}var cai=this._currentAreaIdx;var dir=step>0?1:-1;if(cai<0||cai>=this._areaQueue.length){cai=(this._currentAreaIdx+=step);}else{var _6ee=this._areas[this._areaQueue[cai]].onBlur(evt,step);if(_6ee===true){cai=(this._currentAreaIdx+=step);}else{if(lang.isString(_6ee)&&this._areas[_6ee]){cai=this._currentAreaIdx=_6d7.indexOf(this._areaQueue,_6ee);}}}for(;cai>=0&&cai<this._areaQueue.length;cai+=dir){this._currentAreaIdx=cai;if(this._areaQueue[cai]&&this._areas[this._areaQueue[cai]].onFocus(evt,step)){return;}}this.tabbingOut=true;if(step<0){this._currentAreaIdx=-1;_6db.focus(this.grid.domNode);}else{this._currentAreaIdx=this._areaQueue.length;_6db.focus(this.grid.lastFocusNode);}},_onMouseEvent:function(type,evt){var _6ef=type.toLowerCase(),_6f0=this["_"+_6ef+"MouseEventHandlers"],res=_6d7.map(_6f0,function(_6f1){return {"area":_6f1,"idx":this._areas[_6f1][_6ef+"MouseEventPlanner"](evt,_6f0)};},this).sort(function(a,b){return b.idx-a.idx;}),_6f2=_6d7.map(res,function(_6f3){return res.area;}),i=res.length;while(--i>=0){if(this._areas[res[i].area]["on"+type+"MouseEvent"](evt,_6f2)===false){return;}}},contentMouseEvent:function(evt){this._onMouseEvent("Content",evt);},headerMouseEvent:function(evt){this._onMouseEvent("Header",evt);},initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||this.focusView||this.grid.views.views[0];this._bindAreaEvents();},isNavHeader:function(){return this._areaQueue[this._currentAreaIdx]=="header";},previousKey:function(e){this.tab(-1,e);},nextKey:function(e){this.tab(1,e);},setFocusCell:function(_6f4,_6f5){if(_6f4){this.currentArea(this.grid.edit.isEditing()?"editableCell":"content",true);this._focusifyCellNode(false);this.cell=_6f4;this.rowIndex=_6f5;this._focusifyCellNode(true);}this.grid.onCellFocus(this.cell,this.rowIndex);},doFocus:function(e){if(e&&e.target==e.currentTarget&&!this.tabbingOut){if(this._gridBlured){this._gridBlured=false;if(this._currentAreaIdx<0||this._currentAreaIdx>=this._areaQueue.length){this.focusArea(0,e);}else{this.focusArea(this._currentAreaIdx,e);}}}else{this.tabbingOut=false;}_6d9.stop(e);},_doBlur:function(){this._gridBlured=true;},doLastNodeFocus:function(e){if(this.tabbingOut){this.tabbingOut=false;}else{this.focusArea(-1,e);}},_delayedHeaderFocus:function(){if(this.isNavHeader()&&!has("ie")){this.focusHeader();}},_delayedCellFocus:function(){},_changeMenuBindNode:function(_6f6,_6f7){var hm=this.grid.headerMenu;if(hm&&this._contextMenuBindNode==_6f6){hm.unBindDomNode(_6f6);hm.bindDomNode(_6f7);this._contextMenuBindNode=_6f7;}},focusHeader:function(evt,step){var _6f8=false;this.inherited(arguments);if(this._colHeadNode&&html.style(this._colHeadNode,"display")!="none"){_6db.focus(this._colHeadNode);this._stopEvent(evt);_6f8=true;}return _6f8;},_blurHeader:function(evt,step){if(this._colHeadNode){html.removeClass(this._colHeadNode,this.focusClass);}html.removeAttr(this.grid.domNode,"aria-activedescendant");this._changeMenuBindNode(this.grid.domNode,this.grid.viewsHeaderNode);this._colHeadNode=this._colHeadFocusIdx=null;return true;},_navHeader:function(_6f9,_6fa,evt){var _6fb=_6fa<0?-1:1,_6fc=_6d7.indexOf(this._findHeaderCells(),this._colHeadNode);if(_6fc>=0&&(evt.shiftKey&&evt.ctrlKey)){this.colSizeAdjust(evt,_6fc,_6fb*5);return;}this.move(_6f9,_6fa);},_onHeaderKeyDown:function(e,_6fd){if(_6fd){var dk=keys;switch(e.keyCode){case dk.ENTER:case dk.SPACE:var _6fe=this.getHeaderIndex();if(_6fe>=0&&!this.grid.pluginMgr.isFixedCell(e.cell)){this.grid.setSortIndex(_6fe,null,e);_6d9.stop(e);}break;}}return true;},_setActiveColHeader:function(){this.inherited(arguments);_6db.focus(this._colHeadNode);},findAndFocusGridCell:function(){this._focusContent();},_focusContent:function(evt,step){var _6ff=true;var _700=(this.grid.rowCount===0);if(this.isNoFocusCell()&&!_700){for(var i=0,cell=this.grid.getCell(0);cell&&cell.hidden;cell=this.grid.getCell(++i)){}this.setFocusIndex(0,cell?i:0);}else{if(this.cell&&!_700){if(this.focusView&&!this.focusView.rowNodes[this.rowIndex]){this.grid.scrollToRow(this.rowIndex);this.focusGrid();}else{this.setFocusIndex(this.rowIndex,this.cell.index);}}else{_6ff=false;}}if(_6ff){this._stopEvent(evt);}return _6ff;},_blurContent:function(evt,step){this._focusifyCellNode(false);return true;},_navContent:function(_701,_702,evt){if((this.rowIndex===0&&_701<0)||(this.rowIndex===this.grid.rowCount-1&&_701>0)){return;}this._colHeadNode=null;this.move(_701,_702,evt);if(evt){_6d9.stop(evt);}},_onContentKeyDown:function(e,_703){if(_703){var dk=keys,s=this.grid.scroller;switch(e.keyCode){case dk.ENTER:case dk.SPACE:var g=this.grid;if(g.indirectSelection){break;}g.selection.clickSelect(this.rowIndex,_6d8.isCopyKey(e),e.shiftKey);g.onRowClick(e);_6d9.stop(e);break;case dk.PAGE_UP:if(this.rowIndex!==0){if(this.rowIndex!=s.firstVisibleRow+1){this._navContent(s.firstVisibleRow-this.rowIndex,0);}else{this.grid.setScrollTop(s.findScrollTop(this.rowIndex-1));this._navContent(s.firstVisibleRow-s.lastVisibleRow+1,0);}_6d9.stop(e);}break;case dk.PAGE_DOWN:if(this.rowIndex+1!=this.grid.rowCount){_6d9.stop(e);if(this.rowIndex!=s.lastVisibleRow-1){this._navContent(s.lastVisibleRow-this.rowIndex-1,0);}else{this.grid.setScrollTop(s.findScrollTop(this.rowIndex+1));this._navContent(s.lastVisibleRow-s.firstVisibleRow-1,0);}_6d9.stop(e);}break;}}return true;},_blurFromEditableCell:false,_isNavigating:false,_navElems:null,_focusEditableCell:function(evt,step){var _704=false;if(this._isNavigating){_704=true;}else{if(this.grid.edit.isEditing()&&this.cell){if(this._blurFromEditableCell||!this._blurEditableCell(evt,step)){this.setFocusIndex(this.rowIndex,this.cell.index);_704=true;}this._stopEvent(evt);}}return _704;},_applyEditableCell:function(){try{this.grid.edit.apply();}catch(e){console.warn("_FocusManager._applyEditableCell() error:",e);}},_blurEditableCell:function(evt,step){this._blurFromEditableCell=false;if(this._isNavigating){var _705=true;if(evt){var _706=this._navElems;var _707=_706.lowest||_706.first;var _708=_706.last||_706.highest||_707;var _709=has("ie")?evt.srcElement:evt.target;_705=_709==(step>0?_708:_707);}if(_705){this._isNavigating=false;html.setSelectable(this.cell.getNode(this.rowIndex),false);return "content";}return false;}else{if(this.grid.edit.isEditing()&&this.cell){if(!step||typeof step!="number"){return false;}var dir=step>0?1:-1;var cc=this.grid.layout.cellCount;for(var cell,col=this.cell.index+dir;col>=0&&col<cc;col+=dir){cell=this.grid.getCell(col);if(cell.editable){this.cell=cell;this._blurFromEditableCell=true;return false;}}if((this.rowIndex>0||dir==1)&&(this.rowIndex<this.grid.rowCount||dir==-1)){this.rowIndex+=dir;for(col=dir>0?0:cc-1;col>=0&&col<cc;col+=dir){cell=this.grid.getCell(col);if(cell.editable){this.cell=cell;break;}}this._applyEditableCell();return "content";}}}return true;},_initNavigatableElems:function(){this._navElems=_6da._getTabNavigable(this.cell.getNode(this.rowIndex));},_onEditableCellKeyDown:function(e,_70a){var dk=keys,g=this.grid,edit=g.edit,_70b=false,_70c=true;switch(e.keyCode){case dk.ENTER:if(_70a&&edit.isEditing()){this._applyEditableCell();_70b=true;_6d9.stop(e);}case dk.SPACE:if(!_70a&&this._isNavigating){_70c=false;break;}if(_70a){if(!this.cell.editable&&this.cell.navigatable){this._initNavigatableElems();var _70d=this._navElems.lowest||this._navElems.first;if(_70d){this._isNavigating=true;html.setSelectable(this.cell.getNode(this.rowIndex),true);_6db.focus(_70d);_6d9.stop(e);this.currentArea("editableCell",true);break;}}if(!_70b&&!edit.isEditing()&&!g.pluginMgr.isFixedCell(this.cell)){edit.setEditCell(this.cell,this.rowIndex);}if(_70b){this.currentArea("content",true);}else{if(this.cell.editable&&g.canEdit()){this.currentArea("editableCell",true);}}}break;case dk.PAGE_UP:case dk.PAGE_DOWN:if(!_70a&&edit.isEditing()){_70c=false;}break;case dk.ESCAPE:if(!_70a){edit.cancel();this.currentArea("content",true);}}return _70c;},_onEditableCellMouseEvent:function(evt){if(evt.type=="click"){var cell=this.cell||evt.cell;if(cell&&!cell.editable&&cell.navigatable){this._initNavigatableElems();if(this._navElems.lowest||this._navElems.first){var _70e=has("ie")?evt.srcElement:evt.target;if(_70e!=cell.getNode(evt.rowIndex)){this._isNavigating=true;this.focusArea("editableCell",evt);html.setSelectable(cell.getNode(evt.rowIndex),true);_6db.focus(_70e);return false;}}}else{if(this.grid.singleClickEdit){this.currentArea("editableCell");return false;}}}return true;}});});},"dojox/grid/enhanced/plugins/_SelectionPreserver":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/connect","../../_SelectionPreserver"],function(_70f,lang,_710,_711){return _70f("dojox.grid.enhanced.plugins._SelectionPreserver",_711,{constructor:function(_712){var grid=this.grid;grid.onSelectedById=this.onSelectedById;this._oldClearData=grid._clearData;var self=this;grid._clearData=function(){self._updateMapping(!grid._noInternalMapping);self._trustSelection=[];self._oldClearData.apply(grid,arguments);};this._connects.push(_710.connect(_712,"selectRange",lang.hitch(this,"_updateMapping",true,true,false)),_710.connect(_712,"deselectRange",lang.hitch(this,"_updateMapping",true,false,false)),_710.connect(_712,"deselectAll",lang.hitch(this,"_updateMapping",true,false,true)));},destroy:function(){this.inherited(arguments);this.grid._clearData=this._oldClearData;},reset:function(){this.inherited(arguments);this._idMap=[];this._trustSelection=[];this._defaultSelected=false;},_reSelectById:function(item,_713){var s=this.selection,g=this.grid;if(item&&g._hasIdentity){var id=g.store.getIdentity(item);if(this._selectedById[id]===undefined){if(!this._trustSelection[_713]){s.selected[_713]=this._defaultSelected;}}else{s.selected[_713]=this._selectedById[id];}this._idMap.push(id);g.onSelectedById(id,_713,s.selected[_713]);}},_selectById:function(_714,_715){if(!this.inherited(arguments)){this._trustSelection[_715]=true;}},onSelectedById:function(id,_716,_717){},_updateMapping:function(_718,_719,_71a,from,to){var s=this.selection,g=this.grid,flag=0,_71b=0,i,id;for(i=g.rowCount-1;i>=0;--i){if(!g._by_idx[i]){++_71b;flag+=s.selected[i]?1:-1;}else{id=g._by_idx[i].idty;if(id&&(_718||this._selectedById[id]===undefined)){this._selectedById[id]=!!s.selected[i];}}}if(_71b){this._defaultSelected=flag>0;}if(!_71a&&from!==undefined&&to!==undefined){_71a=!g.usingPagination&&Math.abs(to-from+1)===g.rowCount;}if(_71a&&(!g.usingPagination||g.selectionMode==="single")){for(i=this._idMap.length-1;i>=0;--i){this._selectedById[this._idMap[i]]=_719;}}}});});},"dojox/grid/enhanced/plugins/Filter":function(){define(["dojo/_base/declare","dojo/_base/lang","../_Plugin","./Dialog","./filter/FilterLayer","./filter/FilterBar","./filter/FilterDefDialog","./filter/FilterStatusTip","./filter/ClearFilterConfirm","../../EnhancedGrid","dojo/i18n!../nls/Filter"],function(_71c,lang,_71d,_71e,_71f,_720,_721,_722,_723,_724,nls){var _725=_71c("dojox.grid.enhanced.plugins.Filter",_71d,{name:"filter",constructor:function(grid,args){this.grid=grid;this.nls=nls;args=this.args=lang.isObject(args)?args:{};if(typeof args.ruleCount!="number"||args.ruleCount<0){args.ruleCount=3;}var rc=this.ruleCountToConfirmClearFilter=args.ruleCountToConfirmClearFilter;if(rc===undefined){this.ruleCountToConfirmClearFilter=2;}this._wrapStore();var obj={"plugin":this};this.clearFilterDialog=new _71e({refNode:this.grid.domNode,title:this.nls["clearFilterDialogTitle"],content:new _723(obj)});this.filterDefDialog=new _721(obj);this.filterBar=new _720(obj);this.filterStatusTip=new _722(obj);grid.onFilterDefined=function(){};this.connect(grid.layer("filter"),"onFilterDefined",function(_726){grid.onFilterDefined(grid.getFilter(),grid.getFilterRelation());});},destroy:function(){this.inherited(arguments);try{this.grid.unwrap("filter");this.filterBar.destroyRecursive();this.filterBar=null;this.clearFilterDialog.destroyRecursive();this.clearFilterDialog=null;this.filterStatusTip.destroy();this.filterStatusTip=null;this.filterDefDialog.destroy();this.filterDefDialog=null;this.grid=null;this.args=null;}catch(e){console.warn("Filter.destroy() error:",e);}},_wrapStore:function(){var g=this.grid;var args=this.args;var _727=args.isServerSide?new _71f.ServerSideFilterLayer(args):new _71f.ClientSideFilterLayer({cacheSize:args.filterCacheSize,fetchAll:args.fetchAllOnFirstFilter,getter:this._clientFilterGetter});_71f.wrap(g,"_storeLayerFetch",_727);this.connect(g,"_onDelete",lang.hitch(_727,"invalidate"));},onSetStore:function(_728){this.filterDefDialog.clearFilter(true);},_clientFilterGetter:function(_729,cell,_72a){return cell.get(_72a,_729);}});_724.registerPlugin(_725);return _725;});},"dojox/grid/enhanced/_Plugin":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","../EnhancedGrid"],function(dojo,lang,_72b,_72c,_72d){return _72b("dojox.grid.enhanced._Plugin",null,{name:"plugin",grid:null,option:{},_connects:[],_subscribes:[],privates:{},constructor:function(_72e,_72f){this.grid=_72e;this.option=_72f;this._connects=[];this._subscribes=[];this.privates=lang.mixin({},dojox.grid.enhanced._Plugin.prototype);this.init();},init:function(){},onPreInit:function(){},onPostInit:function(){},onStartUp:function(){},connect:function(obj,_730,_731){var conn=_72d.connect(obj,_730,this,_731);this._connects.push(conn);return conn;},disconnect:function(_732){_72c.some(this._connects,function(conn,i,_733){if(conn==_732){_72d.disconnect(_732);_733.splice(i,1);return true;}return false;});},subscribe:function(_734,_735){var _736=_72d.subscribe(_734,this,_735);this._subscribes.push(_736);return _736;},unsubscribe:function(_737){_72c.some(this._subscribes,function(_738,i,_739){if(_738==_737){_72d.unsubscribe(_737);_739.splice(i,1);return true;}return false;});},onSetStore:function(_73a){},destroy:function(){_72c.forEach(this._connects,_72d.disconnect);_72c.forEach(this._subscribes,_72d.unsubscribe);delete this._connects;delete this._subscribes;delete this.option;delete this.privates;}});});},"dojox/grid/enhanced/plugins/Dialog":function(){define(["dojo/_base/declare","dojo/_base/html","dojo/window","dijit/Dialog"],function(_73b,html,win,_73c){return _73b("dojox.grid.enhanced.plugins.Dialog",_73c,{refNode:null,_position:function(){if(this.refNode&&!this._relativePosition){var _73d=html.position(html.byId(this.refNode)),_73e=html.position(this.domNode),_73f=win.getBox();if(_73e.w&&_73e.h){if(_73d.x<0){_73d.x=0;}if(_73d.x+_73d.w>_73f.w){_73d.w=_73f.w-_73d.x;}if(_73d.y<0){_73d.y=0;}if(_73d.y+_73d.h>_73f.h){_73d.h=_73f.h-_73d.y;}_73d.x=_73d.x+_73d.w/2-_73e.w/2;_73d.y=_73d.y+_73d.h/2-_73e.h/2;if(_73d.x>=0&&_73d.x+_73e.w<=_73f.w&&_73d.y>=0&&_73d.y+_73e.h<=_73f.h){this._relativePosition=_73d;}}}this.inherited(arguments);}});});},"dijit/Dialog":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","./layout/utils","dojo/text!./templates/Dialog.html","dojo/i18n!./nls/common"],function(_740,_741,_742,_743,_744,dom,_745,_746,_747,fx,i18n,keys,lang,on,_748,has,_749,_74a,_74b,_74c,_74d,_74e,_74f,_750,_751,_752,_753,_754,_755,_756){var _757=new _744();_757.resolve(true);var _758=_743("dijit._DialogBase"+(has("dojo-bidi")?"_NoBidi":""),[_74f,_751,_752,_750],{templateString:_756,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:false,duration:_74d.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,draggable:true,_setDraggableAttr:function(val){this._set("draggable",val);},maxRatio:0.9,closable:true,_setClosableAttr:function(val){this.closeButtonNode.style.display=val?"":"none";this._set("closable",val);},postMixInProperties:function(){var _759=i18n.getLocalization("dijit","common");lang.mixin(this,_759);this.inherited(arguments);},postCreate:function(){_747.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);_742.after(this,"onExecute",lang.hitch(this,"hide"),true);_742.after(this,"onCancel",lang.hitch(this,"hide"),true);this._modalconnects=[];},onLoad:function(){this.resize();this._position();if(this.autofocus&&_75a.isTop(this)){this._getFocusItems(this.domNode);_74c.focus(this._firstFocusItem);}this.inherited(arguments);},focus:function(){this._getFocusItems(this.domNode);_74c.focus(this._firstFocusItem);},_endDrag:function(){var _75b=_746.position(this.domNode),_75c=_749.getBox(this.ownerDocument);_75b.y=Math.min(Math.max(_75b.y,0),(_75c.h-_75b.h));_75b.x=Math.min(Math.max(_75b.x,0),(_75c.w-_75b.w));this._relativePosition=_75b;this._position();},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=new ((has("ie")==6)?_74b:_74a)(node,{handle:this.titleBar});_742.after(this._moveable,"onMoveStop",lang.hitch(this,"_endDrag"),true);}else{_745.add(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":_741.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" "),_onKeyDown:lang.hitch(this,"_onKey"),ownerDocument:this.ownerDocument};},_size:function(){this.resize();},_position:function(){if(!_745.contains(this.ownerDocumentBody,"dojoMove")){var node=this.domNode,_75d=_749.getBox(this.ownerDocument),p=this._relativePosition,bb=p?null:_746.position(node),l=Math.floor(_75d.l+(p?p.x:(_75d.w-bb.w)/2)),t=Math.floor(_75d.t+(p?p.y:(_75d.h-bb.h)/2));_747.set(node,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.keyCode==keys.TAB){this._getFocusItems(this.domNode);var node=evt.target;if(this._firstFocusItem==this._lastFocusItem){evt.stopPropagation();evt.preventDefault();}else{if(node==this._firstFocusItem&&evt.shiftKey){_74c.focus(this._lastFocusItem);evt.stopPropagation();evt.preventDefault();}else{if(node==this._lastFocusItem&&!evt.shiftKey){_74c.focus(this._firstFocusItem);evt.stopPropagation();evt.preventDefault();}}}}else{if(this.closable&&evt.keyCode==keys.ESCAPE){this.onCancel();evt.stopPropagation();evt.preventDefault();}}},show:function(){if(this.open){return _757.promise;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();_75a.hide(this);}var win=_749.get(this.ownerDocument);this._modalconnects.push(on(win,"scroll",lang.hitch(this,"resize",null)));this._modalconnects.push(on(this.domNode,"keydown",lang.hitch(this,"_onKey")));_747.set(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this.resize();this._position();var _75e;this._fadeInDeferred=new _744(lang.hitch(this,function(){_75e.stop();delete this._fadeInDeferred;}));var _75f=this._fadeInDeferred.promise;_75e=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){_75a.show(this,this.underlayAttrs);}),onEnd:lang.hitch(this,function(){if(this.autofocus&&_75a.isTop(this)){this._getFocusItems(this.domNode);_74c.focus(this._firstFocusItem);}this._fadeInDeferred.resolve(true);delete this._fadeInDeferred;})}).play();return _75f;},hide:function(){if(!this._alreadyInitialized||!this.open){return _757.promise;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _760;this._fadeOutDeferred=new _744(lang.hitch(this,function(){_760.stop();delete this._fadeOutDeferred;}));this._fadeOutDeferred.then(lang.hitch(this,"onHide"));var _761=this._fadeOutDeferred.promise;_760=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){this.domNode.style.display="none";_75a.hide(this);this._fadeOutDeferred.resolve(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}var h;while(h=this._modalconnects.pop()){h.remove();}if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return _761;},resize:function(dim){if(this.domNode.style.display!="none"){this._checkIfSingleChild();if(!dim){if(this._shrunk){if(this._singleChild){if(typeof this._singleChildOriginalStyle!="undefined"){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;delete this._singleChildOriginalStyle;}}_741.forEach([this.domNode,this.containerNode,this.titleBar],function(node){_747.set(node,{position:"static",width:"auto",height:"auto"});});this.domNode.style.position="absolute";}var _762=_749.getBox(this.ownerDocument);_762.w*=this.maxRatio;_762.h*=this.maxRatio;var bb=_746.position(this.domNode);if(bb.w>=_762.w||bb.h>=_762.h){dim={w:Math.min(bb.w,_762.w),h:Math.min(bb.h,_762.h)};this._shrunk=true;}else{this._shrunk=false;}}if(dim){_746.setMarginBox(this.domNode,dim);var _763=_755.marginBox2contentBox(this.domNode,dim),_764={domNode:this.containerNode,region:"center"};_755.layoutChildren(this.domNode,_763,[{domNode:this.titleBar,region:"top"},_764]);if(this._singleChild){var cb=_755.marginBox2contentBox(this.containerNode,_764);this._singleChild.resize({w:cb.w,h:cb.h});}else{this.containerNode.style.overflow="auto";this._layoutChildren();}}else{this._layoutChildren();}if(!has("touch")&&!dim){this._position();}}},_layoutChildren:function(){_741.forEach(this.getChildren(),function(_765){if(_765.resize){_765.resize();}});},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}var h;while(h=this._modalconnects.pop()){h.remove();}_75a.hide(this);this.inherited(arguments);}});if(has("dojo-bidi")){_758=_743("dijit._DialogBase",_758,{_setTitleAttr:function(_766){this._set("title",_766);this.titleNode.innerHTML=_766;this.applyTextDir(this.titleNode);},_setTextDirAttr:function(_767){if(this._created&&this.textDir!=_767){this._set("textDir",_767);this.set("title",this.title);}}});}var _768=_743("dijit.Dialog",[_754,_758],{});_768._DialogBase=_758;var _75a=_768._DialogLevelManager={_beginZIndex:950,show:function(_769,_76a){ds[ds.length-1].focus=_74c.curNode;var _76b=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_768._DialogLevelManager._beginZIndex;_747.set(_769.domNode,"zIndex",_76b);_753.show(_76a,_76b-1);ds.push({dialog:_769,underlayAttrs:_76a,zIndex:_76b});},hide:function(_76c){if(ds[ds.length-1].dialog==_76c){ds.pop();var pd=ds[ds.length-1];if(ds.length==1){_753.hide();}else{_753.show(pd.underlayAttrs,pd.zIndex-1);}if(_76c.refocus){var _76d=pd.focus;if(pd.dialog&&(!_76d||!dom.isDescendant(_76d,pd.dialog.domNode))){pd.dialog._getFocusItems(pd.dialog.domNode);_76d=pd.dialog._firstFocusItem;}if(_76d){try{_76d.focus();}catch(e){}}}}else{var idx=_741.indexOf(_741.map(ds,function(elem){return elem.dialog;}),_76c);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_76e){return ds[ds.length-1].dialog==_76e;}};var ds=_768._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];_74c.watch("curNode",function(attr,_76f,node){var _770=ds[ds.length-1].dialog;if(node&&_770&&!_770._fadeOutDeferred&&node.ownerDocument==_770.ownerDocument){do{if(node==_770.domNode||_745.contains(node,"dijitPopup")){return;}}while(node=node.parentNode);_770.focus();}});if(has("dijit-legacy-requires")){_748(0,function(){var _771=["dijit/TooltipDialog"];_740(_771);});}return _768;});},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(_772,_773){var _774=_773.prototype.onMove;return _772("dojo.dnd.TimedMoveable",_773,{timeout:40,constructor:function(node,_775){if(!_775){_775={};}if(_775.timeout&&typeof _775.timeout=="number"&&_775.timeout>=0){this.timeout=_775.timeout;}},onMoveStop:function(_776){if(_776._timer){clearTimeout(_776._timer);_774.call(this,_776,_776._leftTop);}_773.prototype.onMoveStop.apply(this,arguments);},onMove:function(_777,_778){_777._leftTop=_778;if(!_777._timer){var _779=this;_777._timer=setTimeout(function(){_777._timer=null;_774.call(_779,_777,_777._leftTop);},this.timeout);}}});});},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_77a,_77b,lang,_77c,_77d){var _77e={};_77a.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_77e[name]=_77c[name];});lang.mixin(_77e,{defaultDuration:_77b["defaultDuration"]||200});lang.mixin(_77d,_77e);return _77d;});},"dijit/form/_FormMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(_77f,_780,_781,lang,on,_782){return _780("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_783){var res=[];_77f.forEach(_783||this.getChildren(),function(_784){if("value" in _784){res.push(_784);}else{res=res.concat(this._getDescendantFormWidgets(_784.getChildren()));}},this);return res;},reset:function(){_77f.forEach(this._getDescendantFormWidgets(),function(_785){if(_785.reset){_785.reset();}});},validate:function(){var _786=false;return _77f.every(_77f.map(this._getDescendantFormWidgets(),function(_787){_787._hasBeenBlurred=true;var _788=_787.disabled||!_787.validate||_787.validate();if(!_788&&!_786){_782.scrollIntoView(_787.containerNode||_787.domNode);_787.focus();_786=true;}return _788;}),function(item){return item;});},setValues:function(val){_781.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};_77f.forEach(this._getDescendantFormWidgets(),function(_789){if(!_789.name){return;}var _78a=map[_789.name]||(map[_789.name]=[]);_78a.push(_789);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _78b=map[name],_78c=lang.getObject(name,false,obj);if(_78c===undefined){continue;}_78c=[].concat(_78c);if(typeof _78b[0].checked=="boolean"){_77f.forEach(_78b,function(w){w.set("value",_77f.indexOf(_78c,w._get("value"))!=-1);});}else{if(_78b[0].multiple){_78b[0].set("value",_78c);}else{_77f.forEach(_78b,function(w,i){w.set("value",_78c[i]);});}}}},getValues:function(){_781.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};_77f.forEach(this._getDescendantFormWidgets(),function(_78d){var name=_78d.name;if(!name||_78d.disabled){return;}var _78e=_78d.get("value");if(typeof _78d.checked=="boolean"){if(/Radio/.test(_78d.declaredClass)){if(_78e!==false){lang.setObject(name,_78e,obj);}else{_78e=lang.getObject(name,false,obj);if(_78e===undefined){lang.setObject(name,null,obj);}}}else{var ary=lang.getObject(name,false,obj);if(!ary){ary=[];lang.setObject(name,ary,obj);}if(_78e!==false){ary.push(_78e);}}}else{var prev=lang.getObject(name,false,obj);if(typeof prev!="undefined"){if(lang.isArray(prev)){prev.push(_78e);}else{lang.setObject(name,[prev,_78e],obj);}}else{lang.setObject(name,_78e,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(){},_getState:function(){var _78f=_77f.map(this._descendants,function(w){return w.get("state")||"";});return _77f.indexOf(_78f,"Error")>=0?"Error":_77f.indexOf(_78f,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){},connectChildren:function(_790){this._descendants=this._getDescendantFormWidgets();_77f.forEach(this._descendants,function(_791){if(!_791._started){_791.startup();}});if(!_790){this._onChildChange();}},_onChildChange:function(attr){if(!attr||attr=="state"||attr=="disabled"){this._set("state",this._getState());}if(!attr||attr=="value"||attr=="disabled"||attr=="checked"){if(this._onChangeDelayTimer){this._onChangeDelayTimer.remove();}this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"));},10);}},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var self=this;this.own(on(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(evt){if(evt.target==self.domNode){return;}self._onChildChange(evt.type.replace("attrmodified-",""));}));this.watch("state",function(attr,_792,_793){this.onValidStateChange(_793=="");});},destroy:function(){this.inherited(arguments);}});});},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(_794,a11y){return _794("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _795=a11y._getTabNavigable(this.containerNode);this._firstFocusItem=_795.lowest||_795.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_795.last||_795.highest||this._firstFocusItem;}});});},"dijit/DialogUnderlay":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe","./Viewport","./main"],function(_796,lang,_797,_798,_799,on,_79a,_79b,_79c,_79d,_79e,_79f){var _7a0=_796("dijit.DialogUnderlay",[_79b,_79c],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(id){_798.set(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_7a1){this.node.className="dijitDialogUnderlay "+_7a1;this._set("class",_7a1);},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));this.inherited(arguments);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _7a2=_79a.getBox(this.ownerDocument);os.top=_7a2.t+"px";os.left=_7a2.l+"px";is.width=_7a2.w+"px";is.height=_7a2.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.open=true;this.layout();this.bgIframe=new _79d(this.domNode);var win=_79a.get(this.ownerDocument);this._modalConnects=[_79e.on("resize",lang.hitch(this,"layout")),on(win,"scroll",lang.hitch(this,"layout"))];},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";while(this._modalConnects.length){(this._modalConnects.pop()).remove();}this.open=false;},destroy:function(){while(this._modalConnects.length){(this._modalConnects.pop()).remove();}this.inherited(arguments);},_onKeyDown:function(){}});_7a0.show=function(_7a3,_7a4){var _7a5=_7a0._singleton;if(!_7a5||_7a5._destroyed){_7a5=_79f._underlay=_7a0._singleton=new _7a0(_7a3);}else{if(_7a3){_7a5.set(_7a3);}}_799.set(_7a5.domNode,"zIndex",_7a4);if(!_7a5.open){_7a5.show();}};_7a0.hide=function(){var _7a6=_7a0._singleton;if(_7a6&&!_7a6._destroyed){_7a6.hide();}};return _7a0;});},"dijit/BackgroundIframe":function(){define(["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(_7a7,_7a8,_7a9,_7aa,_7ab,lang,on,has){has.add("config-bgIframe",!has("touch"));var _7ac=new function(){var _7ad=[];this.pop=function(){var _7ae;if(_7ad.length){_7ae=_7ad.pop();_7ae.style.display="";}else{if(has("ie")<9){var burl=_7a9["dojoBlankHtmlUrl"]||_7a7.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_7ae=document.createElement(html);}else{_7ae=_7aa.create("iframe");_7ae.src="javascript:\"\"";_7ae.className="dijitBackgroundIframe";_7ae.setAttribute("role","presentation");_7ab.set(_7ae,"opacity",0.1);}_7ae.tabIndex=-1;}return _7ae;};this.push=function(_7af){_7af.style.display="none";_7ad.push(_7af);};}();_7a8.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("config-bgIframe")){var _7b0=(this.iframe=_7ac.pop());node.appendChild(_7b0);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,"resize",node));}else{_7ab.set(_7b0,{width:"100%",height:"100%"});}}};lang.extend(_7a8.BackgroundIframe,{resize:function(node){if(this.iframe){_7ab.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){_7ac.push(this.iframe);delete this.iframe;}}});return _7a8.BackgroundIframe;});},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(_7b1,on,_7b2,has,_7b3){var _7b4=new _7b1();var _7b5;_7b2(function(){var _7b6=_7b3.getBox();_7b4._rlh=on(window,"resize",function(){var _7b7=_7b3.getBox();if(_7b6.h==_7b7.h&&_7b6.w==_7b7.w){return;}_7b6=_7b7;_7b4.emit("resize");});if(has("ie")==8){var _7b8=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_7b8){_7b8=screen.deviceXDPI;_7b4.emit("resize");}},500);}if(has("ios")){on(document,"focusin",function(evt){_7b5=evt.target;});on(document,"focusout",function(evt){_7b5=null;});}});_7b4.getEffectiveBox=function(doc){var box=_7b3.getBox(doc);var tag=_7b5&&_7b5.tagName&&_7b5.tagName.toLowerCase();if(has("ios")&&_7b5&&!_7b5.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_7b5.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var rect=_7b5.getBoundingClientRect();box.h=Math.max(box.h,rect.top+rect.height);}return box;};return _7b4;});},"dijit/layout/ContentPane":function(){define(["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_7b9,lang,_7ba,_7bb,_7bc,_7bd,html,_7be,_7bf,_7c0,_7c1,dom,_7c2,_7c3,xhr,i18n,when){return _7c0("dijit.layout.ContentPane",[_7ba,_7bb,_7bc],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_7b9._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,markupFactory:function(_7c4,node,ctor){var self=new ctor(_7c4,node);return !self.href&&self._contentSetter&&self._contentSetter.parseDeferred&&!self._contentSetter.parseDeferred.isFulfilled()?self._contentSetter.parseDeferred.then(function(){return self;}):self;},create:function(_7c5,_7c6){if((!_7c5||!_7c5.template)&&_7c6&&!("href" in _7c5)&&!("content" in _7c5)){_7c6=dom.byId(_7c6);var df=_7c6.ownerDocument.createDocumentFragment();while(_7c6.firstChild){df.appendChild(_7c6.firstChild);}_7c5=lang.delegate(_7c5,{content:df});}this.inherited(arguments,[_7c5,_7c6]);},postMixInProperties:function(){this.inherited(arguments);var _7c7=i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_7bd.substitute(this.loadingMessage,_7c7);this.errorMessage=_7bd.substitute(this.errorMessage,_7c7);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.removeAttribute("title");},startup:function(){this.inherited(arguments);if(this._contentSetter){_7bf.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){_7bf.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){_7bf.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){_7b9.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new _7c1(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){_7b9.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new _7c1(lang.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(lang.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_7c8){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _7c1(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _7c9={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(lang.isObject(this.ioArgs)){lang.mixin(_7c9,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_7c9)),_7ca;hand.then(function(html){_7ca=html;try{self._isDownloaded=true;return self._setContent(html,false);}catch(err){self._onError("Content",err);}},function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;}).then(function(){self.onDownloadEnd();delete self._xhrDfd;return _7ca;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(_7cb){if(this.isLoaded){this._onUnloadHandler();}var _7cc=this._contentSetter;_7bf.forEach(this.getChildren(),function(_7cd){if(_7cd.destroyRecursive){_7cd.destroyRecursive(_7cb);}else{if(_7cd.destroy){_7cd.destroy(_7cb);}}_7cd._destroyed=true;});if(_7cc){_7bf.forEach(_7cc.parseResults,function(_7ce){if(!_7ce._destroyed){if(_7ce.destroyRecursive){_7ce.destroyRecursive(_7cb);}else{if(_7ce.destroy){_7ce.destroy(_7cb);}}_7ce._destroyed=true;}});delete _7cc.parseResults;}if(!_7cb){_7c3.empty(this.containerNode);}delete this._singleChild;},_setContent:function(cont,_7cf){this.destroyDescendants();var _7d0=this._contentSetter;if(!(_7d0&&_7d0 instanceof html._ContentSetter)){_7d0=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _7d1=this.onContentError(e);try{this.containerNode.innerHTML=_7d1;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _7d2=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_7d0.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_7d2);var self=this;return when(p&&p.then?p:_7d0.parseDeferred,function(){delete self._contentSetterParams;if(!_7cf){if(self._started){self._startChildren();self._scheduleLayout();}self._onLoadHandler(cont);}});},_onError:function(type,err,_7d3){this.onLoadDeferred.reject(err);var _7d4=this["on"+type+"Error"].call(this,err);if(_7d3){console.error(_7d3,err);}else{if(_7d4){this._setContent(_7d4,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_7d5,_7d6,_7d7,_7d8){return _7d6("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_7d9,_7da){var _7db=this.containerNode;if(_7da>0){_7db=_7db.firstChild;while(_7da>0){if(_7db.nodeType==1){_7da--;}_7db=_7db.nextSibling;}if(_7db){_7da="before";}else{_7db=this.containerNode;_7da="last";}}_7d7.place(_7d9.domNode,_7db,_7da);if(this._started&&!_7d9._started){_7d9.startup();}},removeChild:function(_7dc){if(typeof _7dc=="number"){_7dc=this.getChildren()[_7dc];}if(_7dc){var node=_7dc.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_7dd,dir){_7d8.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var _7de=this.getChildren(),idx=_7d5.indexOf(_7de,_7dd);return _7de[idx+dir];},getIndexOfChild:function(_7df){return _7d5.indexOf(this.getChildren(),_7df);}});});},"dijit/layout/_ContentPaneResizeMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","../registry","../Viewport","./utils"],function(_7e0,_7e1,_7e2,_7e3,_7e4,lang,_7e5,_7e6,_7e7,_7e8){return _7e1("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _7e9=this.getParent();this._childOfLayoutWidget=_7e9&&_7e9.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_7e7.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){if(!this.doLayout){return;}var _7ea=[],_7eb=false;_7e5("> *",this.containerNode).some(function(node){var _7ec=_7e6.byNode(node);if(_7ec&&_7ec.resize){_7ea.push(_7ec);}else{if(!/script|link|style/i.test(node.nodeName)&&node.offsetHeight){_7eb=true;}}});this._singleChild=_7ea.length==1&&!_7eb?_7ea[0]:null;_7e2.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_7ed,_7ee){this._resizeCalled=true;this._scheduleLayout(_7ed,_7ee);},_scheduleLayout:function(_7ef,_7f0){if(this._isShown()){this._layout(_7ef,_7f0);}else{this._needLayout=true;this._changeSize=_7ef;this._resultSize=_7f0;}},_layout:function(_7f1,_7f2){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_7f1){_7e3.setMarginBox(this.domNode,_7f1);}var cn=this.containerNode;if(cn===this.domNode){var mb=_7f2||{};lang.mixin(mb,_7f1||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_7e3.getMarginBox(cn),mb);}this._contentBox=_7e8.marginBox2contentBox(cn,mb);}else{this._contentBox=_7e3.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_7e3.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{var _7f3=this.getChildren(),_7f4,i=0;while(_7f4=_7f3[i++]){if(_7f4.resize){_7f4.resize();}}}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_7f5=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_7e2.contains(node,"dijitHidden")&&_7f5&&_7f5.style&&(_7f5.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(_7f6,_7f7,_7f8,_7f9,lang){function _7fa(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_7fb,dim){var _7fc=_7fb.resize?_7fb.resize(dim):_7f8.setMarginBox(_7fb.domNode,dim);if(_7fc){lang.mixin(_7fb,_7fc);}else{lang.mixin(_7fb,_7f8.getMarginBox(_7fb.domNode));lang.mixin(_7fb,dim);}};var _7fd={marginBox2contentBox:function(node,mb){var cs=_7f9.getComputedStyle(node);var me=_7f8.getMarginExtents(node,cs);var pb=_7f8.getPadBorderExtents(node,cs);return {l:_7f9.toPixelValue(node,cs.paddingLeft),t:_7f9.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};},layoutChildren:function(_7fe,dim,_7ff,_800,_801){dim=lang.mixin({},dim);_7f7.add(_7fe,"dijitLayoutContainer");_7ff=_7f6.filter(_7ff,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(_7f6.filter(_7ff,function(item){return item.region=="center"||item.layoutAlign=="client";}));_7f6.forEach(_7ff,function(_802){var elm=_802.domNode,pos=(_802.region||_802.layoutAlign);if(!pos){throw new Error("No region setting for "+_802.id);}var _803=elm.style;_803.left=dim.l+"px";_803.top=dim.t+"px";_803.position="absolute";_7f7.add(elm,"dijitAlign"+_7fa(pos));var _804={};if(_800&&_800==_802.id){_804[_802.region=="top"||_802.region=="bottom"?"h":"w"]=_801;}if(pos=="leading"){pos=_802.isLeftToRight()?"left":"right";}if(pos=="trailing"){pos=_802.isLeftToRight()?"right":"left";}if(pos=="top"||pos=="bottom"){_804.w=dim.w;size(_802,_804);dim.h-=_802.h;if(pos=="top"){dim.t+=_802.h;}else{_803.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_804.h=dim.h;size(_802,_804);dim.w-=_802.w;if(pos=="left"){dim.l+=_802.w;}else{_803.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_802,dim);}}}});}};lang.setObject("dijit.layout.utils",_7fd);return _7fd;});},"dojo/html":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_805,lang,_806,_807,dom,_808,_809){var html={};lang.setObject("dojo.html",html);var _80a=0;html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};html._emptyNode=_808.empty;html._setNodeContent=function(node,cont){_808.empty(node);if(cont){if(typeof cont=="string"){cont=_808.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _80b=cont.length,i=0;i<cont.length;i=_80b==cont.length?i+1:0){_808.place(cont[i],node,"last");}}else{_808.place(cont,node,"last");}}return node;};html._ContentSetter=_807("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_805._scopeName,startup:true,constructor:function(_80c,node){lang.mixin(this,_80c||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_80a++].join("_");}},set:function(cont,_80d){if(undefined!==cont){this.content=cont;}if(_80d){this._mixin(_80d);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _80e=this.onContentError(e);try{node.innerHTML=_80e;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_806.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_808.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var _80f=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_80f){cont=_80f[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_810){var _811={},key;for(key in _810){if(key in _811){continue;}this[key]=_810[key];}},_parse:function(){var _812=this.node;try{var _813={};_806.forEach(["dir","lang","textDir"],function(name){if(this[name]){_813[name]=this[name];}},this);var self=this;this.parseDeferred=_809.parse({rootNode:_812,noStart:!this.startup,inherited:_813,scope:this.parserScope}).then(function(_814){return self.parseResults=_814;},function(e){self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_815){var _816=this["on"+type+"Error"].call(this,err);if(_815){console.error(_815,err);}else{if(_816){html._setNodeContent(this.node,_816,true);}}}});html.set=function(node,cont,_817){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_817){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_817,{content:cont,node:node}));return op.set();}};return html;});},"dojo/parser":function(){define(["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_818,dojo,_819,_81a,_81b,dom,_81c,_81d,_81e,all,_81f,_820,has,_821,don,_822){new Date("X");function _823(text){return eval("("+text+")");};var _824=0;_81e.after(_819,"extend",function(){_824++;},true);function _825(ctor){var map=ctor._nameCaseMap,_826=ctor.prototype;if(!map||map._extendCnt<_824){map=ctor._nameCaseMap={};for(var name in _826){if(name.charAt(0)==="_"){continue;}map[name.toLowerCase()]=name;}map._extendCnt=_824;}return map;};var _827={};function _828(_829,_82a){var ts=_829.join();if(!_827[ts]){var _82b=[];for(var i=0,l=_829.length;i<l;i++){var t=_829[i];_82b[_82b.length]=(_827[t]=_827[t]||(_819.getObject(t)||(~t.indexOf("/")&&(_82a?_82a(t):_818(t)))));}var ctor=_82b.shift();_827[ts]=_82b.length?(ctor.createSubclass?ctor.createSubclass(_82b):ctor.extend.apply(ctor,_82b)):ctor;}return _827[ts];};var _82c={_clearCache:function(){_824++;_827={};},_functionFromScript:function(_82d,_82e){var _82f="",_830="",_831=(_82d.getAttribute(_82e+"args")||_82d.getAttribute("args")),_832=_82d.getAttribute("with");var _833=(_831||"").split(/\s*,\s*/);if(_832&&_832.length){_81a.forEach(_832.split(/\s*,\s*/),function(part){_82f+="with("+part+"){";_830+="}";});}return new Function(_833,_82f+_82d.innerHTML+_830);},instantiate:function(_834,_835,_836){_835=_835||{};_836=_836||{};var _837=(_836.scope||dojo._scopeName)+"Type",_838="data-"+(_836.scope||dojo._scopeName)+"-",_839=_838+"type",_83a=_838+"mixins";var list=[];_81a.forEach(_834,function(node){var type=_837 in _835?_835[_837]:node.getAttribute(_839)||node.getAttribute(_837);if(type){var _83b=node.getAttribute(_83a),_83c=_83b?[type].concat(_83b.split(/\s*,\s*/)):[type];list.push({node:node,types:_83c});}});return this._instantiate(list,_835,_836);},_instantiate:function(_83d,_83e,_83f,_840){var _841=_81a.map(_83d,function(obj){var ctor=obj.ctor||_828(obj.types,_83f.contextRequire);if(!ctor){throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");}return this.construct(ctor,obj.node,_83e,_83f,obj.scripts,obj.inherited);},this);function _842(_843){if(!_83e._started&&!_83f.noStart){_81a.forEach(_843,function(_844){if(typeof _844.startup==="function"&&!_844._started){_844.startup();}});}return _843;};if(_840){return all(_841).then(_842);}else{return _842(_841);}},construct:function(ctor,node,_845,_846,_847,_848){var _849=ctor&&ctor.prototype;_846=_846||{};var _84a={};if(_846.defaults){_819.mixin(_84a,_846.defaults);}if(_848){_819.mixin(_84a,_848);}var _84b;if(has("dom-attributes-explicit")){_84b=node.attributes;}else{if(has("dom-attributes-specified-flag")){_84b=_81a.filter(node.attributes,function(a){return a.specified;});}else{var _84c=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),_84d=_84c.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");_84b=_81a.map(_84d.split(/\s+/),function(name){var _84e=name.toLowerCase();return {name:name,value:(node.nodeName=="LI"&&name=="value")||_84e=="enctype"?node.getAttribute(_84e):node.getAttributeNode(_84e).value};});}}var _84f=_846.scope||dojo._scopeName,_850="data-"+_84f+"-",hash={};if(_84f!=="dojo"){hash[_850+"props"]="data-dojo-props";hash[_850+"type"]="data-dojo-type";hash[_850+"mixins"]="data-dojo-mixins";hash[_84f+"type"]="dojoType";hash[_850+"id"]="data-dojo-id";}var i=0,item,_851=[],_852,_853;while(item=_84b[i++]){var name=item.name,_854=name.toLowerCase(),_855=item.value;switch(hash[_854]||_854){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":_853=_855;break;case "data-dojo-id":case "jsid":_852=_855;break;case "data-dojo-attach-point":case "dojoattachpoint":_84a.dojoAttachPoint=_855;break;case "data-dojo-attach-event":case "dojoattachevent":_84a.dojoAttachEvent=_855;break;case "class":_84a["class"]=node.className;break;case "style":_84a["style"]=node.style&&node.style.cssText;break;default:if(!(name in _849)){var map=_825(ctor);name=map[_854]||name;}if(name in _849){switch(typeof _849[name]){case "string":_84a[name]=_855;break;case "number":_84a[name]=_855.length?Number(_855):NaN;break;case "boolean":_84a[name]=_855.toLowerCase()!="false";break;case "function":if(_855===""||_855.search(/[^\w\.]+/i)!=-1){_84a[name]=new Function(_855);}else{_84a[name]=_819.getObject(_855,false)||new Function(_855);}_851.push(name);break;default:var pVal=_849[name];_84a[name]=(pVal&&"length" in pVal)?(_855?_855.split(/\s*,\s*/):[]):(pVal instanceof Date)?(_855==""?new Date(""):_855=="now"?new Date():_81f.fromISOString(_855)):(pVal instanceof _81d)?(dojo.baseUrl+_855):_823(_855);}}else{_84a[name]=_855;}}}for(var j=0;j<_851.length;j++){var _856=_851[j].toLowerCase();node.removeAttribute(_856);node[_856]=null;}if(_853){try{_853=_823.call(_846.propsThis,"{"+_853+"}");_819.mixin(_84a,_853);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_853+"'");}}_819.mixin(_84a,_845);if(!_847){_847=(ctor&&(ctor._noScript||_849._noScript)?[]:_821("> script[type^='dojo/']",node));}var _857=[],_858=[],_859=[],ons=[];if(_847){for(i=0;i<_847.length;i++){var _85a=_847[i];node.removeChild(_85a);var _85b=(_85a.getAttribute(_850+"event")||_85a.getAttribute("event")),prop=_85a.getAttribute(_850+"prop"),_85c=_85a.getAttribute(_850+"method"),_85d=_85a.getAttribute(_850+"advice"),_85e=_85a.getAttribute("type"),nf=this._functionFromScript(_85a,_850);if(_85b){if(_85e=="dojo/connect"){_857.push({method:_85b,func:nf});}else{if(_85e=="dojo/on"){ons.push({event:_85b,func:nf});}else{_84a[_85b]=nf;}}}else{if(_85e=="dojo/aspect"){_857.push({method:_85c,advice:_85d,func:nf});}else{if(_85e=="dojo/watch"){_859.push({prop:prop,func:nf});}else{_858.push(nf);}}}}}var _85f=ctor.markupFactory||_849.markupFactory;var _860=_85f?_85f(_84a,node,ctor):new ctor(_84a,node);function _861(_862){if(_852){_819.setObject(_852,_862);}for(i=0;i<_857.length;i++){_81e[_857[i].advice||"after"](_862,_857[i].method,_819.hitch(_862,_857[i].func),true);}for(i=0;i<_858.length;i++){_858[i].call(_862);}for(i=0;i<_859.length;i++){_862.watch(_859[i].prop,_859[i].func);}for(i=0;i<ons.length;i++){don(_862,ons[i].event,ons[i].func);}return _862;};if(_860.then){return _860.then(_861);}else{return _861(_860);}},scan:function(root,_863){var list=[],mids=[],_864={};var _865=(_863.scope||dojo._scopeName)+"Type",_866="data-"+(_863.scope||dojo._scopeName)+"-",_867=_866+"type",_868=_866+"textdir",_869=_866+"mixins";var node=root.firstChild;var _86a=_863.inherited;if(!_86a){function _86b(node,attr){return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_86b(node.parentNode,attr));};_86a={dir:_86b(root,"dir"),lang:_86b(root,"lang"),textDir:_86b(root,_868)};for(var key in _86a){if(!_86a[key]){delete _86a[key];}}}var _86c={inherited:_86a};var _86d;var _86e;function _86f(_870){if(!_870.inherited){_870.inherited={};var node=_870.node,_871=_86f(_870.parent);var _872={dir:node.getAttribute("dir")||_871.dir,lang:node.getAttribute("lang")||_871.lang,textDir:node.getAttribute(_868)||_871.textDir};for(var key in _872){if(_872[key]){_870.inherited[key]=_872[key];}}}return _870.inherited;};while(true){if(!node){if(!_86c||!_86c.node){break;}node=_86c.node.nextSibling;_86e=false;_86c=_86c.parent;_86d=_86c.scripts;continue;}if(node.nodeType!=1){node=node.nextSibling;continue;}if(_86d&&node.nodeName.toLowerCase()=="script"){type=node.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_86d.push(node);}node=node.nextSibling;continue;}if(_86e){node=node.nextSibling;continue;}var type=node.getAttribute(_867)||node.getAttribute(_865);var _873=node.firstChild;if(!type&&(!_873||(_873.nodeType==3&&!_873.nextSibling))){node=node.nextSibling;continue;}var _874;var ctor=null;if(type){var _875=node.getAttribute(_869),_876=_875?[type].concat(_875.split(/\s*,\s*/)):[type];try{ctor=_828(_876,_863.contextRequire);}catch(e){}if(!ctor){_81a.forEach(_876,function(t){if(~t.indexOf("/")&&!_864[t]){_864[t]=true;mids[mids.length]=t;}});}var _877=ctor&&!ctor.prototype._noScript?[]:null;_874={types:_876,ctor:ctor,parent:_86c,node:node,scripts:_877};_874.inherited=_86f(_874);list.push(_874);}else{_874={node:node,scripts:_86d,parent:_86c};}_86d=_877;_86e=node.stopParser||(ctor&&ctor.prototype.stopParser&&!(_863.template));_86c=_874;node=_873;}var d=new _820();if(mids.length){if(has("dojo-debug-messages")){console.warn("WARNING: Modules being Auto-Required: "+mids.join(", "));}var r=_863.contextRequire||_818;r(mids,function(){d.resolve(_81a.filter(list,function(_878){if(!_878.ctor){try{_878.ctor=_828(_878.types,_863.contextRequire);}catch(e){}}var _879=_878.parent;while(_879&&!_879.types){_879=_879.parent;}var _87a=_878.ctor&&_878.ctor.prototype;_878.instantiateChildren=!(_87a&&_87a.stopParser&&!(_863.template));_878.instantiate=!_879||(_879.instantiate&&_879.instantiateChildren);return _878.instantiate;}));});}else{d.resolve(list);}return d.promise;},_require:function(_87b,_87c){var hash=_823("{"+_87b.innerHTML+"}"),vars=[],mids=[],d=new _820();var _87d=(_87c&&_87c.contextRequire)||_818;for(var name in hash){vars.push(name);mids.push(hash[name]);}_87d(mids,function(){for(var i=0;i<vars.length;i++){_819.setObject(vars[i],arguments[i]);}d.resolve(arguments);});return d.promise;},_scanAmd:function(root,_87e){var _87f=new _820(),_880=_87f.promise;_87f.resolve(true);var self=this;_821("script[type='dojo/require']",root).forEach(function(node){_880=_880.then(function(){return self._require(node,_87e);});node.parentNode.removeChild(node);});return _880;},parse:function(_881,_882){var root;if(!_882&&_881&&_881.rootNode){_882=_881;root=_882.rootNode;}else{if(_881&&_819.isObject(_881)&&!("nodeType" in _881)){_882=_881;}else{root=_881;}}root=root?dom.byId(root):_81c.body();_882=_882||{};var _883=_882.template?{template:true}:{},_884=[],self=this;var p=this._scanAmd(root,_882).then(function(){return self.scan(root,_882);}).then(function(_885){return self._instantiate(_885,_883,_882,true);}).then(function(_886){return _884=_884.concat(_886);}).otherwise(function(e){console.error("dojo/parser::parse() error",e);throw e;});_819.mixin(_884,p);return _884;}};if(1){dojo.parser=_82c;}if(_81b.parseOnLoad){_822(100,_82c,"parse");}return _82c;});},"dojo/_base/url":function(){define(["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_887=function(){var n=null,_888=arguments,uri=[_888[0]];for(var i=1;i<_888.length;i++){if(!_888[i]){continue;}var _889=new _887(_888[i]+""),_88a=new _887(uri[0]+"");if(_889.path==""&&!_889.scheme&&!_889.authority&&!_889.query){if(_889.fragment!=n){_88a.fragment=_889.fragment;}_889=_88a;}else{if(!_889.scheme){_889.scheme=_88a.scheme;if(!_889.authority){_889.authority=_88a.authority;if(_889.path.charAt(0)!="/"){var path=_88a.path.substring(0,_88a.path.lastIndexOf("/")+1)+_889.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_889.path=segs.join("/");}}}}uri=[];if(_889.scheme){uri.push(_889.scheme,":");}if(_889.authority){uri.push("//",_889.authority);}uri.push(_889.path);if(_889.query){uri.push("?",_889.query);}if(_889.fragment){uri.push("#",_889.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_887.prototype.toString=function(){return this.uri;};return dojo._Url=_887;});},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(_88b,_88c,when){"use strict";var some=_88b.some;return function all(_88d){var _88e,_88b;if(_88d instanceof Array){_88b=_88d;}else{if(_88d&&typeof _88d==="object"){_88e=_88d;}}var _88f;var _890=[];if(_88e){_88b=[];for(var key in _88e){if(Object.hasOwnProperty.call(_88e,key)){_890.push(key);_88b.push(_88e[key]);}}_88f={};}else{if(_88b){_88f=[];}}if(!_88b||!_88b.length){return new _88c().resolve(_88f);}var _891=new _88c();_891.promise.always(function(){_88f=_890=null;});var _892=_88b.length;some(_88b,function(_893,_894){if(!_88e){_890.push(_894);}when(_893,function(_895){if(!_891.isFulfilled()){_88f[_890[_894]]=_895;if(--_892===0){_891.resolve(_88f);}}},_891.reject);return _891.isFulfilled();});return _891.promise;};});},"dojox/grid/enhanced/plugins/filter/FilterLayer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel","dojo/_base/json","../_StoreLayer"],function(_896,lang,_897,json,_898){var _899="filter",_89a="clear",_89b=function(_89c,func){return func?lang.hitch(_89c||_897.global,func):function(){};},_89d=function(obj){var res={};if(obj&&lang.isObject(obj)){for(var name in obj){res[name]=obj[name];}}return res;};var _89e=_896("dojox.grid.enhanced.plugins.filter._FilterLayerMixin",null,{tags:["sizeChange"],name:function(){return "filter";},onFilterDefined:function(_89f){},onFiltered:function(_8a0,_8a1){}});var _8a2=_896("dojox.grid.enhanced.plugins.filter.ServerSideFilterLayer",[_898._ServerSideLayer,_89e],{constructor:function(args){this._onUserCommandLoad=args.setupFilterQuery||this._onUserCommandLoad;this.filterDef(null);},filterDef:function(_8a3){if(_8a3){this._filter=_8a3;var obj=_8a3.toObject();this.command(_899,this._isStateful?json.toJson(obj):obj);this.command(_89a,null);this.useCommands(true);this.onFilterDefined(_8a3);}else{if(_8a3===null){this._filter=null;this.command(_899,null);this.command(_89a,true);this.useCommands(true);this.onFilterDefined(null);}}return this._filter;},onCommandLoad:function(_8a4,_8a5){this.inherited(arguments);var _8a6=_8a5.onBegin;if(this._isStateful){var _8a7;if(_8a4){this.command(_899,null);this.command(_89a,null);this.useCommands(false);var _8a8=_8a4.split(",");if(_8a8.length>=2){_8a7=this._filteredSize=parseInt(_8a8[0],10);this.onFiltered(_8a7,parseInt(_8a8[1],10));}else{return;}}else{_8a7=this._filteredSize;}if(this.enabled()){_8a5.onBegin=function(size,req){_89b(_8a5.scope,_8a6)(_8a7,req);};}}else{var _8a9=this;_8a5.onBegin=function(size,req){if(!_8a9._filter){_8a9._storeSize=size;}_8a9.onFiltered(size,_8a9._storeSize||size);req.onBegin=_8a6;_89b(_8a5.scope,_8a6)(size,req);};}}});var _8aa=_896("dojox.grid.enhanced.plugins.filter.ClientSideFilterLayer",[_898._StoreLayer,_89e],{_storeSize:-1,_fetchAll:true,constructor:function(args){this.filterDef(null);args=lang.isObject(args)?args:{};this.fetchAllOnFirstFilter(args.fetchAll);this._getter=lang.isFunction(args.getter)?args.getter:this._defaultGetter;},_defaultGetter:function(_8ab,_8ac,_8ad,_8ae){return _8ae.getValue(_8ab,_8ac);},filterDef:function(_8af){if(_8af!==undefined){this._filter=_8af;this.invalidate();this.onFilterDefined(_8af);}return this._filter;},setGetter:function(_8b0){if(lang.isFunction(_8b0)){this._getter=_8b0;}},fetchAllOnFirstFilter:function(_8b1){if(_8b1!==undefined){this._fetchAll=!!_8b1;}return this._fetchAll;},invalidate:function(){this._items=[];this._nextUnfetchedIdx=0;this._result=[];this._indexMap=[];this._resultStartIdx=0;},_fetch:function(_8b2,_8b3){if(!this._filter){var _8b4=_8b2.onBegin,_8b5=this;_8b2.onBegin=function(size,r){_89b(_8b2.scope,_8b4)(size,r);_8b5.onFiltered(size,size);};this.originFetch(_8b2);return _8b2;}try{var _8b6=_8b3?_8b3._nextResultItemIdx:_8b2.start;_8b6=_8b6||0;if(!_8b3){this._result=[];this._resultStartIdx=_8b6;var _8b7;if(lang.isArray(_8b2.sort)&&_8b2.sort.length>0&&(_8b7=json.toJson(_8b2.sort))!=this._lastSortInfo){this.invalidate();this._lastSortInfo=_8b7;}}var end=typeof _8b2.count=="number"?_8b6+_8b2.count-this._result.length:this._items.length;if(this._result.length){this._result=this._result.concat(this._items.slice(_8b6,end));}else{this._result=this._items.slice(_8b2.start,typeof _8b2.count=="number"?_8b2.start+_8b2.count:this._items.length);}if(this._result.length>=_8b2.count||this._hasReachedStoreEnd()){this._completeQuery(_8b2);}else{if(!_8b3){_8b3=_89d(_8b2);_8b3.onBegin=lang.hitch(this,this._onFetchBegin);_8b3.onComplete=lang.hitch(this,function(_8b8,req){this._nextUnfetchedIdx+=_8b8.length;this._doFilter(_8b8,req.start,_8b2);this._fetch(_8b2,req);});}_8b3.start=this._nextUnfetchedIdx;if(this._fetchAll){delete _8b3.count;}_8b3._nextResultItemIdx=end<this._items.length?end:this._items.length;this.originFetch(_8b3);}}catch(e){if(_8b2.onError){_89b(_8b2.scope,_8b2.onError)(e,_8b2);}else{throw e;}}return _8b2;},_hasReachedStoreEnd:function(){return this._storeSize>=0&&this._nextUnfetchedIdx>=this._storeSize;},_applyFilter:function(_8b9,_8ba){var g=this._getter,s=this._store;try{return !!(this._filter.applyRow(_8b9,function(item,arg){return g(item,arg,_8ba,s);}).getValue());}catch(e){console.warn("FilterLayer._applyFilter() error: ",e);return false;}},_doFilter:function(_8bb,_8bc,_8bd){for(var i=0,cnt=0;i<_8bb.length;++i){if(this._applyFilter(_8bb[i],_8bc+i)){_89b(_8bd.scope,_8bd.onItem)(_8bb[i],_8bd);cnt+=this._addCachedItems(_8bb[i],this._items.length);this._indexMap.push(_8bc+i);}}},_onFetchBegin:function(size,req){this._storeSize=size;},_completeQuery:function(_8be){var size=this._items.length;if(this._nextUnfetchedIdx<this._storeSize){size++;}_89b(_8be.scope,_8be.onBegin)(size,_8be);this.onFiltered(this._items.length,this._storeSize);_89b(_8be.scope,_8be.onComplete)(this._result,_8be);},_addCachedItems:function(_8bf,_8c0){if(!lang.isArray(_8bf)){_8bf=[_8bf];}for(var k=0;k<_8bf.length;++k){this._items[_8c0+k]=_8bf[k];}return _8bf.length;},onRowMappingChange:function(_8c1){if(this._filter){var m=lang.clone(_8c1),_8c2={};for(var r in m){r=parseInt(r,10);_8c1[this._indexMap[r]]=this._indexMap[m[r]];if(!_8c2[this._indexMap[r]]){_8c2[this._indexMap[r]]=true;}if(!_8c2[r]){_8c2[r]=true;delete _8c1[r];}}}}});return lang.mixin({ServerSideFilterLayer:_8a2,ClientSideFilterLayer:_8aa},_898);});},"dojox/grid/enhanced/plugins/_StoreLayer":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/xhr"],function(_8c3,_8c4,lang,xhr){var ns=lang.getObject("grid.enhanced.plugins",true,dojox);var _8c5=function(tags){var _8c6=["reorder","sizeChange","normal","presentation"];var idx=_8c6.length;for(var i=tags.length-1;i>=0;--i){var p=_8c4.indexOf(_8c6,tags[i]);if(p>=0&&p<=idx){idx=p;}}if(idx<_8c6.length-1){return _8c6.slice(0,idx+1);}else{return _8c6;}},_8c7=function(_8c8){var i,_8c9=this._layers,len=_8c9.length;if(_8c8){for(i=len-1;i>=0;--i){if(_8c9[i].name()==_8c8){_8c9[i]._unwrap(_8c9[i+1]);break;}}_8c9.splice(i,1);}else{for(i=len-1;i>=0;--i){_8c9[i]._unwrap();}}if(!_8c9.length){delete this._layers;delete this.layer;delete this.unwrap;delete this.forEachLayer;}return this;},_8ca=function(_8cb){var i,_8cc=this._layers;if(typeof _8cb=="undefined"){return _8cc.length;}if(typeof _8cb=="number"){return _8cc[_8cb];}for(i=_8cc.length-1;i>=0;--i){if(_8cc[i].name()==_8cb){return _8cc[i];}}return null;},_8cd=function(_8ce,_8cf){var len=this._layers.length,_8d0,end,dir;if(_8cf){_8d0=0;end=len;dir=1;}else{_8d0=len-1;end=-1;dir=-1;}for(var i=_8d0;i!=end;i+=dir){if(_8ce(this._layers[i],i)===false){return i;}}return end;};ns.wrap=function(_8d1,_8d2,_8d3,_8d4){if(!_8d1._layers){_8d1._layers=[];_8d1.layer=lang.hitch(_8d1,_8ca);_8d1.unwrap=lang.hitch(_8d1,_8c7);_8d1.forEachLayer=lang.hitch(_8d1,_8cd);}var _8d5=_8c5(_8d3.tags);if(!_8c4.some(_8d1._layers,function(lyr,i){if(_8c4.some(lyr.tags,function(tag){return _8c4.indexOf(_8d5,tag)>=0;})){return false;}else{_8d1._layers.splice(i,0,_8d3);_8d3._wrap(_8d1,_8d2,_8d4,lyr);return true;}})){_8d1._layers.push(_8d3);_8d3._wrap(_8d1,_8d2,_8d4);}return _8d1;};var _8d6=_8c3("dojox.grid.enhanced.plugins._StoreLayer",null,{tags:["normal"],layerFuncName:"_fetch",constructor:function(){this._store=null;this._originFetch=null;this.__enabled=true;},initialize:function(_8d7){},uninitialize:function(_8d8){},invalidate:function(){},_wrap:function(_8d9,_8da,_8db,_8dc){this._store=_8d9;this._funcName=_8da;var _8dd=lang.hitch(this,function(){return (this.enabled()?this[_8db||this.layerFuncName]:this.originFetch).apply(this,arguments);});if(_8dc){this._originFetch=_8dc._originFetch;_8dc._originFetch=_8dd;}else{this._originFetch=_8d9[_8da]||function(){};_8d9[_8da]=_8dd;}this.initialize(_8d9);},_unwrap:function(_8de){this.uninitialize(this._store);if(_8de){_8de._originFetch=this._originFetch;}else{this._store[this._funcName]=this._originFetch;}this._originFetch=null;this._store=null;},enabled:function(_8df){if(typeof _8df!="undefined"){this.__enabled=!!_8df;}return this.__enabled;},name:function(){if(!this.__name){var m=this.declaredClass.match(/(?:\.(?:_*)([^\.]+)Layer$)|(?:\.([^\.]+)$)/i);this.__name=m?(m[1]||m[2]).toLowerCase():this.declaredClass;}return this.__name;},originFetch:function(){return (lang.hitch(this._store,this._originFetch)).apply(this,arguments);}});var _8e0=_8c3("dojox.grid.enhanced.plugins._ServerSideLayer",_8d6,{constructor:function(args){args=args||{};this._url=args.url||"";this._isStateful=!!args.isStateful;this._onUserCommandLoad=args.onCommandLoad||function(){};this.__cmds={cmdlayer:this.name(),enable:true};this.useCommands(this._isStateful);},enabled:function(_8e1){var res=this.inherited(arguments);this.__cmds.enable=this.__enabled;return res;},useCommands:function(_8e2){if(typeof _8e2!="undefined"){this.__cmds.cmdlayer=(_8e2&&this._isStateful)?this.name():null;}return !!(this.__cmds.cmdlayer);},_fetch:function(_8e3){if(this.__cmds.cmdlayer){xhr.post({url:this._url||this._store.url,content:this.__cmds,load:lang.hitch(this,function(_8e4){this.onCommandLoad(_8e4,_8e3);this.originFetch(_8e3);}),error:lang.hitch(this,this.onCommandError)});}else{this.onCommandLoad("",_8e3);this.originFetch(_8e3);}return _8e3;},command:function(_8e5,_8e6){var cmds=this.__cmds;if(_8e6===null){delete cmds[_8e5];}else{if(typeof _8e6!=="undefined"){cmds[_8e5]=_8e6;}}return cmds[_8e5];},onCommandLoad:function(_8e7,_8e8){this._onUserCommandLoad(this.__cmds,_8e8,_8e7);},onCommandError:function(_8e9){throw _8e9;}});return {_StoreLayer:_8d6,_ServerSideLayer:_8e0,wrap:ns.wrap};});},"dojox/grid/enhanced/plugins/filter/FilterBar":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/_base/sniff","dojo/_base/event","dojo/_base/html","dojo/_base/window","dojo/query","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/fx","dojo/_base/fx","dojo/string","dijit/focus","dojo/text!../../templates/FilterBar.html"],function(_8ea,_8eb,_8ec,lang,has,_8ed,html,win,_8ee,_8ef,_8f0,_8f1,fx,_8f2,_8f3,_8f4,_8f5){var _8f6="dojoxGridFBarHover",_8f7="dojoxGridFBarFiltered",_8f8=function(evt){try{if(evt&&evt.preventDefault){_8ed.stop(evt);}}catch(e){}};return _8ea("dojox.grid.enhanced.plugins.filter.FilterBar",[_8ef,_8f0,_8f1],{templateString:_8f5,widgetsInTemplate:true,_timeout_statusTooltip:300,_handle_statusTooltip:null,_curColIdx:-1,plugin:null,postMixInProperties:function(){var _8f9=this.plugin;var nls=_8f9.nls;this._filterBarDefBtnLabel=nls["filterBarDefButton"];this._filterBarClearBtnLabel=nls["filterBarClearButton"];this._closeFilterBarBtnLabel=nls["closeFilterBarBtn"];var _8fa=_8f9.args.itemsName||nls["defaultItemsName"];this._noFilterMsg=_8f3.substitute(nls["filterBarMsgNoFilterTemplate"],["",_8fa]);var t=this.plugin.args.statusTipTimeout;if(typeof t=="number"){this._timeout_statusTooltip=t;}var g=_8f9.grid;g.showFilterBar=lang.hitch(this,"showFilterBar");g.toggleFilterBar=lang.hitch(this,"toggleFilterBar");g.isFilterBarShown=lang.hitch(this,"isFilterBarShown");},postCreate:function(){this.inherited(arguments);if(!this.plugin.args.closeFilterbarButton){html.style(this.closeFilterBarButton.domNode,"display","none");}var _8fb=this,g=this.plugin.grid,_8fc=this.oldGetHeaderHeight=lang.hitch(g,g._getHeaderHeight);this.placeAt(g.viewsHeaderNode,"after");this.connect(this.plugin.filterDefDialog,"showDialog","_onShowFilterDefDialog");this.connect(this.plugin.filterDefDialog,"closeDialog","_onCloseFilterDefDialog");this.connect(g.layer("filter"),"onFiltered",this._onFiltered);this.defineFilterButton.domNode.title=this.plugin.nls["filterBarDefButton"];if(html.hasClass(win.body(),"dijit_a11y")){this.defineFilterButton.set("label",this.plugin.nls["a11yFilterBarDefButton"]);}this.connect(this.defineFilterButton.domNode,"click",_8f8);this.connect(this.clearFilterButton.domNode,"click",_8f8);this.connect(this.closeFilterBarButton.domNode,"click",_8f8);this.toggleClearFilterBtn(true);this._initAriaInfo();g._getHeaderHeight=function(){return _8fc()+html.marginBox(_8fb.domNode).h;};g.focus.addArea({name:"filterbar",onFocus:lang.hitch(this,this._onFocusFilterBar,false),onBlur:lang.hitch(this,this._onBlurFilterBar)});g.focus.placeArea("filterbar","after","header");},uninitialize:function(){var g=this.plugin.grid;g._getHeaderHeight=this.oldGetHeaderHeight;g.focus.removeArea("filterbar");this.plugin=null;},isFilterBarShown:function(){return html.style(this.domNode,"display")!="none";},showFilterBar:function(_8fd,_8fe,_8ff){var g=this.plugin.grid;if(_8fe){if(Boolean(_8fd)==this.isFilterBarShown()){return;}_8ff=_8ff||{};var _900=[],_901=500;_900.push(fx[_8fd?"wipeIn":"wipeOut"](lang.mixin({"node":this.domNode,"duration":_901},_8ff)));var _902=g.views.views[0].domNode.offsetHeight;var prop={"duration":_901,"properties":{"height":{"end":lang.hitch(this,function(){var _903=this.domNode.scrollHeight;if(has("ff")){_903-=2;}return _8fd?(_902-_903):(_902+_903);})}}};_8eb.forEach(g.views.views,function(view){_900.push(_8f2.animateProperty(lang.mixin({"node":view.domNode},prop,_8ff)),_8f2.animateProperty(lang.mixin({"node":view.scrollboxNode},prop,_8ff)));});_900.push(_8f2.animateProperty(lang.mixin({"node":g.viewsNode},prop,_8ff)));fx.combine(_900).play();}else{html.style(this.domNode,"display",_8fd?"":"none");g.update();}},toggleFilterBar:function(_904,_905){this.showFilterBar(!this.isFilterBarShown(),_904,_905);},getColumnIdx:function(_906){var _907=_8ee("[role='columnheader']",this.plugin.grid.viewsHeaderNode);var idx=-1;for(var i=_907.length-1;i>=0;--i){var _908=html.position(_907[i]);if(_906>=_908.x&&_906<_908.x+_908.w){idx=i;break;}}if(idx>=0&&this.plugin.grid.layout.cells[idx].filterable!==false){return idx;}else{return -1;}},toggleClearFilterBtn:function(_909){html.style(this.clearFilterButton.domNode,"display",_909?"none":"");},_closeFilterBar:function(e){_8f8(e);var _90a=this.plugin.filterDefDialog.getCriteria();if(_90a){var _90b=_8ec.connect(this.plugin.filterDefDialog,"clearFilter",this,function(){this.showFilterBar(false,true);_8ec.disconnect(_90b);});this._clearFilterDefDialog(e);}else{this.showFilterBar(false,true);}},_showFilterDefDialog:function(e){_8f8(e);this.plugin.filterDefDialog.showDialog(this._curColIdx);this.plugin.grid.focus.focusArea("filterbar");},_clearFilterDefDialog:function(e){_8f8(e);this.plugin.filterDefDialog.onClearFilter();this.plugin.grid.focus.focusArea("filterbar");},_onEnterButton:function(e){this._onBlurFilterBar();_8f8(e);},_onMoveButton:function(e){this._onBlurFilterBar();},_onLeaveButton:function(e){this._leavingBtn=true;},_onShowFilterDefDialog:function(_90c){if(typeof _90c=="number"){this._curColIdx=_90c;}this._defPaneIsShown=true;},_onCloseFilterDefDialog:function(){this._defPaneIsShown=false;this._curColIdx=-1;_8f4.focus(this.defineFilterButton.domNode);},_onClickFilterBar:function(e){_8f8(e);this._clearStatusTipTimeout();this.plugin.grid.focus.focusArea("filterbar");this.plugin.filterDefDialog.showDialog(this.getColumnIdx(e.clientX));},_onMouseEnter:function(e){this._onFocusFilterBar(true,null);this._updateTipPosition(e);this._setStatusTipTimeout();},_onMouseMove:function(e){if(this._leavingBtn){this._onFocusFilterBar(true,null);this._leavingBtn=false;}if(this._isFocused){this._setStatusTipTimeout();this._highlightHeader(this.getColumnIdx(e.clientX));if(this._handle_statusTooltip){this._updateTipPosition(e);}}},_onMouseLeave:function(e){this._onBlurFilterBar();},_updateTipPosition:function(evt){this._tippos={x:evt.pageX,y:evt.pageY};},_onFocusFilterBar:function(_90d,evt,step){if(!this.isFilterBarShown()){return false;}this._isFocused=true;html.addClass(this.domNode,_8f6);if(!_90d){var _90e=html.style(this.clearFilterButton.domNode,"display")!=="none";var _90f=html.style(this.closeFilterBarButton.domNode,"display")!=="none";if(typeof this._focusPos=="undefined"){if(step>0){this._focusPos=0;}else{if(_90f){this._focusPos=1;}else{this._focusPos=0;}if(_90e){++this._focusPos;}}}if(this._focusPos===0){_8f4.focus(this.defineFilterButton.focusNode);}else{if(this._focusPos===1&&_90e){_8f4.focus(this.clearFilterButton.focusNode);}else{_8f4.focus(this.closeFilterBarButton.focusNode);}}}_8f8(evt);return true;},_onBlurFilterBar:function(evt,step){if(this._isFocused){this._isFocused=false;html.removeClass(this.domNode,_8f6);this._clearStatusTipTimeout();this._clearHeaderHighlight();}var _910=true;if(step){var _911=3;if(html.style(this.closeFilterBarButton.domNode,"display")==="none"){--_911;}if(html.style(this.clearFilterButton.domNode,"display")==="none"){--_911;}if(_911==1){delete this._focusPos;}else{var _912=this._focusPos;for(var next=_912+step;next<0;next+=_911){}next%=_911;if((step>0&&next<_912)||(step<0&&next>_912)){delete this._focusPos;}else{this._focusPos=next;_910=false;}}}return _910;},_onFiltered:function(_913,_914){var p=this.plugin,_915=p.args.itemsName||p.nls["defaultItemsName"],msg="",g=p.grid,_916=g.layer("filter");if(_916.filterDef()){msg=_8f3.substitute(p.nls["filterBarMsgHasFilterTemplate"],[_913,_914,_915]);html.addClass(this.domNode,_8f7);}else{msg=_8f3.substitute(p.nls["filterBarMsgNoFilterTemplate"],[_914,_915]);html.removeClass(this.domNode,_8f7);}this.statusBarNode.innerHTML=msg;this._focusPos=0;},_initAriaInfo:function(){this.defineFilterButton.domNode.setAttribute("aria-label",this.plugin.nls["waiFilterBarDefButton"]);this.clearFilterButton.domNode.setAttribute("aria-label",this.plugin.nls["waiFilterBarClearButton"]);},_isInColumn:function(_917,_918,_919){var _91a=html.position(_918);return _917>=_91a.x&&_917<_91a.x+_91a.w;},_setStatusTipTimeout:function(){this._clearStatusTipTimeout();if(!this._defPaneIsShown){this._handle_statusTooltip=setTimeout(lang.hitch(this,this._showStatusTooltip),this._timeout_statusTooltip);}},_clearStatusTipTimeout:function(){clearTimeout(this._handle_statusTooltip);this._handle_statusTooltip=null;},_showStatusTooltip:function(){this._handle_statusTooltip=null;if(this.plugin){this.plugin.filterStatusTip.showDialog(this._tippos.x,this._tippos.y,this.getColumnIdx(this._tippos.x));}},_highlightHeader:function(_91b){if(_91b!=this._previousHeaderIdx){var g=this.plugin.grid,cell=g.getCell(this._previousHeaderIdx);if(cell){html.removeClass(cell.getHeaderNode(),"dojoxGridCellOver");}cell=g.getCell(_91b);if(cell){html.addClass(cell.getHeaderNode(),"dojoxGridCellOver");}this._previousHeaderIdx=_91b;}},_clearHeaderHighlight:function(){if(typeof this._previousHeaderIdx!="undefined"){var g=this.plugin.grid,cell=g.getCell(this._previousHeaderIdx);if(cell){g.onHeaderCellMouseOut({cellNode:cell.getHeaderNode()});}delete this._previousHeaderIdx;}}});});},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(_91c,_91d,_91e,lang,_91f){return _91e("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var node=this.domNode;if(this.containerNode&&!this.searchContainerNode){this.containerNode.stopParser=true;}_91f.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(lang.hitch(this,function(_920){this._startupWidgets=_920;for(var i=0;i<_920.length;i++){this._processTemplateNode(_920[i],function(n,p){return n[p];},function(_921,type,_922){if(type in _921){return _921.connect(_921,type,_922);}else{return _921.on(type,_922,true);}});}if(this.containerNode&&this.containerNode.stopParser){delete this.containerNode.stopParser;}}));if(!this._startupWidgets){throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}}},_processTemplateNode:function(_923,_924,_925){if(_924(_923,"dojoType")||_924(_923,"data-dojo-type")){return true;}return this.inherited(arguments);},startup:function(){_91c.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this._startupWidgets=null;this.inherited(arguments);}});});},"dojo/fx":function(){define(["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_926,dojo,_927,_928,_929,dom,_92a,geom,_92b,_92c){if(!dojo.isAsync){_92b(0,function(){var _92d=["./fx/Toggler"];_92c(_92d);});}var _92e=dojo.fx={};var _92f={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _930=function(_931){this._index=-1;this._animations=_931||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_927.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_930.prototype=new _926();lang.extend(_930,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_928.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);this._onEndCtx=_928.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play(0,true);}},play:function(_932,_933){if(!this._current){this._current=this._animations[this._index=0];}if(!_933&&this._current.status()=="playing"){return this;}var _934=_928.after(this._current,"beforeBegin",lang.hitch(this,function(){this._fire("beforeBegin");}),true),_935=_928.after(this._current,"onBegin",lang.hitch(this,function(arg){this._fire("onBegin",arguments);}),true),_936=_928.after(this._current,"onPlay",lang.hitch(this,function(arg){this._fire("onPlay",arguments);_934.remove();_935.remove();_936.remove();}));if(this._onAnimateCtx){this._onAnimateCtx.remove();}this._onAnimateCtx=_928.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);if(this._onEndCtx){this._onEndCtx.remove();}this._onEndCtx=_928.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_928.after(this._current,"onPause",lang.hitch(this,function(arg){this._fire("onPause",arguments);e.remove();}),true);this._current.pause();}return this;},gotoPercent:function(_937,_938){this.pause();var _939=this.duration*_937;this._current=null;_927.some(this._animations,function(a){if(a.duration<=_939){this._current=a;return true;}_939-=a.duration;return false;});if(this._current){this._current.gotoPercent(_939/this._current.duration,_938);}return this;},stop:function(_93a){if(this._current){if(_93a){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_928.after(this._current,"onStop",lang.hitch(this,function(arg){this._fire("onStop",arguments);e.remove();}),true);this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){this._onAnimateCtx.remove();}if(this._onEndCtx){this._onEndCtx.remove();}}});lang.extend(_930,_92f);_92e.chain=function(_93b){return new _930(_93b);};var _93c=function(_93d){this._animations=_93d||[];this._connects=[];this._finished=0;this.duration=0;_927.forEach(_93d,function(a){var _93e=a.duration;if(a.delay){_93e+=a.delay;}if(this.duration<_93e){this.duration=_93e;}this._connects.push(_928.after(a,"onEnd",lang.hitch(this,"_onEnd"),true));},this);this._pseudoAnimation=new _929.Animation({curve:[0,1],duration:this.duration});var self=this;_927.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_928.after(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);},true));});};lang.extend(_93c,{_doAction:function(_93f,args){_927.forEach(this._animations,function(a){a[_93f].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_940,args){var t=this._pseudoAnimation;t[_940].apply(t,args);},play:function(_941,_942){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_943,_944){var ms=this.duration*_943;_927.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_944);});this._call("gotoPercent",arguments);return this;},stop:function(_945){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){_927.forEach(this._connects,function(_946){_946.remove();});}});lang.extend(_93c,_92f);_92e.combine=function(_947){return new _93c(_947);};_92e.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_929.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _948=_92a.get(node,"height");return Math.max(_948,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_928.after(anim,"onStop",fini,true);_928.after(anim,"onEnd",fini,true);return anim;};_92e.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_929.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_928.after(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";},true);var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_928.after(anim,"onStop",fini,true);_928.after(anim,"onEnd",fini,true);return anim;};_92e.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_92a.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_929.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_928.after(anim,"beforeBegin",init,true);return anim;};return _92e;});},"dojox/grid/enhanced/plugins/filter/FilterDefDialog":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/_base/event","dojo/_base/html","dojo/_base/sniff","dojo/keys","dojo/string","dojo/window","dojo/date/locale","./FilterBuilder","../Dialog","dijit/form/ComboBox","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/DateTextBox","dijit/form/TimeTextBox","dijit/form/Button","dijit/layout/AccordionContainer","dijit/layout/ContentPane","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/focus","dojox/html/metrics","dijit/a11y","dojo/text!../../templates/FilterDefPane.html","dojo/text!../../templates/CriteriaBox.html","dojo/text!../../templates/FilterBoolValueBox.html","dijit/Tooltip","dijit/form/Select","dijit/form/RadioButton","dojox/html/ellipsis","../../../cells/dijit"],function(_949,_94a,_94b,lang,_94c,html,has,keys,_94d,win,_94e,_94f,_950,_951,_952,_953,_954,_955,_956,_957,_958,_959,_95a,_95b,_95c,_95d,_95e,_95f,_960,_961){var _962={relSelect:60,accordionTitle:70,removeCBoxBtn:-1,colSelect:90,condSelect:95,valueBox:10,addCBoxBtn:20,filterBtn:30,clearBtn:40,cancelBtn:50};var _963=_949("dojox.grid.enhanced.plugins.filter.AccordionContainer",_957,{nls:null,addChild:function(_964,_965){var pane=arguments[0]=_964._pane=new _958({content:_964});this.inherited(arguments);this._modifyChild(pane);},removeChild:function(_966){var pane=_966,_967=false;if(_966._pane){_967=true;pane=arguments[0]=_966._pane;}this.inherited(arguments);if(_967){this._hackHeight(false,this._titleHeight);var _968=this.getChildren();if(_968.length===1){html.style(_968[0]._removeCBoxBtn.domNode,"display","none");}}pane.destroyRecursive();},selectChild:function(_969){if(_969._pane){arguments[0]=_969._pane;}this.inherited(arguments);},resize:function(){this.inherited(arguments);_94a.forEach(this.getChildren(),this._setupTitleDom);},startup:function(){if(this._started){return;}this.inherited(arguments);if(parseInt(has("ie"),10)==7){_94a.some(this._connects,function(cnnt){if((cnnt[0]||{})[1]=="onresize"){this.disconnect(cnnt);return true;}},this);}_94a.forEach(this.getChildren(),function(_96a){this._modifyChild(_96a,true);},this);},_onKeyPress:function(e,_96b){if(this.disabled||e.altKey||!(_96b||e.ctrlKey)){return;}var k=keys,c=e.charOrCode,ltr=html._isBodyLtr(),_96c=null;if((_96b&&c==k.UP_ARROW)||(e.ctrlKey&&c==k.PAGE_UP)){_96c=false;}else{if((_96b&&c==k.DOWN_ARROW)||(e.ctrlKey&&(c==k.PAGE_DOWN||c==k.TAB))){_96c=true;}else{if(c==(ltr?k.LEFT_ARROW:k.RIGHT_ARROW)){_96c=this._focusOnRemoveBtn?null:false;this._focusOnRemoveBtn=!this._focusOnRemoveBtn;}else{if(c==(ltr?k.RIGHT_ARROW:k.LEFT_ARROW)){_96c=this._focusOnRemoveBtn?true:null;this._focusOnRemoveBtn=!this._focusOnRemoveBtn;}else{return;}}}}if(_96c!==null){this._adjacent(_96c)._buttonWidget._onTitleClick();}_94c.stop(e);win.scrollIntoView(this.selectedChildWidget._buttonWidget.domNode.parentNode);if(has("ie")){this.selectedChildWidget._removeCBoxBtn.focusNode.setAttribute("tabIndex",this._focusOnRemoveBtn?_962.accordionTitle:-1);}_95c.focus(this.selectedChildWidget[this._focusOnRemoveBtn?"_removeCBoxBtn":"_buttonWidget"].focusNode);},_modifyChild:function(_96d,_96e){if(!_96d||!this._started){return;}html.style(_96d.domNode,"overflow","hidden");_96d._buttonWidget.connect(_96d._buttonWidget,"_setSelectedAttr",function(){this.focusNode.setAttribute("tabIndex",this.selected?_962.accordionTitle:"-1");});var _96f=this;_96d._buttonWidget.connect(_96d._buttonWidget.domNode,"onclick",function(){_96f._focusOnRemoveBtn=false;});(_96d._removeCBoxBtn=new _956({label:this.nls.removeRuleButton,showLabel:false,iconClass:"dojoxGridFCBoxRemoveCBoxBtnIcon",tabIndex:_962.removeCBoxBtn,onClick:lang.hitch(_96d.content,"onRemove"),onKeyPress:function(e){_96f._onKeyPress(e,_96d._buttonWidget.contentWidget);}})).placeAt(_96d._buttonWidget.domNode);var i,_970=this.getChildren();if(_970.length===1){_96d._buttonWidget.set("selected",true);html.style(_96d._removeCBoxBtn.domNode,"display","none");}else{for(i=0;i<_970.length;++i){if(_970[i]._removeCBoxBtn){html.style(_970[i]._removeCBoxBtn.domNode,"display","");}}}this._setupTitleDom(_96d);if(!this._titleHeight){for(i=0;i<_970.length;++i){if(_970[i]!=this.selectedChildWidget){this._titleHeight=html.marginBox(_970[i]._buttonWidget.domNode.parentNode).h;break;}}}if(!_96e){this._hackHeight(true,this._titleHeight);}},_hackHeight:function(_971,_972){var _973=this.getChildren(),dn=this.domNode,h=html.style(dn,"height");if(!_971){dn.style.height=(h-_972)+"px";}else{if(_973.length>1){dn.style.height=(h+_972)+"px";}else{return;}}this.resize();},_setupTitleDom:function(_974){var w=html.contentBox(_974._buttonWidget.titleNode).w;if(has("ie")<8){w-=8;}html.style(_974._buttonWidget.titleTextNode,"width",w+"px");}});var _975=_949("dojox.grid.enhanced.plugins.filter.FilterDefPane",[_959,_95a,_95b],{templateString:_95f,widgetsInTemplate:true,dlg:null,postMixInProperties:function(){this.plugin=this.dlg.plugin;var nls=this.plugin.nls;this._addRuleBtnLabel=nls.addRuleButton;this._cancelBtnLabel=nls.cancelButton;this._clearBtnLabel=nls.clearButton;this._filterBtnLabel=nls.filterButton;this._relAll=nls.relationAll;this._relAny=nls.relationAny;this._relMsgFront=nls.relationMsgFront;this._relMsgTail=nls.relationMsgTail;},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeypress","_onKey");(this.cboxContainer=new _963({nls:this.plugin.nls})).placeAt(this.criteriaPane);this._relSelect.set("tabIndex",_962.relSelect);this._addCBoxBtn.set("tabIndex",_962.addCBoxBtn);this._cancelBtn.set("tabIndex",_962.cancelBtn);this._clearFilterBtn.set("tabIndex",_962.clearBtn);this._filterBtn.set("tabIndex",_962.filterBtn);var nls=this.plugin.nls;this._relSelect.domNode.setAttribute("aria-label",nls.waiRelAll);this._addCBoxBtn.domNode.setAttribute("aria-label",nls.waiAddRuleButton);this._cancelBtn.domNode.setAttribute("aria-label",nls.waiCancelButton);this._clearFilterBtn.domNode.setAttribute("aria-label",nls.waiClearButton);this._filterBtn.domNode.setAttribute("aria-label",nls.waiFilterButton);this._relSelect.set("value",this.dlg._relOpCls==="logicall"?"0":"1");},uninitialize:function(){this.cboxContainer.destroyRecursive();this.plugin=null;this.dlg=null;},_onRelSelectChange:function(val){this.dlg._relOpCls=val=="0"?"logicall":"logicany";this._relSelect.domNode.setAttribute("aria-label",this.plugin.nls[val=="0"?"waiRelAll":"waiRelAny"]);},_onAddCBox:function(){this.dlg.addCriteriaBoxes(1);},_onCancel:function(){this.dlg.onCancel();},_onClearFilter:function(){this.dlg.onClearFilter();},_onFilter:function(){this.dlg.onFilter();},_onKey:function(e){if(e.keyCode==keys.ENTER){this.dlg.onFilter();}}});var _976=_949("dojox.grid.enhanced.plugins.filter.CriteriaBox",[_959,_95a,_95b],{templateString:_960,widgetsInTemplate:true,dlg:null,postMixInProperties:function(){this.plugin=this.dlg.plugin;this._curValueBox=null;var nls=this.plugin.nls;this._colSelectLabel=nls.columnSelectLabel;this._condSelectLabel=nls.conditionSelectLabel;this._valueBoxLabel=nls.valueBoxLabel;this._anyColumnOption=nls.anyColumnOption;},postCreate:function(){var dlg=this.dlg,g=this.plugin.grid;this._colSelect.set("tabIndex",_962.colSelect);this._colOptions=this._getColumnOptions();this._colSelect.addOption([{label:this.plugin.nls.anyColumnOption,value:"anycolumn",selected:dlg.curColIdx<0},{value:""}].concat(this._colOptions));this._condSelect.set("tabIndex",_962.condSelect);this._condSelect.addOption(this._getUsableConditions(dlg.getColumnType(dlg.curColIdx)));this._showSelectOrLabel(this._condSelect,this._condSelectAlt);this.connect(g.layout,"moveColumn","onMoveColumn");var _977=this;setTimeout(function(){var type=dlg.getColumnType(dlg.curColIdx);_977._setValueBoxByType(type);},0);},_getColumnOptions:function(){var _978=this.dlg.curColIdx>=0?String(this.dlg.curColIdx):"anycolumn";return _94a.map(_94a.filter(this.plugin.grid.layout.cells,function(cell){return !(cell.filterable===false||cell.hidden);}),function(cell){return {label:cell.name||cell.field,value:String(cell.index),selected:_978==String(cell.index)};});},onMoveColumn:function(){var tmp=this._onChangeColumn;this._onChangeColumn=function(){};var _979=this._colSelect.get("selectedOptions");this._colSelect.removeOption(this._colOptions);this._colOptions=this._getColumnOptions();this._colSelect.addOption(this._colOptions);var i=0;for(;i<this._colOptions.length;++i){if(this._colOptions[i].label==_979.label){break;}}if(i<this._colOptions.length){this._colSelect.set("value",this._colOptions[i].value);}var _97a=this;setTimeout(function(){_97a._onChangeColumn=tmp;},0);},onRemove:function(){this.dlg.removeCriteriaBoxes(this);},uninitialize:function(){if(this._curValueBox){this._curValueBox.destroyRecursive();this._curValueBox=null;}this.plugin=null;this.dlg=null;},_showSelectOrLabel:function(sel,alt){var _97b=sel.getOptions();if(_97b.length==1){alt.innerHTML=_97b[0].label;html.style(sel.domNode,"display","none");html.style(alt,"display","");}else{html.style(sel.domNode,"display","");html.style(alt,"display","none");}},_onChangeColumn:function(val){this._checkValidCriteria();var type=this.dlg.getColumnType(val);this._setConditionsByType(type);this._setValueBoxByType(type);this._updateValueBox();},_onChangeCondition:function(val){this._checkValidCriteria();var f=(val=="range");if(f^this._isRange){this._isRange=f;this._setValueBoxByType(this.dlg.getColumnType(this._colSelect.get("value")));}this._updateValueBox();},_updateValueBox:function(cond){this._curValueBox.set("disabled",this._condSelect.get("value")=="isempty");},_checkValidCriteria:function(){setTimeout(lang.hitch(this,function(){this.updateRuleTitle();this.dlg._updatePane();}),0);},_createValueBox:function(cls,arg){var func=lang.hitch(arg.cbox,"_checkValidCriteria");return new cls(lang.mixin(arg,{tabIndex:_962.valueBox,onKeyPress:func,onChange:func,"class":"dojoxGridFCBoxValueBox"}));},_createRangeBox:function(cls,arg){var func=lang.hitch(arg.cbox,"_checkValidCriteria");lang.mixin(arg,{tabIndex:_962.valueBox,onKeyPress:func,onChange:func});var div=html.create("div",{"class":"dojoxGridFCBoxValueBox"}),_97c=new cls(arg),txt=html.create("span",{"class":"dojoxGridFCBoxRangeValueTxt","innerHTML":this.plugin.nls.rangeTo}),end=new cls(arg);html.addClass(_97c.domNode,"dojoxGridFCBoxStartValue");html.addClass(end.domNode,"dojoxGridFCBoxEndValue");div.appendChild(_97c.domNode);div.appendChild(txt);div.appendChild(end.domNode);div.domNode=div;div.set=function(_97d,args){if(lang.isObject(args)){_97c.set("value",args.start);end.set("value",args.end);}};div.get=function(){var s=_97c.get("value"),e=end.get("value");return s&&e?{start:s,end:e}:"";};return div;},changeCurrentColumn:function(_97e){var _97f=this.dlg.curColIdx;this._colSelect.removeOption(this._colOptions);this._colOptions=this._getColumnOptions();this._colSelect.addOption(this._colOptions);this._colSelect.set("value",_97f>=0?String(_97f):"anycolumn");this.updateRuleTitle(true);},curColumn:function(){return this._colSelect.getOptions(this._colSelect.get("value")).label;},curCondition:function(){return this._condSelect.getOptions(this._condSelect.get("value")).label;},curValue:function(){var cond=this._condSelect.get("value");if(cond=="isempty"){return "";}return this._curValueBox?this._curValueBox.get("value"):"";},save:function(){if(this.isEmpty()){return null;}var _980=this._colSelect.get("value"),type=this.dlg.getColumnType(_980),_981=this.curValue(),cond=this._condSelect.get("value");return {"column":_980,"condition":cond,"value":_981,"formattedVal":this.formatValue(type,cond,_981),"type":type,"colTxt":this.curColumn(),"condTxt":this.curCondition()};},load:function(obj){var tmp=[this._onChangeColumn,this._onChangeCondition];this._onChangeColumn=this._onChangeCondition=function(){};if(obj.column){this._colSelect.set("value",obj.column);}if(obj.type){this._setConditionsByType(obj.type);this._setValueBoxByType(obj.type);}else{obj.type=this.dlg.getColumnType(this._colSelect.get("value"));}if(obj.condition){this._condSelect.set("value",obj.condition);}var _982=obj.value||"";if(_982||(obj.type!="date"&&obj.type!="time")){this._curValueBox.set("value",_982);}this._updateValueBox();setTimeout(lang.hitch(this,function(){this._onChangeColumn=tmp[0];this._onChangeCondition=tmp[1];}),0);},getExpr:function(){if(this.isEmpty()){return null;}var _983=this._colSelect.get("value");return this.dlg.getExprForCriteria({"type":this.dlg.getColumnType(_983),"column":_983,"condition":this._condSelect.get("value"),"value":this.curValue()});},isEmpty:function(){var cond=this._condSelect.get("value");if(cond=="isempty"){return false;}var v=this.curValue();return v===""||v===null||typeof v=="undefined"||(typeof v=="number"&&isNaN(v));},updateRuleTitle:function(_984){var node=this._pane._buttonWidget.titleTextNode;var _985=["<div class='dojoxEllipsis'>"];if(_984||this.isEmpty()){node.title=_94d.substitute(this.plugin.nls.ruleTitleTemplate,[this._ruleIndex||1]);_985.push(node.title);}else{var type=this.dlg.getColumnType(this._colSelect.get("value"));var _986=this.curColumn();var _987=this.curCondition();var _988=this.formatValue(type,this._condSelect.get("value"),this.curValue());_985.push(_986,"&nbsp;<span class='dojoxGridRuleTitleCondition'>",_987,"</span>&nbsp;",_988);node.title=[_986," ",_987," ",_988].join("");}node.innerHTML=_985.join("");if(has("mozilla")){var tt=html.create("div",{"style":"width: 100%; height: 100%; position: absolute; top: 0; left: 0; z-index: 9999;"},node);tt.title=node.title;}},updateRuleIndex:function(_989){if(this._ruleIndex!=_989){this._ruleIndex=_989;if(this.isEmpty()){this.updateRuleTitle();}}},setAriaInfo:function(idx){var dss=_94d.substitute,nls=this.plugin.nls;this._colSelect.domNode.setAttribute("aria-label",dss(nls.waiColumnSelectTemplate,[idx]));this._condSelect.domNode.setAttribute("aria-label",dss(nls.waiConditionSelectTemplate,[idx]));this._pane._removeCBoxBtn.domNode.setAttribute("aria-label",dss(nls.waiRemoveRuleButtonTemplate,[idx]));this._index=idx;},_getUsableConditions:function(type){var _98a=lang.clone(this.dlg._dataTypeMap[type].conditions);var _98b=(this.plugin.args.disabledConditions||{})[type];var _98c=parseInt(this._colSelect.get("value"),10);var _98d=isNaN(_98c)?(this.plugin.args.disabledConditions||{})["anycolumn"]:this.plugin.grid.layout.cells[_98c].disabledConditions;if(!lang.isArray(_98b)){_98b=[];}if(!lang.isArray(_98d)){_98d=[];}var arr=_98b.concat(_98d);if(arr.length){var _98e={};_94a.forEach(arr,function(c){if(lang.isString(c)){_98e[c.toLowerCase()]=true;}});return _94a.filter(_98a,function(_98f){return !(_98f.value in _98e);});}return _98a;},_setConditionsByType:function(type){var _990=this._condSelect;_990.removeOption(_990.options);_990.addOption(this._getUsableConditions(type));this._showSelectOrLabel(this._condSelect,this._condSelectAlt);},_setValueBoxByType:function(type){if(this._curValueBox){this.valueNode.removeChild(this._curValueBox.domNode);try{this._curValueBox.destroyRecursive();}catch(e){}delete this._curValueBox;}var _991=this.dlg._dataTypeMap[type].valueBoxCls[this._getValueBoxClsInfo(this._colSelect.get("value"),type)],_992=this._getValueBoxArgByType(type);this._curValueBox=this[this._isRange?"_createRangeBox":"_createValueBox"](_991,_992);this.valueNode.appendChild(this._curValueBox.domNode);this._curValueBox.focusNode.setAttribute("aria-label",_94d.substitute(this.plugin.nls.waiValueBoxTemplate,[this._index]));this.dlg.onRendered(this);},_getValueBoxArgByType:function(type){var g=this.plugin.grid,cell=g.layout.cells[parseInt(this._colSelect.get("value"),10)],res={cbox:this};if(type=="string"){if(cell&&(cell.suggestion||cell.autoComplete)){lang.mixin(res,{store:g.store,searchAttr:cell.field||cell.name,query:g.query||{},fetchProperties:{sort:[{"attribute":cell.field||cell.name}],queryOptions:lang.mixin({ignoreCase:true,deep:true},g.queryOptions||{})}});}}else{if(type=="boolean"){lang.mixin(res,this.dlg.builder.defaultArgs["boolean"]);}}if(cell&&cell.dataTypeArgs){lang.mixin(res,cell.dataTypeArgs);}return res;},formatValue:function(type,cond,v){if(cond=="isempty"){return "";}if(type=="date"||type=="time"){var opt={selector:type},fmt=_94e.format;if(cond=="range"){return _94d.substitute(this.plugin.nls.rangeTemplate,[fmt(v.start,opt),fmt(v.end,opt)]);}return fmt(v,opt);}else{if(type=="boolean"){return v?this._curValueBox._lblTrue:this._curValueBox._lblFalse;}}return v;},_getValueBoxClsInfo:function(_993,type){var cell=this.plugin.grid.layout.cells[parseInt(_993,10)];if(type=="string"){return (cell&&(cell.suggestion||cell.autoComplete))?"ac":"dft";}return "dft";}});var _994=_949("dojox.grid.enhanced.plugins.filter.UniqueComboBox",_951,{_openResultList:function(_995){var _996={},s=this.store,_997=this.searchAttr;arguments[0]=_94a.filter(_995,function(item){var key=s.getValue(item,_997),_998=_996[key];_996[key]=true;return !_998;});this.inherited(arguments);},_onKey:function(evt){if(evt.charOrCode===keys.ENTER&&this._opened){_94c.stop(evt);}this.inherited(arguments);}});var _999=_949("dojox.grid.enhanced.plugins.filter.BooleanValueBox",[_959,_95a,_95b],{templateString:_961,widgetsInTemplate:true,constructor:function(args){var nls=args.cbox.plugin.nls;this._baseId=args.cbox.id;this._lblTrue=args.trueLabel||nls.trueLabel||"true";this._lblFalse=args.falseLabel||nls.falseLabel||"false";this.args=args;},postCreate:function(){this.onChange();},onChange:function(){},get:function(prop){return this.rbTrue.get("checked");},set:function(prop,v){this.inherited(arguments);if(prop=="value"){this.rbTrue.set("checked",!!v);this.rbFalse.set("checked",!v);}}});var _99a=_949("dojox.grid.enhanced.plugins.filter.FilterDefDialog",null,{curColIdx:-1,_relOpCls:"logicall",_savedCriterias:null,plugin:null,constructor:function(args){var _99b=this.plugin=args.plugin;this.builder=new _94f();this._setupData();this._cboxes=[];this.defaultType=_99b.args.defaultType||"string";(this.filterDefPane=new _975({"dlg":this})).startup();(this._defPane=new _950({"refNode":this.plugin.grid.domNode,"title":_99b.nls.filterDefDialogTitle,"class":"dojoxGridFDTitlePane","iconClass":"dojoxGridFDPaneIcon","content":this.filterDefPane})).startup();this._defPane.connect(_99b.grid.layer("filter"),"filterDef",lang.hitch(this,"_onSetFilter"));_99b.grid.setFilter=lang.hitch(this,"setFilter");_99b.grid.getFilter=lang.hitch(this,"getFilter");_99b.grid.getFilterRelation=lang.hitch(this,function(){return this._relOpCls;});_99b.connect(_99b.grid.layout,"moveColumn",lang.hitch(this,"onMoveColumn"));},onMoveColumn:function(_99c,_99d,_99e,_99f,_9a0){if(this._savedCriterias&&_99e!=_99f){if(_9a0){--_99f;}var min=_99e<_99f?_99e:_99f;var max=_99e<_99f?_99f:_99e;var dir=_99f>min?1:-1;_94a.forEach(this._savedCriterias,function(sc){var idx=parseInt(sc.column,10);if(!isNaN(idx)&&idx>=min&&idx<=max){sc.column=String(idx==_99e?idx+(max-min)*dir:idx-dir);}});}},destroy:function(){this._defPane.destroyRecursive();this._defPane=null;this.filterDefPane=null;this.builder=null;this._dataTypeMap=null;this._cboxes=null;var g=this.plugin.grid;g.setFilter=null;g.getFilter=null;g.getFilterRelation=null;this.plugin=null;},_setupData:function(){var nls=this.plugin.nls;this._dataTypeMap={"number":{valueBoxCls:{dft:_953},conditions:[{label:nls.conditionEqual,value:"equalto",selected:true},{label:nls.conditionNotEqual,value:"notequalto"},{label:nls.conditionLess,value:"lessthan"},{label:nls.conditionLessEqual,value:"lessthanorequalto"},{label:nls.conditionLarger,value:"largerthan"},{label:nls.conditionLargerEqual,value:"largerthanorequalto"},{label:nls.conditionIsEmpty,value:"isempty"}]},"string":{valueBoxCls:{dft:_952,ac:_994},conditions:[{label:nls.conditionContains,value:"contains",selected:true},{label:nls.conditionIs,value:"equalto"},{label:nls.conditionStartsWith,value:"startswith"},{label:nls.conditionEndWith,value:"endswith"},{label:nls.conditionNotContain,value:"notcontains"},{label:nls.conditionIsNot,value:"notequalto"},{label:nls.conditionNotStartWith,value:"notstartswith"},{label:nls.conditionNotEndWith,value:"notendswith"},{label:nls.conditionIsEmpty,value:"isempty"}]},"date":{valueBoxCls:{dft:_954},conditions:[{label:nls.conditionIs,value:"equalto",selected:true},{label:nls.conditionBefore,value:"lessthan"},{label:nls.conditionAfter,value:"largerthan"},{label:nls.conditionRange,value:"range"},{label:nls.conditionIsEmpty,value:"isempty"}]},"time":{valueBoxCls:{dft:_955},conditions:[{label:nls.conditionIs,value:"equalto",selected:true},{label:nls.conditionBefore,value:"lessthan"},{label:nls.conditionAfter,value:"largerthan"},{label:nls.conditionRange,value:"range"},{label:nls.conditionIsEmpty,value:"isempty"}]},"boolean":{valueBoxCls:{dft:_999},conditions:[{label:nls.conditionIs,value:"equalto",selected:true},{label:nls.conditionIsEmpty,value:"isempty"}]}};},setFilter:function(_9a1,_9a2){_9a1=_9a1||[];if(!lang.isArray(_9a1)){_9a1=[_9a1];}var func=function(){if(_9a1.length){this._savedCriterias=_94a.map(_9a1,function(rule){var type=rule.type||this.defaultType;return {"type":type,"column":String(rule.column),"condition":rule.condition,"value":rule.value,"colTxt":this.getColumnLabelByValue(String(rule.column)),"condTxt":this.getConditionLabelByValue(type,rule.condition),"formattedVal":rule.formattedVal||rule.value};},this);this._criteriasChanged=true;if(_9a2==="logicall"||_9a2==="logicany"){this._relOpCls=_9a2;}var _9a3=_94a.map(_9a1,this.getExprForCriteria,this);_9a3=this.builder.buildExpression(_9a3.length==1?_9a3[0]:{"op":this._relOpCls,"data":_9a3});this.plugin.grid.layer("filter").filterDef(_9a3);this.plugin.filterBar.toggleClearFilterBtn(false);}this._closeDlgAndUpdateGrid();};if(this._savedCriterias){this._clearWithoutRefresh=true;var _9a4=_94b.connect(this,"clearFilter",this,function(){_94b.disconnect(_9a4);this._clearWithoutRefresh=false;func.apply(this);});this.onClearFilter();}else{func.apply(this);}},getFilter:function(){return lang.clone(this._savedCriterias)||[];},getColumnLabelByValue:function(v){var nls=this.plugin.nls;if(v.toLowerCase()=="anycolumn"){return nls["anyColumnOption"];}else{var cell=this.plugin.grid.layout.cells[parseInt(v,10)];return cell?(cell.name||cell.field):"";}},getConditionLabelByValue:function(type,c){var _9a5=this._dataTypeMap[type].conditions;for(var i=_9a5.length-1;i>=0;--i){var cond=_9a5[i];if(cond.value==c.toLowerCase()){return cond.label;}}return "";},addCriteriaBoxes:function(cnt){if(typeof cnt!="number"||cnt<=0){return;}var cbs=this._cboxes,cc=this.filterDefPane.cboxContainer,_9a6=this.plugin.args.ruleCount,len=cbs.length,cbox;if(_9a6>0&&len+cnt>_9a6){cnt=_9a6-len;}for(;cnt>0;--cnt){cbox=new _976({dlg:this});cbs.push(cbox);cc.addChild(cbox);}cc.startup();this._updatePane();this._updateCBoxTitles();cc.selectChild(cbs[cbs.length-1]);this.filterDefPane.criteriaPane.scrollTop=1000000;if(cbs.length===4){if(has("ie")<=6&&!this.__alreadyResizedForIE6){var size=html.position(cc.domNode);size.w-=_95d.getScrollbar().w;cc.resize(size);this.__alreadyResizedForIE6=true;}else{cc.resize();}}},removeCriteriaBoxes:function(cnt,_9a7){var cbs=this._cboxes,cc=this.filterDefPane.cboxContainer,len=cbs.length,_9a8=len-cnt,end=len-1,cbox,_9a9=_94a.indexOf(cbs,cc.selectedChildWidget.content);if(lang.isArray(cnt)){var i,_9aa=cnt;_9aa.sort();cnt=_9aa.length;for(i=len-1;i>=0&&_94a.indexOf(_9aa,i)>=0;--i){}if(i>=0){if(i!=_9a9){cc.selectChild(cbs[i]);}for(i=cnt-1;i>=0;--i){if(_9aa[i]>=0&&_9aa[i]<len){cc.removeChild(cbs[_9aa[i]]);cbs.splice(_9aa[i],1);}}}_9a8=cbs.length;}else{if(_9a7===true){if(cnt>=0&&cnt<len){_9a8=end=cnt;cnt=1;}else{return;}}else{if(cnt instanceof _976){cbox=cnt;cnt=1;_9a8=end=_94a.indexOf(cbs,cbox);}else{if(typeof cnt!="number"||cnt<=0){return;}else{if(cnt>=len){cnt=end;_9a8=1;}}}}if(end<_9a8){return;}if(_9a9>=_9a8&&_9a9<=end){cc.selectChild(cbs[_9a8?_9a8-1:end+1]);}for(;end>=_9a8;--end){cc.removeChild(cbs[end]);}cbs.splice(_9a8,cnt);}this._updatePane();this._updateCBoxTitles();if(cbs.length===3){cc.resize();}},getCriteria:function(idx){if(typeof idx!="number"){return this._savedCriterias?this._savedCriterias.length:0;}if(this._savedCriterias&&this._savedCriterias[idx]){return lang.mixin({relation:this._relOpCls=="logicall"?this.plugin.nls.and:this.plugin.nls.or},this._savedCriterias[idx]);}return null;},getExprForCriteria:function(rule){if(rule.column=="anycolumn"){var _9ab=_94a.filter(this.plugin.grid.layout.cells,function(cell){return !(cell.filterable===false||cell.hidden);});return {"op":"logicany","data":_94a.map(_9ab,function(cell){return this.getExprForColumn(rule.value,cell.index,rule.type,rule.condition);},this)};}else{return this.getExprForColumn(rule.value,rule.column,rule.type,rule.condition);}},getExprForColumn:function(_9ac,_9ad,type,_9ae){_9ad=parseInt(_9ad,10);var cell=this.plugin.grid.layout.cells[_9ad],_9af=cell.field||cell.name,obj={"datatype":type||this.getColumnType(_9ad),"args":cell.dataTypeArgs,"isColumn":true},_9b0=[lang.mixin({"data":this.plugin.args.isServerSide?_9af:cell},obj)];obj.isColumn=false;if(_9ae=="range"){_9b0.push(lang.mixin({"data":_9ac.start},obj),lang.mixin({"data":_9ac.end},obj));}else{if(_9ae!="isempty"){_9b0.push(lang.mixin({"data":_9ac},obj));}}return {"op":_9ae,"data":_9b0};},getColumnType:function(_9b1){var cell=this.plugin.grid.layout.cells[parseInt(_9b1,10)];if(!cell||!cell.datatype){return this.defaultType;}var type=String(cell.datatype).toLowerCase();return this._dataTypeMap[type]?type:this.defaultType;},clearFilter:function(_9b2){if(!this._savedCriterias){return;}this._savedCriterias=null;this.plugin.grid.layer("filter").filterDef(null);try{this.plugin.filterBar.toggleClearFilterBtn(true);this.filterDefPane._clearFilterBtn.set("disabled",true);this.removeCriteriaBoxes(this._cboxes.length-1);this._cboxes[0].load({});}catch(e){}if(_9b2){this.closeDialog();}else{this._closeDlgAndUpdateGrid();}},showDialog:function(_9b3){this._defPane.show();this.plugin.filterStatusTip.closeDialog();this._prepareDialog(_9b3);},closeDialog:function(){if(this._defPane.open){this._defPane.hide();}},onFilter:function(e){if(this.canFilter()){this._defineFilter();this._closeDlgAndUpdateGrid();this.plugin.filterBar.toggleClearFilterBtn(false);}},onClearFilter:function(e){if(this._savedCriterias){if(this._savedCriterias.length>=this.plugin.ruleCountToConfirmClearFilter){this.plugin.clearFilterDialog.show();}else{this.clearFilter(this._clearWithoutRefresh);}}},onCancel:function(e){var sc=this._savedCriterias;var cbs=this._cboxes;if(sc){this.addCriteriaBoxes(sc.length-cbs.length);this.removeCriteriaBoxes(cbs.length-sc.length);_94a.forEach(sc,function(c,i){cbs[i].load(c);});}else{this.removeCriteriaBoxes(cbs.length-1);cbs[0].load({});}this.closeDialog();},onRendered:function(cbox){if(!has("ff")){var _9b4=_95e._getTabNavigable(html.byId(cbox.domNode));_95c.focus(_9b4.lowest||_9b4.first);}else{var dp=this._defPane;dp._getFocusItems(dp.domNode);_95c.focus(dp._firstFocusItem);}},_onSetFilter:function(_9b5){if(_9b5===null&&this._savedCriterias){this.clearFilter();}},_prepareDialog:function(_9b6){var sc=this._savedCriterias,cbs=this._cboxes,i,cbox;this.curColIdx=_9b6;if(!sc){if(cbs.length===0){this.addCriteriaBoxes(1);}else{for(i=0;(cbox=cbs[i]);++i){cbox.changeCurrentColumn();}}}else{if(this._criteriasChanged){this.filterDefPane._relSelect.set("value",this._relOpCls==="logicall"?"0":"1");this._criteriasChanged=false;var _9b7=sc.length>cbs.length?sc.length-cbs.length:0;this.addCriteriaBoxes(_9b7);this.removeCriteriaBoxes(cbs.length-sc.length);this.filterDefPane._clearFilterBtn.set("disabled",false);for(i=0;i<cbs.length-_9b7;++i){cbs[i].load(sc[i]);}if(_9b7>0){var _9b8=[],_9b9=_94b.connect(this,"onRendered",function(cbox){var i=_94a.indexOf(cbs,cbox);if(!_9b8[i]){_9b8[i]=true;if(--_9b7===0){_94b.disconnect(_9b9);}cbox.load(sc[i]);}});}}}this.filterDefPane.cboxContainer.resize();},_defineFilter:function(){var cbs=this._cboxes,_9ba=function(_9bb){return _94a.filter(_94a.map(cbs,function(cbox){return cbox[_9bb]();}),function(_9bc){return !!_9bc;});},_9bd=_9ba("getExpr");this._savedCriterias=_9ba("save");_9bd=_9bd.length==1?_9bd[0]:{"op":this._relOpCls,"data":_9bd};_9bd=this.builder.buildExpression(_9bd);this.plugin.grid.layer("filter").filterDef(_9bd);this.filterDefPane._clearFilterBtn.set("disabled",false);},_updateCBoxTitles:function(){for(var cbs=this._cboxes,i=cbs.length;i>0;--i){cbs[i-1].updateRuleIndex(i);cbs[i-1].setAriaInfo(i);}},_updatePane:function(){var cbs=this._cboxes,_9be=this.filterDefPane;_9be._addCBoxBtn.set("disabled",cbs.length==this.plugin.args.ruleCount);_9be._filterBtn.set("disabled",!this.canFilter());},canFilter:function(){return _94a.filter(this._cboxes,function(cbox){return !cbox.isEmpty();}).length>0;},_closeDlgAndUpdateGrid:function(){this.closeDialog();var g=this.plugin.grid;g.showMessage(g.loadingMessage);setTimeout(lang.hitch(g,g._refresh),this._defPane.duration+10);}});return _99a;});},"dojo/date/locale":function(){define(["../_base/lang","../_base/array","../date","../cldr/supplemental","../i18n","../regexp","../string","../i18n!../cldr/nls/gregorian","module"],function(lang,_9bf,date,_9c0,i18n,_9c1,_9c2,_9c3,_9c4){var _9c5={};lang.setObject(_9c4.id.replace(/\//g,"."),_9c5);function _9c6(_9c7,_9c8,_9c9,_9ca){return _9ca.replace(/([a-z])\1*/ig,function(_9cb){var s,pad,c=_9cb.charAt(0),l=_9cb.length,_9cc=["abbr","wide","narrow"];switch(c){case "G":s=_9c8[(l<4)?"eraAbbr":"eraNames"][_9c7.getFullYear()<0?0:1];break;case "y":s=_9c7.getFullYear();switch(l){case 1:break;case 2:if(!_9c9.fullYear){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_9c7.getMonth()+1)/3);pad=true;break;case "M":case "L":var m=_9c7.getMonth();if(l<3){s=m+1;pad=true;}else{var _9cd=["months",c=="L"?"standAlone":"format",_9cc[l-3]].join("-");s=_9c8[_9cd][m];}break;case "w":var _9ce=0;s=_9c5._getWeekOfYear(_9c7,_9ce);pad=true;break;case "d":s=_9c7.getDate();pad=true;break;case "D":s=_9c5._getDayOfYear(_9c7);pad=true;break;case "e":case "c":var d=_9c7.getDay();if(l<2){s=(d-_9c0.getFirstDayOfWeek(_9c9.locale)+8)%7;break;}case "E":d=_9c7.getDay();if(l<3){s=d+1;pad=true;}else{var _9cf=["days",c=="c"?"standAlone":"format",_9cc[l-3]].join("-");s=_9c8[_9cf][d];}break;case "a":var _9d0=_9c7.getHours()<12?"am":"pm";s=_9c9[_9d0]||_9c8["dayPeriods-format-wide-"+_9d0];break;case "h":case "H":case "K":case "k":var h=_9c7.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_9c7.getMinutes();pad=true;break;case "s":s=_9c7.getSeconds();pad=true;break;case "S":s=Math.round(_9c7.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=_9c5._getZone(_9c7,true,_9c9);if(s){break;}l=4;case "Z":var _9d1=_9c5._getZone(_9c7,false,_9c9);var tz=[(_9d1<=0?"+":"-"),_9c2.pad(Math.floor(Math.abs(_9d1)/60),2),_9c2.pad(Math.abs(_9d1)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_9ca);}if(pad){s=_9c2.pad(s,l);}return s;});};_9c5._getZone=function(_9d2,_9d3,_9d4){if(_9d3){return date.getTimezoneName(_9d2);}else{return _9d2.getTimezoneOffset();}};_9c5.format=function(_9d5,_9d6){_9d6=_9d6||{};var _9d7=i18n.normalizeLocale(_9d6.locale),_9d8=_9d6.formatLength||"short",_9d9=_9c5._getGregorianBundle(_9d7),str=[],_9da=lang.hitch(this,_9c6,_9d5,_9d9,_9d6);if(_9d6.selector=="year"){return _9db(_9d9["dateFormatItem-yyyy"]||"yyyy",_9da);}var _9dc;if(_9d6.selector!="date"){_9dc=_9d6.timePattern||_9d9["timeFormat-"+_9d8];if(_9dc){str.push(_9db(_9dc,_9da));}}if(_9d6.selector!="time"){_9dc=_9d6.datePattern||_9d9["dateFormat-"+_9d8];if(_9dc){str.push(_9db(_9dc,_9da));}}return str.length==1?str[0]:_9d9["dateTimeFormat-"+_9d8].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(_9dd,key){return str[key];});};_9c5.regexp=function(_9de){return _9c5._parseInfo(_9de).regexp;};_9c5._parseInfo=function(_9df){_9df=_9df||{};var _9e0=i18n.normalizeLocale(_9df.locale),_9e1=_9c5._getGregorianBundle(_9e0),_9e2=_9df.formatLength||"short",_9e3=_9df.datePattern||_9e1["dateFormat-"+_9e2],_9e4=_9df.timePattern||_9e1["timeFormat-"+_9e2],_9e5;if(_9df.selector=="date"){_9e5=_9e3;}else{if(_9df.selector=="time"){_9e5=_9e4;}else{_9e5=_9e1["dateTimeFormat-"+_9e2].replace(/\{(\d+)\}/g,function(_9e6,key){return [_9e4,_9e3][key];});}}var _9e7=[],re=_9db(_9e5,lang.hitch(this,_9e8,_9e7,_9e1,_9df));return {regexp:re,tokens:_9e7,bundle:_9e1};};_9c5.parse=function(_9e9,_9ea){var _9eb=/[\u200E\u200F\u202A\u202E]/g,info=_9c5._parseInfo(_9ea),_9ec=info.tokens,_9ed=info.bundle,re=new RegExp("^"+info.regexp.replace(_9eb,"")+"$",info.strict?"":"i"),_9ee=re.exec(_9e9&&_9e9.replace(_9eb,""));if(!_9ee){return null;}var _9ef=["abbr","wide","narrow"],_9f0=[1970,0,1,0,0,0,0],amPm="",_9f1=_9bf.every(_9ee,function(v,i){if(!i){return true;}var _9f2=_9ec[i-1],l=_9f2.length,c=_9f2.charAt(0);switch(c){case "y":if(l!=2&&_9ea.strict){_9f0[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear(),_9f3=year.substring(0,2)*100,_9f4=Math.min(Number(year.substring(2,4))+20,99);_9f0[0]=(v<_9f4)?_9f3+v:_9f3-100+v;}else{if(_9ea.strict){return false;}_9f0[0]=v;}}break;case "M":case "L":if(l>2){var _9f5=_9ed["months-"+(c=="L"?"standAlone":"format")+"-"+_9ef[l-3]].concat();if(!_9ea.strict){v=v.replace(".","").toLowerCase();_9f5=_9bf.map(_9f5,function(s){return s.replace(".","").toLowerCase();});}v=_9bf.indexOf(_9f5,v);if(v==-1){return false;}}else{v--;}_9f0[1]=v;break;case "E":case "e":case "c":var days=_9ed["days-"+(c=="c"?"standAlone":"format")+"-"+_9ef[l-3]].concat();if(!_9ea.strict){v=v.toLowerCase();days=_9bf.map(days,function(d){return d.toLowerCase();});}v=_9bf.indexOf(days,v);if(v==-1){return false;}break;case "D":_9f0[1]=0;case "d":_9f0[2]=v;break;case "a":var am=_9ea.am||_9ed["dayPeriods-format-wide-am"],pm=_9ea.pm||_9ed["dayPeriods-format-wide-pm"];if(!_9ea.strict){var _9f6=/\./g;v=v.replace(_9f6,"").toLowerCase();am=am.replace(_9f6,"").toLowerCase();pm=pm.replace(_9f6,"").toLowerCase();}if(_9ea.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_9f0[3]=v;break;case "m":_9f0[4]=v;break;case "s":_9f0[5]=v;break;case "S":_9f0[6]=v;}return true;});var _9f7=+_9f0[3];if(amPm==="p"&&_9f7<12){_9f0[3]=_9f7+12;}else{if(amPm==="a"&&_9f7==12){_9f0[3]=0;}}var _9f8=new Date(_9f0[0],_9f0[1],_9f0[2],_9f0[3],_9f0[4],_9f0[5],_9f0[6]);if(_9ea.strict){_9f8.setFullYear(_9f0[0]);}var _9f9=_9ec.join(""),_9fa=_9f9.indexOf("d")!=-1,_9fb=_9f9.indexOf("M")!=-1;if(!_9f1||(_9fb&&_9f8.getMonth()>_9f0[1])||(_9fa&&_9f8.getDate()>_9f0[2])){return null;}if((_9fb&&_9f8.getMonth()<_9f0[1])||(_9fa&&_9f8.getDate()<_9f0[2])){_9f8=date.add(_9f8,"hour",1);}return _9f8;};function _9db(_9fc,_9fd,_9fe,_9ff){var _a00=function(x){return x;};_9fd=_9fd||_a00;_9fe=_9fe||_a00;_9ff=_9ff||_a00;var _a01=_9fc.match(/(''|[^'])+/g),_a02=_9fc.charAt(0)=="'";_9bf.forEach(_a01,function(_a03,i){if(!_a03){_a01[i]="";}else{_a01[i]=(_a02?_9fe:_9fd)(_a03.replace(/''/g,"'"));_a02=!_a02;}});return _9ff(_a01.join(""));};function _9e8(_a04,_a05,_a06,_a07){_a07=_9c1.escapeString(_a07);if(!_a06.strict){_a07=_a07.replace(" a"," ?a");}return _a07.replace(/([a-z])\1*/ig,function(_a08){var s,c=_a08.charAt(0),l=_a08.length,p2="",p3="";if(_a06.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":case "L":s=(l>2)?"\\S+?":"1[0-2]|"+p2+"[1-9]";break;case "D":s="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p2+"[1-9][0-9]|"+p3+"[1-9]";break;case "d":s="3[01]|[12]\\d|"+p2+"[1-9]";break;case "w":s="[1-4][0-9]|5[0-3]|"+p2+"[1-9]";break;case "E":case "e":case "c":s=".+?";break;case "h":s="1[0-2]|"+p2+"[1-9]";break;case "k":s="1[01]|"+p2+"\\d";break;case "H":s="1\\d|2[0-3]|"+p2+"\\d";break;case "K":s="1\\d|2[0-4]|"+p2+"[1-9]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_a06.am||_a05["dayPeriods-format-wide-am"],pm=_a06.pm||_a05["dayPeriods-format-wide-pm"];s=am+"|"+pm;if(!_a06.strict){if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_a04){_a04.push(_a08);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};var _a09=[];_9c5.addCustomFormats=function(_a0a,_a0b){_a09.push({pkg:_a0a,name:_a0b});};_9c5._getGregorianBundle=function(_a0c){var _a0d={};_9bf.forEach(_a09,function(desc){var _a0e=i18n.getLocalization(desc.pkg,desc.name,_a0c);_a0d=lang.mixin(_a0d,_a0e);},this);return _a0d;};_9c5.addCustomFormats(_9c4.id.replace(/\/date\/locale$/,".cldr"),"gregorian");_9c5.getNames=function(item,type,_a0f,_a10){var _a11,_a12=_9c5._getGregorianBundle(_a10),_a13=[item,_a0f,type];if(_a0f=="standAlone"){var key=_a13.join("-");_a11=_a12[key];if(_a11[0]==1){_a11=undefined;}}_a13[1]="format";return (_a11||_a12[_a13.join("-")]).concat();};_9c5.isWeekend=function(_a14,_a15){var _a16=_9c0.getWeekend(_a15),day=(_a14||new Date()).getDay();if(_a16.end<_a16.start){_a16.end+=7;if(day<_a16.start){day+=7;}}return day>=_a16.start&&day<=_a16.end;};_9c5._getDayOfYear=function(_a17){return date.difference(new Date(_a17.getFullYear(),0,1,_a17.getHours()),_a17)+1;};_9c5._getWeekOfYear=function(_a18,_a19){if(arguments.length==1){_a19=0;}var _a1a=new Date(_a18.getFullYear(),0,1).getDay(),adj=(_a1a-_a19+7)%7,week=Math.floor((_9c5._getDayOfYear(_a18)+adj-1)/7);if(_a1a==_a19){week++;}return week;};return _9c5;});},"dojo/date":function(){define(["./has","./_base/lang"],function(has,lang){var date={};date.getDaysInMonth=function(_a1b){var _a1c=_a1b.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_a1c==1&&date.isLeapYear(_a1b)){return 29;}return days[_a1c];};date.isLeapYear=function(_a1d){var year=_a1d.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};date.getTimezoneName=function(_a1e){var str=_a1e.toString();var tz="";var _a1f;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_a1f=str.match(pat))){tz=_a1f[1];}else{str=_a1e.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_a1f=str.match(pat))){tz=_a1f[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};date.compare=function(_a20,_a21,_a22){_a20=new Date(+_a20);_a21=new Date(+(_a21||new Date()));if(_a22=="date"){_a20.setHours(0,0,0,0);_a21.setHours(0,0,0,0);}else{if(_a22=="time"){_a20.setFullYear(0,0,0);_a21.setFullYear(0,0,0);}}if(_a20>_a21){return 1;}if(_a20<_a21){return -1;}return 0;};date.add=function(date,_a23,_a24){var sum=new Date(+date);var _a25=false;var _a26="Date";switch(_a23){case "day":break;case "weekday":var days,_a27;var mod=_a24%5;if(!mod){days=(_a24>0)?5:-5;_a27=(_a24>0)?((_a24-5)/5):((_a24+5)/5);}else{days=mod;_a27=parseInt(_a24/5);}var strt=date.getDay();var adj=0;if(strt==6&&_a24>0){adj=1;}else{if(strt==0&&_a24<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_a24>0)?2:-2;}_a24=(7*_a27)+days+adj;break;case "year":_a26="FullYear";_a25=true;break;case "week":_a24*=7;break;case "quarter":_a24*=3;case "month":_a25=true;_a26="Month";break;default:_a26="UTC"+_a23.charAt(0).toUpperCase()+_a23.substring(1)+"s";}if(_a26){sum["set"+_a26](sum["get"+_a26]()+_a24);}if(_a25&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};date.difference=function(_a28,_a29,_a2a){_a29=_a29||new Date();_a2a=_a2a||"day";var _a2b=_a29.getFullYear()-_a28.getFullYear();var _a2c=1;switch(_a2a){case "quarter":var m1=_a28.getMonth();var m2=_a29.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_a2b*4);_a2c=q2-q1;break;case "weekday":var days=Math.round(date.difference(_a28,_a29,"day"));var _a2d=parseInt(date.difference(_a28,_a29,"week"));var mod=days%7;if(mod==0){days=_a2d*5;}else{var adj=0;var aDay=_a28.getDay();var bDay=_a29.getDay();_a2d=parseInt(days/7);mod=days%7;var _a2e=new Date(_a28);_a2e.setDate(_a2e.getDate()+(_a2d*7));var _a2f=_a2e.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_a2f+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_a2f+mod)<0:adj=2;}}}days+=adj;days-=(_a2d*2);}_a2c=days;break;case "year":_a2c=_a2b;break;case "month":_a2c=(_a29.getMonth()-_a28.getMonth())+(_a2b*12);break;case "week":_a2c=parseInt(date.difference(_a28,_a29,"day")/7);break;case "day":_a2c/=24;case "hour":_a2c/=60;case "minute":_a2c/=60;case "second":_a2c/=1000;case "millisecond":_a2c*=_a29.getTime()-_a28.getTime();}return Math.round(_a2c);};1&&lang.mixin(lang.getObject("dojo.date",true),date);return date;});},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(lang,i18n){var _a30={};lang.setObject("dojo.cldr.supplemental",_a30);_a30.getFirstDayOfWeek=function(_a31){var _a32={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0};var _a33=_a30._region(_a31);var dow=_a32[_a33];return (dow===undefined)?1:dow;};_a30._region=function(_a34){_a34=i18n.normalizeLocale(_a34);var tags=_a34.split("-");var _a35=tags[1];if(!_a35){_a35={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[tags[0]];}else{if(_a35.length==4){_a35=tags[2];}}return _a35;};_a30.getWeekend=function(_a36){var _a37={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5},_a38={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6},_a39=_a30._region(_a36),_a3a=_a37[_a39],end=_a38[_a39];if(_a3a===undefined){_a3a=6;}if(end===undefined){end=0;}return {start:_a3a,end:end};};return _a30;});},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(dojo,lang){var _a3b={};lang.setObject("dojo.regexp",_a3b);_a3b.escapeString=function(str,_a3c){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_a3c&&_a3c.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};_a3b.buildGroupRE=function(arr,re,_a3d){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return _a3b.group(b.join("|"),_a3d);};_a3b.group=function(_a3e,_a3f){return "("+(_a3f?"?:":"")+_a3e+")";};return _a3b;});},"dojox/grid/enhanced/plugins/filter/FilterBuilder":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","./_FilterExpr"],function(_a40,_a41,lang,_a42){var bdr=function(_a43){return lang.partial(function(cls,_a44){return new _a42[cls](_a44);},_a43);},_a45=function(_a46){return lang.partial(function(cls,_a47){return new _a42.LogicNOT(new _a42[cls](_a47));},_a46);};return _a40("dojox.grid.enhanced.plugins.filter.FilterBuilder",null,{buildExpression:function(def){if("op" in def){return this.supportedOps[def.op.toLowerCase()](_a41.map(def.data,this.buildExpression,this));}else{var args=lang.mixin(this.defaultArgs[def.datatype],def.args||{});return new this.supportedTypes[def.datatype](def.data,def.isColumn,args);}},supportedOps:{"equalto":bdr("EqualTo"),"lessthan":bdr("LessThan"),"lessthanorequalto":bdr("LessThanOrEqualTo"),"largerthan":bdr("LargerThan"),"largerthanorequalto":bdr("LargerThanOrEqualTo"),"contains":bdr("Contains"),"startswith":bdr("StartsWith"),"endswith":bdr("EndsWith"),"notequalto":_a45("EqualTo"),"notcontains":_a45("Contains"),"notstartswith":_a45("StartsWith"),"notendswith":_a45("EndsWith"),"isempty":bdr("IsEmpty"),"range":function(_a48){return new _a42.LogicALL(new _a42.LargerThanOrEqualTo(_a48.slice(0,2)),new _a42.LessThanOrEqualTo(_a48[0],_a48[2]));},"logicany":bdr("LogicANY"),"logicall":bdr("LogicALL")},supportedTypes:{"number":_a42.NumberExpr,"string":_a42.StringExpr,"boolean":_a42.BooleanExpr,"date":_a42.DateExpr,"time":_a42.TimeExpr},defaultArgs:{"boolean":{"falseValue":"false","convert":function(_a49,args){var _a4a=args.falseValue;var _a4b=args.trueValue;if(lang.isString(_a49)){if(_a4b&&_a49.toLowerCase()==_a4b){return true;}if(_a4a&&_a49.toLowerCase()==_a4a){return false;}}return !!_a49;}}}});});},"dojox/grid/enhanced/plugins/filter/_FilterExpr":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/date","./_DataExprs"],function(_a4c,lang,date,_a4d){var _a4e=_a4c("dojox.grid.enhanced.plugins.filter.LogicAND",_a4d._BiOpExpr,{_name:"and",_calculate:function(_a4f,_a50,_a51,_a52){var res=_a4f.applyRow(_a51,_a52).getValue()&&_a50.applyRow(_a51,_a52).getValue();return new _a4d.BooleanExpr(res);}});var _a53=_a4c("dojox.grid.enhanced.plugins.filter.LogicOR",_a4d._BiOpExpr,{_name:"or",_calculate:function(_a54,_a55,_a56,_a57){var res=_a54.applyRow(_a56,_a57).getValue()||_a55.applyRow(_a56,_a57).getValue();return new _a4d.BooleanExpr(res);}});var _a58=_a4c("dojox.grid.enhanced.plugins.filter.LogicXOR",_a4d._BiOpExpr,{_name:"xor",_calculate:function(_a59,_a5a,_a5b,_a5c){var _a5d=_a59.applyRow(_a5b,_a5c).getValue();var _a5e=_a5a.applyRow(_a5b,_a5c).getValue();return new _a4d.BooleanExpr((!!_a5d)!=(!!_a5e));}});var _a5f=_a4c("dojox.grid.enhanced.plugins.filter.LogicNOT",_a4d._UniOpExpr,{_name:"not",_calculate:function(_a60,_a61,_a62){return new _a4d.BooleanExpr(!_a60.applyRow(_a61,_a62).getValue());}});var _a63=_a4c("dojox.grid.enhanced.plugins.filter.LogicALL",_a4d._OperatorExpr,{_name:"all",applyRow:function(_a64,_a65){for(var i=0,res=true;res&&(this._operands[i] instanceof _a4d._ConditionExpr);++i){res=this._operands[i].applyRow(_a64,_a65).getValue();}return new _a4d.BooleanExpr(res);}});var _a66=_a4c("dojox.grid.enhanced.plugins.filter.LogicANY",_a4d._OperatorExpr,{_name:"any",applyRow:function(_a67,_a68){for(var i=0,res=false;!res&&(this._operands[i] instanceof _a4d._ConditionExpr);++i){res=this._operands[i].applyRow(_a67,_a68).getValue();}return new _a4d.BooleanExpr(res);}});function _a69(left,_a6a,row,_a6b){left=left.applyRow(row,_a6b);_a6a=_a6a.applyRow(row,_a6b);var _a6c=left.getValue();var _a6d=_a6a.getValue();if(left instanceof _a4d.TimeExpr){return date.compare(_a6c,_a6d,"time");}else{if(left instanceof _a4d.DateExpr){return date.compare(_a6c,_a6d,"date");}else{if(left instanceof _a4d.StringExpr){_a6c=_a6c.toLowerCase();_a6d=String(_a6d).toLowerCase();}return _a6c==_a6d?0:(_a6c<_a6d?-1:1);}}};var _a6e=_a4c("dojox.grid.enhanced.plugins.filter.EqualTo",_a4d._BiOpExpr,{_name:"equal",_calculate:function(_a6f,_a70,_a71,_a72){var res=_a69(_a6f,_a70,_a71,_a72);return new _a4d.BooleanExpr(res===0);}});var _a73=_a4c("dojox.grid.enhanced.plugins.filter.LessThan",_a4d._BiOpExpr,{_name:"less",_calculate:function(_a74,_a75,_a76,_a77){var res=_a69(_a74,_a75,_a76,_a77);return new _a4d.BooleanExpr(res<0);}});var _a78=_a4c("dojox.grid.enhanced.plugins.filter.LessThanOrEqualTo",_a4d._BiOpExpr,{_name:"lessEqual",_calculate:function(_a79,_a7a,_a7b,_a7c){var res=_a69(_a79,_a7a,_a7b,_a7c);return new _a4d.BooleanExpr(res<=0);}});var _a7d=_a4c("dojox.grid.enhanced.plugins.filter.LargerThan",_a4d._BiOpExpr,{_name:"larger",_calculate:function(_a7e,_a7f,_a80,_a81){var res=_a69(_a7e,_a7f,_a80,_a81);return new _a4d.BooleanExpr(res>0);}});var _a82=_a4c("dojox.grid.enhanced.plugins.filter.LargerThanOrEqualTo",_a4d._BiOpExpr,{_name:"largerEqual",_calculate:function(_a83,_a84,_a85,_a86){var res=_a69(_a83,_a84,_a85,_a86);return new _a4d.BooleanExpr(res>=0);}});var _a87=_a4c("dojox.grid.enhanced.plugins.filter.Contains",_a4d._BiOpExpr,{_name:"contains",_calculate:function(_a88,_a89,_a8a,_a8b){var _a8c=String(_a88.applyRow(_a8a,_a8b).getValue()).toLowerCase();var _a8d=String(_a89.applyRow(_a8a,_a8b).getValue()).toLowerCase();return new _a4d.BooleanExpr(_a8c.indexOf(_a8d)>=0);}});var _a8e=_a4c("dojox.grid.enhanced.plugins.filter.StartsWith",_a4d._BiOpExpr,{_name:"startsWith",_calculate:function(_a8f,_a90,_a91,_a92){var _a93=String(_a8f.applyRow(_a91,_a92).getValue()).toLowerCase();var _a94=String(_a90.applyRow(_a91,_a92).getValue()).toLowerCase();return new _a4d.BooleanExpr(_a93.substring(0,_a94.length)==_a94);}});var _a95=_a4c("dojox.grid.enhanced.plugins.filter.EndsWith",_a4d._BiOpExpr,{_name:"endsWith",_calculate:function(_a96,_a97,_a98,_a99){var _a9a=String(_a96.applyRow(_a98,_a99).getValue()).toLowerCase();var _a9b=String(_a97.applyRow(_a98,_a99).getValue()).toLowerCase();return new _a4d.BooleanExpr(_a9a.substring(_a9a.length-_a9b.length)==_a9b);}});var _a9c=_a4c("dojox.grid.enhanced.plugins.filter.Matches",_a4d._BiOpExpr,{_name:"matches",_calculate:function(_a9d,_a9e,_a9f,_aa0){var _aa1=String(_a9d.applyRow(_a9f,_aa0).getValue());var _aa2=new RegExp(_a9e.applyRow(_a9f,_aa0).getValue());return new _a4d.BooleanExpr(_aa1.search(_aa2)>=0);}});var _aa3=_a4c("dojox.grid.enhanced.plugins.filter.IsEmpty",_a4d._UniOpExpr,{_name:"isEmpty",_calculate:function(_aa4,_aa5,_aa6){var res=_aa4.applyRow(_aa5,_aa6).getValue();return new _a4d.BooleanExpr(res===""||res==null);}});return lang.mixin({LogicAND:_a4e,LogicOR:_a53,LogicXOR:_a58,LogicNOT:_a5f,LogicALL:_a63,LogicANY:_a66,EqualTo:_a6e,LessThan:_a73,LessThanOrEqualTo:_a78,LargerThan:_a7d,LargerThanOrEqualTo:_a82,Contains:_a87,StartsWith:_a8e,EndsWith:_a95,Matches:_a9c,IsEmpty:_aa3},_a4d);});},"dojox/grid/enhanced/plugins/filter/_DataExprs":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/date/locale","./_ConditionExpr"],function(_aa7,lang,_aa8,_aa9){var _aaa=_aa7("dojox.grid.enhanced.plugins.filter.BooleanExpr",_aa9._DataExpr,{_name:"bool",_convertData:function(_aab){return !!_aab;}});var _aac=_aa7("dojox.grid.enhanced.plugins.filter.StringExpr",_aa9._DataExpr,{_name:"string",_convertData:function(_aad){return String(_aad);}});var _aae=_aa7("dojox.grid.enhanced.plugins.filter.NumberExpr",_aa9._DataExpr,{_name:"number",_convertDataToExpr:function(_aaf){return parseFloat(_aaf);}});var _ab0=_aa7("dojox.grid.enhanced.plugins.filter.DateExpr",_aa9._DataExpr,{_name:"date",_convertData:function(_ab1){if(_ab1 instanceof Date){return _ab1;}else{if(typeof _ab1=="number"){return new Date(_ab1);}else{var res=_aa8.parse(String(_ab1),lang.mixin({selector:this._name},this._convertArgs));if(!res){throw new Error("Datetime parse failed: "+_ab1);}return res;}}},toObject:function(){if(this._value instanceof Date){var tmp=this._value;this._value=this._value.valueOf();var res=this.inherited(arguments);this._value=tmp;return res;}else{return this.inherited(arguments);}}});var _ab2=_aa7("dojox.grid.enhanced.plugins.filter.TimeExpr",_ab0,{_name:"time"});return lang.mixin({BooleanExpr:_aaa,StringExpr:_aac,NumberExpr:_aae,DateExpr:_ab0,TimeExpr:_ab2},_aa9);});},"dojox/grid/enhanced/plugins/filter/_ConditionExpr":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array"],function(_ab3,lang,_ab4){var _ab5=_ab3("dojox.grid.enhanced.plugins.filter._ConditionExpr",null,{_name:"expr",applyRow:function(_ab6,_ab7){throw new Error("_ConditionExpr.applyRow: unimplemented interface");},toObject:function(){return {};},getName:function(){return this._name;}});var _ab8=_ab3("dojox.grid.enhanced.plugins.filter._DataExpr",_ab5,{_name:"data",constructor:function(_ab9,_aba,_abb){this._convertArgs=_abb||{};if(lang.isFunction(this._convertArgs.convert)){this._convertData=lang.hitch(this._convertArgs.scope,this._convertArgs.convert);}if(_aba){this._colArg=_ab9;}else{this._value=this._convertData(_ab9,this._convertArgs);}},getValue:function(){return this._value;},applyRow:function(_abc,_abd){return typeof this._colArg=="undefined"?this:new (lang.getObject(this.declaredClass))(this._convertData(_abd(_abc,this._colArg),this._convertArgs));},_convertData:function(_abe){return _abe;},toObject:function(){return {op:this.getName(),data:this._colArg===undefined?this._value:this._colArg,isCol:this._colArg!==undefined};}});var _abf=_ab3("dojox.grid.enhanced.plugins.filter._OperatorExpr",_ab5,{_name:"operator",constructor:function(){if(lang.isArray(arguments[0])){this._operands=arguments[0];}else{this._operands=[];for(var i=0;i<arguments.length;++i){this._operands.push(arguments[i]);}}},toObject:function(){return {op:this.getName(),data:_ab4.map(this._operands,function(_ac0){return _ac0.toObject();})};}});var _ac1=_ab3("dojox.grid.enhanced.plugins.filter._UniOpExpr",_abf,{_name:"uniOperator",applyRow:function(_ac2,_ac3){if(!(this._operands[0] instanceof _ab5)){throw new Error("_UniOpExpr: operand is not expression.");}return this._calculate(this._operands[0],_ac2,_ac3);},_calculate:function(_ac4,_ac5,_ac6){throw new Error("_UniOpExpr._calculate: unimplemented interface");}});var _ac7=_ab3("dojox.grid.enhanced.plugins.filter._BiOpExpr",_abf,{_name:"biOperator",applyRow:function(_ac8,_ac9){if(!(this._operands[0] instanceof _ab5)){throw new Error("_BiOpExpr: left operand is not expression.");}else{if(!(this._operands[1] instanceof _ab5)){throw new Error("_BiOpExpr: right operand is not expression.");}}return this._calculate(this._operands[0],this._operands[1],_ac8,_ac9);},_calculate:function(_aca,_acb,_acc,_acd){throw new Error("_BiOpExpr._calculate: unimplemented interface");}});return {_ConditionExpr:_ab5,_DataExpr:_ab8,_OperatorExpr:_abf,_UniOpExpr:_ac1,_BiOpExpr:_ac7};});},"dijit/form/ComboBox":function(){define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(_ace,_acf,_ad0){return _ace("dijit.form.ComboBox",[_acf,_ad0],{});});},"dijit/form/ValidationTextBox":function(){define(["dojo/_base/declare","dojo/_base/kernel","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_ad1,_ad2,i18n,_ad3,_ad4,_ad5){var _ad6;return _ad6=_ad1("dijit.form.ValidationTextBox",_ad3,{templateString:_ad5,required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(attr,_ad7){if(_ad7!=_ad6.prototype[attr]){_ad2.deprecated("ValidationTextBox id="+this.id+", set('"+attr+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0");this.set("pattern",_ad7);}},_setRegExpGenAttr:function(_ad8){this._deprecateRegExp("regExpGen",_ad8);this._set("regExpGen",this._computeRegexp);},_setRegExpAttr:function(_ad9){this._deprecateRegExp("regExp",_ad9);},_setValueAttr:function(){this.inherited(arguments);this._refreshState();},validator:function(_ada,_adb){return (new RegExp("^(?:"+this._computeRegexp(_adb)+")"+(this.required?"":"?")+"$")).test(_ada)&&(!this.required||!this._isEmpty(_ada))&&(this._isEmpty(_ada)||this.parse(_ada,_adb)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"));},_isEmpty:function(_adc){return (this.trim?/^\s*$/:/^$/).test(_adc);},getErrorMessage:function(){var _add=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;var _ade=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_add:this.missingMessage;return (this.required&&this._isEmpty(this.textbox.value))?_ade:_add;},getPromptMessage:function(){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_adf){var _ae0="";var _ae1=this.disabled||this.isValid(_adf);if(_ae1){this._maskValidSubsetError=true;}var _ae2=this._isEmpty(this.textbox.value);var _ae3=!_ae1&&_adf&&this._isValidSubset();this._set("state",_ae1?"":(((((!this._hasBeenBlurred||_adf)&&_ae2)||_ae3)&&(this._maskValidSubsetError||(_ae3&&!this._hasBeenBlurred&&_adf)))?"Incomplete":"Error"));this.focusNode.setAttribute("aria-invalid",_ae1?"false":"true");if(this.state=="Error"){this._maskValidSubsetError=_adf&&_ae3;_ae0=this.getErrorMessage(_adf);}else{if(this.state=="Incomplete"){_ae0=this.getPromptMessage(_adf);this._maskValidSubsetError=!this._hasBeenBlurred||_adf;}else{if(_ae2){_ae0=this.getPromptMessage(_adf);}}}this.set("message",_ae0);return _ae1;},displayMessage:function(_ae4){if(_ae4&&this.focused){_ad4.show(_ae4,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_ad4.hide(this.domNode);}},_refreshState:function(){if(this._created){this.validate(this.focused);}this.inherited(arguments);},constructor:function(_ae5){this.constraints={};this.baseClass+=" dijitValidationTextBox";},startup:function(){this.inherited(arguments);this._refreshState();},_setConstraintsAttr:function(_ae6){if(!_ae6.locale&&this.lang){_ae6.locale=this.lang;}this._set("constraints",_ae6);this._refreshState();},_setPatternAttr:function(_ae7){this._set("pattern",_ae7);},_computeRegexp:function(_ae8){var p=this.pattern;if(typeof p=="function"){p=p.call(this,_ae8);}if(p!=this._lastRegExp){var _ae9="";this._lastRegExp=p;if(p!=".*"){p.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_ae9+=re;break;case ")":_ae9+="|$)";break;default:_ae9+="(?:"+re+"|$)";break;}});}try{"".search(_ae9);}catch(e){_ae9=this.pattern;console.warn("RegExp error in "+this.declaredClass+": "+this.pattern);}this._partialre="^(?:"+_ae9+")$";}return p;},postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_aea){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_aeb){this._set("required",_aeb);this.focusNode.setAttribute("aria-required",_aeb);this._refreshState();},_setMessageAttr:function(_aec){this._set("message",_aec);this.displayMessage(_aec);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});});},"dijit/form/TextBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(_aed,_aee,_aef,_af0,lang,on,has,_af1,_af2,_af3,_af4){var _af5=_aed("dijit.form.TextBox"+(has("dojo-bidi")?"_NoBidi":""),[_af1,_af2],{templateString:_af3,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:has("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==this.constructor.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(has("ie")<9){this.defer(function(){try{var s=_aef.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _af6=this.domNode.getElementsByTagName("INPUT");if(_af6){for(var i=0;i<_af6.length;i++){_af6[i].style.fontFamily=ff;}}}}}catch(e){}});}},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=_aee.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");this.own(on(this._phspan,"mousedown",function(evt){evt.preventDefault();}),on(this._phspan,"touchend, MSPointerUp",lang.hitch(this,function(){this.focus();})));}this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));this._updatePlaceHolder();},_onInput:function(evt){this.inherited(arguments);this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this.textbox.value)?"":"none";}},_setValueAttr:function(_af7,_af8,_af9){this.inherited(arguments);this._updatePlaceHolder();},getDisplayedValue:function(){_af0.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue");},setDisplayedValue:function(_afa){_af0.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_afa);},_onBlur:function(e){if(this.disabled){return;}this.inherited(arguments);this._updatePlaceHolder();if(has("mozilla")){if(this.selectOnClick){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}}},_onFocus:function(by){if(this.disabled||this.readOnly){return;}this.inherited(arguments);this._updatePlaceHolder();}});if(has("ie")<9){_af5.prototype._isTextSelected=function(){var _afb=this.ownerDocument.selection.createRange();var _afc=_afb.parentElement();return _afc==this.textbox&&_afb.text.length>0;};_af4._setSelectionRange=_af2._setSelectionRange=function(_afd,_afe,stop){if(_afd.createTextRange){var r=_afd.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_afe);r.moveEnd("character",stop-_afe);r.select();}};}if(has("dojo-bidi")){_af5=_aed("dijit.form.TextBox",_af5,{_setPlaceHolderAttr:function(v){this.inherited(arguments);this.applyTextDir(this._phspan);}});}return _af5;});},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_aff,has,_b00,_b01){return _aff("dijit.form._FormValueWidget",[_b00,_b01],{_layoutHackIE7:function(){if(has("ie")==7){var _b02=this.domNode;var _b03=_b02.parentNode;var _b04=_b02.firstChild||_b02;var _b05=_b04.style.filter;var _b06=this;while(_b03&&_b03.clientHeight==0){(function ping(){var _b07=_b06.connect(_b03,"onscroll",function(){_b06.disconnect(_b07);_b04.style.filter=(new Date()).getMilliseconds();_b06.defer(function(){_b04.style.filter=_b05;});});})();_b03=_b03.parentNode;}}}});});},"dijit/form/_FormWidget":function(){define(["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_b08,has,_b09,_b0a,_b0b,_b0c,_b0d,_b0e){if(has("dijit-legacy-requires")){_b0a(0,function(){var _b0f=["dijit/form/_FormValueWidget"];require(_b0f);});}return _b08("dijit.form._FormWidget",[_b0b,_b0d,_b0c,_b0e],{setDisabled:function(_b10){_b09.deprecated("setDisabled("+_b10+") is deprecated. Use set('disabled',"+_b10+") instead.","","2.0");this.set("disabled",_b10);},setValue:function(_b11){_b09.deprecated("dijit.form._FormWidget:setValue("+_b11+") is deprecated.  Use set('value',"+_b11+") instead.","","2.0");this.set("value",_b11);},getValue:function(){_b09.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=(this.name&&!has("msapp"))?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);}});});},"dijit/form/_FormWidgetMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(_b12,_b13,_b14,_b15,lang,_b16,on,has,_b17,a11y){return _b13("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_b18){this._set("disabled",_b18);_b14.set(this.focusNode,"disabled",_b18);if(this.valueNode){_b14.set(this.valueNode,"disabled",_b18);}this.focusNode.setAttribute("aria-disabled",_b18?"true":"false");if(_b18){this._set("hovering",false);this._set("active",false);var _b19="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_b12.forEach(lang.isArray(_b19)?_b19:[_b19],function(_b1a){var node=this[_b1a];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _b1b=this.own(on(this.focusNode,"focus",function(){_b1c.remove();_b1b.remove();}))[0];var _b1c=this.own(on(this.ownerDocumentBody,"mouseup, touchend",lang.hitch(this,function(evt){_b1c.remove();_b1b.remove();if(this.focused){if(evt.type=="touchend"){this.defer("focus");}else{this.focus();}}})))[0];}if(this.scrollOnFocus){this.defer(function(){_b17.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_b15.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_b1d,_b1e){if(this._lastValueReported==undefined&&(_b1e===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_b1d;}this._pendingOnChange=this._pendingOnChange||(typeof _b1d!=typeof this._lastValueReported)||(this.compare(_b1d,this._lastValueReported)!=0);if((this.intermediateChanges||_b1e||_b1e===undefined)&&this._pendingOnChange){this._lastValueReported=_b1d;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_b1d);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","./_FormWidgetMixin"],function(_b1f,_b20,keys,lang,on,_b21){return _b1f("dijit.form._FormValueMixin",_b21,{readOnly:false,_setReadOnlyAttr:function(_b22){_b20.set(this.focusNode,"readOnly",_b22);this._set("readOnly",_b22);},postCreate:function(){this.inherited(arguments);if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_b23,_b24){this._handleOnChange(_b23,_b24);},_handleOnChange:function(_b25,_b26){this._set("value",_b25);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);}});});},"dijit/form/_TextBoxMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(_b27,_b28,dom,has,keys,lang,on,_b29){var _b2a=_b28("dijit.form._TextBoxMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_b2b,_b2c,_b2d){var _b2e;if(_b2b!==undefined){_b2e=this.filter(_b2b);if(typeof _b2d!="string"){if(_b2e!==null&&((typeof _b2e!="number")||!isNaN(_b2e))){_b2d=this.filter(this.format(_b2e,this.constraints));}else{_b2d="";}}}if(_b2d!=null&&((typeof _b2d)!="number"||!isNaN(_b2d))&&this.textbox.value!=_b2d){this.textbox.value=_b2d;this._set("displayedValue",this.get("displayedValue"));}this.inherited(arguments,[_b2e,_b2c]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_b2f){if(_b2f==null){_b2f="";}else{if(typeof _b2f!="string"){_b2f=String(_b2f);}}this.textbox.value=_b2f;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));},format:function(_b30){return _b30==null?"":(_b30.toString?_b30.toString():_b30);},parse:function(_b31){return _b31;},_refreshState:function(){},onInput:function(){},__skipInputEvent:false,_onInput:function(evt){this._processInput(evt);if(this.intermediateChanges){this.defer(function(){this._handleOnChange(this.get("value"),false);});}},_processInput:function(evt){this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);var _b32=function(e){var _b33;if(e.type=="keydown"){_b33=e.keyCode;switch(_b33){case keys.SHIFT:case keys.ALT:case keys.CTRL:case keys.META:case keys.CAPS_LOCK:case keys.NUM_LOCK:case keys.SCROLL_LOCK:return;}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(_b33){case keys.NUMPAD_0:case keys.NUMPAD_1:case keys.NUMPAD_2:case keys.NUMPAD_3:case keys.NUMPAD_4:case keys.NUMPAD_5:case keys.NUMPAD_6:case keys.NUMPAD_7:case keys.NUMPAD_8:case keys.NUMPAD_9:case keys.NUMPAD_MULTIPLY:case keys.NUMPAD_PLUS:case keys.NUMPAD_ENTER:case keys.NUMPAD_MINUS:case keys.NUMPAD_PERIOD:case keys.NUMPAD_DIVIDE:return;}if((_b33>=65&&_b33<=90)||(_b33>=48&&_b33<=57)||_b33==keys.SPACE){return;}var _b34=false;for(var i in keys){if(keys[i]===e.keyCode){_b34=true;break;}}if(!_b34){return;}}}_b33=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode;if(!_b33){_b33=(e.keyCode>=65&&e.keyCode<=90)||(e.keyCode>=48&&e.keyCode<=57)||e.keyCode==keys.SPACE?String.fromCharCode(e.keyCode):e.keyCode;}if(!_b33){_b33=229;}if(e.type=="keypress"){if(typeof _b33!="string"){return;}if((_b33>="a"&&_b33<="z")||(_b33>="A"&&_b33<="Z")||(_b33>="0"&&_b33<="9")||(_b33===" ")){if(e.ctrlKey||e.metaKey||e.altKey){return;}}}if(e.type=="input"){if(this.__skipInputEvent){this.__skipInputEvent=false;return;}}else{this.__skipInputEvent=true;}var faux={faux:true},attr;for(attr in e){if(attr!="layerX"&&attr!="layerY"){var v=e[attr];if(typeof v!="function"&&typeof v!="undefined"){faux[attr]=v;}}}lang.mixin(faux,{charOrCode:_b33,_wasConsumed:false,preventDefault:function(){faux._wasConsumed=true;e.preventDefault();},stopPropagation:function(){e.stopPropagation();}});if(this.onInput(faux)===false){faux.preventDefault();faux.stopPropagation();}if(faux._wasConsumed){return;}this.defer(function(){this._onInput(faux);});if(e.type=="keypress"){e.stopPropagation();}};this.own(on(this.textbox,"keydown, keypress, paste, cut, input, compositionend",lang.hitch(this,_b32)));},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=lang.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd;},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=on.once(this.domNode,"mouseup, touchend",lang.hitch(this,function(evt){if(!this._isTextSelected()){_b2a.selectInputText(this.textbox);}}));this.own(this._selectOnClickHandle);this.defer(function(){if(this._selectOnClickHandle){this._selectOnClickHandle.remove();this._selectOnClickHandle=null;}},500);}this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);}});if(has("dojo-bidi")){_b2a=_b28("dijit.form._TextBoxMixin",_b2a,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode);},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode);},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments);}});}_b2a._setSelectionRange=_b29._setSelectionRange=function(_b35,_b36,stop){if(_b35.setSelectionRange){_b35.setSelectionRange(_b36,stop);}};_b2a.selectInputText=_b29.selectInputText=function(_b37,_b38,stop){_b37=dom.byId(_b37);if(isNaN(_b38)){_b38=0;}if(isNaN(stop)){stop=_b37.value?_b37.value.length:0;}try{_b37.focus();_b2a._setSelectionRange(_b37,_b38,stop);}catch(e){}};return _b2a;});},"dijit/Tooltip":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(_b39,_b3a,fx,dom,_b3b,_b3c,_b3d,lang,_b3e,on,has,_b3f,_b40,_b41,_b42,_b43,_b44,_b45){var _b46=_b3a("dijit._MasterTooltip",[_b41,_b42],{duration:_b3f.defaultDuration,templateString:_b44,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _b43(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_b47,_b48,_b49,rtl,_b4a){if(this.aroundNode&&this.aroundNode===_b48&&this.containerNode.innerHTML==_b47){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_b47;if(_b4a){this.set("textDir",_b4a);}this.containerNode.align=rtl?"right":"left";var pos=_b40.around(this.domNode,_b48,_b49&&_b49.length?_b49:_b4b.defaultPosition,!rtl,lang.hitch(this,"orient"));var _b4c=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_b4c.y+((_b4c.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_b4c.x+((_b4c.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_b3d.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_b48;},orient:function(node,_b4d,_b4e,_b4f,_b50){this.connectorNode.style.top="";var _b51=_b4f.h,_b52=_b4f.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_b4d+"-"+_b4e];this.domNode.style.width="auto";var size=_b3c.position(this.domNode);if(has("ie")==9){size.w+=2;}var _b53=Math.min((Math.max(_b52,1)),size.w);_b3c.setMarginBox(this.domNode,{w:_b53});if(_b4e.charAt(0)=="B"&&_b4d.charAt(0)=="B"){var bb=_b3c.position(node);var _b54=this.connectorNode.offsetHeight;if(bb.h>_b51){var _b55=_b51-((_b50.h+_b54)>>1);this.connectorNode.style.top=_b55+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_b50.h/2-_b54/2,0),bb.h-_b54)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_b52);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_b56){if(this._onDeck&&this._onDeck[1]==_b56){this._onDeck=null;}else{if(this.aroundNode===_b56){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});if(has("dojo-bidi")){_b46.extend({_setAutoTextDir:function(node){this.applyTextDir(node);_b39.forEach(node.children,function(_b57){this._setAutoTextDir(_b57);},this);},_setTextDirAttr:function(_b58){this._set("textDir",_b58);if(_b58=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});}_b45.showTooltip=function(_b59,_b5a,_b5b,rtl,_b5c){if(_b5b){_b5b=_b39.map(_b5b,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_b4b._masterTT){_b45._masterTT=_b4b._masterTT=new _b46();}return _b4b._masterTT.show(_b59,_b5a,_b5b,rtl,_b5c);};_b45.hideTooltip=function(_b5d){return _b4b._masterTT&&_b4b._masterTT.hide(_b5d);};var _b4b=_b3a("dijit.Tooltip",_b41,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(_b5e){_b39.forEach(this._connections||[],function(_b5f){_b39.forEach(_b5f,function(_b60){_b60.remove();});},this);this._connectIds=_b39.filter(lang.isArrayLike(_b5e)?_b5e:(_b5e?[_b5e]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=_b39.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_b61=this.selector,_b62=_b61?function(_b63){return on.selector(_b61,_b63);}:function(_b64){return _b64;},self=this;return [on(node,_b62(_b3e.enter),function(){self._onHover(this);}),on(node,_b62("focusin"),function(){self._onHover(this);}),on(node,_b62(_b3e.leave),lang.hitch(self,"_onUnHover")),on(node,_b62("focusout"),lang.hitch(self,"_onUnHover"))];},this);this._set("connectId",_b5e);},addTarget:function(node){var id=node.id||node;if(_b39.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_b39.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_b3b.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_b39.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},_onHover:function(_b65){if(!this._showTimer){this._showTimer=this.defer(function(){this.open(_b65);},this.showDelay);}},_onUnHover:function(){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}this.close();},open:function(_b66){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}var _b67=this.getContent(_b66);if(!_b67){return;}_b4b.show(_b67,_b66,this.position,!this.isLeftToRight(),this.textDir);this._connectNode=_b66;this.onShow(_b66,this.position);},close:function(){if(this._connectNode){_b4b.hide(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}},onShow:function(){},onHide:function(){},destroy:function(){this.close();_b39.forEach(this._connections||[],function(_b68){_b39.forEach(_b68,function(_b69){_b69.remove();});},this);this.inherited(arguments);}});_b4b._MasterTooltip=_b46;_b4b.show=_b45.showTooltip;_b4b.hide=_b45.hideTooltip;_b4b.defaultPosition=["after-centered","before-centered"];return _b4b;});},"dijit/place":function(){define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_b6a,_b6b,_b6c,_b6d,win,_b6e,_b6f){function _b70(node,_b71,_b72,_b73){var view=_b6e.getEffectiveBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_b6a.some(_b71,function(_b74){var _b75=_b74.corner;var pos=_b74.pos;var _b76=0;var _b77={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_b75.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_b75.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_b72){var res=_b72(node,_b74.aroundCorner,_b75,_b77,_b73);_b76=typeof res=="undefined"?0:res;}var _b78=node.style;var _b79=_b78.display;var _b7a=_b78.visibility;if(_b78.display=="none"){_b78.visibility="hidden";_b78.display="";}var bb=_b6b.position(node);_b78.display=_b79;_b78.visibility=_b7a;var _b7b={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_b75.charAt(1)],_b7c={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_b75.charAt(0)],_b7d=Math.max(view.l,_b7b),_b7e=Math.max(view.t,_b7c),endX=Math.min(view.l+view.w,_b7b+bb.w),endY=Math.min(view.t+view.h,_b7c+bb.h),_b7f=endX-_b7d,_b80=endY-_b7e;_b76+=(bb.w-_b7f)+(bb.h-_b80);if(best==null||_b76<best.overflow){best={corner:_b75,aroundCorner:_b74.aroundCorner,x:_b7d,y:_b7e,w:_b7f,h:_b80,overflow:_b76,spaceAvailable:_b77};}return !_b76;});if(best.overflow&&_b72){_b72(node,best.aroundCorner,best.corner,best.spaceAvailable,_b73);}var l=_b6b.isBodyLtr(node.ownerDocument),top=best.y,side=l?best.x:view.w-best.x-best.w;if(/relative|absolute/.test(_b6c.get(win.body(node.ownerDocument),"position"))){top-=_b6c.get(win.body(node.ownerDocument),"marginTop");side-=(l?1:-1)*_b6c.get(win.body(node.ownerDocument),l?"marginLeft":"marginRight");}var s=node.style;s.top=top+"px";s[l?"left":"right"]=side+"px";s[l?"right":"left"]="auto";return best;};var _b81={"TL":"BR","TR":"BL","BL":"TR","BR":"TL"};var _b82={at:function(node,pos,_b83,_b84,_b85){var _b86=_b6a.map(_b83,function(_b87){var c={corner:_b87,aroundCorner:_b81[_b87],pos:{x:pos.x,y:pos.y}};if(_b84){c.pos.x+=_b87.charAt(1)=="L"?_b84.x:-_b84.x;c.pos.y+=_b87.charAt(0)=="T"?_b84.y:-_b84.y;}return c;});return _b70(node,_b86,_b85);},around:function(node,_b88,_b89,_b8a,_b8b){var _b8c;if(typeof _b88=="string"||"offsetWidth" in _b88){_b8c=_b6b.position(_b88,true);if(/^(above|below)/.test(_b89[0])){var _b8d=_b6b.getBorderExtents(_b88),_b8e=_b88.firstChild?_b6b.getBorderExtents(_b88.firstChild):{t:0,l:0,b:0,r:0},_b8f=_b6b.getBorderExtents(node),_b90=node.firstChild?_b6b.getBorderExtents(node.firstChild):{t:0,l:0,b:0,r:0};_b8c.y+=Math.min(_b8d.t+_b8e.t,_b8f.t+_b90.t);_b8c.h-=Math.min(_b8d.t+_b8e.t,_b8f.t+_b90.t)+Math.min(_b8d.b+_b8e.b,_b8f.b+_b90.b);}}else{_b8c=_b88;}if(_b88.parentNode){var _b91=_b6c.getComputedStyle(_b88).position=="absolute";var _b92=_b88.parentNode;while(_b92&&_b92.nodeType==1&&_b92.nodeName!="BODY"){var _b93=_b6b.position(_b92,true),pcs=_b6c.getComputedStyle(_b92);if(/relative|absolute/.test(pcs.position)){_b91=false;}if(!_b91&&/hidden|auto|scroll/.test(pcs.overflow)){var _b94=Math.min(_b8c.y+_b8c.h,_b93.y+_b93.h);var _b95=Math.min(_b8c.x+_b8c.w,_b93.x+_b93.w);_b8c.x=Math.max(_b8c.x,_b93.x);_b8c.y=Math.max(_b8c.y,_b93.y);_b8c.h=_b94-_b8c.y;_b8c.w=_b95-_b8c.x;}if(pcs.position=="absolute"){_b91=true;}_b92=_b92.parentNode;}}var x=_b8c.x,y=_b8c.y,_b96="w" in _b8c?_b8c.w:(_b8c.w=_b8c.width),_b97="h" in _b8c?_b8c.h:(_b6d.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_b8c.height+", width:"+_b96+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_b8c.height+", w:"+_b96+" }","","2.0"),_b8c.h=_b8c.height);var _b98=[];function push(_b99,_b9a){_b98.push({aroundCorner:_b99,corner:_b9a,pos:{x:{"L":x,"R":x+_b96,"M":x+(_b96>>1)}[_b99.charAt(1)],y:{"T":y,"B":y+_b97,"M":y+(_b97>>1)}[_b99.charAt(0)]}});};_b6a.forEach(_b89,function(pos){var ltr=_b8a;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _b9b=_b70(node,_b98,_b8b,{w:_b96,h:_b97});_b9b.aroundNodePos=_b8c;return _b9b;}};return _b6f.place=_b82;});},"dijit/form/ComboBoxMixin":function(){define(["dojo/_base/declare","dojo/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(_b9c,_b9d,_b9e,lang,_b9f,_ba0,_ba1,_ba2,_ba3){return _b9c("dijit.form.ComboBoxMixin",[_ba2,_ba0],{dropDownClass:_ba1,hasDownArrow:true,templateString:_ba3,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_setHasDownArrowAttr:function(val){this._set("hasDownArrow",val);this._buttonNode.style.display=val?"":"none";},_showResultList:function(){this.displayMessage("");this.inherited(arguments);},_setStoreAttr:function(_ba4){if(!_ba4.get){lang.mixin(_ba4,{_oldAPI:true,get:function(id){var _ba5=new _b9d();this.fetchItemByIdentity({identity:id,onItem:function(_ba6){_ba5.resolve(_ba6);},onError:function(_ba7){_ba5.reject(_ba7);}});return _ba5.promise;},query:function(_ba8,_ba9){var _baa=new _b9d(function(){_bab.abort&&_bab.abort();});_baa.total=new _b9d();var _bab=this.fetch(lang.mixin({query:_ba8,onBegin:function(_bac){_baa.total.resolve(_bac);},onComplete:function(_bad){_baa.resolve(_bad);},onError:function(_bae){_baa.reject(_bae);}},_ba9));return _b9f(_baa);}});}this._set("store",_ba4);},postMixInProperties:function(){var _baf=this.params.store||this.store;if(_baf){this._setStoreAttr(_baf);}this.inherited(arguments);if(!this.params.store&&!this.store._oldAPI){var _bb0=this.declaredClass;lang.mixin(this.store,{getValue:function(item,attr){_b9e.deprecated(_bb0+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return item[attr];},getLabel:function(item){_b9e.deprecated(_bb0+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return item.name;},fetch:function(args){_b9e.deprecated(_bb0+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");var shim=["dojo/data/ObjectStore"];require(shim,lang.hitch(this,function(_bb1){new _bb1({objectStore:this}).fetch(args);}));}});}}});});},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(_bb2,lang,when){var _bb3=function(_bb4){if(!_bb4){return _bb4;}if(_bb4.then){_bb4=lang.delegate(_bb4);}function _bb5(_bb6){if(!_bb4[_bb6]){_bb4[_bb6]=function(){var args=arguments;return when(_bb4,function(_bb7){Array.prototype.unshift.call(args,_bb7);return _bb3(_bb2[_bb6].apply(_bb2,args));});};}};_bb5("forEach");_bb5("filter");_bb5("map");if(!_bb4.total){_bb4.total=when(_bb4,function(_bb8){return _bb8.length;});}return _bb4;};lang.setObject("dojo.store.util.QueryResults",_bb3);return _bb3;});},"dijit/form/_AutoCompleterMixin":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","./DataList","./_TextBoxMixin","./_SearchMixin"],function(_bb9,_bba,_bbb,keys,lang,_bbc,_bbd,has,_bbe,_bbf,_bc0){var _bc1=_bba("dijit.form._AutoCompleterMixin",_bc0,{item:null,autoComplete:true,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_bc2){var pos=0;if(typeof (_bc2.selectionStart)=="number"){pos=_bc2.selectionStart;}else{if(has("ie")){var tr=_bc2.ownerDocument.selection.createRange().duplicate();var ntr=_bc2.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_bc3,_bc4){_bc4=parseInt(_bc4);_bbf.selectInputText(_bc3,_bc4,_bc4);},_setDisabledAttr:function(_bc5){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",_bc5?"true":"false");},_onKey:function(evt){if(evt.charCode>=32){return;}var key=evt.charCode||evt.keyCode;if(key==keys.ALT||key==keys.CTRL||key==keys.META||key==keys.SHIFT){return;}var pw=this.dropDown;var _bc6=null;this._abortQuery();this.inherited(arguments);if(evt.altKey||evt.ctrlKey||evt.metaKey){return;}if(this._opened){_bc6=pw.getHighlightedOption();}switch(key){case keys.PAGE_DOWN:case keys.DOWN_ARROW:case keys.PAGE_UP:case keys.UP_ARROW:if(this._opened){this._announceOption(_bc6);}evt.stopPropagation();evt.preventDefault();break;case keys.ENTER:if(_bc6){if(_bc6==pw.nextButton){this._nextSearch(1);evt.stopPropagation();evt.preventDefault();break;}else{if(_bc6==pw.previousButton){this._nextSearch(-1);evt.stopPropagation();evt.preventDefault();break;}}evt.stopPropagation();evt.preventDefault();}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}case keys.TAB:var _bc7=this.get("displayedValue");if(pw&&(_bc7==pw._messages["previousMessage"]||_bc7==pw._messages["nextMessage"])){break;}if(_bc6){this._selectOption(_bc6);}case keys.ESCAPE:if(this._opened){this._lastQuery=null;this.closeDropDown();}break;}},_autoCompleteText:function(text){var fn=this.focusNode;_bbf.selectInputText(fn,fn.value.length);var _bc8=this.ignoreCase?"toLowerCase":"substr";if(text[_bc8](0).indexOf(this.focusNode.value[_bc8](0))==0){var cpos=this.autoComplete?this._getCaretPos(fn):fn.value.length;if((cpos+1)>fn.value.length){fn.value=text;_bbf.selectInputText(fn,cpos);}}else{fn.value=text;_bbf.selectInputText(fn);}},_openResultList:function(_bc9,_bca,_bcb){var _bcc=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();if(!_bc9.length&&_bcb.start==0){this.closeDropDown();return;}this._nextSearch=this.dropDown.onPage=lang.hitch(this,function(_bcd){_bc9.nextPage(_bcd!==-1);this.focus();});this.dropDown.createOptions(_bc9,_bcb,lang.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if("direction" in _bcb){if(_bcb.direction){this.dropDown.highlightFirstOption();}else{if(!_bcb.direction){this.dropDown.highlightLastOption();}}if(_bcc){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_bca[this.searchAttr].toString())){this._announceOption(this.dropDown.containerNode.firstChild.nextSibling);}}},_showResultList:function(){this.closeDropDown(true);this.openDropDown();this.domNode.setAttribute("aria-expanded","true");},loadDropDown:function(){this._startSearchAll();},isLoaded:function(){return false;},closeDropDown:function(){this._abortQuery();if(this._opened){this.inherited(arguments);this.domNode.setAttribute("aria-expanded","false");}},_setBlurValue:function(){var _bce=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_bce==pw._messages["previousMessage"]||_bce==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_bce);}else{if(this.value!=this._lastValueReported){this._handleOnChange(this.value,true);}this._refreshState();}}this.focusNode.removeAttribute("aria-activedescendant");},_setItemAttr:function(item,_bcf,_bd0){var _bd1="";if(item){if(!_bd0){_bd0=this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr];}_bd1=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_bd0;}this.set("value",_bd1,_bcf,_bd0,item);},_announceOption:function(node){if(!node){return;}var _bd2;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_bd2=node.innerHTML;this.item=undefined;this.value="";}else{var item=this.dropDown.items[node.getAttribute("item")];_bd2=(this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr]).toString();this.set("item",item,false,_bd2);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",_bbb.get(node,"id"));this._autoCompleteText(_bd2);},_selectOption:function(_bd3){this.closeDropDown();if(_bd3){this._announceOption(_bd3);}this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,true);this.focusNode.removeAttribute("aria-activedescendant");},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this.item=undefined;this.inherited(arguments);},_startSearch:function(key){if(!this.dropDown){var _bd4=this.id+"_popup",_bd5=lang.isString(this.dropDownClass)?lang.getObject(this.dropDownClass,false):this.dropDownClass;this.dropDown=new _bd5({onChange:lang.hitch(this,this._selectOption),id:_bd4,dir:this.dir,textDir:this.textDir});}this._lastInput=key;this.inherited(arguments);},_getValueField:function(){return this.searchAttr;},postMixInProperties:function(){this.inherited(arguments);if(!this.store){var _bd6=this.srcNodeRef;this.store=new _bbe({},_bd6);if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _bd7=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(item,_bd7):item[_bd7];}}}},postCreate:function(){var _bd8=_bbc("label[for=\""+this.id+"\"]");if(_bd8.length){if(!_bd8[0].id){_bd8[0].id=this.id+"_label";}this.domNode.setAttribute("aria-labelledby",_bd8[0].id);}this.inherited(arguments);_bb9.after(this,"onSearch",lang.hitch(this,"_openResultList"),true);},_getMenuLabelFromItem:function(item){var _bd9=this.labelFunc(item,this.store),_bda=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_bd9=this.doHighlight(_bd9,this._lastInput);_bda="html";}return {html:_bda=="html",label:_bd9};},doHighlight:function(_bdb,find){var _bdc=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=_bbd.escapeString(find);return this._escapeHtml(_bdb.replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_bdc),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_bdd){return (_bdd._oldAPI?_bdd.getValue(item,this.labelAttr||this.searchAttr):item[this.labelAttr||this.searchAttr]).toString();},_setValueAttr:function(_bde,_bdf,_be0,item){this._set("item",item||null);if(_bde==null){_bde="";}this.inherited(arguments);}});if(has("dojo-bidi")){_bc1.extend({_setTextDirAttr:function(_be1){this.inherited(arguments);if(this.dropDown){this.dropDown._set("textDir",_be1);}}});}return _bc1;});},"dijit/form/DataList":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(_be2,dom,lang,_be3,_be4,_be5){function _be6(_be7){return {id:_be7.value,value:_be7.value,name:lang.trim(_be7.innerText||_be7.textContent||"")};};return _be2("dijit.form.DataList",_be4,{constructor:function(_be8,_be9){this.domNode=dom.byId(_be9);lang.mixin(this,_be8);if(this.id){_be5.add(this);}this.domNode.style.display="none";this.inherited(arguments,[{data:_be3("option",this.domNode).map(_be6)}]);},destroy:function(){_be5.remove(this.id);},fetchSelectedItem:function(){var _bea=_be3("> option[selected]",this.domNode)[0]||_be3("> option",this.domNode)[0];return _bea&&_be6(_bea);}});});},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_beb,_bec,_bed){var base=null;return _beb("dojo.store.Memory",base,{constructor:function(_bee){for(var i in _bee){this[i]=_bee[i];}this.setData(this.data||[]);},data:null,idProperty:"id",index:null,queryEngine:_bed,get:function(id){return this.data[this.index[id]];},getIdentity:function(_bef){return _bef[this.idProperty];},put:function(_bf0,_bf1){var data=this.data,_bf2=this.index,_bf3=this.idProperty;var id=_bf0[_bf3]=(_bf1&&"id" in _bf1)?_bf1.id:_bf3 in _bf0?_bf0[_bf3]:Math.random();if(id in _bf2){if(_bf1&&_bf1.overwrite===false){throw new Error("Object already exists");}data[_bf2[id]]=_bf0;}else{_bf2[id]=data.push(_bf0)-1;}return id;},add:function(_bf4,_bf5){(_bf5=_bf5||{}).overwrite=false;return this.put(_bf4,_bf5);},remove:function(id){var _bf6=this.index;var data=this.data;if(id in _bf6){data.splice(_bf6[id],1);this.setData(data);return true;}},query:function(_bf7,_bf8){return _bec(this.queryEngine(_bf7,_bf8)(this.data));},setData:function(data){if(data.items){this.idProperty=data.identifier;data=this.data=data.items;}else{this.data=data;}this.index={};for(var i=0,l=data.length;i<l;i++){this.index[data[i][this.idProperty]]=i;}}});});},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(_bf9){return function(_bfa,_bfb){switch(typeof _bfa){default:throw new Error("Can not query with a "+typeof _bfa);case "object":case "undefined":var _bfc=_bfa;_bfa=function(_bfd){for(var key in _bfc){var _bfe=_bfc[key];if(_bfe&&_bfe.test){if(!_bfe.test(_bfd[key],_bfd)){return false;}}else{if(_bfe!=_bfd[key]){return false;}}}return true;};break;case "string":if(!this[_bfa]){throw new Error("No filter function "+_bfa+" was found in store");}_bfa=this[_bfa];case "function":}function _bff(_c00){var _c01=_bf9.filter(_c00,_bfa);var _c02=_bfb&&_bfb.sort;if(_c02){_c01.sort(typeof _c02=="function"?_c02:function(a,b){for(var sort,i=0;sort=_c02[i];i++){var _c03=a[sort.attribute];var _c04=b[sort.attribute];if(_c03!=_c04){return !!sort.descending==(_c03==null||_c03>_c04)?-1:1;}}return 0;});}if(_bfb&&(_bfb.start||_bfb.count)){var _c05=_c01.length;_c01=_c01.slice(_bfb.start||0,(_bfb.start||0)+(_bfb.count||Infinity));_c01.total=_c05;}return _c01;};_bff.matches=_bfa;return _bff;};});},"dijit/form/_SearchMixin":function(){define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/query","dojo/string","dojo/when","../registry"],function(_c06,keys,lang,_c07,_c08,when,_c09){return _c06("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:true,_patternToRegExp:function(_c0a){return new RegExp("^"+_c0a.replace(/(\\.)|(\*)|(\?)|\W/g,function(str,_c0b,star,_c0c){return star?".*":_c0c?".":_c0b?_c0b:"\\"+str;})+"$",this.ignoreCase?"mi":"m");},_abortQuery:function(){if(this.searchTimer){this.searchTimer=this.searchTimer.remove();}if(this._queryDeferHandle){this._queryDeferHandle=this._queryDeferHandle.remove();}if(this._fetchHandle){if(this._fetchHandle.abort){this._cancelingQuery=true;this._fetchHandle.abort();this._cancelingQuery=false;}if(this._fetchHandle.cancel){this._cancelingQuery=true;this._fetchHandle.cancel();this._cancelingQuery=false;}this._fetchHandle=null;}},_processInput:function(evt){if(this.disabled||this.readOnly){return;}var key=evt.charOrCode;if("type" in evt&&evt.type.substring(0,3)=="key"&&(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==keys.SHIFT)){return;}var _c0d=false;this._prev_key_backspace=false;switch(key){case keys.DELETE:case keys.BACKSPACE:this._prev_key_backspace=true;this._maskValidSubsetError=true;_c0d=true;break;default:_c0d=typeof key=="string"||key==229;}if(_c0d){if(!this.store){this.onSearch();}else{this.searchTimer=this.defer("_startSearchFromInput",1);}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value);},_startSearch:function(text){this._abortQuery();var _c0e=this,_c07=lang.clone(this.query),_c0f={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:true}},qs=_c08.substitute(this.queryExpr,[text.replace(/([\\\*\?])/g,"\\$1")]),q,_c10=function(){var _c11=_c0e._fetchHandle=_c0e.store.query(_c07,_c0f);if(_c0e.disabled||_c0e.readOnly||(q!==_c0e._lastQuery)){return;}when(_c11,function(res){_c0e._fetchHandle=null;if(!_c0e.disabled&&!_c0e.readOnly&&(q===_c0e._lastQuery)){when(_c11.total,function(_c12){res.total=_c12;var _c13=_c0e.pageSize;if(isNaN(_c13)||_c13>res.total){_c13=res.total;}res.nextPage=function(_c14){_c0f.direction=_c14=_c14!==false;_c0f.count=_c13;if(_c14){_c0f.start+=res.length;if(_c0f.start>=res.total){_c0f.count=0;}}else{_c0f.start-=_c13;if(_c0f.start<0){_c0f.count=Math.max(_c13+_c0f.start,0);_c0f.start=0;}}if(_c0f.count<=0){res.length=0;_c0e.onSearch(res,_c07,_c0f);}else{_c10();}};_c0e.onSearch(res,_c07,_c0f);});}},function(err){_c0e._fetchHandle=null;if(!_c0e._cancelingQuery){console.error(_c0e.declaredClass+" "+err.toString());}});};lang.mixin(_c0f,this.fetchProperties);if(this.store._oldAPI){q=qs;}else{q=this._patternToRegExp(qs);q.toString=function(){return qs;};}this._lastQuery=_c07[this.searchAttr]=q;this._queryDeferHandle=this.defer(_c10,this.searchDelay);},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var list=this.list;if(list){this.store=_c09.byId(list);}}this.inherited(arguments);}});});},"dijit/form/_ComboBoxMenu":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(_c15,_c16,_c17,keys,_c18,_c19,_c1a,_c1b){return _c15("dijit.form._ComboBoxMenu",[_c18,_c19,_c1b,_c1a],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'>"+"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>"+"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>"+"</div>",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);if(!this.isLeftToRight()){_c16.add(this.previousButton,"dijitMenuItemRtl");_c16.add(this.nextButton,"dijitMenuItemRtl");}this.containerNode.setAttribute("role","listbox");},_createMenuItem:function(){var item=this.ownerDocument.createElement("div");item.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");item.setAttribute("role","option");return item;},onHover:function(node){_c16.add(node,"dijitMenuItemHover");},onUnhover:function(node){_c16.remove(node,"dijitMenuItemHover");},onSelect:function(node){_c16.add(node,"dijitMenuItemSelected");},onDeselect:function(node){_c16.remove(node,"dijitMenuItemSelected");},_page:function(up){var _c1c=0;var _c1d=this.domNode.scrollTop;var _c1e=_c17.get(this.domNode,"height");if(!this.getHighlightedOption()){this.selectNextNode();}while(_c1c<_c1e){var _c1f=this.getHighlightedOption();if(up){if(!_c1f.previousSibling||_c1f.previousSibling.style.display=="none"){break;}this.selectPreviousNode();}else{if(!_c1f.nextSibling||_c1f.nextSibling.style.display=="none"){break;}this.selectNextNode();}var _c20=this.domNode.scrollTop;_c1c+=(_c20-_c1d)*(up?-1:1);_c1d=_c20;}},handleKey:function(evt){switch(evt.keyCode){case keys.DOWN_ARROW:this.selectNextNode();return false;case keys.PAGE_DOWN:this._page(false);return false;case keys.UP_ARROW:this.selectPreviousNode();return false;case keys.PAGE_UP:this._page(true);return false;default:return true;}}});});},"dijit/form/_ComboBoxMenuMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(_c21,_c22,_c23,has,i18n){var _c24=_c22("dijit.form._ComboBoxMenuMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function(_c25){this._set("value",_c25);this.onChange(_c25);},onClick:function(node){if(node==this.previousButton){this._setSelectedAttr(null);this.onPage(-1);}else{if(node==this.nextButton){this._setSelectedAttr(null);this.onPage(1);}else{this.onChange(node);}}},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null);},_createOption:function(item,_c26){var _c27=this._createMenuItem();var _c28=_c26(item);if(_c28.html){_c27.innerHTML=_c28.label;}else{_c27.appendChild(_c27.ownerDocument.createTextNode(_c28.label));}if(_c27.innerHTML==""){_c27.innerHTML="&#160;";}return _c27;},createOptions:function(_c29,_c2a,_c2b){this.items=_c29;this.previousButton.style.display=(_c2a.start==0)?"none":"";_c23.set(this.previousButton,"id",this.id+"_prev");_c21.forEach(_c29,function(item,i){var _c2c=this._createOption(item,_c2b);_c2c.setAttribute("item",i);_c23.set(_c2c,"id",this.id+i);this.nextButton.parentNode.insertBefore(_c2c,this.nextButton);},this);var _c2d=false;if(_c29.total&&!_c29.total.then&&_c29.total!=-1){if((_c2a.start+_c2a.count)<_c29.total){_c2d=true;}else{if((_c2a.start+_c2a.count)>_c29.total&&_c2a.count==_c29.length){_c2d=true;}}}else{if(_c2a.count==_c29.length){_c2d=true;}}this.nextButton.style.display=_c2d?"":"none";_c23.set(this.nextButton,"id",this.id+"_next");},clearResultList:function(){var _c2e=this.containerNode;while(_c2e.childNodes.length>2){_c2e.removeChild(_c2e.childNodes[_c2e.childNodes.length-2]);}this._setSelectedAttr(null);},highlightFirstOption:function(){this.selectFirstNode();},highlightLastOption:function(){this.selectLastNode();},selectFirstNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.previousButton){this.selectNextNode();}},selectLastNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.nextButton){this.selectPreviousNode();}},getHighlightedOption:function(){return this.selected;}});if(has("dojo-bidi")){_c24=_c22("dijit.form._ComboBoxMenuMixin",_c24,{_createOption:function(){var _c2f=this.inherited(arguments);this.applyTextDir(_c2f);return _c2f;}});}return _c24;});},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(_c30,on,_c31,_c32){return _c30("dijit.form._ListMouseMixin",_c32,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=true;this.own(on(this.domNode,"mousedown",function(evt){evt.preventDefault();}));this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut");},_onClick:function(evt,_c33){this._setSelectedAttr(_c33);if(this._deferredClick){this._deferredClick.remove();}this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(_c33);});},_onMouseDown:function(evt,_c34){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}this._isDragging=true;this._setSelectedAttr(_c34);},_onMouseUp:function(evt,_c35){this._isDragging=false;var _c36=this.selected;var _c37=this._hoveredNode;if(_c36&&_c35==_c36){this.defer(function(){this._onClick(evt,_c36);});}else{if(_c37){this.defer(function(){this._onClick(evt,_c37);});}}},_onMouseOut:function(evt,_c38){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}if(this._isDragging){this._cancelDrag=(new Date()).getTime()+1000;}},_onMouseOver:function(evt,_c39){if(this._cancelDrag){var time=(new Date()).getTime();if(time>this._cancelDrag){this._isDragging=false;}this._cancelDrag=null;}this._hoveredNode=_c39;this.onHover(_c39);if(this._isDragging){this._setSelectedAttr(_c39);}}});});},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(_c3a,on,_c3b){return _c3a("dijit.form._ListBase",null,{selected:null,_listConnect:function(_c3c,_c3d){var self=this;return self.own(on(self.containerNode,on.selector(function(_c3e,_c3f,_c40){return _c3e.parentNode==_c40;},_c3c),function(evt){if(!/^touch/.test(evt.type)){evt.preventDefault();}self[_c3d](evt,this);}));},selectFirstNode:function(){var _c41=this.containerNode.firstChild;while(_c41&&_c41.style.display=="none"){_c41=_c41.nextSibling;}this._setSelectedAttr(_c41);},selectLastNode:function(){var last=this.containerNode.lastChild;while(last&&last.style.display=="none"){last=last.previousSibling;}this._setSelectedAttr(last);},selectNextNode:function(){var _c42=this.selected;if(!_c42){this.selectFirstNode();}else{var next=_c42.nextSibling;while(next&&next.style.display=="none"){next=next.nextSibling;}if(!next){this.selectFirstNode();}else{this._setSelectedAttr(next);}}},selectPreviousNode:function(){var _c43=this.selected;if(!_c43){this.selectLastNode();}else{var prev=_c43.previousSibling;while(prev&&prev.style.display=="none"){prev=prev.previousSibling;}if(!prev){this.selectLastNode();}else{this._setSelectedAttr(prev);}}},_setSelectedAttr:function(node){if(this.selected!=node){var _c44=this.selected;if(_c44){this.onDeselect(_c44);}if(node){_c3b.scrollIntoView(node);this.onSelect(node);}this._set("selected",node);}else{if(node){this.onSelect(node);}}}});});},"dijit/_HasDropDown":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(_c45,_c46,dom,_c47,_c48,_c49,_c4a,has,keys,lang,on,_c4b,_c4c,_c4d,_c4e,_c4f){return _c45("dijit._HasDropDown",_c4f,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}if(e.type!="MSPointerDown"){e.preventDefault();}this._docHandler=this.own(on(this.ownerDocument,_c4b.release,lang.hitch(this,"_onDropDownMouseUp")))[0];this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this._docHandler.remove();this._docHandler=null;}var _c50=this.dropDown,_c51=false;if(e&&this._opened){var c=_c49.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_c51){if(_c48.contains(t,"dijitPopup")){_c51=true;}else{t=t.parentNode;}}if(_c51){t=e.target;if(_c50.onItemClick){var _c52;while(t&&!(_c52=_c4c.byNode(t))){t=t.parentNode;}if(_c52&&_c52.onClick&&_c52.getParent){_c52.getParent().onItemClick(_c52,e);}}return;}}}if(this._opened){if(_c50.focus&&(_c50.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){this._focusDropDownTimer=this.defer(function(){_c50.focus();delete this._focusDropDownTimer;});}}else{if(this.focus){this.defer("focus");}}},_onDropDownClick:function(e){if(this._stopClickEvents){e.stopPropagation();e.preventDefault();}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _c53={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_c48.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_c53+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _c54=this.focusNode||this.domNode;this.own(on(this._buttonNode,_c4b.press,lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_c54,"keydown",lang.hitch(this,"_onKey")),on(_c54,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this._opened){this.closeDropDown(true);}if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_c55=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){e.stopPropagation();e.preventDefault();return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();e.stopPropagation();e.preventDefault();}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||(e.keyCode==keys.SPACE&&(!this._searchTimer||(e.ctrlKey||e.altKey||e.metaKey))))&&((_c55.tagName||"").toLowerCase()!=="input"||(_c55.type&&_c55.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;e.stopPropagation();e.preventDefault();}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){this.closeDropDown(false);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_c56){_c56();},loadAndOpenDropDown:function(){var d=new _c46(),_c57=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_c57);}else{_c57();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown(true);}},openDropDown:function(){var _c58=this.dropDown,_c59=_c58.domNode,_c5a=this._aroundNode||this.domNode,self=this;var _c5b=_c4e.open({parent:this,popup:_c58,around:_c5a,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_c47.set(self._popupStateNode,"popupActive",false);_c48.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});if(this.forceWidth||(this.autoWidth&&_c5a.offsetWidth>_c58._popupWrapper.offsetWidth)){var _c5c={w:_c5a.offsetWidth-(_c58._popupWrapper.offsetWidth-_c58.domNode.offsetWidth)};if(lang.isFunction(_c58.resize)){_c58.resize(_c5c);}else{_c49.setMarginBox(_c59,_c5c);}}_c47.set(this._popupStateNode,"popupActive","true");_c48.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",_c58.id);if(_c59.getAttribute("role")!=="presentation"&&!_c59.getAttribute("aria-labelledby")){_c59.setAttribute("aria-labelledby",this.id);}return _c5b;},closeDropDown:function(_c5d){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this._popupStateNode.setAttribute("aria-expanded","false");if(_c5d&&this.focus){this.focus();}_c4e.close(this.dropDown);this._opened=false;}}});});},"dijit/popup":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main"],function(_c5e,_c5f,_c60,dom,_c61,_c62,_c63,_c64,has,keys,lang,on,_c65,_c66,_c67,_c68){function _c69(){if(this._popupWrapper){_c62.destroy(this._popupWrapper);delete this._popupWrapper;}};var _c6a=_c60(null,{_stack:[],_beginZIndex:1000,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var _c6b=this._firstAroundPosition,_c6c=_c63.position(this._firstAroundNode,true),dx=_c6c.x-_c6b.x,dy=_c6c.y-_c6b.y;if(dx||dy){this._firstAroundPosition=_c6c;for(var i=0;i<this._stack.length;i++){var _c6d=this._stack[i].wrapper.style;_c6d.top=(parseInt(_c6d.top,10)+dy)+"px";if(_c6d.right=="auto"){_c6d.left=(parseInt(_c6d.left,10)+dx)+"px";}else{_c6d.right=(parseInt(_c6d.right,10)-dx)+"px";}}}this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),dx||dy?10:50);}},_createWrapper:function(_c6e){var _c6f=_c6e._popupWrapper,node=_c6e.domNode;if(!_c6f){_c6f=_c62.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_c6e["aria-label"]||_c6e.label||_c6e.name||_c6e.id},_c6e.ownerDocumentBody);_c6f.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_c6e._popupWrapper=_c6f;_c5f.after(_c6e,"destroy",_c69,true);}return _c6f;},moveOffScreen:function(_c70){var _c71=this._createWrapper(_c70);var ltr=_c63.isBodyLtr(_c70.ownerDocument),_c72={visibility:"hidden",top:"-9999px",display:""};_c72[ltr?"left":"right"]="-9999px";_c72[ltr?"right":"left"]="auto";_c64.set(_c71,_c72);return _c71;},hide:function(_c73){var _c74=this._createWrapper(_c73);_c64.set(_c74,{display:"none",height:"auto",overflow:"visible",border:""});var node=_c73.domNode;if("_originalStyle" in node){node.style.cssText=node._originalStyle;}},getTopPopup:function(){var _c75=this._stack;for(var pi=_c75.length-1;pi>0&&_c75[pi].parent===_c75[pi-1].widget;pi--){}return _c75[pi];},open:function(args){var _c76=this._stack,_c77=args.popup,node=_c77.domNode,_c78=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_c63.isBodyLtr(_c77.ownerDocument),_c79=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_c76.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_c76[_c76.length-1].widget.domNode))){this.close(_c76[_c76.length-1].widget);}var _c7a=this.moveOffScreen(_c77);if(_c77.startup&&!_c77._started){_c77.startup();}var _c7b,_c7c=_c63.position(node);if("maxHeight" in args&&args.maxHeight!=-1){_c7b=args.maxHeight||Infinity;}else{var _c7d=_c67.getEffectiveBox(this.ownerDocument),_c7e=_c79?_c63.position(_c79,false):{y:args.y-(args.padding||0),h:(args.padding||0)*2};_c7b=Math.floor(Math.max(_c7e.y,_c7d.h-(_c7e.y+_c7e.h)));}if(_c7c.h>_c7b){var cs=_c64.getComputedStyle(node),_c7f=cs.borderLeftWidth+" "+cs.borderLeftStyle+" "+cs.borderLeftColor;_c64.set(_c7a,{overflowY:"scroll",height:_c7b+"px",border:_c7f});node._originalStyle=node.style.cssText;node.style.border="none";}_c61.set(_c7a,{id:id,style:{zIndex:this._beginZIndex+_c76.length},"class":"dijitPopup "+(_c77.baseClass||_c77["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(_c76.length==0&&_c79){this._firstAroundNode=_c79;this._firstAroundPosition=_c63.position(_c79,true);this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),50);}if(has("config-bgIframe")&&!_c77.bgIframe){_c77.bgIframe=new _c66(_c7a);}var _c80=_c77.orient?lang.hitch(_c77,"orient"):null,best=_c79?_c65.around(_c7a,_c79,_c78,ltr,_c80):_c65.at(_c7a,args,_c78=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding,_c80);_c7a.style.visibility="visible";node.style.visibility="visible";var _c81=[];_c81.push(on(_c7a,"keydown",lang.hitch(this,function(evt){if(evt.keyCode==keys.ESCAPE&&args.onCancel){evt.stopPropagation();evt.preventDefault();args.onCancel();}else{if(evt.keyCode==keys.TAB){evt.stopPropagation();evt.preventDefault();var _c82=this.getTopPopup();if(_c82&&_c82.onCancel){_c82.onCancel();}}}})));if(_c77.onCancel&&args.onCancel){_c81.push(_c77.on("cancel",args.onCancel));}_c81.push(_c77.on(_c77.onExecute?"execute":"change",lang.hitch(this,function(){var _c83=this.getTopPopup();if(_c83&&_c83.onExecute){_c83.onExecute();}})));_c76.push({widget:_c77,wrapper:_c7a,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_c81});if(_c77.onOpen){_c77.onOpen(best);}return best;},close:function(_c84){var _c85=this._stack;while((_c84&&_c5e.some(_c85,function(elem){return elem.widget==_c84;}))||(!_c84&&_c85.length)){var top=_c85.pop(),_c86=top.widget,_c87=top.onClose;if(_c86.onClose){_c86.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_c86&&_c86.domNode){this.hide(_c86);}if(_c87){_c87();}}if(_c85.length==0&&this._aroundMoveListener){clearTimeout(this._aroundMoveListener);this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null;}}});return (_c68.popup=new _c6a());});},"dijit/form/NumberTextBox":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/number","./RangeBoundTextBox"],function(_c88,lang,_c89,_c8a){var _c8b=_c88("dijit.form.NumberTextBoxMixin",null,{pattern:function(_c8c){return "("+(this.focused&&this.editOptions?this._regExpGenerator(lang.delegate(_c8c,this.editOptions))+"|":"")+this._regExpGenerator(_c8c)+")";},value:NaN,editOptions:{pattern:"#.######"},_formatter:_c89.format,_regExpGenerator:_c89.regexp,postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},_setConstraintsAttr:function(_c8d){var _c8e=typeof _c8d.places=="number"?_c8d.places:0;if(_c8e){_c8e++;}if(typeof _c8d.max!="number"){_c8d.max=9*Math.pow(10,15-_c8e);}if(typeof _c8d.min!="number"){_c8d.min=-9*Math.pow(10,15-_c8e);}this.inherited(arguments,[_c8d]);if(this.focusNode&&this.focusNode.value&&!isNaN(this.value)){this.set("value",this.value);}},_onFocus:function(){if(this.disabled||this.readOnly){return;}var val=this.get("value");if(typeof val=="number"&&!isNaN(val)){var _c8f=this.format(val,this.constraints);if(_c8f!==undefined){this.textbox.value=_c8f;}}this.inherited(arguments);},format:function(_c90,_c91){var _c92=String(_c90);if(typeof _c90!="number"){return _c92;}if(isNaN(_c90)){return "";}if(!("rangeCheck" in this&&this.rangeCheck(_c90,_c91))&&_c91.exponent!==false&&/\de[-+]?\d/i.test(_c92)){return _c92;}if(this.editOptions&&this.focused){_c91=lang.mixin({},_c91,this.editOptions);}return this._formatter(_c90,_c91);},_parser:_c89.parse,parse:function(_c93,_c94){var v=this._parser(_c93,lang.mixin({},_c94,(this.editOptions&&this.focused)?this.editOptions:{}));if(this.editOptions&&this.focused&&isNaN(v)){v=this._parser(_c93,_c94);}return v;},_getDisplayedValueAttr:function(){var v=this.inherited(arguments);return isNaN(v)?this.textbox.value:v;},filter:function(_c95){return (_c95==null||_c95==="")?NaN:this.inherited(arguments);},serialize:function(_c96,_c97){return (typeof _c96!="number"||isNaN(_c96))?"":this.inherited(arguments);},_setBlurValue:function(){var val=lang.hitch(lang.delegate(this,{focused:true}),"get")("value");this._setValueAttr(val,true);},_setValueAttr:function(_c98,_c99,_c9a){if(_c98!==undefined&&_c9a===undefined){_c9a=String(_c98);if(typeof _c98=="number"){if(isNaN(_c98)){_c9a="";}else{if(("rangeCheck" in this&&this.rangeCheck(_c98,this.constraints))||this.constraints.exponent===false||!/\de[-+]?\d/i.test(_c9a)){_c9a=undefined;}}}else{if(!_c98){_c9a="";_c98=NaN;}else{_c98=undefined;}}}this.inherited(arguments,[_c98,_c99,_c9a]);},_getValueAttr:function(){var v=this.inherited(arguments);if(isNaN(v)&&this.textbox.value!==""){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+_c89._realNumberRegexp(lang.delegate(this.constraints))+"$").test(this.textbox.value))){var n=Number(this.textbox.value);return isNaN(n)?undefined:n;}else{return undefined;}}else{return v;}},isValid:function(_c9b){if(!this.focused||this._isEmpty(this.textbox.value)){return this.inherited(arguments);}else{var v=this.get("value");if(!isNaN(v)&&this.rangeCheck(v,this.constraints)){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){return true;}else{return this.inherited(arguments);}}else{return false;}}}});var _c9c=_c88("dijit.form.NumberTextBox",[_c8a,_c8b],{baseClass:"dijitTextBox dijitNumberTextBox"});_c9c.Mixin=_c8b;return _c9c;});},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_c9d,_c9e,_c9f){var _ca0={};lang.setObject("dojo.number",_ca0);_ca0.format=function(_ca1,_ca2){_ca2=lang.mixin({},_ca2||{});var _ca3=i18n.normalizeLocale(_ca2.locale),_ca4=i18n.getLocalization("dojo.cldr","number",_ca3);_ca2.customs=_ca4;var _ca5=_ca2.pattern||_ca4[(_ca2.type||"decimal")+"Format"];if(isNaN(_ca1)||Math.abs(_ca1)==Infinity){return null;}return _ca0._applyPattern(_ca1,_ca5,_ca2);};_ca0._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_ca0._applyPattern=function(_ca6,_ca7,_ca8){_ca8=_ca8||{};var _ca9=_ca8.customs.group,_caa=_ca8.customs.decimal,_cab=_ca7.split(";"),_cac=_cab[0];_ca7=_cab[(_ca6<0)?1:0]||("-"+_cac);if(_ca7.indexOf("%")!=-1){_ca6*=100;}else{if(_ca7.indexOf("‰")!=-1){_ca6*=1000;}else{if(_ca7.indexOf("¤")!=-1){_ca9=_ca8.customs.currencyGroup||_ca9;_caa=_ca8.customs.currencyDecimal||_caa;_ca7=_ca7.replace(/\u00a4{1,3}/,function(_cad){var prop=["symbol","currency","displayName"][_cad.length-1];return _ca8[prop]||_ca8.currency||"";});}else{if(_ca7.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _cae=_ca0._numberPatternRE;var _caf=_cac.match(_cae);if(!_caf){throw new Error("unable to find a number expression in pattern: "+_ca7);}if(_ca8.fractional===false){_ca8.places=0;}return _ca7.replace(_cae,_ca0._formatAbsolute(_ca6,_caf[0],{decimal:_caa,group:_ca9,places:_ca8.places,round:_ca8.round}));};_ca0.round=function(_cb0,_cb1,_cb2){var _cb3=10/(_cb2||10);return (_cb3*+_cb0).toFixed(_cb1)/_cb3;};if((0.9).toFixed()==0){var _cb4=_ca0.round;_ca0.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return _cb4(v,p,m)+(v>0?d:-d);};}_ca0._formatAbsolute=function(_cb5,_cb6,_cb7){_cb7=_cb7||{};if(_cb7.places===true){_cb7.places=0;}if(_cb7.places===Infinity){_cb7.places=6;}var _cb8=_cb6.split("."),_cb9=typeof _cb7.places=="string"&&_cb7.places.indexOf(","),_cba=_cb7.places;if(_cb9){_cba=_cb7.places.substring(_cb9+1);}else{if(!(_cba>=0)){_cba=(_cb8[1]||[]).length;}}if(!(_cb7.round<0)){_cb5=_ca0.round(_cb5,_cba,_cb7.round);}var _cbb=String(Math.abs(_cb5)).split("."),_cbc=_cbb[1]||"";if(_cb8[1]||_cb7.places){if(_cb9){_cb7.places=_cb7.places.substring(0,_cb9);}var pad=_cb7.places!==undefined?_cb7.places:(_cb8[1]&&_cb8[1].lastIndexOf("0")+1);if(pad>_cbc.length){_cbb[1]=_c9e.pad(_cbc,pad,"0",true);}if(_cba<_cbc.length){_cbb[1]=_cbc.substr(0,_cba);}}else{if(_cbb[1]){_cbb.pop();}}var _cbd=_cb8[0].replace(",","");pad=_cbd.indexOf("0");if(pad!=-1){pad=_cbd.length-pad;if(pad>_cbb[0].length){_cbb[0]=_c9e.pad(_cbb[0],pad);}if(_cbd.indexOf("#")==-1){_cbb[0]=_cbb[0].substr(_cbb[0].length-pad);}}var _cbe=_cb8[0].lastIndexOf(","),_cbf,_cc0;if(_cbe!=-1){_cbf=_cb8[0].length-_cbe-1;var _cc1=_cb8[0].substr(0,_cbe);_cbe=_cc1.lastIndexOf(",");if(_cbe!=-1){_cc0=_cc1.length-_cbe-1;}}var _cc2=[];for(var _cc3=_cbb[0];_cc3;){var off=_cc3.length-_cbf;_cc2.push((off>0)?_cc3.substr(off):_cc3);_cc3=(off>0)?_cc3.slice(0,off):"";if(_cc0){_cbf=_cc0;delete _cc0;}}_cbb[0]=_cc2.reverse().join(_cb7.group||",");return _cbb.join(_cb7.decimal||".");};_ca0.regexp=function(_cc4){return _ca0._parseInfo(_cc4).regexp;};_ca0._parseInfo=function(_cc5){_cc5=_cc5||{};var _cc6=i18n.normalizeLocale(_cc5.locale),_cc7=i18n.getLocalization("dojo.cldr","number",_cc6),_cc8=_cc5.pattern||_cc7[(_cc5.type||"decimal")+"Format"],_cc9=_cc7.group,_cca=_cc7.decimal,_ccb=1;if(_cc8.indexOf("%")!=-1){_ccb/=100;}else{if(_cc8.indexOf("‰")!=-1){_ccb/=1000;}else{var _ccc=_cc8.indexOf("¤")!=-1;if(_ccc){_cc9=_cc7.currencyGroup||_cc9;_cca=_cc7.currencyDecimal||_cca;}}}var _ccd=_cc8.split(";");if(_ccd.length==1){_ccd.push("-"+_ccd[0]);}var re=_c9f.buildGroupRE(_ccd,function(_cce){_cce="(?:"+_c9f.escapeString(_cce,".")+")";return _cce.replace(_ca0._numberPatternRE,function(_ccf){var _cd0={signed:false,separator:_cc5.strict?_cc9:[_cc9,""],fractional:_cc5.fractional,decimal:_cca,exponent:false},_cd1=_ccf.split("."),_cd2=_cc5.places;if(_cd1.length==1&&_ccb!=1){_cd1[1]="###";}if(_cd1.length==1||_cd2===0){_cd0.fractional=false;}else{if(_cd2===undefined){_cd2=_cc5.pattern?_cd1[1].lastIndexOf("0")+1:Infinity;}if(_cd2&&_cc5.fractional==undefined){_cd0.fractional=true;}if(!_cc5.places&&(_cd2<_cd1[1].length)){_cd2+=","+_cd1[1].length;}_cd0.places=_cd2;}var _cd3=_cd1[0].split(",");if(_cd3.length>1){_cd0.groupSize=_cd3.pop().length;if(_cd3.length>1){_cd0.groupSize2=_cd3.pop().length;}}return "("+_ca0._realNumberRegexp(_cd0)+")";});},true);if(_ccc){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_cd4,_cd5,_cd6,_cd7){var prop=["symbol","currency","displayName"][_cd6.length-1],_cd8=_c9f.escapeString(_cc5[prop]||_cc5.currency||"");_cd5=_cd5?"[\\s\\xa0]":"";_cd7=_cd7?"[\\s\\xa0]":"";if(!_cc5.strict){if(_cd5){_cd5+="*";}if(_cd7){_cd7+="*";}return "(?:"+_cd5+_cd8+_cd7+")?";}return _cd5+_cd8+_cd7;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_cc9,decimal:_cca,factor:_ccb};};_ca0.parse=function(_cd9,_cda){var info=_ca0._parseInfo(_cda),_cdb=(new RegExp("^"+info.regexp+"$")).exec(_cd9);if(!_cdb){return NaN;}var _cdc=_cdb[1];if(!_cdb[1]){if(!_cdb[2]){return NaN;}_cdc=_cdb[2];info.factor*=-1;}_cdc=_cdc.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _cdc*info.factor;};_ca0._realNumberRegexp=function(_cdd){_cdd=_cdd||{};if(!("places" in _cdd)){_cdd.places=Infinity;}if(typeof _cdd.decimal!="string"){_cdd.decimal=".";}if(!("fractional" in _cdd)||/^0/.test(_cdd.places)){_cdd.fractional=[true,false];}if(!("exponent" in _cdd)){_cdd.exponent=[true,false];}if(!("eSigned" in _cdd)){_cdd.eSigned=[true,false];}var _cde=_ca0._integerRegexp(_cdd),_cdf=_c9f.buildGroupRE(_cdd.fractional,function(q){var re="";if(q&&(_cdd.places!==0)){re="\\"+_cdd.decimal;if(_cdd.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_cdd.places+"}";}}return re;},true);var _ce0=_c9f.buildGroupRE(_cdd.exponent,function(q){if(q){return "([eE]"+_ca0._integerRegexp({signed:_cdd.eSigned})+")";}return "";});var _ce1=_cde+_cdf;if(_cdf){_ce1="(?:(?:"+_ce1+")|(?:"+_cdf+"))";}return _ce1+_ce0;};_ca0._integerRegexp=function(_ce2){_ce2=_ce2||{};if(!("signed" in _ce2)){_ce2.signed=[true,false];}if(!("separator" in _ce2)){_ce2.separator="";}else{if(!("groupSize" in _ce2)){_ce2.groupSize=3;}}var _ce3=_c9f.buildGroupRE(_ce2.signed,function(q){return q?"[-+]":"";},true);var _ce4=_c9f.buildGroupRE(_ce2.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_c9f.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==" "){sep="\\s\\xa0";}}var grp=_ce2.groupSize,grp2=_ce2.groupSize2;if(grp2){var _ce5="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_ce5+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_ce5;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _ce3+_ce4;};return _ca0;});},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(_ce6,i18n,_ce7){var _ce8=_ce6("dijit.form.RangeBoundTextBox",_ce7,{rangeMessage:"",rangeCheck:function(_ce9,_cea){return ("min" in _cea?(this.compare(_ce9,_cea.min)>=0):true)&&("max" in _cea?(this.compare(_ce9,_cea.max)<=0):true);},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");if(val==null){return false;}var _ceb=false;if("min" in this.constraints){var min=this.constraints.min;_ceb=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min)<0;}if(!_ceb&&("max" in this.constraints)){var max=this.constraints.max;_ceb=this.compare(val,((typeof max!="number")||max>0)?max:0)>0;}return _ceb;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_cec){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_cec));},getErrorMessage:function(_ced){var v=this.get("value");if(v!=null&&v!==""&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_ced)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}}});return _ce8;});},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(_cee,has,_cef,_cf0){return _cee("dijit.form.MappedTextBox",_cf0,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},_setNameAttr:"valueNode",serialize:function(val){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=_cef.place("<input type='hidden'"+((this.name&&!has("msapp"))?" name=\""+this.name.replace(/"/g,"&quot;")+"\"":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});});},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(_cf1,_cf2,_cf3){return _cf1("dijit.form.DateTextBox",_cf3,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_cf2,_selector:"date",maxHeight:Infinity,value:new Date("")});});},"dijit/Calendar":function(){define(["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(_cf4,date,_cf5,_cf6,_cf7,_cf8,_cf9,keys,lang,on,has,_cfa,_cfb,_cfc,_cfd,_cfe){var _cff=_cf6("dijit.Calendar",[_cfa,_cfb,_cfc],{cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(_d00){_cf9.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_d00);},_createMonthWidget:function(){return new _cff._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")),on(this.dateRowsNode,"mouseover",lang.hitch(this,"_onDayMouseOver")),on(this.dateRowsNode,"mouseout",lang.hitch(this,"_onDayMouseOut")),on(this.dateRowsNode,"mousedown",lang.hitch(this,"_onDayMouseDown")),on(this.dateRowsNode,"mouseup",lang.hitch(this,"_onDayMouseUp")));},_onMonthSelect:function(_d01){var date=new this.dateClassObj(this.currentFocus);date.setDate(1);date.setMonth(_d01);var _d02=this.dateModule.getDaysInMonth(date);var _d03=this.currentFocus.getDate();date.setDate(Math.min(_d03,_d02));this._setCurrentFocusAttr(date);},_onDayMouseOver:function(evt){var node=_cf8.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_cf8.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_cf8.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_cf8.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_cf8.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_cf8.contains(node,"dijitCalendarDisabledDate")){_cf8.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_cf8.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _d04=-1,_d05,_d06=this.currentFocus;switch(evt.keyCode){case keys.RIGHT_ARROW:_d04=1;case keys.LEFT_ARROW:_d05="day";if(!this.isLeftToRight()){_d04*=-1;}break;case keys.DOWN_ARROW:_d04=1;case keys.UP_ARROW:_d05="week";break;case keys.PAGE_DOWN:_d04=1;case keys.PAGE_UP:_d05=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_d06=this.dateModule.add(_d06,"month",1);_d05="day";case keys.HOME:_d06=new this.dateClassObj(_d06);_d06.setDate(1);break;default:return true;}if(_d05){_d06=this.dateModule.add(_d06,_d05,_d04);}this._setCurrentFocusAttr(_d06);return false;},_onKeyDown:function(evt){if(!this.handleKey(evt)){evt.stopPropagation();evt.preventDefault();}},onValueSelected:function(){},onChange:function(_d07){this.onValueSelected(_d07);},getClassForDate:function(){}});_cff._MonthDropDownButton=_cf6("dijit.Calendar._MonthDropDownButton",_cfe,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _cff._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(_d08){var _d09=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_d08);this.dropDown.set("months",_d09);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_d09[_d08.getMonth()]+"</div>";}});_cff._MonthDropDown=_cf6("dijit.Calendar._MonthDropDown",[_cfb,_cfd],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_d0a){this.domNode.innerHTML=_cf4.map(_d0a,function(_d0b,idx){return _d0b?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+_d0b+"</div>":"";}).join("");},_onClick:function(evt){this.onChange(_cf7.get(evt.target,"month"));},onChange:function(){},_onMenuHover:function(evt){_cf8.toggle(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");}});return _cff;});},"dijit/CalendarLite":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./a11yclick","./hccss"],function(_d0c,_d0d,_d0e,date,_d0f,_d10,dom,_d11,lang,on,has,_d12,_d13,_d14,_d15){var _d16=_d0d("dijit.CalendarLite",[_d13,_d14],{templateString:_d15,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\" scope=\"col\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),_setSummaryAttr:"gridNode",baseClass:"dijitCalendar",_isValidDate:function(_d17){return _d17&&!isNaN(_d17)&&typeof _d17=="object"&&_d17.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){var _d18=this._get("value");if(_d18&&!isNaN(_d18)){var _d19=new this.dateClassObj(_d18);_d19.setHours(0,0,0,0);if(_d19.getDate()<_d18.getDate()){_d19=this.dateModule.add(_d19,"hour",1);}return _d19;}else{return null;}},_setValueAttr:function(_d1a,_d1b){if(typeof _d1a=="string"){_d1a=_d10.fromISOString(_d1a);}_d1a=this._patchDate(_d1a);if(this._isValidDate(_d1a)&&!this.isDisabledDate(_d1a,this.lang)){this._set("value",_d1a);this.set("currentFocus",_d1a);this._markSelectedDates([_d1a]);if(this._created&&(_d1b||typeof _d1b=="undefined")){this.onChange(this.get("value"));}}else{this._set("value",null);this._markSelectedDates([]);}},_patchDate:function(_d1c){if(_d1c){_d1c=new this.dateClassObj(_d1c);_d1c.setHours(1,0,0,0);}return _d1c;},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(node.ownerDocument.createTextNode(text));},_populateGrid:function(){var _d1d=new this.dateClassObj(this.currentFocus);_d1d.setDate(1);_d1d=this._patchDate(_d1d);var _d1e=_d1d.getDay(),_d1f=this.dateModule.getDaysInMonth(_d1d),_d20=this.dateModule.getDaysInMonth(this.dateModule.add(_d1d,"month",-1)),_d21=new this.dateClassObj(),_d22=_d0e.getFirstDayOfWeek(this.lang);if(_d22>_d1e){_d22-=7;}if(!this.summary){var _d23=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_d1d);this.gridNode.setAttribute("summary",_d23[_d1d.getMonth()]);}this._date2cell={};_d0c.forEach(this.dateCells,function(_d24,idx){var i=idx+_d22;var date=new this.dateClassObj(_d1d),_d25,_d26="dijitCalendar",adj=0;if(i<_d1e){_d25=_d20-_d1e+i+1;adj=-1;_d26+="Previous";}else{if(i>=(_d1e+_d1f)){_d25=i-_d1e-_d1f+1;adj=1;_d26+="Next";}else{_d25=i-_d1e+1;_d26+="Current";}}if(adj){date=this.dateModule.add(date,"month",adj);}date.setDate(_d25);if(!this.dateModule.compare(date,_d21,"date")){_d26="dijitCalendarCurrentDate "+_d26;}if(this.isDisabledDate(date,this.lang)){_d26="dijitCalendarDisabledDate "+_d26;_d24.setAttribute("aria-disabled","true");}else{_d26="dijitCalendarEnabledDate "+_d26;_d24.removeAttribute("aria-disabled");_d24.setAttribute("aria-selected","false");}var _d27=this.getClassForDate(date,this.lang);if(_d27){_d26=_d27+" "+_d26;}_d24.className=_d26+"Month dijitCalendarDateTemplate";var _d28=date.valueOf();if(idx==0){}this._date2cell[_d28]=_d24;_d24.dijitDateValue=_d28;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);},_populateControls:function(){var _d29=new this.dateClassObj(this.currentFocus);_d29.setDate(1);this.monthWidget.set("month",_d29);var y=_d29.getFullYear()-1;var d=new this.dateClassObj();_d0c.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(_d2a){this.dateModule=_d2a.datePackage?lang.getObject(_d2a.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_d2a.datePackage?lang.getObject(_d2a.datePackage+".locale",false):_d0f;},_createMonthWidget:function(){return _d16._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_d2b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_d2c=_d0e.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_d12.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _d2b[_d2c++%7];});var r=_d12.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _d2d=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",_d2d,false);},postCreate:function(){this.inherited(arguments);this._connectControls();},_connectControls:function(){var _d2e=lang.hitch(this,function(_d2f,part,_d30){return on(this[_d2f],"click",lang.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,part,_d30));}));});this.own(_d2e("incrementMonth","month",1),_d2e("decrementMonth","month",-1),_d2e("nextYearLabelNode","year",1),_d2e("previousYearLabelNode","year",-1));},_setCurrentFocusAttr:function(date,_d31){var _d32=this.currentFocus,_d33=this._getNodeByDate(_d32);date=this._patchDate(date);this._set("currentFocus",date);if(!this._date2cell||this.dateModule.difference(_d32,date,"month")!=0){this._populateGrid();this._populateControls();this._markSelectedDates([this.value]);}var _d34=this._getNodeByDate(date);_d34.setAttribute("tabIndex",this.tabIndex);if(this.focused||_d31){_d34.focus();}if(_d33&&_d33!=_d34){if(has("webkit")){_d33.setAttribute("tabIndex","-1");}else{_d33.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){evt.stopPropagation();evt.preventDefault();for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_d11.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_getNodeByDate:function(_d35){_d35=this._patchDate(_d35);return _d35&&this._date2cell?this._date2cell[_d35.valueOf()]:null;},_markSelectedDates:function(_d36){function mark(_d37,cell){_d11.toggle(cell,"dijitCalendarSelectedDate",_d37);cell.setAttribute("aria-selected",_d37?"true":"false");};_d0c.forEach(this._selectedCells||[],lang.partial(mark,false));this._selectedCells=_d0c.filter(_d0c.map(_d36,this._getNodeByDate,this),function(n){return n;});_d0c.forEach(this._selectedCells,lang.partial(mark,true));},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});_d16._MonthWidget=_d0d("dijit.CalendarLite._MonthWidget",_d13,{_setMonthAttr:function(_d38){var _d39=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_d38),_d3a=(has("ie")==6?"":"<div class='dijitSpacer'>"+_d0c.map(_d39,function(s){return "<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_d3a+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_d39[_d38.getMonth()]+"</div>";}});return _d16;});},"dijit/form/DropDownButton":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(_d3b,lang,_d3c,_d3d,_d3e,_d3f,_d40,_d41,_d42){return _d3b("dijit.form.DropDownButton",[_d3f,_d40,_d41],{baseClass:"dijitDropDownButton",templateString:_d42,_fillContent:function(){if(this.srcNodeRef){var _d43=_d3c("*",this.srcNodeRef);this.inherited(arguments,[_d43[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _d44=_d3c("[widgetId]",this.dropDownContainer)[0];if(_d44){this.dropDown=_d3d.byNode(_d44);}delete this.dropDownContainer;}if(this.dropDown){_d3e.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _d45=this.dropDown;return (!!_d45&&(!_d45.href||_d45.isLoaded));},loadDropDown:function(_d46){var _d47=this.dropDown;var _d48=_d47.on("load",lang.hitch(this,function(){_d48.remove();_d46();}));_d47.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/form/Button":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(_d49,_d4a,_d4b,has,_d4c,lang,_d4d,_d4e,_d4f,_d50){if(has("dijit-legacy-requires")){_d4d(0,function(){var _d51=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_d49(_d51);});}var _d52=_d4a("dijit.form.Button"+(has("dojo-bidi")?"_NoBidi":""),[_d4e,_d4f],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_d50,_setValueAttr:"valueNode",_setNameAttr:function(name){if(this.valueNode){this.valueNode.setAttribute("name",name);}},_fillContent:function(_d53){if(_d53&&(!this.params||!("label" in this.params))){var _d54=lang.trim(_d53.innerHTML);if(_d54){this.label=_d54;}}},_setShowLabelAttr:function(val){if(this.containerNode){_d4b.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_d55){_d4c.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_d55);},_setLabelAttr:function(_d56){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});if(has("dojo-bidi")){_d52=_d4a("dijit.form.Button",_d52,{_setLabelAttr:function(_d57){this.inherited(arguments);if(this.titleNode.title){this.applyTextDir(this.titleNode,this.titleNode.title);}},_setTextDirAttr:function(_d58){if(this._created&&this.textDir!=_d58){this._set("textDir",_d58);this._setLabelAttr(this.label);}}});}return _d52;});},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_d59,dom,has,_d5a){var _d5b=_d59("dijit.form._ButtonMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){e.stopPropagation();e.preventDefault();if(!this.disabled){this.valueNode.click(e);}return false;},_onClick:function(e){if(this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.onClick(e)===false){e.preventDefault();}cancelled=e.defaultPrevented;if(!cancelled&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _d5c=_d5a.byNode(node);if(_d5c&&typeof _d5c._onSubmit=="function"){_d5c._onSubmit(e);e.preventDefault();cancelled=true;break;}}}return !cancelled;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_d5d){this._set("label",_d5d);var _d5e=this.containerNode||this.focusNode;_d5e.innerHTML=_d5d;}});if(has("dojo-bidi")){_d5b=_d59("dijit.form._ButtonMixin",_d5b,{_setLabelAttr:function(){this.inherited(arguments);var _d5f=this.containerNode||this.focusNode;this.applyTextDir(_d5f);}});}return _d5b;});},"dijit/form/_DateTimeTextBox":function(){define(["dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","./RangeBoundTextBox","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(date,_d60,_d61,_d62,lang,_d63,_d64,_d65){new Date("X");var _d66=_d62("dijit.form._DateTimeTextBox",[_d63,_d64],{templateString:_d65,hasDownArrow:true,cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},pattern:_d60.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},compare:function(val1,val2){var _d67=this._isInvalidDate(val1);var _d68=this._isInvalidDate(val2);return _d67?(_d68?0:-1):(_d68?1:date.compare(val1,val2,this._selector));},autoWidth:true,format:function(_d69,_d6a){if(!_d69){return "";}return this.dateLocaleModule.format(_d69,_d6a);},"parse":function(_d6b,_d6c){return this.dateLocaleModule.parse(_d6b,_d6c)||(this._isEmpty(_d6b)?null:undefined);},serialize:function(val,_d6d){if(val.toGregorian){val=val.toGregorian();}return _d61.toISOString(val,_d6d);},dropDownDefaultValue:new Date(),value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(_d6e){this.dateModule=_d6e.datePackage?lang.getObject(_d6e.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_d6e.datePackage?lang.getObject(_d6e.datePackage+".locale",false):_d60;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString();},buildRendering:function(){this.inherited(arguments);if(!this.hasDownArrow){this._buttonNode.style.display="none";}if(!this.hasDownArrow){this._buttonNode=this.domNode;this.baseClass+=" dijitComboBoxOpenOnClick";}},_setConstraintsAttr:function(_d6f){_d6f.selector=this._selector;_d6f.fullYear=true;var _d70=_d61.fromISOString;if(typeof _d6f.min=="string"){_d6f.min=_d70(_d6f.min);}if(typeof _d6f.max=="string"){_d6f.max=_d70(_d6f.max);}this.inherited(arguments);},_isInvalidDate:function(_d71){return !_d71||isNaN(_d71)||typeof _d71!="object"||_d71.toString()==this._invalidDate;},_setValueAttr:function(_d72,_d73,_d74){if(_d72!==undefined){if(typeof _d72=="string"){_d72=_d61.fromISOString(_d72);}if(this._isInvalidDate(_d72)){_d72=null;}if(_d72 instanceof Date&&!(this.dateClassObj instanceof Date)){_d72=new this.dateClassObj(_d72);}}this.inherited(arguments);if(this.value instanceof Date){this.filterString="";}if(this.dropDown){this.dropDown.set("value",_d72,false);}},_set:function(attr,_d75){var _d76=this._get("value");if(attr=="value"&&_d76 instanceof Date&&this.compare(_d75,_d76)==0){return;}this.inherited(arguments);},_setDropDownDefaultValueAttr:function(val){if(this._isInvalidDate(val)){val=new this.dateClassObj();}this._set("dropDownDefaultValue",val);},openDropDown:function(_d77){if(this.dropDown){this.dropDown.destroy();}var _d78=lang.isString(this.popupClass)?lang.getObject(this.popupClass,false):this.popupClass,_d79=this,_d7a=this.get("value");this.dropDown=new _d78({onChange:function(_d7b){_d79.set("value",_d7b,true);},id:this.id+"_popup",dir:_d79.dir,lang:_d79.lang,value:_d7a,textDir:_d79.textDir,currentFocus:!this._isInvalidDate(_d7a)?_d7a:this.dropDownDefaultValue,constraints:_d79.constraints,filterString:_d79.filterString,datePackage:_d79.params.datePackage,isDisabledDate:function(date){return !_d79.rangeCheck(date,_d79.constraints);}});this.inherited(arguments);},_getDisplayedValueAttr:function(){return this.textbox.value;},_setDisplayedValueAttr:function(_d7c,_d7d){this._setValueAttr(this.parse(_d7c,this.constraints),_d7d,_d7c);}});return _d66;});},"dijit/form/TimeTextBox":function(){define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","../_TimePicker","./_DateTimeTextBox"],function(_d7e,keys,lang,_d7f,_d80){return _d7e("dijit.form.TimeTextBox",_d80,{baseClass:"dijitTextBox dijitComboBox dijitTimeTextBox",popupClass:_d7f,_selector:"time",value:new Date(""),maxHeight:-1,_onKey:function(evt){if(this.disabled||this.readOnly){return;}this.inherited(arguments);switch(evt.keyCode){case keys.ENTER:case keys.TAB:case keys.ESCAPE:case keys.DOWN_ARROW:case keys.UP_ARROW:break;default:this.defer(function(){var val=this.get("displayedValue");this.filterString=(val&&!this.parse(val,this.constraints))?val.toLowerCase():"";if(this._opened){this.closeDropDown();}this.openDropDown();});}}});});},"dijit/_TimePicker":function(){define(["dojo/_base/array","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/query","dojo/mouse","dojo/on","./_WidgetBase","./form/_ListMouseMixin"],function(_d81,_d82,_d83,_d84,_d85,_d86,_d87,_d88,keys,lang,has,_d89,_d8a,on,_d8b,_d8c){var _d8d=_d85("dijit._TimePicker",[_d8b,_d8c],{baseClass:"dijitTimePicker",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",value:new Date(),_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:_d84.toISOString,buildRendering:function(){this.inherited(arguments);this.containerNode=this.domNode;this.timeMenu=this.domNode;},setValue:function(_d8e){_d88.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_d8e);},_setValueAttr:function(date){this._set("value",date);this._showText();},_setFilterStringAttr:function(val){this._set("filterString",val);this._showText();},isDisabledDate:function(){return false;},_getFilteredNodes:function(_d8f,_d90,_d91,_d92){var _d93=[];for(var i=0;i<this._maxIncrement;i++){var n=this._createOption(i);if(n){_d93.push(n);}}return _d93;},_showText:function(){var _d94=_d84.fromISOString;this.domNode.innerHTML="";this._clickableIncrementDate=_d94(this.clickableIncrement);this._visibleIncrementDate=_d94(this.visibleIncrement);var _d95=function(date){return date.getHours()*60*60+date.getMinutes()*60+date.getSeconds();},_d96=_d95(this._clickableIncrementDate),_d97=_d95(this._visibleIncrementDate),time=(this.value||this.currentFocus).getTime();this._refDate=_d94("T00:00:00");this._refDate.setFullYear(1970,0,1);this._clickableIncrement=1;this._visibleIncrement=_d97/_d96;this._maxIncrement=(60*60*24)/_d96;var _d98=this._getFilteredNodes();_d81.forEach(_d98,function(n){this.domNode.appendChild(n);},this);if(!_d98.length&&this.filterString){this.filterString="";this._showText();}},constructor:function(){this.constraints={};},postMixInProperties:function(){this.inherited(arguments);this._setConstraintsAttr(this.constraints);},_setConstraintsAttr:function(_d99){for(var key in _d99){this._set(key,_d99[key]);}if(!_d99.locale){_d99.locale=this.lang;}},_createOption:function(_d9a){var date=new Date(this._refDate);var _d9b=this._clickableIncrementDate;date.setHours(date.getHours()+_d9b.getHours()*_d9a,date.getMinutes()+_d9b.getMinutes()*_d9a,date.getSeconds()+_d9b.getSeconds()*_d9a);if(this.constraints.selector=="time"){date.setFullYear(1970,0,1);}var _d9c=_d83.format(date,this.constraints);if(this.filterString&&_d9c.toLowerCase().indexOf(this.filterString)!==0){return null;}var div=this.ownerDocument.createElement("div");div.className=this.baseClass+"Item";div.date=date;div.idx=_d9a;_d87.create("div",{"class":this.baseClass+"ItemInner",innerHTML:_d9c},div);if(_d9a%this._visibleIncrement<1&&_d9a%this._visibleIncrement>-1){_d86.add(div,this.baseClass+"Marker");}else{if(!(_d9a%this._clickableIncrement)){_d86.add(div,this.baseClass+"Tick");}}if(this.isDisabledDate(date)){_d86.add(div,this.baseClass+"ItemDisabled");}if(this.value&&!_d82.compare(this.value,date,this.constraints.selector)){div.selected=true;_d86.add(div,this.baseClass+"ItemSelected");this._selectedDiv=div;if(_d86.contains(div,this.baseClass+"Marker")){_d86.add(div,this.baseClass+"MarkerSelected");}else{_d86.add(div,this.baseClass+"TickSelected");}this._highlightOption(div,true);}return div;},onOpen:function(){this.inherited(arguments);this.set("selected",this._selectedDiv);},_onOptionSelected:function(tgt){var _d9d=tgt.target.date||tgt.target.parentNode.date;if(!_d9d||this.isDisabledDate(_d9d)){return;}this._highlighted_option=null;this.set("value",_d9d);this.onChange(_d9d);},onChange:function(){},_highlightOption:function(node,_d9e){if(!node){return;}if(_d9e){if(this._highlighted_option){this._highlightOption(this._highlighted_option,false);}this._highlighted_option=node;}else{if(this._highlighted_option!==node){return;}else{this._highlighted_option=null;}}_d86.toggle(node,this.baseClass+"ItemHover",_d9e);if(_d86.contains(node,this.baseClass+"Marker")){_d86.toggle(node,this.baseClass+"MarkerHover",_d9e);}else{_d86.toggle(node,this.baseClass+"TickHover",_d9e);}},handleKey:function(e){if(e.keyCode==keys.DOWN_ARROW){this.selectNextNode();e.stopPropagation();e.preventDefault();return false;}else{if(e.keyCode==keys.UP_ARROW){this.selectPreviousNode();e.stopPropagation();e.preventDefault();return false;}else{if(e.keyCode==keys.ENTER||e.keyCode===keys.TAB){if(!this._keyboardSelected&&e.keyCode===keys.TAB){return true;}if(this._highlighted_option){this._onOptionSelected({target:this._highlighted_option});}return e.keyCode===keys.TAB;}}}return undefined;},onHover:function(node){this._highlightOption(node,true);},onUnhover:function(node){this._highlightOption(node,false);},onSelect:function(node){this._highlightOption(node,true);},onDeselect:function(node){this._highlightOption(node,false);},onClick:function(node){this._onOptionSelected({target:node});}});return _d8d;});},"dijit/layout/AccordionContainer":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/topic","../focus","../_base/manager","dojo/ready","../_Widget","../_Container","../_TemplatedMixin","../_CssStateMixin","./StackContainer","./ContentPane","dojo/text!./templates/AccordionButton.html","../a11yclick"],function(_d9f,_da0,_da1,fx,dom,_da2,_da3,_da4,_da5,keys,lang,has,_da6,_da7,_da8,_da9,_daa,_dab,_dac,_dad,_dae,_daf,_db0){var _db1=_da1("dijit.layout._AccordionButton",[_daa,_dac,_dad],{templateString:_db0,label:"",_setLabelAttr:{node:"titleTextNode",type:"innerHTML"},title:"",_setTitleAttr:{node:"titleTextNode",type:"attribute",attribute:"title"},iconClassAttr:"",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitAccordionTitle",getParent:function(){return this.parent;},buildRendering:function(){this.inherited(arguments);var _db2=this.id.replace(" ","_");_da2.set(this.titleTextNode,"id",_db2+"_title");this.focusNode.setAttribute("aria-labelledby",_da2.get(this.titleTextNode,"id"));dom.setSelectable(this.domNode,false);},getTitleHeight:function(){return _da5.getMarginSize(this.domNode).h;},_onTitleClick:function(){var _db3=this.getParent();_db3.selectChild(this.contentWidget,true);_da7.focus(this.focusNode);},_onTitleKeyDown:function(evt){return this.getParent()._onKeyDown(evt,this.contentWidget);},_setSelectedAttr:function(_db4){this._set("selected",_db4);this.focusNode.setAttribute("aria-expanded",_db4?"true":"false");this.focusNode.setAttribute("aria-selected",_db4?"true":"false");this.focusNode.setAttribute("tabIndex",_db4?"0":"-1");}});if(has("dojo-bidi")){_db1.extend({_setLabelAttr:function(_db5){this._set("label",_db5);_da2.set(this.titleTextNode,"innerHTML",_db5);this.applyTextDir(this.titleTextNode);},_setTitleAttr:function(_db6){this._set("title",_db6);_da2.set(this.titleTextNode,"title",_db6);this.applyTextDir(this.titleTextNode);}});}var _db7=_da1("dijit.layout._AccordionInnerContainer"+(has("dojo-bidi")?"_NoBidi":""),[_daa,_dad],{baseClass:"dijitAccordionInnerContainer",isLayoutContainer:true,buildRendering:function(){this.domNode=_da4.place("<div class='"+this.baseClass+"' role='presentation'>",this.contentWidget.domNode,"after");var _db8=this.contentWidget,cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;this.button=_db8._buttonWidget=(new cls({contentWidget:_db8,label:_db8.title,title:_db8.tooltip,dir:_db8.dir,lang:_db8.lang,textDir:_db8.textDir||this.textDir,iconClass:_db8.iconClass,id:_db8.id+"_button",parent:this.parent})).placeAt(this.domNode);this.containerNode=_da4.place("<div class='dijitAccordionChildWrapper' role='tabpanel' style='display:none'>",this.domNode);this.containerNode.setAttribute("aria-labelledby",this.button.id);_da4.place(this.contentWidget.domNode,this.containerNode);},postCreate:function(){this.inherited(arguments);var _db9=this.button,cw=this.contentWidget;this._contentWidgetWatches=[cw.watch("title",lang.hitch(this,function(name,_dba,_dbb){_db9.set("label",_dbb);})),cw.watch("tooltip",lang.hitch(this,function(name,_dbc,_dbd){_db9.set("title",_dbd);})),cw.watch("iconClass",lang.hitch(this,function(name,_dbe,_dbf){_db9.set("iconClass",_dbf);}))];},_setSelectedAttr:function(_dc0){this._set("selected",_dc0);this.button.set("selected",_dc0);if(_dc0){var cw=this.contentWidget;if(cw.onSelected){cw.onSelected();}}},startup:function(){this.contentWidget.startup();},destroy:function(){this.button.destroyRecursive();_da0.forEach(this._contentWidgetWatches||[],function(w){w.unwatch();});delete this.contentWidget._buttonWidget;delete this.contentWidget._wrapperWidget;this.inherited(arguments);},destroyDescendants:function(_dc1){this.contentWidget.destroyRecursive(_dc1);}});if(has("dojo-bidi")){_db7=_da1("dijit.layout._AccordionInnerContainer",_db7,{postCreate:function(){this.inherited(arguments);var _dc2=this.button;this._contentWidgetWatches.push(this.contentWidget.watch("textDir",function(name,_dc3,_dc4){_dc2.set("textDir",_dc4);}));}});}var _dc5=_da1("dijit.layout.AccordionContainer",_dae,{duration:_da8.defaultDuration,buttonWidget:_db1,baseClass:"dijitAccordionContainer",buildRendering:function(){this.inherited(arguments);this.domNode.style.overflow="hidden";this.domNode.setAttribute("role","tablist");},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.selectedChildWidget){this.selectedChildWidget._wrapperWidget.set("selected",true);}},layout:function(){var _dc6=this.selectedChildWidget;if(!_dc6){return;}var _dc7=_dc6._wrapperWidget.domNode,_dc8=_da5.getMarginExtents(_dc7),_dc9=_da5.getPadBorderExtents(_dc7),_dca=_dc6._wrapperWidget.containerNode,_dcb=_da5.getMarginExtents(_dca),_dcc=_da5.getPadBorderExtents(_dca),_dcd=this._contentBox;var _dce=0;_da0.forEach(this.getChildren(),function(_dcf){if(_dcf!=_dc6){_dce+=_da5.getMarginSize(_dcf._wrapperWidget.domNode).h;}});this._verticalSpace=_dcd.h-_dce-_dc8.h-_dc9.h-_dcb.h-_dcc.h-_dc6._buttonWidget.getTitleHeight();this._containerContentBox={h:this._verticalSpace,w:this._contentBox.w-_dc8.w-_dc9.w-_dcb.w-_dcc.w};if(_dc6){_dc6.resize(this._containerContentBox);}},_setupChild:function(_dd0){_dd0._wrapperWidget=_db7({contentWidget:_dd0,buttonWidget:this.buttonWidget,id:_dd0.id+"_wrapper",dir:_dd0.dir,lang:_dd0.lang,textDir:_dd0.textDir||this.textDir,parent:this});this.inherited(arguments);_da4.place(_dd0.domNode,_dd0._wrapper,"replace");},removeChild:function(_dd1){if(_dd1._wrapperWidget){_da4.place(_dd1.domNode,_dd1._wrapperWidget.domNode,"after");_dd1._wrapperWidget.destroy();delete _dd1._wrapperWidget;}_da3.remove(_dd1.domNode,"dijitHidden");this.inherited(arguments);},getChildren:function(){return _da0.map(this.inherited(arguments),function(_dd2){return _dd2.declaredClass=="dijit.layout._AccordionInnerContainer"?_dd2.contentWidget:_dd2;},this);},destroy:function(){if(this._animation){this._animation.stop();}_da0.forEach(this.getChildren(),function(_dd3){if(_dd3._wrapperWidget){_dd3._wrapperWidget.destroy();}else{_dd3.destroyRecursive();}});this.inherited(arguments);},_showChild:function(_dd4){_dd4._wrapperWidget.containerNode.style.display="block";return this.inherited(arguments);},_hideChild:function(_dd5){_dd5._wrapperWidget.containerNode.style.display="none";this.inherited(arguments);},_transition:function(_dd6,_dd7,_dd8){if(has("ie")<8){_dd8=false;}if(this._animation){this._animation.stop(true);delete this._animation;}var self=this;if(_dd6){_dd6._wrapperWidget.set("selected",true);var d=this._showChild(_dd6);if(this.doLayout&&_dd6.resize){_dd6.resize(this._containerContentBox);}}if(_dd7){_dd7._wrapperWidget.set("selected",false);if(!_dd8){this._hideChild(_dd7);}}if(_dd8){var _dd9=_dd6._wrapperWidget.containerNode,_dda=_dd7._wrapperWidget.containerNode;var _ddb=_dd6._wrapperWidget.containerNode,_ddc=_da5.getMarginExtents(_ddb),_ddd=_da5.getPadBorderExtents(_ddb),_dde=_ddc.h+_ddd.h;_dda.style.height=(self._verticalSpace-_dde)+"px";this._animation=new fx.Animation({node:_dd9,duration:this.duration,curve:[1,this._verticalSpace-_dde-1],onAnimate:function(_ddf){_ddf=Math.floor(_ddf);_dd9.style.height=_ddf+"px";_dda.style.height=(self._verticalSpace-_dde-_ddf)+"px";},onEnd:function(){delete self._animation;_dd9.style.height="auto";_dd7._wrapperWidget.containerNode.style.display="none";_dda.style.height="auto";self._hideChild(_dd7);}});this._animation.onStop=this._animation.onEnd;this._animation.play();}return d;},_onKeyDown:function(e,_de0){if(this.disabled||e.altKey||!(_de0||e.ctrlKey)){return;}var c=e.keyCode;if((_de0&&(c==keys.LEFT_ARROW||c==keys.UP_ARROW))||(e.ctrlKey&&c==keys.PAGE_UP)){this._adjacent(false)._buttonWidget._onTitleClick();e.stopPropagation();e.preventDefault();}else{if((_de0&&(c==keys.RIGHT_ARROW||c==keys.DOWN_ARROW))||(e.ctrlKey&&(c==keys.PAGE_DOWN||c==keys.TAB))){this._adjacent(true)._buttonWidget._onTitleClick();e.stopPropagation();e.preventDefault();}}}});if(has("dijit-legacy-requires")){_da9(0,function(){var _de1=["dijit/layout/AccordionPane"];_d9f(_de1);});}_dc5._InnerContainer=_db7;_dc5._Button=_db1;return _dc5;});},"dijit/layout/StackContainer":function(){define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/topic","dojo/when","../registry","../_WidgetBase","./_LayoutWidget"],function(_de2,_de3,_de4,_de5,_de6,has,lang,on,_de7,_de8,when,_de9,_dea,_deb){if(has("dijit-legacy-requires")){_de7(0,function(){var _dec=["dijit/layout/StackController"];require(_dec);});}var _ded=_de4("dijit.layout.StackContainer",_deb,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);_de5.add(this.domNode,"dijitLayoutContainer");},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));},startup:function(){if(this._started){return;}var _dee=this.getChildren();_de2.forEach(_dee,this._setupChild,this);if(this.persist){this.selectedChildWidget=_de9.byId(_de3(this.id+"_selectedChild"));}else{_de2.some(_dee,function(_def){if(_def.selected){this.selectedChildWidget=_def;}return _def.selected;},this);}var _df0=this.selectedChildWidget;if(!_df0&&_dee[0]){_df0=this.selectedChildWidget=_dee[0];_df0.selected=true;}_de8.publish(this.id+"-startup",{children:_dee,selected:_df0,textDir:this.textDir});this.inherited(arguments);},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=true;var _df1=this.selectedChildWidget;if(_df1){this._showChild(_df1);}}this.inherited(arguments);},_setupChild:function(_df2){var _df3=_df2.domNode,_df4=_de6.place("<div role='tabpanel' class='"+this.baseClass+"ChildWrapper dijitHidden'>",_df2.domNode,"replace"),_df5=_df2["aria-label"]||_df2.title||_df2.label;if(_df5){_df4.setAttribute("aria-label",_df5);}_de6.place(_df3,_df4);_df2._wrapper=_df4;this.inherited(arguments);if(_df3.style.display=="none"){_df3.style.display="block";}_df2.domNode.title="";},addChild:function(_df6,_df7){this.inherited(arguments);if(this._started){_de8.publish(this.id+"-addChild",_df6,_df7);this.layout();if(!this.selectedChildWidget){this.selectChild(_df6);}}},removeChild:function(page){var idx=_de2.indexOf(this.getChildren(),page);this.inherited(arguments);_de6.destroy(page._wrapper);delete page._wrapper;if(this._started){_de8.publish(this.id+"-removeChild",page);}if(this._descendantsBeingDestroyed){return;}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _df8=this.getChildren();if(_df8.length){this.selectChild(_df8[Math.max(idx-1,0)]);}}}if(this._started){this.layout();}},selectChild:function(page,_df9){var d;page=_de9.byId(page);if(this.selectedChildWidget!=page){d=this._transition(page,this.selectedChildWidget,_df9);this._set("selectedChildWidget",page);_de8.publish(this.id+"-selectChild",page);if(this.persist){_de3(this.id+"_selectedChild",this.selectedChildWidget.id);}}return when(d||true);},_transition:function(_dfa,_dfb){if(_dfb){this._hideChild(_dfb);}var d=this._showChild(_dfa);if(_dfa.resize){if(this.doLayout){_dfa.resize(this._containerContentBox||this._contentBox);}else{_dfa.resize();}}return d;},_adjacent:function(_dfc){var _dfd=this.getChildren();var _dfe=_de2.indexOf(_dfd,this.selectedChildWidget);_dfe+=_dfc?1:_dfd.length-1;return _dfd[_dfe%_dfd.length];},forward:function(){return this.selectChild(this._adjacent(true),true);},back:function(){return this.selectChild(this._adjacent(false),true);},_onKeyDown:function(e){_de8.publish(this.id+"-containerKeyDown",{e:e,page:this});},layout:function(){var _dff=this.selectedChildWidget;if(_dff&&_dff.resize){if(this.doLayout){_dff.resize(this._containerContentBox||this._contentBox);}else{_dff.resize();}}},_showChild:function(page){var _e00=this.getChildren();page.isFirstChild=(page==_e00[0]);page.isLastChild=(page==_e00[_e00.length-1]);page._set("selected",true);if(page._wrapper){_de5.replace(page._wrapper,"dijitVisible","dijitHidden");}return (page._onShow&&page._onShow())||true;},_hideChild:function(page){page._set("selected",false);if(page._wrapper){_de5.replace(page._wrapper,"dijitHidden","dijitVisible");}page.onHide&&page.onHide();},closeChild:function(page){var _e01=page.onClose&&page.onClose(this,page);if(_e01){this.removeChild(page);page.destroyRecursive();}},destroyDescendants:function(_e02){this._descendantsBeingDestroyed=true;this.selectedChildWidget=undefined;_de2.forEach(this.getChildren(),function(_e03){if(!_e02){this.removeChild(_e03);}_e03.destroyRecursive(_e02);},this);this._descendantsBeingDestroyed=false;}});_ded.ChildWidgetProperties={selected:false,disabled:false,closable:false,iconClass:"dijitNoIcon",showTitle:true};lang.extend(_dea,_ded.ChildWidgetProperties);return _ded;});},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(dojo,_e04){dojo.cookie=function(name,_e05,_e06){var c=document.cookie,ret;if(arguments.length==1){var _e07=c.match(new RegExp("(?:^|; )"+_e04.escapeString(name)+"=([^;]*)"));ret=_e07?decodeURIComponent(_e07[1]):undefined;}else{_e06=_e06||{};var exp=_e06.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_e06.expires=d;}if(exp&&exp.toUTCString){_e06.expires=exp.toUTCString();}_e05=encodeURIComponent(_e05);var _e08=name+"="+_e05,_e09;for(_e09 in _e06){_e08+="; "+_e09;var _e0a=_e06[_e09];if(_e0a!==true){_e08+="="+_e0a;}}document.cookie=_e08;}return ret;};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return dojo.cookie;});},"dijit/layout/_LayoutWidget":function(){define(["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_e0b,_e0c,_e0d,_e0e,_e0f,_e10,_e11,_e12){return _e0f("dijit.layout._LayoutWidget",[_e0b,_e0c,_e0d],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);_e10.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _e13=this.getParent&&this.getParent();if(!(_e13&&_e13.isLayoutContainer)){this.resize();this.own(_e0e.on("resize",lang.hitch(this,"resize")));}},resize:function(_e14,_e15){var node=this.domNode;if(_e14){_e11.setMarginBox(node,_e14);}var mb=_e15||{};lang.mixin(mb,_e14||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_e11.getMarginBox(node),mb);}var cs=_e12.getComputedStyle(node);var me=_e11.getMarginExtents(node,cs);var be=_e11.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_e11.getPadExtents(node,cs);this._contentBox={l:_e12.toPixelValue(node,cs.paddingLeft),t:_e12.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_e16){var cls=this.baseClass+"-child "+(_e16.baseClass?this.baseClass+"-"+_e16.baseClass:"");_e10.add(_e16.domNode,cls);},addChild:function(_e17,_e18){this.inherited(arguments);if(this._started){this._setupChild(_e17);}},removeChild:function(_e19){var cls=this.baseClass+"-child"+(_e19.baseClass?" "+this.baseClass+"-"+_e19.baseClass:"");_e10.remove(_e19.domNode,cls);this.inherited(arguments);}});});},"dijit/form/Select":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/i18n","dojo/_base/lang","dojo/on","dojo/sniff","./_FormSelectWidget","../_HasDropDown","../DropDownMenu","../MenuItem","../MenuSeparator","../Tooltip","../_KeyNavMixin","../registry","dojo/text!./templates/Select.html","dojo/i18n!./nls/validate"],function(_e1a,_e1b,_e1c,_e1d,_e1e,i18n,lang,on,has,_e1f,_e20,_e21,_e22,_e23,_e24,_e25,_e26,_e27){var _e28=_e1b("dijit.form._SelectMenu",_e21,{autoFocus:true,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox");},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"selectstart",function(evt){evt.preventDefault();evt.stopPropagation();}));},focus:function(){var _e29=false,val=this.parentWidget.value;if(lang.isArray(val)){val=val[val.length-1];}if(val){_e1a.forEach(this.parentWidget._getChildren(),function(_e2a){if(_e2a.option&&(val===_e2a.option.value)){_e29=true;this.focusChild(_e2a,false);}},this);}if(!_e29){this.inherited(arguments);}}});var _e2b=_e1b("dijit.form.Select"+(has("dojo-bidi")?"_NoBidi":""),[_e1f,_e20,_e25],{baseClass:"dijitSelect dijitValidationTextBox",templateString:_e27,_buttonInputDisabled:has("ie")?"disabled":"",required:false,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",_isLoaded:false,_childrenLoaded:false,_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var si=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[si>=0?si:0].value);}this.dropDown=new _e28({id:this.id+"_menu",parentWidget:this});_e1d.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "));},_getMenuItemForOption:function(_e2c){if(!_e2c.value&&!_e2c.label){return new _e23({ownerDocument:this.ownerDocument});}else{var _e2d=lang.hitch(this,"_setValueAttr",_e2c);var item=new _e22({option:_e2c,label:_e2c.label||this.emptyLabel,onClick:_e2d,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:_e2c.disabled||false});item.focusNode.setAttribute("role","option");return item;}},_addOptionItem:function(_e2e){if(this.dropDown){this.dropDown.addChild(this._getMenuItemForOption(_e2e));}},_getChildren:function(){if(!this.dropDown){return [];}return this.dropDown.getChildren();},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},focusChild:function(_e2f){if(_e2f){this.set("value",_e2f.option);}},_getFirst:function(){var _e30=this._getChildren();return _e30.length?_e30[0]:null;},_getLast:function(){var _e31=this._getChildren();return _e31.length?_e31[_e31.length-1]:null;},childSelector:function(node){var node=_e26.byNode(node);return node&&node.getParent()==this.dropDown;},onKeyboardSearch:function(item,evt,_e32,_e33){if(item){this.focusChild(item);}},_loadChildren:function(_e34){if(_e34===true){if(this.dropDown){delete this.dropDown.focusedChild;this.focusedChild=null;}if(this.options.length){this.inherited(arguments);}else{_e1a.forEach(this._getChildren(),function(_e35){_e35.destroyRecursive();});var item=new _e22({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(item);}}else{this._updateSelection();}this._isLoaded=false;this._childrenLoaded=true;if(!this._loadingStore){this._setValueAttr(this.value,false);}},_refreshState:function(){if(this._started){this.validate(this.focused);}},startup:function(){this.inherited(arguments);this._refreshState();},_setValueAttr:function(_e36){this.inherited(arguments);_e1c.set(this.valueNode,"value",this.get("value"));this._refreshState();},_setNameAttr:"valueNode",_setDisabledAttr:function(_e37){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_e38){this._set("required",_e38);this.focusNode.setAttribute("aria-required",_e38);this._refreshState();},_setOptionsAttr:function(_e39){this._isLoaded=false;this._set("options",_e39);},_setDisplay:function(_e3a){var lbl=_e3a||this.emptyLabel;this.containerNode.innerHTML="<span role=\"option\" class=\"dijitReset dijitInline "+this.baseClass.replace(/\s+|$/g,"Label ")+"\">"+lbl+"</span>";},validate:function(_e3b){var _e3c=this.disabled||this.isValid(_e3b);this._set("state",_e3c?"":(this._hasBeenBlurred?"Error":"Incomplete"));this.focusNode.setAttribute("aria-invalid",_e3c?"false":"true");var _e3d=_e3c?"":this._missingMsg;if(_e3d&&this.focused&&this._hasBeenBlurred){_e24.show(_e3d,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_e24.hide(this.domNode);}this._set("message",_e3d);return _e3c;},isValid:function(){return (!this.required||this.value===0||!(/^\s*$/.test(this.value||"")));},reset:function(){this.inherited(arguments);_e24.hide(this.domNode);this._refreshState();},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=i18n.getLocalization("dijit.form","validate",this.lang).missingMessage;},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"selectstart",function(evt){evt.preventDefault();evt.stopPropagation();}));this.domNode.setAttribute("aria-expanded","false");if(has("ie")<9){this.defer(function(){try{var s=domStyle.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _e3e=this.domNode.getElementsByTagName("INPUT");if(_e3e){for(var i=0;i<_e3e.length;i++){_e3e[i].style.fontFamily=ff;}}}}}catch(e){}});}},_setStyleAttr:function(_e3f){this.inherited(arguments);_e1d.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width);},isLoaded:function(){return this._isLoaded;},loadDropDown:function(_e40){this._loadChildren(true);this._isLoaded=true;_e40();},destroy:function(_e41){if(this.dropDown&&!this.dropDown._destroyed){this.dropDown.destroyRecursive(_e41);delete this.dropDown;}this.inherited(arguments);},_onFocus:function(){this.validate(true);this.inherited(arguments);},_onBlur:function(){_e24.hide(this.domNode);this.inherited(arguments);this.validate(false);}});if(has("dojo-bidi")){_e2b=_e1b("dijit.form.Select",_e2b,{_setDisplay:function(_e42){this.inherited(arguments);this.applyTextDir(this.containerNode);}});}_e2b._Menu=_e28;function _e43(_e44){return function(evt){if(!this._isLoaded){this.loadDropDown(lang.hitch(this,_e44,evt));}else{this.inherited(_e44,arguments);}};};_e2b.prototype._onContainerKeydown=_e43("_onContainerKeydown");_e2b.prototype._onContainerKeypress=_e43("_onContainerKeypress");return _e2b;});},"dijit/form/_FormSelectWidget":function(){define(["dojo/_base/array","dojo/_base/Deferred","dojo/aspect","dojo/data/util/sorter","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/when","dojo/store/util/QueryResults","./_FormValueWidget"],function(_e45,_e46,_e47,_e48,_e49,dom,_e4a,_e4b,lang,_e4c,when,_e4d,_e4e){var _e4f=_e49("dijit.form._FormSelectWidget",_e4e,{multiple:false,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:true,loadChildrenOnOpen:false,onLoadDeferred:null,getOptions:function(_e50){var opts=this.options||[];if(_e50==null){return opts;}if(lang.isArray(_e50)){return _e45.map(_e50,"return this.getOptions(item);",this);}if(lang.isString(_e50)){_e50={value:_e50};}if(lang.isObject(_e50)){if(!_e45.some(opts,function(_e51,idx){for(var a in _e50){if(!(a in _e51)||_e51[a]!=_e50[a]){return false;}}_e50=idx;return true;})){_e50=-1;}}if(_e50>=0&&_e50<opts.length){return opts[_e50];}return null;},addOption:function(_e52){_e45.forEach(lang.isArray(_e52)?_e52:[_e52],function(i){if(i&&lang.isObject(i)){this.options.push(i);}},this);this._loadChildren();},removeOption:function(_e53){var _e54=this.getOptions(lang.isArray(_e53)?_e53:[_e53]);_e45.forEach(_e54,function(_e55){if(_e55){this.options=_e45.filter(this.options,function(node){return (node.value!==_e55.value||node.label!==_e55.label);});this._removeOptionItem(_e55);}},this);this._loadChildren();},updateOption:function(_e56){_e45.forEach(lang.isArray(_e56)?_e56:[_e56],function(i){var _e57=this.getOptions({value:i.value}),k;if(_e57){for(k in i){_e57[k]=i[k];}}},this);this._loadChildren();},setStore:function(_e58,_e59,_e5a){var _e5b=this.store;_e5a=_e5a||{};if(_e5b!==_e58){var h;while((h=this._notifyConnections.pop())){h.remove();}if(!_e58.get){lang.mixin(_e58,{_oldAPI:true,get:function(id){var _e5c=new _e46();this.fetchItemByIdentity({identity:id,onItem:function(_e5d){_e5c.resolve(_e5d);},onError:function(_e5e){_e5c.reject(_e5e);}});return _e5c.promise;},query:function(_e5f,_e60){var _e61=new _e46(function(){if(_e62.abort){_e62.abort();}});_e61.total=new _e46();var _e62=this.fetch(lang.mixin({query:_e5f,onBegin:function(_e63){_e61.total.resolve(_e63);},onComplete:function(_e64){_e61.resolve(_e64);},onError:function(_e65){_e61.reject(_e65);}},_e60));return new _e4d(_e61);}});if(_e58.getFeatures()["dojo.data.api.Notification"]){this._notifyConnections=[_e47.after(_e58,"onNew",lang.hitch(this,"_onNewItem"),true),_e47.after(_e58,"onDelete",lang.hitch(this,"_onDeleteItem"),true),_e47.after(_e58,"onSet",lang.hitch(this,"_onSetItem"),true)];}}this._set("store",_e58);}if(this.options&&this.options.length){this.removeOption(this.options);}if(this._queryRes&&this._queryRes.close){this._queryRes.close();}if(this._observeHandle&&this._observeHandle.remove){this._observeHandle.remove();this._observeHandle=null;}if(_e5a.query){this._set("query",_e5a.query);this._set("queryOptions",_e5a.queryOptions);}if(_e58){this._loadingStore=true;this.onLoadDeferred=new _e46();this._queryRes=_e58.query(this.query,this.queryOptions);when(this._queryRes,lang.hitch(this,function(_e66){if(this.sortByLabel&&!_e5a.sort&&_e66.length){if(_e58.getValue){_e66.sort(_e48.createSortFunction([{attribute:_e58.getLabelAttributes(_e66[0])[0]}],_e58));}else{var _e67=this.labelAttr;_e66.sort(function(a,b){return a[_e67]>b[_e67]?1:b[_e67]>a[_e67]?-1:0;});}}if(_e5a.onFetch){_e66=_e5a.onFetch.call(this,_e66,_e5a);}_e45.forEach(_e66,function(i){this._addOptionForItem(i);},this);if(this._queryRes.observe){this._observeHandle=this._queryRes.observe(lang.hitch(this,function(_e68,_e69,_e6a){if(_e69==_e6a){this._onSetItem(_e68);}else{if(_e69!=-1){this._onDeleteItem(_e68);}if(_e6a!=-1){this._onNewItem(_e68);}}}),true);}this._loadingStore=false;this.set("value","_pendingValue" in this?this._pendingValue:_e59);delete this._pendingValue;if(!this.loadChildrenOnOpen){this._loadChildren();}else{this._pseudoLoadChildren(_e66);}this.onLoadDeferred.resolve(true);this.onSetStore();}),function(err){console.error("dijit.form.Select: "+err.toString());this.onLoadDeferred.reject(err);});}return _e5b;},_setValueAttr:function(_e6b,_e6c){if(!this._onChangeActive){_e6c=null;}if(this._loadingStore){this._pendingValue=_e6b;return;}if(_e6b==null){return;}if(lang.isArray(_e6b)){_e6b=_e45.map(_e6b,function(_e6d){return lang.isObject(_e6d)?_e6d:{value:_e6d};});}else{if(lang.isObject(_e6b)){_e6b=[_e6b];}else{_e6b=[{value:_e6b}];}}_e6b=_e45.filter(this.getOptions(_e6b),function(i){return i&&i.value;});var opts=this.getOptions()||[];if(!this.multiple&&(!_e6b[0]||!_e6b[0].value)&&!!opts.length){_e6b[0]=opts[0];}_e45.forEach(opts,function(opt){opt.selected=_e45.some(_e6b,function(v){return v.value===opt.value;});});var val=_e45.map(_e6b,function(opt){return opt.value;});if(typeof val=="undefined"||typeof val[0]=="undefined"){return;}var disp=_e45.map(_e6b,function(opt){return opt.label;});this._setDisplay(this.multiple?disp:disp[0]);this.inherited(arguments,[this.multiple?val:val[0],_e6c]);this._updateSelection();},_getDisplayedValueAttr:function(){var ret=_e45.map([].concat(this.get("selectedOptions")),function(v){if(v&&"label" in v){return v.label;}else{if(v){return v.value;}}return null;},this);return this.multiple?ret:ret[0];},_setDisplayedValueAttr:function(_e6e){this.set("value",this.getOptions(typeof _e6e=="string"?{label:_e6e}:_e6e));},_loadChildren:function(){if(this._loadingStore){return;}_e45.forEach(this._getChildren(),function(_e6f){_e6f.destroyRecursive();});_e45.forEach(this.options,this._addOptionItem,this);this._updateSelection();},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var val=[].concat(this.value);if(val&&val[0]){var self=this;_e45.forEach(this._getChildren(),function(_e70){var _e71=_e45.some(val,function(v){return _e70.option&&(v===_e70.option.value);});if(_e71&&!self.multiple){self.focusedChild=_e70;}_e4a.toggle(_e70.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),_e71);_e70.domNode.setAttribute("aria-selected",_e71?"true":"false");},this);}},_getValueFromOpts:function(){var opts=this.getOptions()||[];if(!this.multiple&&opts.length){var opt=_e45.filter(opts,function(i){return i.selected;})[0];if(opt&&opt.value){return opt.value;}else{opts[0].selected=true;return opts[0].value;}}else{if(this.multiple){return _e45.map(_e45.filter(opts,function(i){return i.selected;}),function(i){return i.value;})||[];}}return "";},_onNewItem:function(item,_e72){if(!_e72||!_e72.parent){this._addOptionForItem(item);}},_onDeleteItem:function(item){var _e73=this.store;this.removeOption({value:_e73.getIdentity(item)});},_onSetItem:function(item){this.updateOption(this._getOptionObjForItem(item));},_getOptionObjForItem:function(item){var _e74=this.store,_e75=(this.labelAttr&&this.labelAttr in item)?item[this.labelAttr]:_e74.getLabel(item),_e76=(_e75?_e74.getIdentity(item):null);return {value:_e76,label:_e75,item:item};},_addOptionForItem:function(item){var _e77=this.store;if(_e77.isItemLoaded&&!_e77.isItemLoaded(item)){_e77.loadItem({item:item,onItem:function(i){this._addOptionForItem(i);},scope:this});return;}var _e78=this._getOptionObjForItem(item);this.addOption(_e78);},constructor:function(_e79){this._oValue=(_e79||{}).value||null;this._notifyConnections=[];},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},_fillContent:function(){if(!this.options){this.options=this.srcNodeRef?_e4c("> *",this.srcNodeRef).map(function(node){if(node.getAttribute("type")==="separator"){return {value:"",label:"",selected:false,disabled:false};}return {value:(node.getAttribute("data-"+_e4b._scopeName+"-value")||node.getAttribute("value")),label:String(node.innerHTML),selected:node.getAttribute("selected")||false,disabled:node.getAttribute("disabled")||false};},this):[];}if(!this.value){this._set("value",this._getValueFromOpts());}else{if(this.multiple&&typeof this.value=="string"){this._set("value",this.value.split(","));}}},postCreate:function(){this.inherited(arguments);_e47.after(this,"onChange",lang.hitch(this,"_updateSelection"));var _e7a=this.store;if(_e7a&&(_e7a.getIdentity||_e7a.getFeatures()["dojo.data.api.Identity"])){this.store=null;this.setStore(_e7a,this._oValue);}},startup:function(){this._loadChildren();this.inherited(arguments);},destroy:function(){var h;while((h=this._notifyConnections.pop())){h.remove();}if(this._queryRes&&this._queryRes.close){this._queryRes.close();}if(this._observeHandle&&this._observeHandle.remove){this._observeHandle.remove();this._observeHandle=null;}this.inherited(arguments);},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return [];},_getSelectedOptionsAttr:function(){return this.getOptions({selected:true});},_pseudoLoadChildren:function(){},onSetStore:function(){}});return _e4f;});},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],function(_e7b,keys,_e7c,_e7d){return _e7b("dijit.DropDownMenu",_e7d,{templateString:_e7c,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev();},_onDownArrow:function(){this.focusNext();},_onRightArrow:function(evt){this._moveToPopup(evt);evt.stopPropagation();evt.preventDefault();},_onLeftArrow:function(){if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{evt.stopPropagation();evt.preventDefault();}}});});},"dijit/_MenuBase":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./registry","./_Widget","./_CssStateMixin","./_KeyNavContainer","./_TemplatedMixin"],function(_e7e,_e7f,dom,_e80,_e81,lang,_e82,on,_e83,_e84,_e85,_e86,_e87,_e88,_e89){return _e7f("dijit._MenuBase",[_e86,_e89,_e88,_e87],{selected:null,_setSelectedAttr:function(item){if(this.selected!=item){if(this.selected){this.selected._setSelected(false);this._onChildDeselect(this.selected);}if(item){item._setSelected(true);}this._set("selected",item);}},activated:false,_setActivatedAttr:function(val){_e81.toggle(this.domNode,"dijitMenuActive",val);_e81.toggle(this.domNode,"dijitMenuPassive",!val);this._set("activated",val);},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:false,childSelector:function(node){var _e8a=_e85.byNode(node);return node.parentNode==this.containerNode&&_e8a&&_e8a.focus;},postCreate:function(){var self=this,_e8b=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.containerNode,on.selector(_e8b,_e82.enter),function(){self.onItemHover(_e85.byNode(this));}),on(this.containerNode,on.selector(_e8b,_e82.leave),function(){self.onItemUnhover(_e85.byNode(this));}),on(this.containerNode,on.selector(_e8b,_e84),function(evt){self.onItemClick(_e85.byNode(this),evt);evt.stopPropagation();}),on(this.containerNode,on.selector(_e8b,"focusin"),function(){self._onItemFocus(_e85.byNode(this));}));this.inherited(arguments);},onKeyboardSearch:function(item,evt,_e8c,_e8d){this.inherited(arguments);if(!!item&&(_e8d==-1||(!!item.popup&&_e8d==1))){this.onItemClick(item,evt);}},_keyboardSearchCompare:function(item,_e8e){if(!!item.shortcutKey){return _e8e==item.shortcutKey.toLowerCase()?-1:0;}return this.inherited(arguments)?1:0;},onExecute:function(){},onCancel:function(){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.onItemClick(this.focusedChild,evt);}else{var _e8f=this._getTopMenu();if(_e8f&&_e8f._isMenuBar){_e8f.focusNext();}}},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer();},onItemHover:function(item){if(this.activated){this.set("selected",item);if(item.popup&&!item.disabled&&!this.hover_timer){this.hover_timer=this.defer(function(){this._openItemPopup(item);},this.popupDelay);}}else{if(this.passivePopupDelay<Infinity){if(this.passive_hover_timer){this.passive_hover_timer.remove();}this.passive_hover_timer=this.defer(function(){this.onItemClick(item,{type:"click"});},this.passivePopupDelay);}}this._hoveredChild=item;item._set("hovering",true);},_onChildDeselect:function(item){this._stopPopupTimer();if(this.currentPopupItem==item){this._stopPendingCloseTimer();this._pendingClose_timer=this.defer(function(){this._pendingClose_timer=null;this.currentPopupItem=null;item._closePopup();},this.popupDelay);}},onItemUnhover:function(item){if(this._hoveredChild==item){this._hoveredChild=null;}if(this.passive_hover_timer){this.passive_hover_timer.remove();this.passive_hover_timer=null;}item._set("hovering",false);},_stopPopupTimer:function(){if(this.hover_timer){this.hover_timer=this.hover_timer.remove();}},_stopPendingCloseTimer:function(){if(this._pendingClose_timer){this._pendingClose_timer=this._pendingClose_timer.remove();}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(this.passive_hover_timer){this.passive_hover_timer.remove();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this.set("selected",item);this.set("activated",true);var _e90=/^key/.test(evt._origType||evt.type)||(evt.clientX==0&&evt.clientY==0);this._openItemPopup(item,_e90);}else{this.onExecute();item._onClick?item._onClick(evt):item.onClick(evt);}},_openItemPopup:function(_e91,_e92){if(_e91==this.currentPopupItem){return;}if(this.currentPopupItem){this._stopPendingCloseTimer();this.currentPopupItem._closePopup();}this._stopPopupTimer();var _e93=_e91.popup;_e93.parentMenu=this;this.own(this._mouseoverHandle=on.once(_e93.domNode,"mouseover",lang.hitch(this,"_onPopupHover")));var self=this;_e91._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){if(_e92){self.focusChild(_e91);}self._cleanUp();},onExecute:lang.hitch(this,"_cleanUp",true),onClose:function(){if(self._mouseoverHandle){self._mouseoverHandle.remove();delete self._mouseoverHandle;}}},_e92);this.currentPopupItem=_e91;},onOpen:function(){this.isShowingNow=true;this.set("activated",true);},onClose:function(){this.set("activated",false);this.set("selected",null);this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();if(this.currentPopupItem){if(this.focused){_e80.set(this.selected.focusNode,"tabIndex",this.tabIndex);this.selected.focusNode.focus();}this.currentPopupItem._closePopup();this.currentPopupItem=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this.onItemUnhover(this._hoveredChild);}this.set("selected",item);},_onBlur:function(){this._cleanUp(true);this.inherited(arguments);},_cleanUp:function(_e94){this._closeChild();if(typeof this.isShowingNow=="undefined"){this.set("activated",false);}if(_e94){this.set("selected",null);}}});});},"dijit/_KeyNavContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/keys","dojo/_base/lang","./registry","./_Container","./_FocusMixin","./_KeyNavMixin"],function(_e95,_e96,_e97,_e98,keys,lang,_e99,_e9a,_e9b,_e9c){return _e96("dijit._KeyNavContainer",[_e9b,_e9c,_e9a],{connectKeyNavHandlers:function(_e9d,_e9e){var _e9f=(this._keyNavCodes={});var prev=lang.hitch(this,"focusPrev");var next=lang.hitch(this,"focusNext");_e95.forEach(_e9d,function(code){_e9f[code]=prev;});_e95.forEach(_e9e,function(code){_e9f[code]=next;});_e9f[keys.HOME]=lang.hitch(this,"focusFirstChild");_e9f[keys.END]=lang.hitch(this,"focusLastChild");},startupKeyNavChildren:function(){_e98.deprecated("startupKeyNavChildren() call no longer needed","","2.0");},startup:function(){this.inherited(arguments);_e95.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));},addChild:function(_ea0,_ea1){this.inherited(arguments);this._startupChild(_ea0);},_startupChild:function(_ea2){_ea2.set("tabIndex","-1");},_getFirst:function(){var _ea3=this.getChildren();return _ea3.length?_ea3[0]:null;},_getLast:function(){var _ea4=this.getChildren();return _ea4.length?_ea4[_ea4.length-1]:null;},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);},childSelector:function(node){var node=_e99.byNode(node);return node&&node.getParent()==this;}});});},"dijit/_KeyNavMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dijit/registry","dijit/_FocusMixin"],function(_ea5,_ea6,_ea7,keys,lang,on,_ea8,_ea9){return _ea6("dijit._KeyNavMixin",_ea9,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);_ea7.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var _eaa=this._keyNavCodes={};_eaa[keys.HOME]=lang.hitch(this,"focusFirstChild");_eaa[keys.END]=lang.hitch(this,"focusLastChild");_eaa[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]=lang.hitch(this,"_onLeftArrow");_eaa[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]=lang.hitch(this,"_onRightArrow");_eaa[keys.UP_ARROW]=lang.hitch(this,"_onUpArrow");_eaa[keys.DOWN_ARROW]=lang.hitch(this,"_onDownArrow");}var self=this,_eab=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.domNode,"keypress",lang.hitch(this,"_onContainerKeypress")),on(this.domNode,"keydown",lang.hitch(this,"_onContainerKeydown")),on(this.domNode,"focus",lang.hitch(this,"_onContainerFocus")),on(this.containerNode,on.selector(_eab,"focusin"),function(evt){self._onChildFocus(_ea8.getEnclosingWidget(this),evt);}));},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild();},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());},focusChild:function(_eac,last){if(!_eac){return;}if(this.focusedChild&&_eac!==this.focusedChild){this._onChildBlur(this.focusedChild);}_eac.set("tabIndex",this.tabIndex);_eac.focus(last?"end":"start");},_onContainerFocus:function(evt){if(evt.target!==this.domNode||this.focusedChild){return;}this.focus();},_onFocus:function(){_ea7.set(this.domNode,"tabIndex","-1");this.inherited(arguments);},_onBlur:function(evt){_ea7.set(this.domNode,"tabIndex",this.tabIndex);if(this.focusedChild){this.focusedChild.set("tabIndex","-1");this.lastFocusedChild=this.focusedChild;this._set("focusedChild",null);}this.inherited(arguments);},_onChildFocus:function(_ead){if(_ead&&_ead!=this.focusedChild){if(this.focusedChild&&!this.focusedChild._destroyed){this.focusedChild.set("tabIndex","-1");}_ead.set("tabIndex",this.tabIndex);this.lastFocused=_ead;this._set("focusedChild",_ead);}},_searchString:"",multiCharSearchDuration:1000,onKeyboardSearch:function(item,evt,_eae,_eaf){if(item){this.focusChild(item);}},_keyboardSearchCompare:function(item,_eb0){var _eb1=item.domNode,text=item.label||(_eb1.focusNode?_eb1.focusNode.label:"")||_eb1.innerText||_eb1.textContent||"",_eb2=text.replace(/^\s+/,"").substr(0,_eb0.length).toLowerCase();return (!!_eb0.length&&_eb2==_eb0)?-1:0;},_onContainerKeydown:function(evt){var func=this._keyNavCodes[evt.keyCode];if(func){func(evt,this.focusedChild);evt.stopPropagation();evt.preventDefault();this._searchString="";}else{if(evt.keyCode==keys.SPACE&&this._searchTimer&&!(evt.ctrlKey||evt.altKey||evt.metaKey)){evt.stopImmediatePropagation();evt.preventDefault();this._keyboardSearch(evt," ");}}},_onContainerKeypress:function(evt){if(evt.charCode<keys.SPACE||evt.ctrlKey||evt.altKey||evt.metaKey||(evt.charCode==keys.SPACE&&this._searchTimer)){return;}evt.preventDefault();evt.stopPropagation();this._keyboardSearch(evt,String.fromCharCode(evt.charCode).toLowerCase());},_keyboardSearch:function(evt,_eb3){var _eb4=null,_eb5,_eb6=0,_eb7=lang.hitch(this,function(){if(this._searchTimer){this._searchTimer.remove();}this._searchString+=_eb3;var _eb8=/^(.)\1*$/.test(this._searchString);var _eb9=_eb8?1:this._searchString.length;_eb5=this._searchString.substr(0,_eb9);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString="";},this.multiCharSearchDuration);var _eba=this.focusedChild||null;if(_eb9==1||!_eba){_eba=this._getNextFocusableChild(_eba,1);if(!_eba){return;}}var stop=_eba;do{var rc=this._keyboardSearchCompare(_eba,_eb5);if(!!rc&&_eb6++==0){_eb4=_eba;}if(rc==-1){_eb6=-1;break;}_eba=this._getNextFocusableChild(_eba,1);}while(_eba!=stop);});_eb7();this.onKeyboardSearch(_eb4,evt,_eb5,_eb6);},_onChildBlur:function(){},_getNextFocusableChild:function(_ebb,dir){var _ebc=_ebb;do{if(!_ebb){_ebb=this[dir>0?"_getFirst":"_getLast"]();if(!_ebb){break;}}else{_ebb=this._getNext(_ebb,dir);}if(_ebb!=null&&_ebb!=_ebc&&_ebb.isFocusable()){return _ebb;}}while(_ebb!=_ebc);return null;},_getFirst:function(){return null;},_getLast:function(){return null;},_getNext:function(_ebd,dir){if(_ebd){_ebd=_ebd.domNode;while(_ebd){_ebd=_ebd[dir<0?"previousSibling":"nextSibling"];if(_ebd&&"getAttribute" in _ebd){var w=_ea8.byNode(_ebd);if(w){return w;}}}}return null;}});});},"dijit/MenuSeparator":function(){define(["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(_ebe,dom,_ebf,_ec0,_ec1,_ec2){return _ebe("dijit.MenuSeparator",[_ebf,_ec0,_ec1],{templateString:_ec2,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(_ec3,_ec4,_ec5){return _ec3("dijit.form.RadioButton",[_ec4,_ec5],{baseClass:"dijitRadio"});});},"dijit/form/CheckBox":function(){define(["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom","../a11yclick"],function(_ec6,_ec7,_ec8,has,_ec9,_eca,_ecb,_ecc,_ecd){if(has("dijit-legacy-requires")){_eca(0,function(){var _ece=["dijit/form/RadioButton"];_ec6(_ece);});}return _ec7("dijit.form.CheckBox",[_ecb,_ecc],{templateString:_ecd,baseClass:"dijitCheckBox",_setValueAttr:function(_ecf,_ed0){if(typeof _ecf=="string"){this.inherited(arguments);_ecf=true;}if(this._created){this.set("checked",_ecf,_ed0);}},_getValueAttr:function(){return this.checked&&this._get("value");},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting="";},_fillContent:function(){},_onFocus:function(){if(this.id){_ec9("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){_ec9("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);}});});},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_ed1,_ed2,_ed3,_ed4){return _ed1("dijit.form.ToggleButton",[_ed3,_ed4],{baseClass:"dijitToggleButton",setChecked:function(_ed5){_ed2.deprecated("setChecked("+_ed5+") is deprecated. Use set('checked',"+_ed5+") instead.","","2.0");this.set("checked",_ed5);}});});},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_ed6,_ed7){return _ed6("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _ed8=this.checked;this._set("checked",!_ed8);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_ed8);return ret;},_setCheckedAttr:function(_ed9,_eda){this._set("checked",_ed9);var node=this.focusNode||this.domNode;if(this._created){if(_ed7.get(node,"checked")!=!!_ed9){_ed7.set(node,"checked",!!_ed9);}}node.setAttribute(this._aria_attr,String(_ed9));this._handleOnChange(_ed9,_eda);},postCreate:function(){this.inherited(arguments);var node=this.focusNode||this.domNode;if(this.checked){node.setAttribute("checked","checked");}},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_edb,_edc){return _edb("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(_edd){this._set("readOnly",_edd);_edc.set(this.focusNode,"readOnly",_edd);},_setLabelAttr:undefined,_getSubmitValue:function(_ede){return (_ede==null||_ede==="")?"on":_ede;},_setValueAttr:function(_edf){_edf=this._getSubmitValue(_edf);this._set("value",_edf);_edc.set(this.focusNode,"value",_edf);},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));_edc.set(this.focusNode,"value",this.value);},_onClick:function(e){if(this.readOnly){e.stopPropagation();e.preventDefault();return false;}return this.inherited(arguments);}});});},"dijit/form/_RadioButtonMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/lang","dojo/query","../registry"],function(_ee0,_ee1,_ee2,lang,_ee3,_ee4){return _ee1("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var ary=[];_ee3("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(lang.hitch(this,function(_ee5){if(_ee5.name==this.name&&_ee5.form==this.focusNode.form){var _ee6=_ee4.getEnclosingWidget(_ee5);if(_ee6){ary.push(_ee6);}}}));return ary;},_setCheckedAttr:function(_ee7){this.inherited(arguments);if(!this._created){return;}if(_ee7){_ee0.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_ee8){if(_ee8!=this&&_ee8.checked){_ee8.set("checked",false);}}));}},_getSubmitValue:function(_ee9){return _ee9==null?"on":_ee9;},_onClick:function(e){if(this.checked||this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.readOnly){e.stopPropagation();e.preventDefault();_ee0.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_eea){_ee2.set(this.focusNode||this.domNode,"checked",_eea.checked);}));return false;}return this.inherited(arguments);}});});},"dojox/html/ellipsis":function(){define("dojox/html/ellipsis",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/Color","dojo/colors"],function(d){if(d.isFF<7){var _eeb=1;if("dojoxFFEllipsisDelay" in d.config){_eeb=Number(d.config.dojoxFFEllipsisDelay);if(isNaN(_eeb)){_eeb=1;}}try{var _eec=(function(){var sNS="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";var xml=document.createElementNS(sNS,"window");var _eed=document.createElementNS(sNS,"description");_eed.setAttribute("crop","end");xml.appendChild(_eed);return function(n){var x=xml.cloneNode(true);x.firstChild.setAttribute("value",n.textContent);n.innerHTML="";n.appendChild(x);};})();}catch(e){}var _eee=d.create;var dd=d.doc;var dp=d.place;var _eef=_eee("iframe",{className:"dojoxEllipsisIFrame",src:"javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}</script></head><body></body></html>'",style:{display:"none"}});var _ef0=function(r,cnt){if(r.collapsed){return;}if(cnt>0){do{_ef0(r);cnt--;}while(cnt);return;}if(r.endContainer.nodeType==3&&r.endOffset>0){r.setEnd(r.endContainer,r.endOffset-1);}else{if(r.endContainer.nodeType==3){r.setEndBefore(r.endContainer);_ef0(r);return;}else{if(r.endOffset&&r.endContainer.childNodes.length>=r.endOffset){var _ef1=r.endContainer.childNodes[r.endOffset-1];if(_ef1.nodeType==3){r.setEnd(_ef1,_ef1.length-1);}else{if(_ef1.childNodes.length){r.setEnd(_ef1,_ef1.childNodes.length);_ef0(r);return;}else{r.setEndBefore(_ef1);_ef0(r);return;}}}else{r.setEndBefore(r.endContainer);_ef0(r);return;}}}};var _ef2=function(n){var c=_eee("div",{className:"dojoxEllipsisContainer"});var e=_eee("div",{className:"dojoxEllipsisShown",style:{display:"none"}});n.parentNode.replaceChild(c,n);c.appendChild(n);c.appendChild(e);var i=_eef.cloneNode(true);var ns=n.style;var es=e.style;var _ef3;var _ef4=function(){ns.display="";es.display="none";if(n.scrollWidth<=n.offsetWidth){return;}var r=dd.createRange();r.selectNodeContents(n);ns.display="none";es.display="";var done=false;do{var _ef5=1;dp(r.cloneContents(),e,"only");var sw=e.scrollWidth,ow=e.offsetWidth;done=(sw<=ow);var pct=(1-((ow*1)/sw));if(pct>0){_ef5=Math.max(Math.round(e.textContent.length*pct)-1,1);}_ef0(r,_ef5);}while(!r.collapsed&&!done);};i.onload=function(){i.contentWindow.onresize=_ef4;_ef4();};c.appendChild(i);};var hc=d.hasClass;var doc=d.doc;var s,fn,opt;if(doc.querySelectorAll){s=doc;fn="querySelectorAll";opt=".dojoxEllipsis";}else{if(doc.getElementsByClassName){s=doc;fn="getElementsByClassName";opt="dojoxEllipsis";}else{s=d;fn="query";opt=".dojoxEllipsis";}}fx=function(){d.forEach(s[fn].apply(s,[opt]),function(n){if(!n||n._djx_ellipsis_done){return;}n._djx_ellipsis_done=true;if(_eec&&n.textContent==n.innerHTML&&!hc(n,"dojoxEllipsisSelectable")){_eec(n);}else{_ef2(n);}});};d.addOnLoad(function(){var t=null;var c=null;var _ef6=function(){if(c){d.disconnect(c);c=null;}if(t){clearTimeout(t);}t=setTimeout(function(){t=null;fx();c=d.connect(d.body(),"DOMSubtreeModified",_ef6);},_eeb);};_ef6();});}});},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(dojo,lang,_ef7,_ef8){var _ef9={};lang.setObject("dojo.colors",_ef9);var _efa=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=_ef7.fromRgb=function(_efb,obj){var m=_efb.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){a=_ef8.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return _ef7.fromArray(a,obj);}return _ef7.fromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;a=[_efa(m1,m2,H+1/3)*256,_efa(m1,m2,H)*256,_efa(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return _ef7.fromArray(a,obj);}}return null;};var _efc=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};_ef7.prototype.sanitize=function(){var t=this;t.r=Math.round(_efc(t.r,0,255));t.g=Math.round(_efc(t.g,0,255));t.b=Math.round(_efc(t.b,0,255));t.a=_efc(t.a,0,1);return this;};_ef9.makeGrey=_ef7.makeGrey=function(g,a){return _ef7.fromArray([g,g,g,a]);};lang.mixin(_ef7.named,{"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"blanchedalmond":[255,235,205],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"oldlace":[253,245,230],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"whitesmoke":[245,245,245],"yellowgreen":[154,205,50]});return _ef7;});},"dojox/grid/cells/dijit":function(){define(["dojo/_base/kernel","../../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/_base/connect","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-style","dojo/dom-geometry","dojo/data/ItemFileReadStore","dijit/form/DateTextBox","dijit/form/TimeTextBox","dijit/form/ComboBox","dijit/form/CheckBox","dijit/form/TextBox","dijit/form/NumberSpinner","dijit/form/NumberTextBox","dijit/form/CurrencyTextBox","dijit/form/HorizontalSlider","dijit/form/_TextBoxMixin","dijit/Editor","../util","./_base"],function(dojo,_efd,_efe,_eff,lang,json,_f00,has,dom,_f01,_f02,_f03,_f04,_f05,_f06,_f07,_f08,_f09,_f0a,_f0b,_f0c,_f0d,_f0e,_f0f,_f10,util,_f11){var _f12={};var _f13=_f12._Widget=_efe("dojox.grid.cells._Widget",_f11,{widgetClass:_f0a,constructor:function(_f14){this.widget=null;if(typeof this.widgetClass=="string"){dojo.deprecated("Passing a string to widgetClass is deprecated","pass the widget class object instead","2.0");this.widgetClass=lang.getObject(this.widgetClass);}},formatEditing:function(_f15,_f16){this.needFormatNode(_f15,_f16);return "<div></div>";},getValue:function(_f17){return this.widget.get("value");},_unescapeHTML:function(_f18){return (_f18&&_f18.replace&&this.grid.escapeHTMLInData)?_f18.replace(/&lt;/g,"<").replace(/&amp;/g,"&"):_f18;},setValue:function(_f19,_f1a){if(this.widget&&this.widget.set){_f1a=this._unescapeHTML(_f1a);if(this.widget.onLoadDeferred){var self=this;this.widget.onLoadDeferred.addCallback(function(){self.widget.set("value",_f1a===null?"":_f1a);});}else{this.widget.set("value",_f1a);}}else{this.inherited(arguments);}},getWidgetProps:function(_f1b){return lang.mixin({dir:this.dir,lang:this.lang},this.widgetProps||{},{constraints:lang.mixin({},this.constraint)||{},required:(this.constraint||{}).required,value:this._unescapeHTML(_f1b)});},createWidget:function(_f1c,_f1d,_f1e){return new this.widgetClass(this.getWidgetProps(_f1d),_f1c);},attachWidget:function(_f1f,_f20,_f21){_f1f.appendChild(this.widget.domNode);this.setValue(_f21,_f20);},formatNode:function(_f22,_f23,_f24){if(!this.widgetClass){return _f23;}if(!this.widget){this.widget=this.createWidget.apply(this,arguments);}else{this.attachWidget.apply(this,arguments);}this.sizeWidget.apply(this,arguments);this.grid.views.renormalizeRow(_f24);this.grid.scroller.rowHeightChanged(_f24,true);this.focus();return undefined;},sizeWidget:function(_f25,_f26,_f27){var p=this.getNode(_f27);dojo.marginBox(this.widget.domNode,{w:_f03.get(p,"width")});},focus:function(_f28,_f29){if(this.widget){setTimeout(lang.hitch(this.widget,function(){util.fire(this,"focus");if(this.focusNode&&this.focusNode.tagName==="INPUT"){_f0f.selectInputText(this.focusNode);}}),0);}},_finish:function(_f2a){this.inherited(arguments);util.removeNode(this.widget.domNode);if(has("ie")){dom.setSelectable(this.widget.domNode,true);}}});_f13.markupFactory=function(node,cell){_f11.markupFactory(node,cell);var _f2b=lang.trim(_f01.get(node,"widgetProps")||"");var _f2c=lang.trim(_f01.get(node,"constraint")||"");var _f2d=lang.trim(_f01.get(node,"widgetClass")||"");if(_f2b){cell.widgetProps=json.fromJson(_f2b);}if(_f2c){cell.constraint=json.fromJson(_f2c);}if(_f2d){cell.widgetClass=lang.getObject(_f2d);}};var _f08=_f12.ComboBox=_efe("dojox.grid.cells.ComboBox",_f13,{widgetClass:_f08,getWidgetProps:function(_f2e){var _f2f=[];_eff.forEach(this.options,function(o){_f2f.push({name:o,value:o});});var _f30=new _f05({data:{identifier:"name",items:_f2f}});return lang.mixin({},this.widgetProps||{},{value:_f2e,store:_f30});},getValue:function(){var e=this.widget;e.set("displayedValue",e.get("displayedValue"));return e.get("value");}});_f08.markupFactory=function(node,cell){_f13.markupFactory(node,cell);var _f31=lang.trim(_f01.get(node,"options")||"");if(_f31){var o=_f31.split(",");if(o[0]!=_f31){cell.options=o;}}};var _f06=_f12.DateTextBox=_efe("dojox.grid.cells.DateTextBox",_f13,{widgetClass:_f06,setValue:function(_f32,_f33){if(this.widget){this.widget.set("value",new Date(_f33));}else{this.inherited(arguments);}},getWidgetProps:function(_f34){return lang.mixin(this.inherited(arguments),{value:new Date(_f34)});}});_f06.markupFactory=function(node,cell){_f13.markupFactory(node,cell);};var _f09=_f12.CheckBox=_efe("dojox.grid.cells.CheckBox",_f13,{widgetClass:_f09,getValue:function(){return this.widget.checked;},setValue:function(_f35,_f36){if(this.widget&&this.widget.attributeMap.checked){this.widget.set("checked",_f36);}else{this.inherited(arguments);}},sizeWidget:function(_f37,_f38,_f39){return;}});_f09.markupFactory=function(node,cell){_f13.markupFactory(node,cell);};var _f10=_f12.Editor=_efe("dojox.grid.cells.Editor",_f13,{widgetClass:_f10,getWidgetProps:function(_f3a){return lang.mixin({},this.widgetProps||{},{height:this.widgetHeight||"100px"});},createWidget:function(_f3b,_f3c,_f3d){var _f3e=new this.widgetClass(this.getWidgetProps(_f3c),_f3b);_f3e.onLoadDeferred.then(lang.hitch(this,"populateEditor"));return _f3e;},formatNode:function(_f3f,_f40,_f41){this.content=_f40;this.inherited(arguments);if(has("mozilla")){var e=this.widget;e.open();if(this.widgetToolbar){_f02.place(e.toolbar.domNode,e.editingArea,"before");}}},populateEditor:function(){this.widget.set("value",this.content);this.widget.placeCursorAtEnd();}});_f10.markupFactory=function(node,cell){_f13.markupFactory(node,cell);var h=lang.trim(_f01.get(node,"widgetHeight")||"");if(h){if((h!="auto")&&(h.substr(-2)!="em")){h=parseInt(h,10)+"px";}cell.widgetHeight=h;}};return _f12;});},"dijit/form/NumberSpinner":function(){define(["dojo/_base/declare","dojo/keys","./_Spinner","./NumberTextBox"],function(_f42,keys,_f43,_f44){return _f42("dijit.form.NumberSpinner",[_f43,_f44.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(val,_f45){var tc=this.constraints,v=isNaN(val),_f46=!isNaN(tc.max),_f47=!isNaN(tc.min);if(v&&_f45!=0){val=(_f45>0)?_f47?tc.min:_f46?tc.max:0:_f46?this.constraints.max:_f47?tc.min:0;}var _f48=val+_f45;if(v||isNaN(_f48)){return val;}if(_f46&&(_f48>tc.max)){_f48=tc.max;}if(_f47&&(_f48<tc.min)){_f48=tc.min;}return _f48;},_onKeyDown:function(e){if(this.disabled||this.readOnly){return;}if((e.keyCode==keys.HOME||e.keyCode==keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){var _f49=this.constraints[(e.keyCode==keys.HOME?"min":"max")];if(typeof _f49=="number"){this._setValueAttr(_f49,false);}e.stopPropagation();e.preventDefault();}}});});},"dijit/form/_Spinner":function(){define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/mouse","dojo/on","../typematic","./RangeBoundTextBox","dojo/text!./templates/Spinner.html","./_TextBoxMixin"],function(_f4a,keys,lang,has,_f4b,on,_f4c,_f4d,_f4e,_f4f){return _f4a("dijit.form._Spinner",_f4d,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:_f4e,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{"upArrowNode":"dijitUpArrowButton","downArrowNode":"dijitDownArrowButton"},adjust:function(val){return val;},_arrowPressed:function(_f50,_f51,_f52){if(this.disabled||this.readOnly){return;}this._setValueAttr(this.adjust(this.get("value"),_f51*_f52),false);_f4f.selectInputText(this.textbox,this.textbox.value.length);},_arrowReleased:function(){this._wheelTimer=null;},_typematicCallback:function(_f53,node,evt){var inc=this.smallDelta;if(node==this.textbox){var key=evt.keyCode;inc=(key==keys.PAGE_UP||key==keys.PAGE_DOWN)?this.largeDelta:this.smallDelta;node=(key==keys.UP_ARROW||key==keys.PAGE_UP)?this.upArrowNode:this.downArrowNode;}if(_f53==-1){this._arrowReleased(node);}else{this._arrowPressed(node,(node==this.upArrowNode)?1:-1,inc);}},_wheelTimer:null,_mouseWheeled:function(evt){evt.stopPropagation();evt.preventDefault();var _f54=evt.wheelDelta/120;if(Math.floor(_f54)!=_f54){_f54=evt.wheelDelta>0?1:-1;}var _f55=evt.detail?(evt.detail*-1):_f54;if(_f55!==0){var node=this[(_f55>0?"upArrowNode":"downArrowNode")];this._arrowPressed(node,_f55,this.smallDelta);if(this._wheelTimer){this._wheelTimer.remove();}this._wheelTimer=this.defer(function(){this._arrowReleased(node);},50);}},_setConstraintsAttr:function(_f56){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){this.focusNode.setAttribute("aria-valuemin",this.constraints.min);}else{this.focusNode.removeAttribute("aria-valuemin");}if(this.constraints.max!==undefined){this.focusNode.setAttribute("aria-valuemax",this.constraints.max);}else{this.focusNode.removeAttribute("aria-valuemax");}}},_setValueAttr:function(_f57,_f58){this.focusNode.setAttribute("aria-valuenow",_f57);this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,_f4b.wheel,lang.hitch(this,"_mouseWheeled")),_f4c.addListener(this.upArrowNode,this.textbox,{keyCode:keys.UP_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_f4c.addListener(this.downArrowNode,this.textbox,{keyCode:keys.DOWN_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_f4c.addListener(this.upArrowNode,this.textbox,{keyCode:keys.PAGE_UP,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_f4c.addListener(this.downArrowNode,this.textbox,{keyCode:keys.PAGE_DOWN,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));}});});},"dijit/typematic":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(_f59,_f5a,lang,on,has,_f5b){var _f5c=(_f5b.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_f5d,node,_f5e,obj,_f5f,_f60,_f61){if(obj!=this._obj){this.stop();this._initialDelay=_f60||500;this._subsequentDelay=_f5f||0.9;this._minDelay=_f61||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_f5d,_f5e);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_f62,_f63,_f64,_f65,_f66,_f67){var type="keyCode" in _f62?"keydown":"charCode" in _f62?"keypress":_f5a._keypress,attr="keyCode" in _f62?"keyCode":"charCode" in _f62?"charCode":"charOrCode";var _f68=[on(node,type,lang.hitch(this,function(evt){if(evt[attr]==_f62[attr]&&(_f62.ctrlKey===undefined||_f62.ctrlKey==evt.ctrlKey)&&(_f62.altKey===undefined||_f62.altKey==evt.altKey)&&(_f62.metaKey===undefined||_f62.metaKey==(evt.metaKey||false))&&(_f62.shiftKey===undefined||_f62.shiftKey==evt.shiftKey)){evt.stopPropagation();evt.preventDefault();_f5c.trigger(evt,_f63,node,_f64,_f62,_f65,_f66,_f67);}else{if(_f5c._obj==_f62){_f5c.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_f5c._obj==_f62){_f5c.stop();}}))];return {remove:function(){_f59.forEach(_f68,function(h){h.remove();});}};},addMouseListener:function(node,_f69,_f6a,_f6b,_f6c,_f6d){var _f6e=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_f5c.trigger(evt,_f69,node,_f6a,node,_f6b,_f6c,_f6d);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_f5c.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_f5c.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_f5c.trigger(evt,_f69,node,_f6a,node,_f6b,_f6c,_f6d);setTimeout(lang.hitch(this,_f5c.stop),50);}}))];return {remove:function(){_f59.forEach(_f6e,function(h){h.remove();});}};},addListener:function(_f6f,_f70,_f71,_f72,_f73,_f74,_f75,_f76){var _f77=[this.addKeyListener(_f70,_f71,_f72,_f73,_f74,_f75,_f76),this.addMouseListener(_f6f,_f72,_f73,_f74,_f75,_f76)];return {remove:function(){_f59.forEach(_f77,function(h){h.remove();});}};}});return _f5c;});},"dijit/form/CurrencyTextBox":function(){define(["dojo/currency","dojo/_base/declare","dojo/_base/lang","./NumberTextBox"],function(_f78,_f79,lang,_f7a){return _f79("dijit.form.CurrencyTextBox",_f7a,{currency:"",baseClass:"dijitTextBox dijitCurrencyTextBox",_formatter:_f78.format,_parser:_f78.parse,_regExpGenerator:_f78.regexp,parse:function(_f7b,_f7c){var v=this.inherited(arguments);if(isNaN(v)&&/\d+/.test(_f7b)){v=lang.hitch(lang.delegate(this,{_parser:_f7a.prototype._parser}),"inherited")(arguments);}return v;},_setConstraintsAttr:function(_f7d){if(!_f7d.currency&&this.currency){_f7d.currency=this.currency;}this.inherited(arguments,[_f78._mixInDefaults(lang.mixin(_f7d,{exponent:false}))]);}});});},"dojo/currency":function(){define(["./_base/array","./_base/lang","./number","./i18n","./i18n!./cldr/nls/currency","./cldr/monetary"],function(_f7e,lang,_f7f,i18n,_f80,_f81){var _f82={};lang.setObject("dojo.currency",_f82);_f82._mixInDefaults=function(_f83){_f83=_f83||{};_f83.type="currency";var _f84=i18n.getLocalization("dojo.cldr","currency",_f83.locale)||{};var iso=_f83.currency;var data=_f81.getData(iso);_f7e.forEach(["displayName","symbol","group","decimal"],function(prop){data[prop]=_f84[iso+"_"+prop];});data.fractional=[true,false];return lang.mixin(data,_f83);};_f82.format=function(_f85,_f86){return _f7f.format(_f85,_f82._mixInDefaults(_f86));};_f82.regexp=function(_f87){return _f7f.regexp(_f82._mixInDefaults(_f87));};_f82.parse=function(_f88,_f89){return _f7f.parse(_f88,_f82._mixInDefaults(_f89));};return _f82;});},"dojo/cldr/monetary":function(){define(["../_base/kernel","../_base/lang"],function(dojo,lang){var _f8a={};lang.setObject("dojo.cldr.monetary",_f8a);_f8a.getData=function(code){var _f8b={ADP:0,AFN:0,ALL:0,AMD:0,BHD:3,BIF:0,BYR:0,CLF:0,CLP:0,COP:0,CRC:0,DJF:0,ESP:0,GNF:0,GYD:0,HUF:0,IDR:0,IQD:0,IRR:3,ISK:0,ITL:0,JOD:3,JPY:0,KMF:0,KPW:0,KRW:0,KWD:3,LAK:0,LBP:0,LUF:0,LYD:3,MGA:0,MGF:0,MMK:0,MNT:0,MRO:0,MUR:0,OMR:3,PKR:0,PYG:0,RSD:0,RWF:0,SLL:0,SOS:0,STD:0,SYP:0,TMM:0,TND:3,TRL:0,TZS:0,UGX:0,UZS:0,VND:0,VUV:0,XAF:0,XOF:0,XPF:0,YER:0,ZMK:0,ZWD:0};var _f8c={};var _f8d=_f8b[code],_f8e=_f8c[code];if(typeof _f8d=="undefined"){_f8d=2;}if(typeof _f8e=="undefined"){_f8e=0;}return {places:_f8d,round:_f8e};};return _f8a;});},"dijit/form/HorizontalSlider":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dnd/move","dojo/_base/fx","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/dnd/Moveable","dojo/dnd/Mover","dojo/query","dojo/mouse","dojo/on","../_base/manager","../focus","../typematic","./Button","./_FormValueWidget","../_Container","dojo/text!./templates/HorizontalSlider.html"],function(_f8f,_f90,move,fx,_f91,_f92,keys,lang,has,_f93,_f94,_f95,_f96,on,_f97,_f98,_f99,_f9a,_f9b,_f9c,_f9d){var _f9e=_f90("dijit.form._SliderMover",_f94,{onMouseMove:function(e){var _f9f=this.widget;var _fa0=_f9f._abspos;if(!_fa0){_fa0=_f9f._abspos=_f91.position(_f9f.sliderBarContainer,true);_f9f._setPixelValue_=lang.hitch(_f9f,"_setPixelValue");_f9f._isReversed_=_f9f._isReversed();}var _fa1=e[_f9f._mousePixelCoord]-_fa0[_f9f._startingPixelCoord];_f9f._setPixelValue_(_f9f._isReversed_?(_fa0[_f9f._pixelCount]-_fa1):_fa1,_fa0[_f9f._pixelCount],false);},destroy:function(e){_f94.prototype.destroy.apply(this,arguments);var _fa2=this.widget;_fa2._abspos=null;_fa2._setValueAttr(_fa2.value,true);}});var _fa3=_f90("dijit.form.HorizontalSlider",[_f9b,_f9c],{templateString:_f9d,value:0,showButtons:true,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:true,slideDuration:_f97.defaultDuration,_setIdAttr:"",_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",_onKeyUp:function(e){if(this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey){return;}this._setValueAttr(this.value,true);},_onKeyDown:function(e){if(this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey){return;}switch(e.keyCode){case keys.HOME:this._setValueAttr(this.minimum,false);break;case keys.END:this._setValueAttr(this.maximum,false);break;case ((this._descending||this.isLeftToRight())?keys.RIGHT_ARROW:keys.LEFT_ARROW):case (this._descending===false?keys.DOWN_ARROW:keys.UP_ARROW):case (this._descending===false?keys.PAGE_DOWN:keys.PAGE_UP):this.increment(e);break;case ((this._descending||this.isLeftToRight())?keys.LEFT_ARROW:keys.RIGHT_ARROW):case (this._descending===false?keys.UP_ARROW:keys.DOWN_ARROW):case (this._descending===false?keys.PAGE_UP:keys.PAGE_DOWN):this.decrement(e);break;default:return;}e.stopPropagation();e.preventDefault();},_onHandleClick:function(e){if(this.disabled||this.readOnly){return;}if(!has("ie")){_f98.focus(this.sliderHandle);}e.stopPropagation();e.preventDefault();},_isReversed:function(){return !this.isLeftToRight();},_onBarClick:function(e){if(this.disabled||this.readOnly||!this.clickSelect){return;}_f98.focus(this.sliderHandle);e.stopPropagation();e.preventDefault();var _fa4=_f91.position(this.sliderBarContainer,true);var _fa5=e[this._mousePixelCoord]-_fa4[this._startingPixelCoord];this._setPixelValue(this._isReversed()?(_fa4[this._pixelCount]-_fa5):_fa5,_fa4[this._pixelCount],true);this._movable.onMouseDown(e);},_setPixelValue:function(_fa6,_fa7,_fa8){if(this.disabled||this.readOnly){return;}var _fa9=this.discreteValues;if(_fa9<=1||_fa9==Infinity){_fa9=_fa7;}_fa9--;var _faa=_fa7/_fa9;var _fab=Math.round(_fa6/_faa);this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*_fab/_fa9+this.minimum,this.maximum),this.minimum),_fa8);},_setValueAttr:function(_fac,_fad){this._set("value",_fac);this.valueNode.value=_fac;this.focusNode.setAttribute("aria-valuenow",_fac);this.inherited(arguments);var _fae=this.maximum>this.minimum?((_fac-this.minimum)/(this.maximum-this.minimum)):0;var _faf=(this._descending===false)?this.remainingBar:this.progressBar;var _fb0=(this._descending===false)?this.progressBar:this.remainingBar;if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}if(_fad&&this.slideDuration>0&&_faf.style[this._progressPixelSize]){var _fb1=this;var _fb2={};var _fb3=parseFloat(_faf.style[this._progressPixelSize]);var _fb4=this.slideDuration*(_fae-_fb3/100);if(_fb4==0){return;}if(_fb4<0){_fb4=0-_fb4;}_fb2[this._progressPixelSize]={start:_fb3,end:_fae*100,units:"%"};this._inProgressAnim=fx.animateProperty({node:_faf,duration:_fb4,onAnimate:function(v){_fb0.style[_fb1._progressPixelSize]=(100-parseFloat(v[_fb1._progressPixelSize]))+"%";},onEnd:function(){delete _fb1._inProgressAnim;},properties:_fb2});this._inProgressAnim.play();}else{_faf.style[this._progressPixelSize]=(_fae*100)+"%";_fb0.style[this._progressPixelSize]=((1-_fae)*100)+"%";}},_bumpValue:function(_fb5,_fb6){if(this.disabled||this.readOnly||(this.maximum<=this.minimum)){return;}var s=_f92.getComputedStyle(this.sliderBarContainer);var c=_f91.getContentBox(this.sliderBarContainer,s);var _fb7=this.discreteValues;if(_fb7<=1||_fb7==Infinity){_fb7=c[this._pixelCount];}_fb7--;var _fb8=(this.value-this.minimum)*_fb7/(this.maximum-this.minimum)+_fb5;if(_fb8<0){_fb8=0;}if(_fb8>_fb7){_fb8=_fb7;}_fb8=_fb8*(this.maximum-this.minimum)/_fb7+this.minimum;this._setValueAttr(_fb8,_fb6);},_onClkBumper:function(val){if(this.disabled||this.readOnly||!this.clickSelect){return;}this._setValueAttr(val,true);},_onClkIncBumper:function(){this._onClkBumper(this._descending===false?this.minimum:this.maximum);},_onClkDecBumper:function(){this._onClkBumper(this._descending===false?this.maximum:this.minimum);},decrement:function(e){this._bumpValue(e.keyCode==keys.PAGE_DOWN?-this.pageIncrement:-1);},increment:function(e){this._bumpValue(e.keyCode==keys.PAGE_UP?this.pageIncrement:1);},_mouseWheeled:function(evt){evt.stopPropagation();evt.preventDefault();this._bumpValue(evt.wheelDelta<0?-1:1,true);},startup:function(){if(this._started){return;}_f8f.forEach(this.getChildren(),function(_fb9){if(this[_fb9.container]!=this.containerNode){this[_fb9.container].appendChild(_fb9.domNode);}},this);this.inherited(arguments);},_typematicCallback:function(_fba,_fbb,e){if(_fba==-1){this._setValueAttr(this.value,true);}else{this[(_fbb==(this._descending?this.incrementButton:this.decrementButton))?"decrement":"increment"](e);}},buildRendering:function(){this.inherited(arguments);if(this.showButtons){this.incrementButton.style.display="";this.decrementButton.style.display="";}var _fbc=_f95("label[for=\""+this.id+"\"]");if(_fbc.length){if(!_fbc[0].id){_fbc[0].id=this.id+"_label";}this.focusNode.setAttribute("aria-labelledby",_fbc[0].id);}this.focusNode.setAttribute("aria-valuemin",this.minimum);this.focusNode.setAttribute("aria-valuemax",this.maximum);},postCreate:function(){this.inherited(arguments);if(this.showButtons){this.own(_f99.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),_f99.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));}this.own(on(this.domNode,_f96.wheel,lang.hitch(this,"_mouseWheeled")));var _fbd=_f90(_f9e,{widget:this});this._movable=new _f93(this.sliderHandle,{mover:_fbd});this._layoutHackIE7();},destroy:function(){this._movable.destroy();if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}this.inherited(arguments);}});_fa3._Mover=_f9e;return _fa3;});},"dojo/dnd/move":function(){define(["../_base/declare","../dom-geometry","../dom-style","./common","./Mover","./Moveable"],function(_fbe,_fbf,_fc0,dnd,_fc1,_fc2){var _fc3=_fbe("dojo.dnd.move.constrainedMoveable",_fc2,{constraints:function(){},within:false,constructor:function(node,_fc4){if(!_fc4){_fc4={};}this.constraints=_fc4.constraints;this.within=_fc4.within;},onFirstMove:function(_fc5){var c=this.constraintBox=this.constraints.call(this,_fc5);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=_fbf.getMarginSize(_fc5.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function(_fc6,_fc7){var c=this.constraintBox,s=_fc6.node.style;this.onMoving(_fc6,_fc7);_fc7.l=_fc7.l<c.l?c.l:c.r<_fc7.l?c.r:_fc7.l;_fc7.t=_fc7.t<c.t?c.t:c.b<_fc7.t?c.b:_fc7.t;s.left=_fc7.l+"px";s.top=_fc7.t+"px";this.onMoved(_fc6,_fc7);}});var _fc8=_fbe("dojo.dnd.move.boxConstrainedMoveable",_fc3,{box:{},constructor:function(node,_fc9){var box=_fc9&&_fc9.box;this.constraints=function(){return box;};}});var _fca=_fbe("dojo.dnd.move.parentConstrainedMoveable",_fc3,{area:"content",constructor:function(node,_fcb){var area=_fcb&&_fcb.area;this.constraints=function(){var n=this.node.parentNode,s=_fc0.getComputedStyle(n),mb=_fbf.getMarginBox(n,s);if(area=="margin"){return mb;}var t=_fbf.getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=_fbf.getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=_fbf.getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});return {constrainedMoveable:_fc3,boxConstrainedMoveable:_fc8,parentConstrainedMoveable:_fca};});},"dijit/Editor":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/Deferred","dojo/i18n","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/string","dojo/topic","./_Container","./Toolbar","./ToolbarSeparator","./layout/_LayoutWidget","./form/ToggleButton","./_editor/_Plugin","./_editor/plugins/EnterKeyHandling","./_editor/html","./_editor/range","./_editor/RichText","./main","dojo/i18n!./_editor/nls/commands"],function(_fcc,_fcd,_fce,_fcf,i18n,_fd0,_fd1,_fd2,_fd3,keys,lang,has,_fd4,_fd5,_fd6,_fd7,_fd8,_fd9,_fda,_fdb,_fdc,html,_fdd,_fde,_fdf){var _fe0=_fce("dijit.Editor",_fde,{plugins:null,extraPlugins:null,constructor:function(){if(!lang.isArray(this.plugins)){this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull",_fdc];}this._plugins=[];this._editInterval=this.editActionInterval*1000;if(has("ie")){this.events.push("onBeforeDeactivate");this.events.push("onBeforeActivate");}},postMixInProperties:function(){this.setValueDeferred=new _fcf();this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._steps=this._steps.slice(0);this._undoedSteps=this._undoedSteps.slice(0);if(lang.isArray(this.extraPlugins)){this.plugins=this.plugins.concat(this.extraPlugins);}this.commands=i18n.getLocalization("dijit._editor","commands",this.lang);if(has("webkit")){_fd3.set(this.domNode,"KhtmlUserSelect","none");}},startup:function(){this.inherited(arguments);if(!this.toolbar){this.toolbar=new _fd7({ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,"aria-label":this.id});this.header.appendChild(this.toolbar.domNode);}_fcd.forEach(this.plugins,this.addPlugin,this);this.setValueDeferred.resolve(true);_fd1.add(this.iframe.parentNode,"dijitEditorIFrameContainer");_fd1.add(this.iframe,"dijitEditorIFrame");_fd0.set(this.iframe,"allowTransparency",true);this.toolbar.startup();this.onNormalizedDisplayChanged();},destroy:function(){_fcd.forEach(this._plugins,function(p){if(p&&p.destroy){p.destroy();}});this._plugins=[];this.toolbar.destroyRecursive();delete this.toolbar;this.inherited(arguments);},addPlugin:function(_fe1,_fe2){var args=lang.isString(_fe1)?{name:_fe1}:lang.isFunction(_fe1)?{ctor:_fe1}:_fe1;if(!args.setEditor){var o={"args":args,"plugin":null,"editor":this};if(args.name){if(_fdb.registry[args.name]){o.plugin=_fdb.registry[args.name](args);}else{_fd5.publish(_fdf._scopeName+".Editor.getPlugin",o);}}if(!o.plugin){try{var pc=args.ctor||lang.getObject(args.name)||_fcc(args.name);if(pc){o.plugin=new pc(args);}}catch(e){throw new Error(this.id+": cannot find plugin ["+args.name+"]");}}if(!o.plugin){throw new Error(this.id+": cannot find plugin ["+args.name+"]");}_fe1=o.plugin;}if(arguments.length>1){this._plugins[_fe2]=_fe1;}else{this._plugins.push(_fe1);}_fe1.setEditor(this);if(lang.isFunction(_fe1.setToolbar)){_fe1.setToolbar(this.toolbar);}},resize:function(size){if(size){_fd9.prototype.resize.apply(this,arguments);}},layout:function(){var _fe3=(this._contentBox.h-(this.getHeaderHeight()+this.getFooterHeight()+_fd2.getPadBorderExtents(this.iframe.parentNode).h+_fd2.getMarginExtents(this.iframe.parentNode).h));this.editingArea.style.height=_fe3+"px";if(this.iframe){this.iframe.style.height="100%";}this._layoutMode=true;},_onIEMouseDown:function(e){var _fe4;var b=this.document.body;var _fe5=b.clientWidth;var _fe6=b.clientHeight;var _fe7=b.clientLeft;var _fe8=b.offsetWidth;var _fe9=b.offsetHeight;var _fea=b.offsetLeft;if(/^rtl$/i.test(b.dir||"")){if(_fe5<_fe8&&e.x>_fe5&&e.x<_fe8){_fe4=true;}}else{if(e.x<_fe7&&e.x>_fea){_fe4=true;}}if(!_fe4){if(_fe6<_fe9&&e.y>_fe6&&e.y<_fe9){_fe4=true;}}if(!_fe4){delete this._cursorToStart;delete this._savedSelection;if(e.target.tagName=="BODY"){this.defer("placeCursorAtEnd");}this.inherited(arguments);}},onBeforeActivate:function(){this._restoreSelection();},onBeforeDeactivate:function(e){if(this.customUndo){this.endEditing(true);}if(e.target.tagName!="BODY"){this._saveSelection();}},customUndo:true,editActionInterval:3,beginEditing:function(cmd){if(!this._inEditing){this._inEditing=true;this._beginEditing(cmd);}if(this.editActionInterval>0){if(this._editTimer){this._editTimer.remove();}this._editTimer=this.defer("endEditing",this._editInterval);}},_steps:[],_undoedSteps:[],execCommand:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return this[cmd]();}else{if(this.customUndo){this.endEditing();this._beginEditing();}var r=this.inherited(arguments);if(this.customUndo){this._endEditing();}return r;}},_pasteImpl:function(){return this._clipboardCommand("paste");},_cutImpl:function(){return this._clipboardCommand("cut");},_copyImpl:function(){return this._clipboardCommand("copy");},_clipboardCommand:function(cmd){var r;try{r=this.document.execCommand(cmd,false,null);if(has("webkit")&&!r){throw {code:1011};}}catch(e){if(e.code==1011||(e.code==9&&has("opera"))){var sub=_fd4.substitute,_feb={cut:"X",copy:"C",paste:"V"};alert(sub(this.commands.systemShortcut,[this.commands[cmd],sub(this.commands[has("mac")?"appleKey":"ctrlKey"],[_feb[cmd]])]));}r=false;}return r;},queryCommandEnabled:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return cmd=="undo"?(this._steps.length>1):(this._undoedSteps.length>0);}else{return this.inherited(arguments);}},_moveToBookmark:function(b){var _fec=b.mark;var mark=b.mark;var col=b.isCollapsed;var r,_fed,_fee,sel;if(mark){if(has("ie")<9||(has("ie")===9&&has("quirks"))){if(lang.isArray(mark)){_fec=[];_fcd.forEach(mark,function(n){_fec.push(_fdd.getNode(n,this.editNode));},this);this.selection.moveToBookmark({mark:_fec,isCollapsed:col});}else{if(mark.startContainer&&mark.endContainer){sel=_fdd.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=_fdd.create(this.window);_fed=_fdd.getNode(mark.startContainer,this.editNode);_fee=_fdd.getNode(mark.endContainer,this.editNode);if(_fed&&_fee){r.setStart(_fed,mark.startOffset);r.setEnd(_fee,mark.endOffset);sel.addRange(r);}}}}}else{sel=_fdd.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=_fdd.create(this.window);_fed=_fdd.getNode(mark.startContainer,this.editNode);_fee=_fdd.getNode(mark.endContainer,this.editNode);if(_fed&&_fee){r.setStart(_fed,mark.startOffset);r.setEnd(_fee,mark.endOffset);sel.addRange(r);}}}}},_changeToStep:function(from,to){this.setValue(to.text);var b=to.bookmark;if(!b){return;}this._moveToBookmark(b);},undo:function(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._steps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(s,this._steps[this._steps.length-1]);this._undoedSteps.push(s);this.onDisplayChanged();delete this._undoRedoActive;ret=true;}delete this._undoRedoActive;}return ret;},redo:function(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._undoedSteps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(this._steps[this._steps.length-1],s);this._steps.push(s);this.onDisplayChanged();ret=true;}delete this._undoRedoActive;}return ret;},endEditing:function(_fef){if(this._editTimer){this._editTimer=this._editTimer.remove();}if(this._inEditing){this._endEditing(_fef);this._inEditing=false;}},_getBookmark:function(){var b=this.selection.getBookmark();var tmp=[];if(b&&b.mark){var mark=b.mark;if(has("ie")<9||(has("ie")===9&&has("quirks"))){var sel=_fdd.getSelection(this.window);if(!lang.isArray(mark)){if(sel){var _ff0;if(sel.rangeCount){_ff0=sel.getRangeAt(0);}if(_ff0){b.mark=_ff0.cloneRange();}else{b.mark=this.selection.getBookmark();}}}else{_fcd.forEach(b.mark,function(n){tmp.push(_fdd.getIndex(n,this.editNode).o);},this);b.mark=tmp;}}try{if(b.mark&&b.mark.startContainer){tmp=_fdd.getIndex(b.mark.startContainer,this.editNode).o;b.mark={startContainer:tmp,startOffset:b.mark.startOffset,endContainer:b.mark.endContainer===b.mark.startContainer?tmp:_fdd.getIndex(b.mark.endContainer,this.editNode).o,endOffset:b.mark.endOffset};}}catch(e){b.mark=null;}}return b;},_beginEditing:function(){if(this._steps.length===0){this._steps.push({"text":html.getChildrenHtml(this.editNode),"bookmark":this._getBookmark()});}},_endEditing:function(){var v=html.getChildrenHtml(this.editNode);this._undoedSteps=[];this._steps.push({text:v,bookmark:this._getBookmark()});},onKeyDown:function(e){if(!has("ie")&&!this.iframe&&e.keyCode==keys.TAB&&!this.tabIndent){this._saveSelection();}if(!this.customUndo){this.inherited(arguments);return;}var k=e.keyCode;if(e.ctrlKey&&!e.shiftKey&&!e.altKey){if(k==90||k==122){e.stopPropagation();e.preventDefault();this.undo();return;}else{if(k==89||k==121){e.stopPropagation();e.preventDefault();this.redo();return;}}}this.inherited(arguments);switch(k){case keys.ENTER:case keys.BACKSPACE:case keys.DELETE:this.beginEditing();break;case 88:case 86:if(e.ctrlKey&&!e.altKey&&!e.metaKey){this.endEditing();if(e.keyCode==88){this.beginEditing("cut");}else{this.beginEditing("paste");}this.defer("endEditing",1);break;}default:if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode<keys.F1||e.keyCode>keys.F15)){this.beginEditing();break;}case keys.ALT:this.endEditing();break;case keys.UP_ARROW:case keys.DOWN_ARROW:case keys.LEFT_ARROW:case keys.RIGHT_ARROW:case keys.HOME:case keys.END:case keys.PAGE_UP:case keys.PAGE_DOWN:this.endEditing(true);break;case keys.CTRL:case keys.SHIFT:case keys.TAB:break;}},_onBlur:function(){this.inherited(arguments);this.endEditing(true);},_saveSelection:function(){try{this._savedSelection=this._getBookmark();}catch(e){}},_restoreSelection:function(){if(this._savedSelection){delete this._cursorToStart;if(this.selection.isCollapsed()){this._moveToBookmark(this._savedSelection);}delete this._savedSelection;}},onClick:function(){this.endEditing(true);this.inherited(arguments);},replaceValue:function(html){if(!this.customUndo){this.inherited(arguments);}else{if(this.isClosed){this.setValue(html);}else{this.beginEditing();if(!html){html="&#160;";}this.setValue(html);this.endEditing();}}},_setDisabledAttr:function(_ff1){this.setValueDeferred.then(lang.hitch(this,function(){if((!this.disabled&&_ff1)||(!this._buttonEnabledPlugins&&_ff1)){_fcd.forEach(this._plugins,function(p){p.set("disabled",true);});}else{if(this.disabled&&!_ff1){_fcd.forEach(this._plugins,function(p){p.set("disabled",false);});}}}));this.inherited(arguments);},_setStateClass:function(){try{this.inherited(arguments);if(this.document&&this.document.body){_fd3.set(this.document.body,"color",_fd3.get(this.iframe,"color"));}}catch(e){}}});function _ff2(args){return new _fdb({command:args.name});};function _ff3(args){return new _fdb({buttonClass:_fda,command:args.name});};lang.mixin(_fdb.registry,{"undo":_ff2,"redo":_ff2,"cut":_ff2,"copy":_ff2,"paste":_ff2,"insertOrderedList":_ff2,"insertUnorderedList":_ff2,"indent":_ff2,"outdent":_ff2,"justifyCenter":_ff2,"justifyFull":_ff2,"justifyLeft":_ff2,"justifyRight":_ff2,"delete":_ff2,"selectAll":_ff2,"removeFormat":_ff2,"unlink":_ff2,"insertHorizontalRule":_ff2,"bold":_ff3,"italic":_ff3,"underline":_ff3,"strikethrough":_ff3,"subscript":_ff3,"superscript":_ff3,"|":function(){return new _fdb({setEditor:function(_ff4){this.editor=_ff4;this.button=new _fd8({ownerDocument:_ff4.ownerDocument});}});}});return _fe0;});},"dijit/Toolbar":function(){define(["require","dojo/_base/declare","dojo/has","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_ff5,_ff6,has,keys,_ff7,_ff8,_ff9,_ffa){if(has("dijit-legacy-requires")){_ff7(0,function(){var _ffb=["dijit/ToolbarSeparator"];_ff5(_ffb);});}return _ff6("dijit.Toolbar",[_ff8,_ffa,_ff9],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" data-dojo-attach-point=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",_onLeftArrow:function(){this.focusPrev();},_onRightArrow:function(){this.focusNext();}});});},"dijit/ToolbarSeparator":function(){define(["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(_ffc,dom,_ffd,_ffe){return _ffc("dijit.ToolbarSeparator",[_ffd,_ffe],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\" role=\"presentation\"></div>",buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/_editor/_Plugin":function(){define(["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","../Destroyable","../form/Button"],function(_fff,_1000,lang,_1001,_1002){var _1003=_1000("dijit._editor._Plugin",_1001,{constructor:function(args){this.params=args||{};lang.mixin(this,this.params);this._attrPairNames={};},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,command:"",useDefaultCommand:true,buttonClass:_1002,disabled:false,getLabel:function(key){return this.editor.commands[key];},_initButton:function(){if(this.command.length){var label=this.getLabel(this.command),_1004=this.editor,_1005=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){var props=lang.mixin({label:label,ownerDocument:_1004.ownerDocument,dir:_1004.dir,lang:_1004.lang,showLabel:false,iconClass:_1005,dropDown:this.dropDown,tabIndex:"-1"},this.params||{});this.button=new this.buttonClass(props);}}if(this.get("disabled")&&this.button){this.button.set("disabled",this.get("disabled"));}},destroy:function(){if(this.dropDown){this.dropDown.destroyRecursive();}this.inherited(arguments);},connect:function(o,f,tf){this.own(_fff.connect(o,f,this,tf));},updateState:function(){var e=this.editor,c=this.command,_1006,_1007;if(!e||!e.isLoaded||!c.length){return;}var _1008=this.get("disabled");if(this.button){try{_1007=!_1008&&e.queryCommandEnabled(c);if(this.enabled!==_1007){this.enabled=_1007;this.button.set("disabled",!_1007);}if(_1007){if(typeof this.button.checked=="boolean"){_1006=e.queryCommandState(c);if(this.checked!==_1006){this.checked=_1006;this.button.set("checked",e.queryCommandState(c));}}}}catch(e){}}},setEditor:function(_1009){this.editor=_1009;this._initButton();if(this.button&&this.useDefaultCommand){if(this.editor.queryCommandAvailable(this.command)){this.own(this.button.on("click",lang.hitch(this.editor,"execCommand",this.command,this.commandArg)));}else{this.button.domNode.style.display="none";}}this.own(this.editor.on("NormalizedDisplayChanged",lang.hitch(this,"updateState")));},setToolbar:function(_100a){if(this.button){_100a.addChild(this.button);}},set:function(name,value){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var names=this._getAttrNames(name);if(this[names.s]){var _100b=this[names.s].apply(this,Array.prototype.slice.call(arguments,1));}else{this._set(name,value);}return _100b||this;},get:function(name){var names=this._getAttrNames(name);return this[names.g]?this[names.g]():this[name];},_setDisabledAttr:function(_100c){this._set("disabled",_100c);this.updateState();},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(name,value){this[name]=value;}});_1003.registry={};return _1003;});},"dijit/_editor/plugins/EnterKeyHandling":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","../_Plugin","../RichText","../range"],function(_100d,_100e,keys,lang,on,has,win,_100f,_1010,_1011,_1012){return _100d("dijit._editor.plugins.EnterKeyHandling",_1010,{blockNodeForEnter:"BR",constructor:function(args){if(args){if("blockNodeForEnter" in args){args.blockNodeForEnter=args.blockNodeForEnter.toUpperCase();}lang.mixin(this,args);}},setEditor:function(_1013){if(this.editor===_1013){return;}this.editor=_1013;if(this.blockNodeForEnter=="BR"){this.editor.customUndo=true;_1013.onLoadDeferred.then(lang.hitch(this,function(d){this.own(on(_1013.document,"keydown",lang.hitch(this,function(e){if(e.keyCode==keys.ENTER){var ne=lang.mixin({},e);ne.shiftKey=true;if(!this.handleEnterKey(ne)){e.stopPropagation();e.preventDefault();}}})));if(has("ie")>=9){this.own(on(_1013.document,"paste",lang.hitch(this,function(e){setTimeout(lang.hitch(this,function(){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();r.move("character",1);r.select();}),0);})));}return d;}));}else{if(this.blockNodeForEnter){var h=lang.hitch(this,"handleEnterKey");_1013.addKeyHandler(13,0,0,h);_1013.addKeyHandler(13,0,1,h);this.own(this.editor.on("KeyPressed",lang.hitch(this,"onKeyPressed")));}}},onKeyPressed:function(){if(this._checkListLater){if(this.editor.selection.isCollapsed()){var _1014=this.editor.selection.getAncestorElement("LI");if(!_1014){_1011.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);var block=this.editor.selection.getAncestorElement(this.blockNodeForEnter);if(block){block.innerHTML=this.bogusHtmlContent;if(has("ie")<=9){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();}}else{console.error("onKeyPressed: Cannot find the new block node");}}else{if(has("mozilla")){if(_1014.parentNode.parentNode.nodeName=="LI"){_1014=_1014.parentNode.parentNode;}}var fc=_1014.firstChild;if(fc&&fc.nodeType==1&&(fc.nodeName=="UL"||fc.nodeName=="OL")){_1014.insertBefore(fc.ownerDocument.createTextNode(" "),fc);var _1015=_1012.create(this.editor.window);_1015.setStart(_1014.firstChild,0);var _1016=_1012.getSelection(this.editor.window,true);_1016.removeAllRanges();_1016.addRange(_1015);}}}this._checkListLater=false;}if(this._pressedEnterInBlock){if(this._pressedEnterInBlock.previousSibling){this.removeTrailingBr(this._pressedEnterInBlock.previousSibling);}delete this._pressedEnterInBlock;}},bogusHtmlContent:"&#160;",blockNodes:/^(?:P|H1|H2|H3|H4|H5|H6|LI)$/,handleEnterKey:function(e){var _1017,range,_1018,_1019,_101a,_101b,doc=this.editor.document,br,rs,txt;if(e.shiftKey){var _101c=this.editor.selection.getParentElement();var _101d=_1012.getAncestor(_101c,this.blockNodes);if(_101d){if(_101d.tagName=="LI"){return true;}_1017=_1012.getSelection(this.editor.window);range=_1017.getRangeAt(0);if(!range.collapsed){range.deleteContents();_1017=_1012.getSelection(this.editor.window);range=_1017.getRangeAt(0);}if(_1012.atBeginningOfContainer(_101d,range.startContainer,range.startOffset)){br=doc.createElement("br");_1018=_1012.create(this.editor.window);_101d.insertBefore(br,_101d.firstChild);_1018.setStartAfter(br);_1017.removeAllRanges();_1017.addRange(_1018);}else{if(_1012.atEndOfContainer(_101d,range.startContainer,range.startOffset)){_1018=_1012.create(this.editor.window);br=doc.createElement("br");_101d.appendChild(br);_101d.appendChild(doc.createTextNode(" "));_1018.setStart(_101d.lastChild,0);_1017.removeAllRanges();_1017.addRange(_1018);}else{rs=range.startContainer;if(rs&&rs.nodeType==3){txt=rs.nodeValue;_1019=doc.createTextNode(txt.substring(0,range.startOffset));_101a=doc.createTextNode(txt.substring(range.startOffset));_101b=doc.createElement("br");if(_101a.nodeValue==""&&has("webkit")){_101a=doc.createTextNode(" ");}_100e.place(_1019,rs,"after");_100e.place(_101b,_1019,"after");_100e.place(_101a,_101b,"after");_100e.destroy(rs);_1018=_1012.create(this.editor.window);_1018.setStart(_101a,0);_1017.removeAllRanges();_1017.addRange(_1018);return false;}return true;}}}else{_1017=_1012.getSelection(this.editor.window);if(_1017.rangeCount){range=_1017.getRangeAt(0);if(range&&range.startContainer){if(!range.collapsed){range.deleteContents();_1017=_1012.getSelection(this.editor.window);range=_1017.getRangeAt(0);}rs=range.startContainer;if(rs&&rs.nodeType==3){var _101e=false;var _101f=range.startOffset;if(rs.length<_101f){ret=this._adjustNodeAndOffset(rs,_101f);rs=ret.node;_101f=ret.offset;}txt=rs.nodeValue;_1019=doc.createTextNode(txt.substring(0,_101f));_101a=doc.createTextNode(txt.substring(_101f));_101b=doc.createElement("br");if(!_101a.length){_101a=doc.createTextNode(" ");_101e=true;}if(_1019.length){_100e.place(_1019,rs,"after");}else{_1019=rs;}_100e.place(_101b,_1019,"after");_100e.place(_101a,_101b,"after");_100e.destroy(rs);_1018=_1012.create(this.editor.window);_1018.setStart(_101a,0);_1018.setEnd(_101a,_101a.length);_1017.removeAllRanges();_1017.addRange(_1018);if(_101e&&!has("webkit")){this.editor.selection.remove();}else{this.editor.selection.collapse(true);}}else{var _1020;if(range.startOffset>=0){_1020=rs.childNodes[range.startOffset];}var _101b=doc.createElement("br");var _101a=doc.createTextNode(" ");if(!_1020){rs.appendChild(_101b);rs.appendChild(_101a);}else{_100e.place(_101b,_1020,"before");_100e.place(_101a,_101b,"after");}_1018=_1012.create(this.editor.window);_1018.setStart(_101a,0);_1018.setEnd(_101a,_101a.length);_1017.removeAllRanges();_1017.addRange(_1018);this.editor.selection.collapse(true);}}}else{_1011.prototype.execCommand.call(this.editor,"inserthtml","<br>");}}return false;}var _1021=true;_1017=_1012.getSelection(this.editor.window);range=_1017.getRangeAt(0);if(!range.collapsed){range.deleteContents();_1017=_1012.getSelection(this.editor.window);range=_1017.getRangeAt(0);}var block=_1012.getBlockAncestor(range.endContainer,null,this.editor.editNode);var _1022=block.blockNode;if((this._checkListLater=(_1022&&(_1022.nodeName=="LI"||_1022.parentNode.nodeName=="LI")))){if(has("mozilla")){this._pressedEnterInBlock=_1022;}if(/^(\s|&nbsp;|&#160;|\xA0|<span\b[^>]*\bclass=['"]Apple-style-span['"][^>]*>(\s|&nbsp;|&#160;|\xA0)<\/span>)?(<br>)?$/.test(_1022.innerHTML)){_1022.innerHTML="";if(has("webkit")){_1018=_1012.create(this.editor.window);_1018.setStart(_1022,0);_1017.removeAllRanges();_1017.addRange(_1018);}this._checkListLater=false;}return true;}if(!block.blockNode||block.blockNode===this.editor.editNode){try{_1011.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);}catch(e2){}block={blockNode:this.editor.selection.getAncestorElement(this.blockNodeForEnter),blockContainer:this.editor.editNode};if(block.blockNode){if(block.blockNode!=this.editor.editNode&&(!(block.blockNode.textContent||block.blockNode.innerHTML).replace(/^\s+|\s+$/g,"").length)){this.removeTrailingBr(block.blockNode);return false;}}else{block.blockNode=this.editor.editNode;}_1017=_1012.getSelection(this.editor.window);range=_1017.getRangeAt(0);}var _1023=doc.createElement(this.blockNodeForEnter);_1023.innerHTML=this.bogusHtmlContent;this.removeTrailingBr(block.blockNode);var _1024=range.endOffset;var node=range.endContainer;if(node.length<_1024){var ret=this._adjustNodeAndOffset(node,_1024);node=ret.node;_1024=ret.offset;}if(_1012.atEndOfContainer(block.blockNode,node,_1024)){if(block.blockNode===block.blockContainer){block.blockNode.appendChild(_1023);}else{_100e.place(_1023,block.blockNode,"after");}_1021=false;_1018=_1012.create(this.editor.window);_1018.setStart(_1023,0);_1017.removeAllRanges();_1017.addRange(_1018);if(this.editor.height){_100f.scrollIntoView(_1023);}}else{if(_1012.atBeginningOfContainer(block.blockNode,range.startContainer,range.startOffset)){_100e.place(_1023,block.blockNode,block.blockNode===block.blockContainer?"first":"before");if(_1023.nextSibling&&this.editor.height){_1018=_1012.create(this.editor.window);_1018.setStart(_1023.nextSibling,0);_1017.removeAllRanges();_1017.addRange(_1018);_100f.scrollIntoView(_1023.nextSibling);}_1021=false;}else{if(block.blockNode===block.blockContainer){block.blockNode.appendChild(_1023);}else{_100e.place(_1023,block.blockNode,"after");}_1021=false;if(block.blockNode.style){if(_1023.style){if(block.blockNode.style.cssText){_1023.style.cssText=block.blockNode.style.cssText;}}}rs=range.startContainer;var _1025;if(rs&&rs.nodeType==3){var _1026,tNode;_1024=range.endOffset;if(rs.length<_1024){ret=this._adjustNodeAndOffset(rs,_1024);rs=ret.node;_1024=ret.offset;}txt=rs.nodeValue;_1019=doc.createTextNode(txt.substring(0,_1024));_101a=doc.createTextNode(txt.substring(_1024,txt.length));_100e.place(_1019,rs,"before");_100e.place(_101a,rs,"after");_100e.destroy(rs);var _1027=_1019.parentNode;while(_1027!==block.blockNode){var tg=_1027.tagName;var newTg=doc.createElement(tg);if(_1027.style){if(newTg.style){if(_1027.style.cssText){newTg.style.cssText=_1027.style.cssText;}}}if(_1027.tagName==="FONT"){if(_1027.color){newTg.color=_1027.color;}if(_1027.face){newTg.face=_1027.face;}if(_1027.size){newTg.size=_1027.size;}}_1026=_101a;while(_1026){tNode=_1026.nextSibling;newTg.appendChild(_1026);_1026=tNode;}_100e.place(newTg,_1027,"after");_1019=_1027;_101a=newTg;_1027=_1027.parentNode;}_1026=_101a;if(_1026.nodeType==1||(_1026.nodeType==3&&_1026.nodeValue)){_1023.innerHTML="";}_1025=_1026;while(_1026){tNode=_1026.nextSibling;_1023.appendChild(_1026);_1026=tNode;}}_1018=_1012.create(this.editor.window);var _1028;var _1029=_1025;if(this.blockNodeForEnter!=="BR"){while(_1029){_1028=_1029;tNode=_1029.firstChild;_1029=tNode;}if(_1028&&_1028.parentNode){_1023=_1028.parentNode;_1018.setStart(_1023,0);_1017.removeAllRanges();_1017.addRange(_1018);if(this.editor.height){_100f.scrollIntoView(_1023);}if(has("mozilla")){this._pressedEnterInBlock=block.blockNode;}}else{_1021=true;}}else{_1018.setStart(_1023,0);_1017.removeAllRanges();_1017.addRange(_1018);if(this.editor.height){_100f.scrollIntoView(_1023);}if(has("mozilla")){this._pressedEnterInBlock=block.blockNode;}}}}return _1021;},_adjustNodeAndOffset:function(node,_102a){while(node.length<_102a&&node.nextSibling&&node.nextSibling.nodeType==3){_102a=_102a-node.length;node=node.nextSibling;}return {"node":node,"offset":_102a};},removeTrailingBr:function(_102b){var para=/P|DIV|LI/i.test(_102b.tagName)?_102b:this.editor.selection.getParentOfType(_102b,["P","DIV","LI"]);if(!para){return;}if(para.lastChild){if((para.childNodes.length>1&&para.lastChild.nodeType==3&&/^[\s\xAD]*$/.test(para.lastChild.nodeValue))||para.lastChild.tagName=="BR"){_100e.destroy(para.lastChild);}}if(!para.childNodes.length){para.innerHTML=this.bogusHtmlContent;}}});});},"dijit/_editor/RichText":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/query","dojo/domReady","dojo/sniff","dojo/topic","dojo/_base/unload","dojo/_base/url","dojo/window","../_Widget","../_CssStateMixin","../selection","./range","./html","../focus","../main"],function(array,_102c,_102d,_102e,dom,_102f,_1030,_1031,_1032,_1033,_1034,keys,lang,on,query,_1035,has,topic,_1036,_1037,_1038,_1039,_103a,_103b,_103c,_103d,focus,dijit){var _103e=_102d("dijit._editor.RichText",[_1039,_103a],{constructor:function(_103f){this.contentPreFilters=[];this.contentPostFilters=[];this.contentDomPreFilters=[];this.contentDomPostFilters=[];this.editingAreaStyleSheets=[];this.events=[].concat(this.events);this._keyHandlers={};if(_103f&&lang.isString(_103f.value)){this.value=_103f.value;}this.onLoadDeferred=new _102e();},baseClass:"dijitEditor",inheritWidth:false,focusOnLoad:false,name:"",styleSheets:"",height:"300px",minHeight:"1em",isClosed:true,isLoaded:false,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",_NAME_CONTENT_SEP:"@@**%%:%%**@@",onLoadDeferred:null,isTabIndent:false,disableSpellCheck:false,postCreate:function(){if("textarea"===this.domNode.tagName.toLowerCase()){console.warn("RichText should not be used with the TEXTAREA tag.  See dijit._editor.RichText docs.");}this.contentPreFilters=[lang.hitch(this,"_preFixUrlAttributes")].concat(this.contentPreFilters);if(has("mozilla")){this.contentPreFilters=[this._normalizeFontStyle].concat(this.contentPreFilters);this.contentPostFilters=[this._removeMozBogus].concat(this.contentPostFilters);}if(has("webkit")){this.contentPreFilters=[this._removeWebkitBogus].concat(this.contentPreFilters);this.contentPostFilters=[this._removeWebkitBogus].concat(this.contentPostFilters);}if(has("ie")){this.contentPostFilters=[this._normalizeFontStyle].concat(this.contentPostFilters);this.contentDomPostFilters=[lang.hitch(this,this._stripBreakerNodes)].concat(this.contentDomPostFilters);}this.inherited(arguments);topic.publish(dijit._scopeName+"._editor.RichText::init",this);},startup:function(){this.inherited(arguments);this.open();this.setupDefaultShortcuts();},setupDefaultShortcuts:function(){var exec=lang.hitch(this,function(cmd,arg){return function(){return !this.execCommand(cmd,arg);};});var _1040={b:exec("bold"),i:exec("italic"),u:exec("underline"),a:exec("selectall"),s:function(){this.save(true);},m:function(){this.isTabIndent=!this.isTabIndent;},"1":exec("formatblock","h1"),"2":exec("formatblock","h2"),"3":exec("formatblock","h3"),"4":exec("formatblock","h4"),"\\":exec("insertunorderedlist")};if(!has("ie")){_1040.Z=exec("redo");}var key;for(key in _1040){this.addKeyHandler(key,true,false,_1040[key]);}},events:["onKeyDown","onKeyUp"],captureEvents:[],_editorCommandsLocalized:false,_localizeEditorCommands:function(){if(_103e._editorCommandsLocalized){this._local2NativeFormatNames=_103e._local2NativeFormatNames;this._native2LocalFormatNames=_103e._native2LocalFormatNames;return;}_103e._editorCommandsLocalized=true;_103e._local2NativeFormatNames={};_103e._native2LocalFormatNames={};this._local2NativeFormatNames=_103e._local2NativeFormatNames;this._native2LocalFormatNames=_103e._native2LocalFormatNames;var _1041=["div","p","pre","h1","h2","h3","h4","h5","h6","ol","ul","address"];var _1042="",_1043,i=0;while((_1043=_1041[i++])){if(_1043.charAt(1)!=="l"){_1042+="<"+_1043+"><span>content</span></"+_1043+"><br/>";}else{_1042+="<"+_1043+"><li>content</li></"+_1043+"><br/>";}}var style={position:"absolute",top:"0px",zIndex:10,opacity:0.01};var div=_1031.create("div",{style:style,innerHTML:_1042});this.ownerDocumentBody.appendChild(div);var _1044=lang.hitch(this,function(){var node=div.firstChild;while(node){try{this.selection.selectElement(node.firstChild);var _1045=node.tagName.toLowerCase();this._local2NativeFormatNames[_1045]=document.queryCommandValue("formatblock");this._native2LocalFormatNames[this._local2NativeFormatNames[_1045]]=_1045;node=node.nextSibling.nextSibling;}catch(e){}}_1031.destroy(div);});this.defer(_1044);},open:function(_1046){if(!this.onLoadDeferred||this.onLoadDeferred.fired>=0){this.onLoadDeferred=new _102e();}if(!this.isClosed){this.close();}topic.publish(dijit._scopeName+"._editor.RichText::open",this);if(arguments.length===1&&_1046.nodeName){this.domNode=_1046;}var dn=this.domNode;var html;if(lang.isString(this.value)){html=this.value;delete this.value;dn.innerHTML="";}else{if(dn.nodeName&&dn.nodeName.toLowerCase()=="textarea"){var ta=(this.textarea=dn);this.name=ta.name;html=ta.value;dn=this.domNode=this.ownerDocument.createElement("div");dn.setAttribute("widgetId",this.id);ta.removeAttribute("widgetId");dn.cssText=ta.cssText;dn.className+=" "+ta.className;_1031.place(dn,ta,"before");var _1047=lang.hitch(this,function(){_1033.set(ta,{display:"block",position:"absolute",top:"-1000px"});if(has("ie")){var s=ta.style;this.__overflow=s.overflow;s.overflow="hidden";}});if(has("ie")){this.defer(_1047,10);}else{_1047();}if(ta.form){var _1048=ta.value;this.reset=function(){var _1049=this.getValue();if(_1049!==_1048){this.replaceValue(_1048);}};on(ta.form,"submit",lang.hitch(this,function(){_102f.set(ta,"disabled",this.disabled);ta.value=this.getValue();}));}}else{html=_103d.getChildrenHtml(dn);dn.innerHTML="";}}this.value=html;if(dn.nodeName&&dn.nodeName==="LI"){dn.innerHTML=" <br>";}this.header=dn.ownerDocument.createElement("div");dn.appendChild(this.header);this.editingArea=dn.ownerDocument.createElement("div");dn.appendChild(this.editingArea);this.footer=dn.ownerDocument.createElement("div");dn.appendChild(this.footer);if(!this.name){this.name=this.id+"_AUTOGEN";}if(this.name!==""&&(!_102c["useXDomain"]||_102c["allowXdRichTextSave"])){var _104a=dom.byId(dijit._scopeName+"._editor.RichText.value");if(_104a&&_104a.value!==""){var datas=_104a.value.split(this._SEPARATOR),i=0,dat;while((dat=datas[i++])){var data=dat.split(this._NAME_CONTENT_SEP);if(data[0]===this.name){html=data[1];datas=datas.splice(i,1);_104a.value=datas.join(this._SEPARATOR);break;}}}if(!_103e._globalSaveHandler){_103e._globalSaveHandler={};_1036.addOnUnload(function(){var id;for(id in _103e._globalSaveHandler){var f=_103e._globalSaveHandler[id];if(lang.isFunction(f)){f();}}});}_103e._globalSaveHandler[this.id]=lang.hitch(this,"_saveContent");}this.isClosed=false;var ifr=(this.editorObject=this.iframe=this.ownerDocument.createElement("iframe"));ifr.id=this.id+"_iframe";ifr.style.border="none";ifr.style.width="100%";if(this._layoutMode){ifr.style.height="100%";}else{if(has("ie")>=7){if(this.height){ifr.style.height=this.height;}if(this.minHeight){ifr.style.minHeight=this.minHeight;}}else{ifr.style.height=this.height?this.height:this.minHeight;}}ifr.frameBorder=0;ifr._loadFunc=lang.hitch(this,function(w){this.window=w;this.document=this.window.document;this.selection=new _103b.SelectionManager(w);if(has("ie")){this._localizeEditorCommands();}this.onLoad(html);});var src=this._getIframeDocTxt(),s="javascript: '"+src.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'";if(has("ie")>=9){this.editingArea.appendChild(ifr);ifr.src=s;}else{ifr.setAttribute("src",s);this.editingArea.appendChild(ifr);}if(dn.nodeName==="LI"){dn.lastChild.style.marginTop="-1.2em";}_1030.add(this.domNode,this.baseClass);},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_getIframeDocTxt:function(){var _104b=_1033.getComputedStyle(this.domNode);var html="";var _104c=true;if(has("ie")||has("webkit")||(!this.height&&!has("mozilla"))){html="<div id='dijitEditorBody'></div>";_104c=false;}else{if(has("mozilla")){this._cursorToStart=true;html="&#160;";}}var font=[_104b.fontWeight,_104b.fontSize,_104b.fontFamily].join(" ");var _104d=_104b.lineHeight;if(_104d.indexOf("px")>=0){_104d=parseFloat(_104d)/parseFloat(_104b.fontSize);}else{if(_104d.indexOf("em")>=0){_104d=parseFloat(_104d);}else{_104d="normal";}}var _104e="";var self=this;this.style.replace(/(^|;)\s*(line-|font-?)[^;]+/ig,function(match){match=match.replace(/^;/ig,"")+";";var s=match.split(":")[0];if(s){s=lang.trim(s);s=s.toLowerCase();var i;var sC="";for(i=0;i<s.length;i++){var c=s.charAt(i);switch(c){case "-":i++;c=s.charAt(i).toUpperCase();default:sC+=c;}}_1033.set(self.domNode,sC,"");}_104e+=match+";";});var label=query("label[for=\""+this.id+"\"]");var title="";if(label.length){title=label[0].innerHTML;}else{if(this["aria-label"]){title=this["aria-label"];}else{if(this["aria-labelledby"]){title=dom.byId(this["aria-labelledby"]).innerHTML;}}}this.iframe.setAttribute("title",title);return ["<!DOCTYPE html>",this.isLeftToRight()?"<html lang='"+this.lang+"'>\n<head>\n":"<html dir='rtl' lang='"+this.lang+"'>\n<head>\n",title?"<title>"+title+"</title>":"","<meta http-equiv='Content-Type' content='text/html'>\n","<style>\n","\tbody,html {\n","\t\tbackground:transparent;\n","\t\tpadding: 1px 0 0 0;\n","\t\tmargin: -1px 0 0 0;\n","\t}\n","\tbody,html, #dijitEditorBody{ outline: none; }","html { height: 100%; width: 100%; overflow: hidden; }\n",this.height?"\tbody { height: 100%; width: 100%; overflow: auto; }\n":"\tbody { min-height: "+this.minHeight+"; width: 100%; overflow-x: auto; overflow-y: hidden; }\n","\tbody{\n","\t\ttop:0px;\n","\t\tleft:0px;\n","\t\tright:0px;\n","\t\tfont:",font,";\n",((this.height||has("opera"))?"":"\t\tposition: fixed;\n"),"\t\tline-height:",_104d,";\n","\t}\n","\tp{ margin: 1em 0; }\n","\tli > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; }\n",(!has("ie")?"\tli{ min-height:1.2em; }\n":""),"</style>\n",this._applyEditingAreaStyleSheets(),"\n","</head>\n<body role='main' ",(_104c?"id='dijitEditorBody' ":""),"onload='frameElement && frameElement._loadFunc(window,document)' ","style='"+_104e+"'>",html,"</body>\n</html>"].join("");},_applyEditingAreaStyleSheets:function(){var files=[];if(this.styleSheets){files=this.styleSheets.split(";");this.styleSheets="";}files=files.concat(this.editingAreaStyleSheets);this.editingAreaStyleSheets=[];var text="",i=0,url,_104f=_1038.get(this.ownerDocument);while((url=files[i++])){var _1050=(new _1037(_104f.location,url)).toString();this.editingAreaStyleSheets.push(_1050);text+="<link rel=\"stylesheet\" type=\"text/css\" href=\""+_1050+"\"/>";}return text;},addStyleSheet:function(uri){var url=uri.toString(),_1051=_1038.get(this.ownerDocument);if(url.charAt(0)==="."||(url.charAt(0)!=="/"&&!uri.host)){url=(new _1037(_1051.location,url)).toString();}if(array.indexOf(this.editingAreaStyleSheets,url)>-1){return;}this.editingAreaStyleSheets.push(url);this.onLoadDeferred.then(lang.hitch(this,function(){if(this.document.createStyleSheet){this.document.createStyleSheet(url);}else{var head=this.document.getElementsByTagName("head")[0];var _1052=this.document.createElement("link");_1052.rel="stylesheet";_1052.type="text/css";_1052.href=url;head.appendChild(_1052);}}));},removeStyleSheet:function(uri){var url=uri.toString(),_1053=_1038.get(this.ownerDocument);if(url.charAt(0)==="."||(url.charAt(0)!=="/"&&!uri.host)){url=(new _1037(_1053.location,url)).toString();}var index=array.indexOf(this.editingAreaStyleSheets,url);if(index===-1){return;}delete this.editingAreaStyleSheets[index];query("link[href=\""+url+"\"]",this.window.document).orphan();},disabled:false,_mozSettingProps:{"styleWithCSS":false},_setDisabledAttr:function(value){value=!!value;this._set("disabled",value);if(!this.isLoaded){return;}if(has("ie")||has("webkit")||has("opera")){var _1054=has("ie")&&(this.isLoaded||!this.focusOnLoad);if(_1054){this.editNode.unselectable="on";}this.editNode.contentEditable=!value;if(_1054){this.defer(function(){if(this.editNode){this.editNode.unselectable="off";}});}}else{try{this.document.designMode=(value?"off":"on");}catch(e){return;}if(!value&&this._mozSettingProps){var ps=this._mozSettingProps;var n;for(n in ps){if(ps.hasOwnProperty(n)){try{this.document.execCommand(n,false,ps[n]);}catch(e2){}}}}}this._disabledOK=true;},onLoad:function(html){if(!this.window.__registeredWindow){this.window.__registeredWindow=true;this._iframeRegHandle=focus.registerIframe(this.iframe);}if(!has("ie")&&!has("webkit")&&(this.height||has("mozilla"))){this.editNode=this.document.body;}else{this.editNode=this.document.body.firstChild;var _1055=this;if(has("ie")){this.tabStop=_1031.create("div",{tabIndex:-1},this.editingArea);this.iframe.onfocus=function(){_1055.editNode.setActive();};}}this.focusNode=this.editNode;var _1056=this.events.concat(this.captureEvents);var ap=this.iframe?this.document:this.editNode;this.own(array.map(_1056,function(item){var type=item.toLowerCase().replace(/^on/,"");on(ap,type,lang.hitch(this,item));},this));this.own(on(ap,"mouseup",lang.hitch(this,"onClick")));if(has("ie")){this.own(on(this.document,"mousedown",lang.hitch(this,"_onIEMouseDown")));this.editNode.style.zoom=1;}else{this.own(on(this.document,"mousedown",lang.hitch(this,function(){delete this._cursorToStart;})));}if(has("webkit")){this._webkitListener=this.own(on(this.document,"mouseup",lang.hitch(this,"onDisplayChanged")))[0];this.own(on(this.document,"mousedown",lang.hitch(this,function(e){var t=e.target;if(t&&(t===this.document.body||t===this.document)){this.defer("placeCursorAtEnd");}})));}if(has("ie")){try{this.document.execCommand("RespectVisibilityInDesign",true,null);}catch(e){}}this.isLoaded=true;this.set("disabled",this.disabled);var _1057=lang.hitch(this,function(){this.setValue(html);if(this.onLoadDeferred){this.onLoadDeferred.resolve(true);}this.onDisplayChanged();if(this.focusOnLoad){_1035(lang.hitch(this,"defer","focus",this.updateInterval));}this.value=this.getValue(true);});if(this.setValueDeferred){this.setValueDeferred.then(_1057);}else{_1057();}},onKeyDown:function(e){if(e.keyCode===keys.TAB&&this.isTabIndent){e.stopPropagation();e.preventDefault();if(this.queryCommandEnabled((e.shiftKey?"outdent":"indent"))){this.execCommand((e.shiftKey?"outdent":"indent"));}}if(has("ie")){if(e.keyCode==keys.TAB&&!this.isTabIndent){if(e.shiftKey&&!e.ctrlKey&&!e.altKey){this.iframe.focus();}else{if(!e.shiftKey&&!e.ctrlKey&&!e.altKey){this.tabStop.focus();}}}else{if(e.keyCode===keys.BACKSPACE&&this.document.selection.type==="Control"){e.stopPropagation();e.preventDefault();this.execCommand("delete");}}}if(has("ff")){if(e.keyCode===keys.PAGE_UP||e.keyCode===keys.PAGE_DOWN){if(this.editNode.clientHeight>=this.editNode.scrollHeight){e.preventDefault();}}}var _1058=this._keyHandlers[e.keyCode],args=arguments;if(_1058&&!e.altKey){array.some(_1058,function(h){if(!(h.shift^e.shiftKey)&&!(h.ctrl^(e.ctrlKey||e.metaKey))){if(!h.handler.apply(this,args)){e.preventDefault();}return true;}},this);}this.defer("onKeyPressed",1);return true;},onKeyUp:function(){},setDisabled:function(_1059){_1034.deprecated("dijit.Editor::setDisabled is deprecated","use dijit.Editor::attr(\"disabled\",boolean) instead",2);this.set("disabled",_1059);},_setValueAttr:function(value){this.setValue(value);},_setDisableSpellCheckAttr:function(_105a){if(this.document){_102f.set(this.document.body,"spellcheck",!_105a);}else{this.onLoadDeferred.then(lang.hitch(this,function(){_102f.set(this.document.body,"spellcheck",!_105a);}));}this._set("disableSpellCheck",_105a);},addKeyHandler:function(key,ctrl,shift,_105b){if(typeof key=="string"){key=key.toUpperCase().charCodeAt(0);}if(!lang.isArray(this._keyHandlers[key])){this._keyHandlers[key]=[];}this._keyHandlers[key].push({shift:shift||false,ctrl:ctrl||false,handler:_105b});},onKeyPressed:function(){this.onDisplayChanged();},onClick:function(e){this.onDisplayChanged(e);},_onIEMouseDown:function(){if(!this.focused&&!this.disabled){this.focus();}},_onBlur:function(e){if(has("ie")>=9){this.defer(function(){if(!focus.curNode){this.ownerDocumentBody.focus();}});}this.inherited(arguments);var _105c=this.getValue(true);if(_105c!==this.value){this.onChange(_105c);}this._set("value",_105c);},_onFocus:function(e){if(!this.disabled){if(!this._disabledOK){this.set("disabled",false);}this.inherited(arguments);}},blur:function(){if(!has("ie")&&this.window.document.documentElement&&this.window.document.documentElement.focus){this.window.document.documentElement.focus();}else{if(this.ownerDocumentBody.focus){this.ownerDocumentBody.focus();}}},focus:function(){if(!this.isLoaded){this.focusOnLoad=true;return;}if(this._cursorToStart){delete this._cursorToStart;if(this.editNode.childNodes){this.placeCursorAtStart();return;}}if(!has("ie")){focus.focus(this.iframe);}else{if(this.editNode&&this.editNode.focus){if(has("ie")<9){this.iframe.fireEvent("onfocus",document.createEventObject());}else{var e=document.createEvent("UIEvents");e.initEvent("focus",true,false);this.iframe.dispatchEvent(e);}}}},updateInterval:200,_updateTimer:null,onDisplayChanged:function(){if(this._updateTimer){this._updateTimer.remove();}this._updateTimer=this.defer("onNormalizedDisplayChanged",this.updateInterval);},onNormalizedDisplayChanged:function(){delete this._updateTimer;},onChange:function(){},_normalizeCommand:function(cmd,_105d){var _105e=cmd.toLowerCase();if(_105e==="formatblock"){if(has("safari")&&_105d===undefined){_105e="heading";}}else{if(_105e==="hilitecolor"&&!has("mozilla")){_105e="backcolor";}}return _105e;},_qcaCache:{},queryCommandAvailable:function(_105f){var ca=this._qcaCache[_105f];if(ca!==undefined){return ca;}return (this._qcaCache[_105f]=this._queryCommandAvailable(_105f));},_queryCommandAvailable:function(_1060){var ie=1;var _1061=1<<1;var _1062=1<<2;var opera=1<<3;function _1063(_1064){return {ie:Boolean(_1064&ie),mozilla:Boolean(_1064&_1061),webkit:Boolean(_1064&_1062),opera:Boolean(_1064&opera)};};var _1065=null;switch(_1060.toLowerCase()){case "bold":case "italic":case "underline":case "subscript":case "superscript":case "fontname":case "fontsize":case "forecolor":case "hilitecolor":case "justifycenter":case "justifyfull":case "justifyleft":case "justifyright":case "delete":case "selectall":case "toggledir":_1065=_1063(_1061|ie|_1062|opera);break;case "createlink":case "unlink":case "removeformat":case "inserthorizontalrule":case "insertimage":case "insertorderedlist":case "insertunorderedlist":case "indent":case "outdent":case "formatblock":case "inserthtml":case "undo":case "redo":case "strikethrough":case "tabindent":_1065=_1063(_1061|ie|opera|_1062);break;case "blockdirltr":case "blockdirrtl":case "dirltr":case "dirrtl":case "inlinedirltr":case "inlinedirrtl":_1065=_1063(ie);break;case "cut":case "copy":case "paste":_1065=_1063(ie|_1061|_1062|opera);break;case "inserttable":_1065=_1063(_1061|ie);break;case "insertcell":case "insertcol":case "insertrow":case "deletecells":case "deletecols":case "deleterows":case "mergecells":case "splitcell":_1065=_1063(ie|_1061);break;default:return false;}return (has("ie")&&_1065.ie)||(has("mozilla")&&_1065.mozilla)||(has("webkit")&&_1065.webkit)||(has("opera")&&_1065.opera);},execCommand:function(_1066,_1067){var _1068;if(this.focused){this.focus();}_1066=this._normalizeCommand(_1066,_1067);if(_1067!==undefined){if(_1066==="heading"){throw new Error("unimplemented");}else{if((_1066==="formatblock")&&has("ie")){_1067="<"+_1067+">";}}}var _1069="_"+_1066+"Impl";if(this[_1069]){_1068=this[_1069](_1067);}else{_1067=arguments.length>1?_1067:null;if(_1067||_1066!=="createlink"){_1068=this.document.execCommand(_1066,false,_1067);}}this.onDisplayChanged();return _1068;},queryCommandEnabled:function(_106a){if(this.disabled||!this._disabledOK){return false;}_106a=this._normalizeCommand(_106a);var _106b="_"+_106a+"EnabledImpl";if(this[_106b]){return this[_106b](_106a);}else{return this._browserQueryCommandEnabled(_106a);}},queryCommandState:function(_106c){if(this.disabled||!this._disabledOK){return false;}_106c=this._normalizeCommand(_106c);try{return this.document.queryCommandState(_106c);}catch(e){return false;}},queryCommandValue:function(_106d){if(this.disabled||!this._disabledOK){return false;}var r;_106d=this._normalizeCommand(_106d);if(has("ie")&&_106d==="formatblock"){r=this._native2LocalFormatNames[this.document.queryCommandValue(_106d)];}else{if(has("mozilla")&&_106d==="hilitecolor"){var _106e;try{_106e=this.document.queryCommandValue("styleWithCSS");}catch(e){_106e=false;}this.document.execCommand("styleWithCSS",false,true);r=this.document.queryCommandValue(_106d);this.document.execCommand("styleWithCSS",false,_106e);}else{r=this.document.queryCommandValue(_106d);}}return r;},_sCall:function(name,args){return this.selection[name].apply(this.selection,args);},placeCursorAtStart:function(){this.focus();var _106f=false;if(has("mozilla")){var first=this.editNode.firstChild;while(first){if(first.nodeType===3){if(first.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_106f=true;this.selection.selectElement(first);break;}}else{if(first.nodeType===1){_106f=true;var tg=first.tagName?first.tagName.toLowerCase():"";if(/br|input|img|base|meta|area|basefont|hr|link/.test(tg)){this.selection.selectElement(first);}else{this.selection.selectElementChildren(first);}break;}}first=first.nextSibling;}}else{_106f=true;this.selection.selectElementChildren(this.editNode);}if(_106f){this.selection.collapse(true);}},placeCursorAtEnd:function(){this.focus();var _1070=false;if(has("mozilla")){var last=this.editNode.lastChild;while(last){if(last.nodeType===3){if(last.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_1070=true;this.selection.selectElement(last);break;}}else{if(last.nodeType===1){_1070=true;this.selection.selectElement(last.lastChild||last);break;}}last=last.previousSibling;}}else{_1070=true;this.selection.selectElementChildren(this.editNode);}if(_1070){this.selection.collapse(false);}},getValue:function(_1071){if(this.textarea){if(this.isClosed||!this.isLoaded){return this.textarea.value;}}return this._postFilterContent(null,_1071);},_getValueAttr:function(){return this.getValue(true);},setValue:function(html){if(!this.isLoaded){this.onLoadDeferred.then(lang.hitch(this,function(){this.setValue(html);}));return;}this._cursorToStart=true;if(this.textarea&&(this.isClosed||!this.isLoaded)){this.textarea.value=html;}else{html=this._preFilterContent(html);var node=this.isClosed?this.domNode:this.editNode;if(html&&has("mozilla")&&html.toLowerCase()==="<p></p>"){html="<p>&#160;</p>";}if(!html&&has("webkit")){html="&#160;";}node.innerHTML=html;this._preDomFilterContent(node);}this.onDisplayChanged();this._set("value",this.getValue(true));},replaceValue:function(html){if(this.isClosed){this.setValue(html);}else{if(this.window&&this.window.getSelection&&!has("mozilla")){this.setValue(html);}else{if(this.window&&this.window.getSelection){html=this._preFilterContent(html);this.execCommand("selectall");if(!html){this._cursorToStart=true;html="&#160;";}this.execCommand("inserthtml",html);this._preDomFilterContent(this.editNode);}else{if(this.document&&this.document.selection){this.setValue(html);}}}}this._set("value",this.getValue(true));},_preFilterContent:function(html){var ec=html;array.forEach(this.contentPreFilters,function(ef){if(ef){ec=ef(ec);}});return ec;},_preDomFilterContent:function(dom){dom=dom||this.editNode;array.forEach(this.contentDomPreFilters,function(ef){if(ef&&lang.isFunction(ef)){ef(dom);}},this);},_postFilterContent:function(dom,_1072){var ec;if(!lang.isString(dom)){dom=dom||this.editNode;if(this.contentDomPostFilters.length){if(_1072){dom=lang.clone(dom);}array.forEach(this.contentDomPostFilters,function(ef){dom=ef(dom);});}ec=_103d.getChildrenHtml(dom);}else{ec=dom;}if(!lang.trim(ec.replace(/^\xA0\xA0*/,"").replace(/\xA0\xA0*$/,"")).length){ec="";}array.forEach(this.contentPostFilters,function(ef){ec=ef(ec);});return ec;},_saveContent:function(){var _1073=dom.byId(dijit._scopeName+"._editor.RichText.value");if(_1073){if(_1073.value){_1073.value+=this._SEPARATOR;}_1073.value+=this.name+this._NAME_CONTENT_SEP+this.getValue(true);}},escapeXml:function(str,_1074){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_1074){str=str.replace(/'/gm,"&#39;");}return str;},getNodeHtml:function(node){_1034.deprecated("dijit.Editor::getNodeHtml is deprecated","use dijit/_editor/html::getNodeHtml instead",2);return _103d.getNodeHtml(node);},getNodeChildrenHtml:function(dom){_1034.deprecated("dijit.Editor::getNodeChildrenHtml is deprecated","use dijit/_editor/html::getChildrenHtml instead",2);return _103d.getChildrenHtml(dom);},close:function(save){if(this.isClosed){return;}if(!arguments.length){save=true;}if(save){this._set("value",this.getValue(true));}if(this.interval){clearInterval(this.interval);}if(this._webkitListener){this._webkitListener.remove();delete this._webkitListener;}if(has("ie")){this.iframe.onfocus=null;}this.iframe._loadFunc=null;if(this._iframeRegHandle){this._iframeRegHandle.remove();delete this._iframeRegHandle;}if(this.textarea){var s=this.textarea.style;s.position="";s.left=s.top="";if(has("ie")){s.overflow=this.__overflow;this.__overflow=null;}this.textarea.value=this.value;_1031.destroy(this.domNode);this.domNode=this.textarea;}else{this.domNode.innerHTML=this.value;}delete this.iframe;_1030.remove(this.domNode,this.baseClass);this.isClosed=true;this.isLoaded=false;delete this.editNode;delete this.focusNode;if(this.window&&this.window._frameElement){this.window._frameElement=null;}this.window=null;this.document=null;this.editingArea=null;this.editorObject=null;},destroy:function(){if(!this.isClosed){this.close(false);}if(this._updateTimer){this._updateTimer.remove();}this.inherited(arguments);if(_103e._globalSaveHandler){delete _103e._globalSaveHandler[this.id];}},_removeMozBogus:function(html){return html.replace(/\stype="_moz"/gi,"").replace(/\s_moz_dirty=""/gi,"").replace(/_moz_resizing="(true|false)"/gi,"");},_removeWebkitBogus:function(html){html=html.replace(/\sclass="webkit-block-placeholder"/gi,"");html=html.replace(/\sclass="apple-style-span"/gi,"");html=html.replace(/<meta charset=\"utf-8\" \/>/gi,"");return html;},_normalizeFontStyle:function(html){return html.replace(/<(\/)?strong([ \>])/gi,"<$1b$2").replace(/<(\/)?em([ \>])/gi,"<$1i$2");},_preFixUrlAttributes:function(html){return html.replace(/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2").replace(/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");},_browserQueryCommandEnabled:function(_1075){if(!_1075){return false;}var elem=has("ie")<9?this.document.selection.createRange():this.document;try{return elem.queryCommandEnabled(_1075);}catch(e){return false;}},_createlinkEnabledImpl:function(){var _1076=true;if(has("opera")){var sel=this.window.getSelection();if(sel.isCollapsed){_1076=true;}else{_1076=this.document.queryCommandEnabled("createlink");}}else{_1076=this._browserQueryCommandEnabled("createlink");}return _1076;},_unlinkEnabledImpl:function(){var _1077=true;if(has("mozilla")||has("webkit")){_1077=this.selection.hasAncestorElement("a");}else{_1077=this._browserQueryCommandEnabled("unlink");}return _1077;},_inserttableEnabledImpl:function(){var _1078=true;if(has("mozilla")||has("webkit")){_1078=true;}else{_1078=this._browserQueryCommandEnabled("inserttable");}return _1078;},_cutEnabledImpl:function(){var _1079=true;if(has("webkit")){var sel=this.window.getSelection();if(sel){sel=sel.toString();}_1079=!!sel;}else{_1079=this._browserQueryCommandEnabled("cut");}return _1079;},_copyEnabledImpl:function(){var _107a=true;if(has("webkit")){var sel=this.window.getSelection();if(sel){sel=sel.toString();}_107a=!!sel;}else{_107a=this._browserQueryCommandEnabled("copy");}return _107a;},_pasteEnabledImpl:function(){var _107b=true;if(has("webkit")){return true;}else{_107b=this._browserQueryCommandEnabled("paste");}return _107b;},_inserthorizontalruleImpl:function(_107c){if(has("ie")){return this._inserthtmlImpl("<hr>");}return this.document.execCommand("inserthorizontalrule",false,_107c);},_unlinkImpl:function(_107d){if((this.queryCommandEnabled("unlink"))&&(has("mozilla")||has("webkit"))){var a=this.selection.getAncestorElement("a");this.selection.selectElement(a);return this.document.execCommand("unlink",false,null);}return this.document.execCommand("unlink",false,_107d);},_hilitecolorImpl:function(_107e){var _107f;var _1080=this._handleTextColorOrProperties("hilitecolor",_107e);if(!_1080){if(has("mozilla")){this.document.execCommand("styleWithCSS",false,true);_107f=this.document.execCommand("hilitecolor",false,_107e);this.document.execCommand("styleWithCSS",false,false);}else{_107f=this.document.execCommand("hilitecolor",false,_107e);}}return _107f;},_backcolorImpl:function(_1081){if(has("ie")){_1081=_1081?_1081:null;}var _1082=this._handleTextColorOrProperties("backcolor",_1081);if(!_1082){_1082=this.document.execCommand("backcolor",false,_1081);}return _1082;},_forecolorImpl:function(_1083){if(has("ie")){_1083=_1083?_1083:null;}var _1084=false;_1084=this._handleTextColorOrProperties("forecolor",_1083);if(!_1084){_1084=this.document.execCommand("forecolor",false,_1083);}return _1084;},_inserthtmlImpl:function(_1085){_1085=this._preFilterContent(_1085);var rv=true;if(has("ie")){var _1086=this.document.selection.createRange();if(this.document.selection.type.toUpperCase()==="CONTROL"){var n=_1086.item(0);while(_1086.length){_1086.remove(_1086.item(0));}n.outerHTML=_1085;}else{_1086.pasteHTML(_1085);}_1086.select();}else{if(has("mozilla")&&!_1085.length){this.selection.remove();}else{rv=this.document.execCommand("inserthtml",false,_1085);}}return rv;},_boldImpl:function(_1087){var _1088=false;if(has("ie")){this._adaptIESelection();_1088=this._adaptIEFormatAreaAndExec("bold");}if(!_1088){_1088=this.document.execCommand("bold",false,_1087);}return _1088;},_italicImpl:function(_1089){var _108a=false;if(has("ie")){this._adaptIESelection();_108a=this._adaptIEFormatAreaAndExec("italic");}if(!_108a){_108a=this.document.execCommand("italic",false,_1089);}return _108a;},_underlineImpl:function(_108b){var _108c=false;if(has("ie")){this._adaptIESelection();_108c=this._adaptIEFormatAreaAndExec("underline");}if(!_108c){_108c=this.document.execCommand("underline",false,_108b);}return _108c;},_strikethroughImpl:function(_108d){var _108e=false;if(has("ie")){this._adaptIESelection();_108e=this._adaptIEFormatAreaAndExec("strikethrough");}if(!_108e){_108e=this.document.execCommand("strikethrough",false,_108d);}return _108e;},_superscriptImpl:function(_108f){var _1090=false;if(has("ie")){this._adaptIESelection();_1090=this._adaptIEFormatAreaAndExec("superscript");}if(!_1090){_1090=this.document.execCommand("superscript",false,_108f);}return _1090;},_subscriptImpl:function(_1091){var _1092=false;if(has("ie")){this._adaptIESelection();_1092=this._adaptIEFormatAreaAndExec("subscript");}if(!_1092){_1092=this.document.execCommand("subscript",false,_1091);}return _1092;},_fontnameImpl:function(_1093){var _1094;if(has("ie")){_1094=this._handleTextColorOrProperties("fontname",_1093);}if(!_1094){_1094=this.document.execCommand("fontname",false,_1093);}return _1094;},_fontsizeImpl:function(_1095){var _1096;if(has("ie")){_1096=this._handleTextColorOrProperties("fontsize",_1095);}if(!_1096){_1096=this.document.execCommand("fontsize",false,_1095);}return _1096;},_insertorderedlistImpl:function(_1097){var _1098=false;if(has("ie")){_1098=this._adaptIEList("insertorderedlist",_1097);}if(!_1098){_1098=this.document.execCommand("insertorderedlist",false,_1097);}return _1098;},_insertunorderedlistImpl:function(_1099){var _109a=false;if(has("ie")){_109a=this._adaptIEList("insertunorderedlist",_1099);}if(!_109a){_109a=this.document.execCommand("insertunorderedlist",false,_1099);}return _109a;},getHeaderHeight:function(){return this._getNodeChildrenHeight(this.header);},getFooterHeight:function(){return this._getNodeChildrenHeight(this.footer);},_getNodeChildrenHeight:function(node){var h=0;if(node&&node.childNodes){var i;for(i=0;i<node.childNodes.length;i++){var size=_1032.position(node.childNodes[i]);h+=size.h;}}return h;},_isNodeEmpty:function(node,_109b){if(node.nodeType===1){if(node.childNodes.length>0){return this._isNodeEmpty(node.childNodes[0],_109b);}return true;}else{if(node.nodeType===3){return (node.nodeValue.substring(_109b)==="");}}return false;},_removeStartingRangeFromRange:function(node,range){if(node.nextSibling){range.setStart(node.nextSibling,0);}else{var _109c=node.parentNode;while(_109c&&_109c.nextSibling==null){_109c=_109c.parentNode;}if(_109c){range.setStart(_109c.nextSibling,0);}}return range;},_adaptIESelection:function(){var _109d=_103c.getSelection(this.window);if(_109d&&_109d.rangeCount&&!_109d.isCollapsed){var range=_109d.getRangeAt(0);var _109e=range.startContainer;var _109f=range.startOffset;while(_109e.nodeType===3&&_109f>=_109e.length&&_109e.nextSibling){_109f=_109f-_109e.length;_109e=_109e.nextSibling;}var _10a0=null;while(this._isNodeEmpty(_109e,_109f)&&_109e!==_10a0){_10a0=_109e;range=this._removeStartingRangeFromRange(_109e,range);_109e=range.startContainer;_109f=0;}_109d.removeAllRanges();_109d.addRange(range);}},_adaptIEFormatAreaAndExec:function(_10a1){var _10a2=_103c.getSelection(this.window);var doc=this.document;var rs,ret,range,txt,_10a3,_10a4,_10a5,sNode;if(_10a1&&_10a2&&_10a2.isCollapsed){var _10a6=this.queryCommandValue(_10a1);if(_10a6){var _10a7=this._tagNamesForCommand(_10a1);range=_10a2.getRangeAt(0);var fs=range.startContainer;if(fs.nodeType===3){var _10a8=range.endOffset;if(fs.length<_10a8){ret=this._adjustNodeAndOffset(rs,_10a8);fs=ret.node;_10a8=ret.offset;}}var _10a9;while(fs&&fs!==this.editNode){var tName=fs.tagName?fs.tagName.toLowerCase():"";if(array.indexOf(_10a7,tName)>-1){_10a9=fs;break;}fs=fs.parentNode;}if(_10a9){rs=range.startContainer;var _10aa=doc.createElement(_10a9.tagName);_1031.place(_10aa,_10a9,"after");if(rs&&rs.nodeType===3){var _10ab,tNode;var _10ac=range.endOffset;if(rs.length<_10ac){ret=this._adjustNodeAndOffset(rs,_10ac);rs=ret.node;_10ac=ret.offset;}txt=rs.nodeValue;_10a3=doc.createTextNode(txt.substring(0,_10ac));var _10ad=txt.substring(_10ac,txt.length);if(_10ad){_10a4=doc.createTextNode(_10ad);}_1031.place(_10a3,rs,"before");if(_10a4){_10a5=doc.createElement("span");_10a5.className="ieFormatBreakerSpan";_1031.place(_10a5,rs,"after");_1031.place(_10a4,_10a5,"after");_10a4=_10a5;}_1031.destroy(rs);var _10ae=_10a3.parentNode;var _10af=[];var _10b0;while(_10ae!==_10a9){var tg=_10ae.tagName;_10b0={tagName:tg};_10af.push(_10b0);var newTg=doc.createElement(tg);if(_10ae.style){if(newTg.style){if(_10ae.style.cssText){newTg.style.cssText=_10ae.style.cssText;_10b0.cssText=_10ae.style.cssText;}}}if(_10ae.tagName==="FONT"){if(_10ae.color){newTg.color=_10ae.color;_10b0.color=_10ae.color;}if(_10ae.face){newTg.face=_10ae.face;_10b0.face=_10ae.face;}if(_10ae.size){newTg.size=_10ae.size;_10b0.size=_10ae.size;}}if(_10ae.className){newTg.className=_10ae.className;_10b0.className=_10ae.className;}if(_10a4){_10ab=_10a4;while(_10ab){tNode=_10ab.nextSibling;newTg.appendChild(_10ab);_10ab=tNode;}}if(newTg.tagName==_10ae.tagName){_10a5=doc.createElement("span");_10a5.className="ieFormatBreakerSpan";_1031.place(_10a5,_10ae,"after");_1031.place(newTg,_10a5,"after");}else{_1031.place(newTg,_10ae,"after");}_10a3=_10ae;_10a4=newTg;_10ae=_10ae.parentNode;}if(_10a4){_10ab=_10a4;if(_10ab.nodeType===1||(_10ab.nodeType===3&&_10ab.nodeValue)){_10aa.innerHTML="";}while(_10ab){tNode=_10ab.nextSibling;_10aa.appendChild(_10ab);_10ab=tNode;}}var _10b1;if(_10af.length){_10b0=_10af.pop();var _10b2=doc.createElement(_10b0.tagName);if(_10b0.cssText&&_10b2.style){_10b2.style.cssText=_10b0.cssText;}if(_10b0.className){_10b2.className=_10b0.className;}if(_10b0.tagName==="FONT"){if(_10b0.color){_10b2.color=_10b0.color;}if(_10b0.face){_10b2.face=_10b0.face;}if(_10b0.size){_10b2.size=_10b0.size;}}_1031.place(_10b2,_10aa,"before");while(_10af.length){_10b0=_10af.pop();var _10b3=doc.createElement(_10b0.tagName);if(_10b0.cssText&&_10b3.style){_10b3.style.cssText=_10b0.cssText;}if(_10b0.className){_10b3.className=_10b0.className;}if(_10b0.tagName==="FONT"){if(_10b0.color){_10b3.color=_10b0.color;}if(_10b0.face){_10b3.face=_10b0.face;}if(_10b0.size){_10b3.size=_10b0.size;}}_10b2.appendChild(_10b3);_10b2=_10b3;}sNode=doc.createTextNode(".");_10a5.appendChild(sNode);_10b2.appendChild(sNode);_10b1=_103c.create(this.window);_10b1.setStart(sNode,0);_10b1.setEnd(sNode,sNode.length);_10a2.removeAllRanges();_10a2.addRange(_10b1);this.selection.collapse(false);sNode.parentNode.innerHTML="";}else{_10a5=doc.createElement("span");_10a5.className="ieFormatBreakerSpan";sNode=doc.createTextNode(".");_10a5.appendChild(sNode);_1031.place(_10a5,_10aa,"before");_10b1=_103c.create(this.window);_10b1.setStart(sNode,0);_10b1.setEnd(sNode,sNode.length);_10a2.removeAllRanges();_10a2.addRange(_10b1);this.selection.collapse(false);sNode.parentNode.innerHTML="";}if(!_10aa.firstChild){_1031.destroy(_10aa);}return true;}}return false;}else{range=_10a2.getRangeAt(0);rs=range.startContainer;if(rs&&rs.nodeType===3){var _10a8=range.startOffset;if(rs.length<_10a8){ret=this._adjustNodeAndOffset(rs,_10a8);rs=ret.node;_10a8=ret.offset;}txt=rs.nodeValue;_10a3=doc.createTextNode(txt.substring(0,_10a8));var _10ad=txt.substring(_10a8);if(_10ad!==""){_10a4=doc.createTextNode(txt.substring(_10a8));}_10a5=doc.createElement("span");sNode=doc.createTextNode(".");_10a5.appendChild(sNode);if(_10a3.length){_1031.place(_10a3,rs,"after");}else{_10a3=rs;}_1031.place(_10a5,_10a3,"after");if(_10a4){_1031.place(_10a4,_10a5,"after");}_1031.destroy(rs);var _10b1=_103c.create(this.window);_10b1.setStart(sNode,0);_10b1.setEnd(sNode,sNode.length);_10a2.removeAllRanges();_10a2.addRange(_10b1);doc.execCommand(_10a1);_1031.place(_10a5.firstChild,_10a5,"before");_1031.destroy(_10a5);_10b1.setStart(sNode,0);_10b1.setEnd(sNode,sNode.length);_10a2.removeAllRanges();_10a2.addRange(_10b1);this.selection.collapse(false);sNode.parentNode.innerHTML="";return true;}}}else{return false;}},_adaptIEList:function(_10b4){var _10b5=_103c.getSelection(this.window);if(_10b5.isCollapsed){if(_10b5.rangeCount&&!this.queryCommandValue(_10b4)){var range=_10b5.getRangeAt(0);var sc=range.startContainer;if(sc&&sc.nodeType==3){if(!range.startOffset){var lType="ul";if(_10b4==="insertorderedlist"){lType="ol";}var list=this.document.createElement(lType);var li=_1031.create("li",null,list);_1031.place(list,sc,"before");li.appendChild(sc);_1031.create("br",null,list,"after");var _10b6=_103c.create(this.window);_10b6.setStart(sc,0);_10b6.setEnd(sc,sc.length);_10b5.removeAllRanges();_10b5.addRange(_10b6);this.selection.collapse(true);return true;}}}}return false;},_handleTextColorOrProperties:function(_10b7,_10b8){var _10b9=_103c.getSelection(this.window);var doc=this.document;var rs,ret,range,txt,_10ba,_10bb,_10bc,sNode;_10b8=_10b8||null;if(_10b7&&_10b9&&_10b9.isCollapsed){if(_10b9.rangeCount){range=_10b9.getRangeAt(0);rs=range.startContainer;if(rs&&rs.nodeType===3){var _10bd=range.startOffset;if(rs.length<_10bd){ret=this._adjustNodeAndOffset(rs,_10bd);rs=ret.node;_10bd=ret.offset;}txt=rs.nodeValue;_10ba=doc.createTextNode(txt.substring(0,_10bd));var _10be=txt.substring(_10bd);if(_10be!==""){_10bb=doc.createTextNode(txt.substring(_10bd));}_10bc=doc.createElement("span");sNode=doc.createTextNode(".");_10bc.appendChild(sNode);var _10bf=doc.createElement("span");_10bc.appendChild(_10bf);if(_10ba.length){_1031.place(_10ba,rs,"after");}else{_10ba=rs;}_1031.place(_10bc,_10ba,"after");if(_10bb){_1031.place(_10bb,_10bc,"after");}_1031.destroy(rs);var _10c0=_103c.create(this.window);_10c0.setStart(sNode,0);_10c0.setEnd(sNode,sNode.length);_10b9.removeAllRanges();_10b9.addRange(_10c0);if(has("webkit")){var style="color";if(_10b7==="hilitecolor"||_10b7==="backcolor"){style="backgroundColor";}_1033.set(_10bc,style,_10b8);this.selection.remove();_1031.destroy(_10bf);_10bc.innerHTML="&#160;";this.selection.selectElement(_10bc);this.focus();}else{this.execCommand(_10b7,_10b8);_1031.place(_10bc.firstChild,_10bc,"before");_1031.destroy(_10bc);_10c0.setStart(sNode,0);_10c0.setEnd(sNode,sNode.length);_10b9.removeAllRanges();_10b9.addRange(_10c0);this.selection.collapse(false);sNode.parentNode.removeChild(sNode);}return true;}}}return false;},_adjustNodeAndOffset:function(node,_10c1){while(node.length<_10c1&&node.nextSibling&&node.nextSibling.nodeType===3){_10c1=_10c1-node.length;node=node.nextSibling;}return {"node":node,"offset":_10c1};},_tagNamesForCommand:function(_10c2){if(_10c2==="bold"){return ["b","strong"];}else{if(_10c2==="italic"){return ["i","em"];}else{if(_10c2==="strikethrough"){return ["s","strike"];}else{if(_10c2==="superscript"){return ["sup"];}else{if(_10c2==="subscript"){return ["sub"];}else{if(_10c2==="underline"){return ["u"];}}}}}}return [];},_stripBreakerNodes:function(node){if(!this.isLoaded){return;}query(".ieFormatBreakerSpan",node).forEach(function(b){while(b.firstChild){_1031.place(b.firstChild,b,"before");}_1031.destroy(b);});return node;}});return _103e;});},"dijit/selection":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","dijit/focus"],function(array,dom,lang,has,_10c3,focus){var _10c4=function(win){var doc=win.document;this.getType=function(){if(doc.getSelection){var stype="text";var oSel;try{oSel=win.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _10c5=oSel.getRangeAt(0);if((_10c5.startContainer==_10c5.endContainer)&&((_10c5.endOffset-_10c5.startOffset)==1)&&(_10c5.startContainer.nodeType!=3)){stype="control";}}return stype;}else{return doc.selection.type.toLowerCase();}};this.getSelectedText=function(){if(doc.getSelection){var _10c6=win.getSelection();return _10c6?_10c6.toString():"";}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().text;}};this.getSelectedHtml=function(){if(doc.getSelection){var _10c7=win.getSelection();if(_10c7&&_10c7.rangeCount){var i;var html="";for(i=0;i<_10c7.rangeCount;i++){var frag=_10c7.getRangeAt(i).cloneContents();var div=doc.createElement("div");div.appendChild(frag);html+=div.innerHTML;}return html;}return null;}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().htmlText;}};this.getSelectedElement=function(){if(this.getType()=="control"){if(doc.getSelection){var _10c8=win.getSelection();return _10c8.anchorNode.childNodes[_10c8.anchorOffset];}else{var range=doc.selection.createRange();if(range&&range.item){return doc.selection.createRange().item(0);}}}return null;};this.getParentElement=function(){if(this.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(doc.getSelection){var _10c9=doc.getSelection();if(_10c9){var node=_10c9.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}else{var r=doc.selection.createRange();r.collapse(true);return r.parentElement();}}return null;};this.hasAncestorElement=function(_10ca){return this.getAncestorElement.apply(this,arguments)!=null;};this.getAncestorElement=function(_10cb){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);};this.isTag=function(node,tags){if(node&&node.tagName){var _10cc=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _10cd=String(tags[i]).toLowerCase();if(_10cc==_10cd){return _10cd;}}}return "";};this.getParentOfType=function(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;};this.collapse=function(_10ce){if(doc.getSelection){var _10cf=win.getSelection();if(_10cf.removeAllRanges){if(_10ce){_10cf.collapseToStart();}else{_10cf.collapseToEnd();}}else{_10cf.collapse(_10ce);}}else{var range=doc.selection.createRange();range.collapse(_10ce);range.select();}};this.remove=function(){var sel=doc.selection;if(doc.getSelection){sel=win.getSelection();sel.deleteFromDocument();return sel;}else{if(sel.type.toLowerCase()!="none"){sel.clear();}return sel;}};this.selectElementChildren=function(_10d0,_10d1){var range;_10d0=dom.byId(_10d0);if(doc.getSelection){var _10d2=win.getSelection();if(has("opera")){if(_10d2.rangeCount){range=_10d2.getRangeAt(0);}else{range=doc.createRange();}range.setStart(_10d0,0);range.setEnd(_10d0,(_10d0.nodeType==3)?_10d0.length:_10d0.childNodes.length);_10d2.addRange(range);}else{_10d2.selectAllChildren(_10d0);}}else{range=_10d0.ownerDocument.body.createTextRange();range.moveToElementText(_10d0);if(!_10d1){try{range.select();}catch(e){}}}};this.selectElement=function(_10d3,_10d4){var range;_10d3=dom.byId(_10d3);if(doc.getSelection){var _10d5=doc.getSelection();range=doc.createRange();if(_10d5.removeAllRanges){if(has("opera")){if(_10d5.getRangeAt(0)){range=_10d5.getRangeAt(0);}}range.selectNode(_10d3);_10d5.removeAllRanges();_10d5.addRange(range);}}else{try{var tg=_10d3.tagName?_10d3.tagName.toLowerCase():"";if(tg==="img"||tg==="table"){range=_10c3.body(doc).createControlRange();}else{range=_10c3.body(doc).createRange();}range.addElement(_10d3);if(!_10d4){range.select();}}catch(e){this.selectElementChildren(_10d3,_10d4);}}};this.inSelection=function(node){if(node){var _10d6;var range;if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.rangeCount>0){range=sel.getRangeAt(0);}if(range&&range.compareBoundaryPoints&&doc.createRange){try{_10d6=doc.createRange();_10d6.setStart(node,0);if(range.compareBoundaryPoints(range.START_TO_END,_10d6)===1){return true;}}catch(e){}}}else{range=doc.selection.createRange();try{_10d6=node.ownerDocument.body.createTextRange();_10d6.moveToElementText(node);}catch(e2){}if(range&&_10d6){if(range.compareEndPoints("EndToStart",_10d6)===1){return true;}}}}return false;};this.getBookmark=function(){var bm,rg,tg,sel=doc.selection,cf=focus.curNode;if(doc.getSelection){sel=win.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;};this.moveToBookmark=function(_10d7){var mark=_10d7.mark;if(mark){if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(doc.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=doc.body.createControlRange();array.forEach(mark,function(n){rg.addElement(n);});}else{rg=doc.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}};this.isCollapsed=function(){return this.getBookmark().isCollapsed;};};var _10d8=new _10c4(window);_10d8.SelectionManager=_10c4;return _10d8;});},"dijit/_editor/range":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(array,_10d9,lang){var _10da={getIndex:function(node,_10db){var ret=[],retR=[];var onode=node;var pnode,n;while(node!=_10db){var i=0;pnode=node.parentNode;while((n=pnode.childNodes[i++])){if(n===node){--i;break;}}ret.unshift(i);retR.unshift(i-pnode.childNodes.length);node=pnode;}if(ret.length>0&&onode.nodeType==3){n=onode.previousSibling;while(n&&n.nodeType==3){ret[ret.length-1]--;n=n.previousSibling;}n=onode.nextSibling;while(n&&n.nodeType==3){retR[retR.length-1]++;n=n.nextSibling;}}return {o:ret,r:retR};},getNode:function(index,_10dc){if(!lang.isArray(index)||index.length==0){return _10dc;}var node=_10dc;array.every(index,function(i){if(i>=0&&i<node.childNodes.length){node=node.childNodes[i];}else{node=null;return false;}return true;});return node;},getCommonAncestor:function(n1,n2,root){root=root||n1.ownerDocument.body;var _10dd=function(n){var as=[];while(n){as.unshift(n);if(n!==root){n=n.parentNode;}else{break;}}return as;};var n1as=_10dd(n1);var n2as=_10dd(n2);var m=Math.min(n1as.length,n2as.length);var com=n1as[0];for(var i=1;i<m;i++){if(n1as[i]===n2as[i]){com=n1as[i];}else{break;}}return com;},getAncestor:function(node,regex,root){root=root||node.ownerDocument.body;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(regex.test(name)){return node;}node=node.parentNode;}return null;},BlockTagNames:/^(?:P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DT|DE)$/,getBlockAncestor:function(node,regex,root){root=root||node.ownerDocument.body;regex=regex||_10da.BlockTagNames;var block=null,_10de;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(!block&&regex.test(name)){block=node;}if(!_10de&&(/^(?:BODY|TD|TH|CAPTION)$/).test(name)){_10de=node;}node=node.parentNode;}return {blockNode:block,blockContainer:_10de||node.ownerDocument.body};},atBeginningOfContainer:function(_10df,node,_10e0){var _10e1=false;var _10e2=(_10e0==0);if(!_10e2&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(0,_10e0))){_10e2=true;}}if(_10e2){var cnode=node;_10e1=true;while(cnode&&cnode!==_10df){if(cnode.previousSibling){_10e1=false;break;}cnode=cnode.parentNode;}}return _10e1;},atEndOfContainer:function(_10e3,node,_10e4){var atEnd=false;var _10e5=(_10e4==(node.length||node.childNodes.length));if(!_10e5&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(_10e4))){_10e5=true;}}if(_10e5){var cnode=node;atEnd=true;while(cnode&&cnode!==_10e3){if(cnode.nextSibling){atEnd=false;break;}cnode=cnode.parentNode;}}return atEnd;},adjacentNoneTextNode:function(_10e6,next){var node=_10e6;var len=(0-_10e6.length)||0;var prop=next?"nextSibling":"previousSibling";while(node){if(node.nodeType!=3){break;}len+=node.length;node=node[prop];}return [node,len];},create:function(win){win=win||window;if(win.getSelection){return win.document.createRange();}else{return new _10e7();}},getSelection:function(_10e8,_10e9){if(_10e8.getSelection){return _10e8.getSelection();}else{var s=new ie.selection(_10e8);if(!_10e9){s._getCurrentSelection();}return s;}}};if(!window.getSelection){var ie=_10da.ie={cachedSelection:{},selection:function(_10ea){this._ranges=[];this.addRange=function(r,_10eb){this._ranges.push(r);if(!_10eb){r._select();}this.rangeCount=this._ranges.length;};this.removeAllRanges=function(){this._ranges=[];this.rangeCount=0;};var _10ec=function(){var r=_10ea.document.selection.createRange();var type=_10ea.document.selection.type.toUpperCase();if(type=="CONTROL"){return new _10e7(ie.decomposeControlRange(r));}else{return new _10e7(ie.decomposeTextRange(r));}};this.getRangeAt=function(i){return this._ranges[i];};this._getCurrentSelection=function(){this.removeAllRanges();var r=_10ec();if(r){this.addRange(r,true);this.isCollapsed=r.collapsed;}else{this.isCollapsed=true;}};},decomposeControlRange:function(range){var _10ed=range.item(0),_10ee=range.item(range.length-1);var _10ef=_10ed.parentNode,_10f0=_10ee.parentNode;var _10f1=_10da.getIndex(_10ed,_10ef).o[0];var _10f2=_10da.getIndex(_10ee,_10f0).o[0]+1;return [_10ef,_10f1,_10f0,_10f2];},getEndPoint:function(range,end){var _10f3=range.duplicate();_10f3.collapse(!end);var _10f4="EndTo"+(end?"End":"Start");var _10f5=_10f3.parentElement();var _10f6,_10f7,_10f8;if(_10f5.childNodes.length>0){array.every(_10f5.childNodes,function(node,i){var _10f9;if(node.nodeType!=3){_10f3.moveToElementText(node);if(_10f3.compareEndPoints(_10f4,range)>0){if(_10f8&&_10f8.nodeType==3){_10f6=_10f8;_10f9=true;}else{_10f6=_10f5;_10f7=i;return false;}}else{if(i==_10f5.childNodes.length-1){_10f6=_10f5;_10f7=_10f5.childNodes.length;return false;}}}else{if(i==_10f5.childNodes.length-1){_10f6=node;_10f9=true;}}if(_10f9&&_10f6){var _10fa=_10da.adjacentNoneTextNode(_10f6)[0];if(_10fa){_10f6=_10fa.nextSibling;}else{_10f6=_10f5.firstChild;}var _10fb=_10da.adjacentNoneTextNode(_10f6);_10fa=_10fb[0];var _10fc=_10fb[1];if(_10fa){_10f3.moveToElementText(_10fa);_10f3.collapse(false);}else{_10f3.moveToElementText(_10f5);}_10f3.setEndPoint(_10f4,range);_10f7=_10f3.text.length-_10fc;return false;}_10f8=node;return true;});}else{_10f6=_10f5;_10f7=0;}if(!end&&_10f6.nodeType==1&&_10f7==_10f6.childNodes.length){var _10fd=_10f6.nextSibling;if(_10fd&&_10fd.nodeType==3){_10f6=_10fd;_10f7=0;}}return [_10f6,_10f7];},setEndPoint:function(range,_10fe,_10ff){var _1100=range.duplicate(),node,len;if(_10fe.nodeType!=3){if(_10ff>0){node=_10fe.childNodes[_10ff-1];if(node){if(node.nodeType==3){_10fe=node;_10ff=node.length;}else{if(node.nextSibling&&node.nextSibling.nodeType==3){_10fe=node.nextSibling;_10ff=0;}else{_1100.moveToElementText(node.nextSibling?node:_10fe);var _1101=node.parentNode;var _1102=_1101.insertBefore(node.ownerDocument.createTextNode(" "),node.nextSibling);_1100.collapse(false);_1101.removeChild(_1102);}}}}else{_1100.moveToElementText(_10fe);_1100.collapse(true);}}if(_10fe.nodeType==3){var _1103=_10da.adjacentNoneTextNode(_10fe);var _1104=_1103[0];len=_1103[1];if(_1104){_1100.moveToElementText(_1104);_1100.collapse(false);if(_1104.contentEditable!="inherit"){len++;}}else{_1100.moveToElementText(_10fe.parentNode);_1100.collapse(true);_1100.move("character",1);_1100.move("character",-1);}_10ff+=len;if(_10ff>0){if(_1100.move("character",_10ff)!=_10ff){console.error("Error when moving!");}}}return _1100;},decomposeTextRange:function(range){var _1105=ie.getEndPoint(range);var _1106=_1105[0],_1107=_1105[1];var _1108=_1105[0],_1109=_1105[1];if(range.htmlText.length){if(range.htmlText==range.text){_1109=_1107+range.text.length;}else{_1105=ie.getEndPoint(range,true);_1108=_1105[0],_1109=_1105[1];}}return [_1106,_1107,_1108,_1109];},setRange:function(range,_110a,_110b,_110c,_110d,_110e){var start=ie.setEndPoint(range,_110a,_110b);range.setEndPoint("StartToStart",start);if(!_110e){var end=ie.setEndPoint(range,_110c,_110d);}range.setEndPoint("EndToEnd",end||start);return range;}};var _10e7=_10da.W3CRange=_10d9(null,{constructor:function(){if(arguments.length>0){this.setStart(arguments[0][0],arguments[0][1]);this.setEnd(arguments[0][2],arguments[0][3]);}else{this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}},_updateInternal:function(){if(this.startContainer!==this.endContainer){this.commonAncestorContainer=_10da.getCommonAncestor(this.startContainer,this.endContainer);}else{this.commonAncestorContainer=this.startContainer;}this.collapsed=(this.startContainer===this.endContainer)&&(this.startOffset==this.endOffset);},setStart:function(node,_110f){_110f=parseInt(_110f);if(this.startContainer===node&&this.startOffset==_110f){return;}delete this._cachedBookmark;this.startContainer=node;this.startOffset=_110f;if(!this.endContainer){this.setEnd(node,_110f);}else{this._updateInternal();}},setEnd:function(node,_1110){_1110=parseInt(_1110);if(this.endContainer===node&&this.endOffset==_1110){return;}delete this._cachedBookmark;this.endContainer=node;this.endOffset=_1110;if(!this.startContainer){this.setStart(node,_1110);}else{this._updateInternal();}},setStartAfter:function(node,_1111){this._setPoint("setStart",node,_1111,1);},setStartBefore:function(node,_1112){this._setPoint("setStart",node,_1112,0);},setEndAfter:function(node,_1113){this._setPoint("setEnd",node,_1113,1);},setEndBefore:function(node,_1114){this._setPoint("setEnd",node,_1114,0);},_setPoint:function(what,node,_1115,ext){var index=_10da.getIndex(node,node.parentNode).o;this[what](node.parentNode,index.pop()+ext);},_getIERange:function(){var r=(this._body||this.endContainer.ownerDocument.body).createTextRange();ie.setRange(r,this.startContainer,this.startOffset,this.endContainer,this.endOffset,this.collapsed);return r;},getBookmark:function(){this._getIERange();return this._cachedBookmark;},_select:function(){var r=this._getIERange();r.select();},deleteContents:function(){var s=this.startContainer,r=this._getIERange();if(s.nodeType===3&&!this.startOffset){this.setStartBefore(s);}r.pasteHTML("");this.endContainer=this.startContainer;this.endOffset=this.startOffset;this.collapsed=true;},cloneRange:function(){var r=new _10e7([this.startContainer,this.startOffset,this.endContainer,this.endOffset]);r._body=this._body;return r;},detach:function(){this._body=null;this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}});}lang.setObject("dijit.range",_10da);return _10da;});},"dijit/_editor/html":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/sniff"],function(array,lang,has){var _1116={};lang.setObject("dijit._editor.html",_1116);var _1117=_1116.escapeXml=function(str,_1118){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_1118){str=str.replace(/'/gm,"&#39;");}return str;};_1116.getNodeHtml=function(node){var _1119=[];_1116.getNodeHtmlHelper(node,_1119);return _1119.join("");};_1116.getNodeHtmlHelper=function(node,_111a){switch(node.nodeType){case 1:var lName=node.nodeName.toLowerCase();if(!lName||lName.charAt(0)=="/"){return "";}_111a.push("<",lName);var _111b=[],_111c={};var attr;if(has("dom-attributes-explicit")||has("dom-attributes-specified-flag")){var i=0;while((attr=node.attributes[i++])){var n=attr.name;if(n.substr(0,3)!=="_dj"&&(!has("dom-attributes-specified-flag")||attr.specified)&&!(n in _111c)){var v=attr.value;if(n=="src"||n=="href"){if(node.getAttribute("_djrealurl")){v=node.getAttribute("_djrealurl");}}if(has("ie")===8&&n==="style"){v=v.replace("HEIGHT:","height:").replace("WIDTH:","width:");}_111b.push([n,v]);_111c[n]=v;}}}else{var clone=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false);var s=clone.outerHTML;var _111d=/[\w-]+=("[^"]*"|'[^']*'|\S*)/gi;var _111e=s.match(_111d);s=s.substr(0,s.indexOf(">"));array.forEach(_111e,function(attr){if(attr){var idx=attr.indexOf("=");if(idx>0){var key=attr.substring(0,idx);if(key.substr(0,3)!="_dj"){if(key=="src"||key=="href"){if(node.getAttribute("_djrealurl")){_111b.push([key,node.getAttribute("_djrealurl")]);return;}}var val,match;switch(key){case "style":val=node.style.cssText.toLowerCase();break;case "class":val=node.className;break;case "width":if(lName==="img"){match=/width=(\S+)/i.exec(s);if(match){val=match[1];}break;}case "height":if(lName==="img"){match=/height=(\S+)/i.exec(s);if(match){val=match[1];}break;}default:val=node.getAttribute(key);}if(val!=null){_111b.push([key,val.toString()]);}}}}},this);}_111b.sort(function(a,b){return a[0]<b[0]?-1:(a[0]==b[0]?0:1);});var j=0;while((attr=_111b[j++])){_111a.push(" ",attr[0],"=\"",(typeof attr[1]==="string"?_1117(attr[1],true):attr[1]),"\"");}switch(lName){case "br":case "hr":case "img":case "input":case "base":case "meta":case "area":case "basefont":_111a.push(" />");break;case "script":_111a.push(">",node.innerHTML,"</",lName,">");break;default:_111a.push(">");if(node.hasChildNodes()){_1116.getChildrenHtmlHelper(node,_111a);}_111a.push("</",lName,">");}break;case 4:case 3:_111a.push(_1117(node.nodeValue,true));break;case 8:_111a.push("<!--",_1117(node.nodeValue,true),"-->");break;default:_111a.push("<!-- Element not recognized - Type: ",node.nodeType," Name: ",node.nodeName,"-->");}};_1116.getChildrenHtml=function(node){var _111f=[];_1116.getChildrenHtmlHelper(node,_111f);return _111f.join("");};_1116.getChildrenHtmlHelper=function(dom,_1120){if(!dom){return;}var nodes=dom["childNodes"]||dom;var _1121=!has("ie")||nodes!==dom;var node,i=0;while((node=nodes[i++])){if(!_1121||node.parentNode==dom){_1116.getNodeHtmlHelper(node,_1120);}}};return _1116;});},"dojox/grid/enhanced/plugins/filter/FilterStatusTip":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/query","dojo/string","dojo/date/locale","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/TooltipDialog","dijit/form/Button","dijit/_base/popup","dojo/text!../../templates/FilterStatusPane.html","dojo/i18n!../../nls/Filter"],function(_1122,array,lang,query,_1123,_1124,_1125,_1126,_1127,_1128,_1129,popup,_112a){var _112b="",_112c="",_112d="",_112e="",_112f="dojoxGridFStatusTipOddRow",_1130="dojoxGridFStatusTipHandle",_1131="dojoxGridFStatusTipCondition",_1132="dojoxGridFStatusTipDelRuleBtnIcon",_1133="</tbody></table>";var _1134=_1122("dojox.grid.enhanced.plugins.filter.FilterStatusPane",[_1125,_1126],{templateString:_112a});return _1122("dojox.grid.enhanced.plugins.filter.FilterStatusTip",null,{constructor:function(args){var _1135=this.plugin=args.plugin;this._statusHeader=["<table border='0' cellspacing='0' class='",_112b,"'><thead><tr class='",_112c,"'><th class='",_112d,"'><div>",_1135.nls["statusTipHeaderColumn"],"</div></th><th class='",_112d," lastColumn'><div>",_1135.nls["statusTipHeaderCondition"],"</div></th></tr></thead><tbody>"].join("");this._removedCriterias=[];this._rules=[];this.statusPane=new _1134();this._dlg=new _1128({"class":"dijitTooltipBelow dojoxGridFStatusTipDialog",content:this.statusPane,autofocus:false});this._dlg.connect(this._dlg.domNode,"onmouseleave",lang.hitch(this,this.closeDialog));this._dlg.connect(this._dlg.domNode,"click",lang.hitch(this,this._modifyFilter));},destroy:function(){this._dlg.destroyRecursive();},showDialog:function(pos_x,pos_y,_1136){this._pos={x:pos_x,y:pos_y};popup.close(this._dlg);this._removedCriterias=[];this._rules=[];this._updateStatus(_1136);popup.open({popup:this._dlg,parent:this.plugin.filterBar,onCancel:function(){},x:pos_x-12,y:pos_y-3});},closeDialog:function(){popup.close(this._dlg);if(this._removedCriterias.length){this.plugin.filterDefDialog.removeCriteriaBoxes(this._removedCriterias);this._removedCriterias=[];this.plugin.filterDefDialog.onFilter();}},_updateStatus:function(_1137){var res,p=this.plugin,nls=p.nls,sp=this.statusPane,fdg=p.filterDefDialog;if(fdg.getCriteria()===0){sp.statusTitle.innerHTML=nls["statusTipTitleNoFilter"];sp.statusRel.innerHTML="";var cell=p.grid.layout.cells[_1137];var _1138=cell?"'"+(cell.name||cell.field)+"'":nls["anycolumn"];res=_1123.substitute(nls["statusTipMsg"],[_1138]);}else{sp.statusTitle.innerHTML=nls["statusTipTitleHasFilter"];sp.statusRel.innerHTML=fdg._relOpCls=="logicall"?nls["statusTipRelAll"]:nls["statusTipRelAny"];this._rules=[];var i=0,c=fdg.getCriteria(i++);while(c){c.index=i-1;this._rules.push(c);c=fdg.getCriteria(i++);}res=this._createStatusDetail();}sp.statusDetailNode.innerHTML=res;this._addButtonForRules();},_createStatusDetail:function(){return this._statusHeader+array.map(this._rules,function(rule,i){return this._getCriteriaStr(rule,i);},this).join("")+_1133;},_addButtonForRules:function(){if(this._rules.length>1){query("."+_1130,this.statusPane.statusDetailNode).forEach(lang.hitch(this,function(nd,idx){(new _1129({label:this.plugin.nls["removeRuleButton"],showLabel:false,iconClass:_1132,onClick:lang.hitch(this,function(e){e.stopPropagation();this._removedCriterias.push(this._rules[idx].index);this._rules.splice(idx,1);this.statusPane.statusDetailNode.innerHTML=this._createStatusDetail();this._addButtonForRules();})})).placeAt(nd,"last");}));}},_getCriteriaStr:function(c,_1139){var res=["<tr class='",_112e," ",(_1139%2?_112f:""),"'><td class='",_112d,"'>",c.colTxt,"</td><td class='",_112d,"'><div class='",_1130,"'><span class='",_1131,"'>",c.condTxt,"&nbsp;</span>",c.formattedVal,"</div></td></tr>"];return res.join("");},_modifyFilter:function(){this.closeDialog();var p=this.plugin;p.filterDefDialog.showDialog(p.filterBar.getColumnIdx(this._pos.x));}});});},"dijit/TooltipDialog":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","./main"],function(_113a,_113b,has,keys,lang,on,focus,_113c,_113d,_113e,_113f,_1140,dijit){var _1141=_113a("dijit.TooltipDialog",[_113c,_113f,_113e,_113d],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:_1140,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(on(this.containerNode,"keydown",lang.hitch(this,"_onKey")));},orient:function(node,_1142,_1143){var newC={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[_1142+"-"+_1143];_113b.replace(this.domNode,newC,this._currentOrientClass||"");this._currentOrientClass=newC;},focus:function(){this._getFocusItems(this.containerNode);focus.focus(this._firstFocusItem);},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);var _1144=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_1144.y+((_1144.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_1144.x+((_1144.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}}this._onShow();},onClose:function(){this.onHide();},_onKey:function(evt){if(evt.keyCode==keys.ESCAPE){this.defer("onCancel");evt.stopPropagation();evt.preventDefault();}else{if(evt.keyCode==keys.TAB){var node=evt.target;this._getFocusItems(this.containerNode);if(this._firstFocusItem==this._lastFocusItem){evt.stopPropagation();evt.preventDefault();}else{if(node==this._firstFocusItem&&evt.shiftKey){focus.focus(this._lastFocusItem);evt.stopPropagation();evt.preventDefault();}else{if(node==this._lastFocusItem&&!evt.shiftKey){focus.focus(this._firstFocusItem);evt.stopPropagation();evt.preventDefault();}else{evt.stopPropagation();}}}}}}});if(has("dojo-bidi")){_1141.extend({_setTitleAttr:function(title){this.containerNode.title=(this.textDir&&this.enforceTextDirWithUcc)?this.enforceTextDirWithUcc(null,title):title;this._set("title",title);},_setTextDirAttr:function(_1145){if(!this._created||this.textDir!=_1145){this._set("textDir",_1145);if(this.textDir&&this.title){this.containerNode.title=this.enforceTextDirWithUcc(null,this.title);}}}});}return _1141;});},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(_1146,win,popup){var _1147=popup._createWrapper;popup._createWrapper=function(_1148){if(!_1148.declaredClass){_1148={_popupWrapper:(_1148.parentNode&&_1146.contains(_1148.parentNode,"dijitPopup"))?_1148.parentNode:null,domNode:_1148,destroy:function(){},ownerDocument:_1148.ownerDocument,ownerDocumentBody:win.body(_1148.ownerDocument)};}return _1147.call(this,_1148);};var _1149=popup.open;popup.open=function(args){if(args.orient&&typeof args.orient!="string"&&!("length" in args.orient)){var ary=[];for(var key in args.orient){ary.push({aroundCorner:key,corner:args.orient[key]});}args.orient=ary;}return _1149.call(this,args);};return popup;});},"dojox/grid/enhanced/plugins/filter/ClearFilterConfirm":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/text!../../templates/ClearFilterConfirmPane.html"],function(_114a,_114b,_114c,_114d,_114e){return _114a("dojox.grid.enhanced.plugins.filter.ClearFilterConfirm",[_114b,_114c,_114d],{templateString:_114e,widgetsInTemplate:true,plugin:null,postMixInProperties:function(){var nls=this.plugin.nls;this._clearBtnLabel=nls["clearButton"];this._cancelBtnLabel=nls["cancelButton"];this._clearFilterMsg=nls["clearFilterMsg"];},postCreate:function(){this.inherited(arguments);this.cancelBtn.domNode.setAttribute("aria-label",this.plugin.nls["waiCancelButton"]);this.clearBtn.domNode.setAttribute("aria-label",this.plugin.nls["waiClearButton"]);},uninitialize:function(){this.plugin=null;},_onCancel:function(){this.plugin.clearFilterDialog.hide();},_onClear:function(){this.plugin.clearFilterDialog.hide();this.plugin.filterDefDialog.clearFilter(this.plugin.filterDefDialog._clearWithoutRefresh);}});});},"dojox/grid/enhanced/plugins/exporter/CSVWriter":function(){define(["dojo/_base/declare","dojo/_base/array","./_ExportWriter","../Exporter"],function(_114f,array,_1150,_1151){_1151.registerWriter("csv","dojox.grid.enhanced.plugins.exporter.CSVWriter");return _114f("dojox.grid.enhanced.plugins.exporter.CSVWriter",_1150,{_separator:",",_newline:"\r\n",constructor:function(_1152){if(_1152){this._separator=_1152.separator?_1152.separator:this._separator;this._newline=_1152.newline?_1152.newline:this._newline;}this._headers=[];this._dataRows=[];},_formatCSVCell:function(_1153){if(_1153===null||_1153===undefined){return "";}var _1154=String(_1153).replace(/"/g,"\"\"");if(_1154.indexOf(this._separator)>=0||_1154.search(/[" \t\r\n]/)>=0){_1154="\""+_1154+"\"";}return _1154;},beforeContentRow:function(_1155){var row=[],func=this._formatCSVCell;array.forEach(_1155.grid.layout.cells,function(cell){if(!cell.hidden&&array.indexOf(_1155.spCols,cell.index)<0){row.push(func(this._getExportDataForCell(_1155.rowIndex,_1155.row,cell,_1155.grid)));}},this);this._dataRows.push(row);return false;},handleCell:function(_1156){var cell=_1156.cell;if(_1156.isHeader&&!cell.hidden&&array.indexOf(_1156.spCols,cell.index)<0){this._headers.push(cell.name||cell.field);}},toString:function(){var _1157=this._headers.join(this._separator);for(var i=this._dataRows.length-1;i>=0;--i){this._dataRows[i]=this._dataRows[i].join(this._separator);}return _1157+this._newline+this._dataRows.join(this._newline);}});});},"dojox/grid/enhanced/plugins/exporter/_ExportWriter":function(){define(["dojo/_base/declare"],function(_1158){return _1158("dojox.grid.enhanced.plugins.exporter._ExportWriter",null,{constructor:function(_1159){},_getExportDataForCell:function(_115a,_115b,cell,grid){var data=(cell.get||grid.get).call(cell,_115a,_115b);if(this.formatter){return this.formatter(data,cell,_115a,_115b);}else{return data;}},beforeHeader:function(grid){return true;},afterHeader:function(){},beforeContent:function(items){return true;},afterContent:function(){},beforeContentRow:function(_115c){return true;},afterContentRow:function(_115d){},beforeView:function(_115e){return true;},afterView:function(_115f){},beforeSubrow:function(_1160){return true;},afterSubrow:function(_1161){},handleCell:function(_1162){},toString:function(){return "";}});});},"dojox/grid/enhanced/plugins/Exporter":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","../_Plugin","../../_RowSelector","../../EnhancedGrid","../../cells/_base"],function(_1163,array,lang,_1164,_1165,_1166){var _1167=lang.getObject("dojox.grid.cells");var _1168=_1163("dojox.grid.enhanced.plugins.Exporter",_1164,{name:"exporter",constructor:function(grid,args){this.grid=grid;this.formatter=(args&&lang.isObject(args))&&args.exportFormatter;this._mixinGrid();},_mixinGrid:function(){var g=this.grid;g.exportTo=lang.hitch(this,this.exportTo);g.exportGrid=lang.hitch(this,this.exportGrid);g.exportSelected=lang.hitch(this,this.exportSelected);g.setExportFormatter=lang.hitch(this,this.setExportFormatter);},setExportFormatter:function(_1169){this.formatter=_1169;},exportGrid:function(type,args,_116a){if(lang.isFunction(args)){_116a=args;args={};}if(!lang.isString(type)||!lang.isFunction(_116a)){return;}args=args||{};var g=this.grid,_116b=this,_116c=this._getExportWriter(type,args.writerArgs),_116d=(args.fetchArgs&&lang.isObject(args.fetchArgs))?args.fetchArgs:{},_116e=_116d.onComplete;if(g.store){_116d.onComplete=function(items,_116f){if(_116e){_116e(items,_116f);}_116a(_116b._goThroughGridData(items,_116c));};_116d.sort=_116d.sort||g.getSortProps();g._storeLayerFetch(_116d);}else{var start=_116d.start||0,count=_116d.count||-1,items=[];for(var i=start;i!=start+count&&i<g.rowCount;++i){items.push(g.getItem(i));}_116a(this._goThroughGridData(items,_116c));}},exportSelected:function(type,_1170,_1171){if(!lang.isString(type)){return "";}var _1172=this._getExportWriter(type,_1170);return _1171(this._goThroughGridData(this.grid.selection.getSelected(),_1172));},_buildRow:function(_1173,_1174){var _1175=this;array.forEach(_1173._views,function(view,vIdx){_1173.view=view;_1173.viewIdx=vIdx;if(_1174.beforeView(_1173)){array.forEach(view.structure.cells,function(_1176,srIdx){_1173.subrow=_1176;_1173.subrowIdx=srIdx;if(_1174.beforeSubrow(_1173)){array.forEach(_1176,function(cell,cIdx){if(_1173.isHeader&&_1175._isSpecialCol(cell)){_1173.spCols.push(cell.index);}_1173.cell=cell;_1173.cellIdx=cIdx;_1174.handleCell(_1173);});_1174.afterSubrow(_1173);}});_1174.afterView(_1173);}});},_goThroughGridData:function(items,_1177){var grid=this.grid,views=array.filter(grid.views.views,function(view){return !(view instanceof _1165);}),_1178={"grid":grid,"isHeader":true,"spCols":[],"_views":views,"colOffset":(views.length<grid.views.views.length?-1:0)};if(_1177.beforeHeader(grid)){this._buildRow(_1178,_1177);_1177.afterHeader();}_1178.isHeader=false;if(_1177.beforeContent(items)){array.forEach(items,function(item,rIdx){_1178.row=item;_1178.rowIdx=rIdx;if(_1177.beforeContentRow(_1178)){this._buildRow(_1178,_1177);_1177.afterContentRow(_1178);}},this);_1177.afterContent();}return _1177.toString();},_isSpecialCol:function(_1179){return _1179.isRowSelector||_1179 instanceof _1167.RowIndex;},_getExportWriter:function(_117a,_117b){var _117c,cls,_117d=_1168;if(_117d.writerNames){_117c=_117d.writerNames[_117a.toLowerCase()];cls=lang.getObject(_117c);if(cls){var _117e=new cls(_117b);_117e.formatter=this.formatter;return _117e;}else{throw new Error("Please make sure class \""+_117c+"\" is required.");}}throw new Error("The writer for \""+_117a+"\" has not been registered.");}});_1168.registerWriter=function(_117f,_1180){_1168.writerNames=_1168.writerNames||{};_1168.writerNames[_117f]=_1180;};_1166.registerPlugin(_1168);return _1168;});},"dojox/grid/enhanced/plugins/Printer":function(){define(["dojo/_base/declare","dojo/_base/html","dojo/_base/Deferred","dojo/_base/lang","dojo/_base/sniff","dojo/_base/xhr","dojo/_base/array","dojo/query","dojo/DeferredList","../_Plugin","../../EnhancedGrid","./exporter/TableWriter"],function(_1181,html,_1182,lang,has,xhr,array,query,_1183,_1184,_1185,_1186){var _1187=_1181("dojox.grid.enhanced.plugins.Printer",_1184,{name:"printer",constructor:function(grid){this.grid=grid;this._mixinGrid(grid);grid.setExportFormatter(function(data,cell,_1188,_1189){return cell.format(_1188,_1189);});},_mixinGrid:function(){var g=this.grid;g.printGrid=lang.hitch(this,this.printGrid);g.printSelected=lang.hitch(this,this.printSelected);g.exportToHTML=lang.hitch(this,this.exportToHTML);g.exportSelectedToHTML=lang.hitch(this,this.exportSelectedToHTML);g.normalizePrintedGrid=lang.hitch(this,this.normalizeRowHeight);},printGrid:function(args){this.exportToHTML(args,lang.hitch(this,this._print));},printSelected:function(args){this.exportSelectedToHTML(args,lang.hitch(this,this._print));},exportToHTML:function(args,_118a){args=this._formalizeArgs(args);var _118b=this;this.grid.exportGrid("table",args,function(str){_118b._wrapHTML(args.title,args.cssFiles,args.titleInBody+str).then(_118a);});},exportSelectedToHTML:function(args,_118c){args=this._formalizeArgs(args);var _118d=this;this.grid.exportSelected("table",args.writerArgs,function(str){_118d._wrapHTML(args.title,args.cssFiles,args.titleInBody+str).then(_118c);});},_loadCSSFiles:function(_118e){var dl=array.map(_118e,function(_118f){_118f=lang.trim(_118f);if(_118f.substring(_118f.length-4).toLowerCase()===".css"){return xhr.get({url:_118f});}else{var d=new _1182();d.callback(_118f);return d;}});return _1183.prototype.gatherResults(dl);},_print:function(_1190){var win,_1191=this,_1192=function(w){var doc=w.document;doc.open();doc.write(_1190);doc.close();_1191.normalizeRowHeight(doc);};if(!window.print){return;}else{if(has("chrome")||has("opera")){win=window.open("javascript: ''","","status=0,menubar=0,location=0,toolbar=0,width=1,height=1,resizable=0,scrollbars=0");_1192(win);win.print();win.close();}else{var fn=this._printFrame,dn=this.grid.domNode;if(!fn){var _1193=dn.id+"_print_frame";if(!(fn=html.byId(_1193))){fn=html.create("iframe");fn.id=_1193;fn.frameBorder=0;html.style(fn,{width:"1px",height:"1px",position:"absolute",right:0,bottom:0,border:"none",overflow:"hidden"});if(!has("ie")){html.style(fn,"visibility","hidden");}dn.appendChild(fn);}this._printFrame=fn;}win=fn.contentWindow;_1192(win);win.focus();win.print();}}},_wrapHTML:function(title,_1194,_1195){return this._loadCSSFiles(_1194).then(function(_1196){var i,sb=["<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">","<html ",html._isBodyLtr()?"":"dir=\"rtl\"","><head><title>",title,"</title><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></meta>"];for(i=0;i<_1196.length;++i){sb.push("<style type=\"text/css\">",_1196[i],"</style>");}sb.push("</head>");if(_1195.search(/^\s*<body/i)<0){_1195="<body>"+_1195+"</body>";}sb.push(_1195,"</html>");return sb.join("");});},normalizeRowHeight:function(doc){var views=query(".grid_view",doc.body);var _1197=array.map(views,function(view){return query(".grid_header",view)[0];});var _1198=array.map(views,function(view){return query(".grid_row",view);});var _1199=_1198[0].length;var i,v,h,_119a=0;for(v=views.length-1;v>=0;--v){h=html.contentBox(_1197[v]).h;if(h>_119a){_119a=h;}}for(v=views.length-1;v>=0;--v){html.style(_1197[v],"height",_119a+"px");}for(i=0;i<_1199;++i){_119a=0;for(v=views.length-1;v>=0;--v){h=html.contentBox(_1198[v][i]).h;if(h>_119a){_119a=h;}}for(v=views.length-1;v>=0;--v){html.style(_1198[v][i],"height",_119a+"px");}}var left=0,ltr=html._isBodyLtr();for(v=0;v<views.length;++v){html.style(views[v],ltr?"left":"right",left+"px");left+=html.marginBox(views[v]).w;}},_formalizeArgs:function(args){args=(args&&lang.isObject(args))?args:{};args.title=String(args.title)||"";if(!lang.isArray(args.cssFiles)){args.cssFiles=[args.cssFiles];}args.titleInBody=args.title?["<h1>",args.title,"</h1>"].join(""):"";return args;}});_1185.registerPlugin(_1187,{"dependency":["exporter"]});return _1187;});},"dojo/DeferredList":function(){define(["./_base/kernel","./_base/Deferred","./_base/array"],function(dojo,_119b,_119c){dojo.DeferredList=function(list,_119d,_119e,_119f,_11a0){var _11a1=[];_119b.call(this);var self=this;if(list.length===0&&!_119d){this.resolve([0,[]]);}var _11a2=0;_119c.forEach(list,function(item,i){item.then(function(_11a3){if(_119d){self.resolve([i,_11a3]);}else{_11a4(true,_11a3);}},function(error){if(_119e){self.reject(error);}else{_11a4(false,error);}if(_119f){return null;}throw error;});function _11a4(_11a5,_11a6){_11a1[i]=[_11a5,_11a6];_11a2++;if(_11a2===list.length){self.resolve(_11a1);}};});};dojo.DeferredList.prototype=new _119b();dojo.DeferredList.prototype.gatherResults=function(_11a7){var d=new dojo.DeferredList(_11a7,false,true,false);d.addCallback(function(_11a8){var ret=[];_119c.forEach(_11a8,function(_11a9){ret.push(_11a9[1]);});return ret;});return d;};return dojo.DeferredList;});},"dojox/grid/enhanced/plugins/exporter/TableWriter":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/dom-geometry","./_ExportWriter","../Exporter"],function(_11aa,array,_11ab,_11ac,_11ad){_11ad.registerWriter("table","dojox.grid.enhanced.plugins.exporter.TableWriter");return _11aa("dojox.grid.enhanced.plugins.exporter.TableWriter",_11ac,{constructor:function(_11ae){this._viewTables=[];this._tableAttrs=_11ae||{};},_getTableAttrs:function(_11af){var attrs=this._tableAttrs[_11af]||"";if(attrs&&attrs[0]!=" "){attrs=" "+attrs;}return attrs;},_getRowClass:function(_11b0){return _11b0.isHeader?" grid_header":[" grid_row grid_row_",_11b0.rowIdx+1,_11b0.rowIdx%2?" grid_even_row":" grid_odd_row"].join("");},_getColumnClass:function(_11b1){var _11b2=_11b1.cell.index+_11b1.colOffset+1;return [" grid_column grid_column_",_11b2,_11b2%2?" grid_odd_column":" grid_even_column"].join("");},beforeView:function(_11b3){var _11b4=_11b3.viewIdx,table=this._viewTables[_11b4],_11b5,width=_11ab.getMarginBox(_11b3.view.contentNode).w;if(!table){var left=0;for(var i=0;i<_11b4;++i){left+=this._viewTables[i]._width;}table=this._viewTables[_11b4]=["<div class=\"grid_view\" style=\"position: absolute; top: 0; ",_11ab.isBodyLtr()?"left":"right",":",left,"px;\">"];}table._width=width;if(_11b3.isHeader){_11b5=_11ab.getContentBox(_11b3.view.headerContentNode).h;}else{var _11b6=_11b3.grid.getRowNode(_11b3.rowIdx);if(_11b6){_11b5=_11ab.getContentBox(_11b6).h;}else{_11b5=_11b3.grid.scroller.averageRowHeight;}}table.push("<table class=\"",this._getRowClass(_11b3),"\" style=\"table-layout:fixed; height:",_11b5,"px; width:",width,"px;\" ","border=\"0\" cellspacing=\"0\" cellpadding=\"0\" ",this._getTableAttrs("table"),"><tbody ",this._getTableAttrs("tbody"),">");return true;},afterView:function(_11b7){this._viewTables[_11b7.viewIdx].push("</tbody></table>");},beforeSubrow:function(_11b8){this._viewTables[_11b8.viewIdx].push("<tr",this._getTableAttrs("tr"),">");return true;},afterSubrow:function(_11b9){this._viewTables[_11b9.viewIdx].push("</tr>");},handleCell:function(_11ba){var cell=_11ba.cell;if(cell.hidden||array.indexOf(_11ba.spCols,cell.index)>=0){return;}var _11bb=_11ba.isHeader?"th":"td",attrs=[cell.colSpan?" colspan=\""+cell.colSpan+"\"":"",cell.rowSpan?" rowspan=\""+cell.rowSpan+"\"":""," style=\"width: ",_11ab.getContentBox(cell.getHeaderNode()).w,"px;\"",this._getTableAttrs(_11bb)," class=\"",this._getColumnClass(_11ba),"\""].join(""),table=this._viewTables[_11ba.viewIdx];table.push("<",_11bb,attrs,">");if(_11ba.isHeader){table.push(cell.name||cell.field);}else{table.push(this._getExportDataForCell(_11ba.rowIdx,_11ba.row,cell,_11ba.grid));}table.push("</",_11bb,">");},afterContent:function(){array.forEach(this._viewTables,function(table){table.push("</div>");});},toString:function(){var _11bc=array.map(this._viewTables,function(table){return table.join("");}).join("");return ["<div style=\"position: relative;\">",_11bc,"</div>"].join("");}});});},"dojox/grid/enhanced/plugins/Cookie":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/sniff","dojo/_base/html","dojo/_base/json","dojo/_base/window","dojo/_base/unload","dojo/cookie","../_Plugin","../../_RowSelector","../../EnhancedGrid","../../cells/_base"],function(_11bd,array,lang,has,html,json,win,_11be,_11bf,_11c0,_11c1,_11c2){var _11c3=lang.getObject("dojox.grid.cells");var _11c4=function(grid){return window.location+"/"+grid.id;};var _11c5=function(_11c6){var cells=[];if(!lang.isArray(_11c6)){_11c6=[_11c6];}array.forEach(_11c6,function(_11c7){if(lang.isArray(_11c7)){_11c7={"cells":_11c7};}var rows=_11c7.rows||_11c7.cells;if(lang.isArray(rows)){if(!lang.isArray(rows[0])){rows=[rows];}array.forEach(rows,function(row){if(lang.isArray(row)){array.forEach(row,function(cell){cells.push(cell);});}});}});return cells;};var _11c8=function(_11c9,grid){if(lang.isArray(_11c9)){var _11ca=grid._setStructureAttr;grid._setStructureAttr=function(_11cb){if(!grid._colWidthLoaded){grid._colWidthLoaded=true;var cells=_11c5(_11cb);for(var i=cells.length-1;i>=0;--i){if(typeof _11c9[i]=="number"){cells[i].width=_11c9[i]+"px";}else{if(_11c9[i]=="hidden"){cells[i].hidden=true;}}}}_11ca.call(grid,_11cb);grid._setStructureAttr=_11ca;};}};var _11cc=function(grid){return array.map(array.filter(grid.layout.cells,function(cell){return !(cell.isRowSelector||cell instanceof _11c3.RowIndex);}),function(cell){return cell.hidden?"hidden":html[has("webkit")?"marginBox":"contentBox"](cell.getHeaderNode()).w;});};var _11cd=function(_11ce,grid){if(_11ce&&array.every(_11ce,function(_11cf){return lang.isArray(_11cf)&&array.every(_11cf,function(_11d0){return lang.isArray(_11d0)&&_11d0.length>0;});})){var _11d1=grid._setStructureAttr;var _11d2=function(def){return ("name" in def||"field" in def||"get" in def);};var _11d3=function(def){return (def!==null&&lang.isObject(def)&&("cells" in def||"rows" in def||("type" in def&&!_11d2(def))));};grid._setStructureAttr=function(_11d4){if(!grid._colOrderLoaded){grid._colOrderLoaded=true;grid._setStructureAttr=_11d1;_11d4=lang.clone(_11d4);if(lang.isArray(_11d4)&&!array.some(_11d4,_11d3)){_11d4=[{cells:_11d4}];}else{if(_11d3(_11d4)){_11d4=[_11d4];}}var cells=_11c5(_11d4);array.forEach(lang.isArray(_11d4)?_11d4:[_11d4],function(_11d5,_11d6){var _11d7=_11d5;if(lang.isArray(_11d5)){_11d5.splice(0,_11d5.length);}else{delete _11d5.rows;_11d7=_11d5.cells=[];}array.forEach(_11ce[_11d6],function(_11d8){array.forEach(_11d8,function(_11d9){var i,cell;for(i=0;i<cells.length;++i){cell=cells[i];if(json.toJson({"name":cell.name,"field":cell.field})==json.toJson(_11d9)){break;}}if(i<cells.length){_11d7.push(cell);}});});});}_11d1.call(grid,_11d4);};}};var _11da=function(grid){var _11db=array.map(array.filter(grid.views.views,function(view){return !(view instanceof _11c1);}),function(view){return array.map(view.structure.cells,function(_11dc){return array.map(array.filter(_11dc,function(cell){return !(cell.isRowSelector||cell instanceof _11c3.RowIndex);}),function(cell){return {"name":cell.name,"field":cell.field};});});});return _11db;};var _11dd=function(_11de,grid){try{if(_11de&&lang.isObject(_11de)){grid.setSortIndex(_11de.idx,_11de.asc);}}catch(e){}};var _11df=function(grid){return {idx:grid.getSortIndex(),asc:grid.getSortAsc()};};if(!has("ie")){_11be.addOnWindowUnload(function(){array.forEach(dijit.findWidgets(win.body()),function(_11e0){if(_11e0 instanceof _11c2&&!_11e0._destroyed){_11e0.destroyRecursive();}});});}var _11e1=_11bd("dojox.grid.enhanced.plugins.Cookie",_11c0,{name:"cookie",_cookieEnabled:true,constructor:function(grid,args){this.grid=grid;args=(args&&lang.isObject(args))?args:{};this.cookieProps=args.cookieProps;this._cookieHandlers=[];this._mixinGrid();this.addCookieHandler({name:"columnWidth",onLoad:_11c8,onSave:_11cc});this.addCookieHandler({name:"columnOrder",onLoad:_11cd,onSave:_11da});this.addCookieHandler({name:"sortOrder",onLoad:_11dd,onSave:_11df});array.forEach(this._cookieHandlers,function(_11e2){if(args[_11e2.name]===false){_11e2.enable=false;}},this);},destroy:function(){this._saveCookie();this._cookieHandlers=null;this.inherited(arguments);},_mixinGrid:function(){var g=this.grid;g.addCookieHandler=lang.hitch(this,"addCookieHandler");g.removeCookie=lang.hitch(this,"removeCookie");g.setCookieEnabled=lang.hitch(this,"setCookieEnabled");g.getCookieEnabled=lang.hitch(this,"getCookieEnabled");},_saveCookie:function(){if(this.getCookieEnabled()){var ck={},chs=this._cookieHandlers,_11e3=this.cookieProps,_11e4=_11c4(this.grid);for(var i=chs.length-1;i>=0;--i){if(chs[i].enabled){ck[chs[i].name]=chs[i].onSave(this.grid);}}_11e3=lang.isObject(this.cookieProps)?this.cookieProps:{};_11bf(_11e4,json.toJson(ck),_11e3);}else{this.removeCookie();}},onPreInit:function(){var grid=this.grid,chs=this._cookieHandlers,_11e5=_11c4(grid),ck=_11bf(_11e5);if(ck){ck=json.fromJson(ck);for(var i=0;i<chs.length;++i){if(chs[i].name in ck&&chs[i].enabled){chs[i].onLoad(ck[chs[i].name],grid);}}}this._cookie=ck||{};this._cookieStartedup=true;},addCookieHandler:function(args){if(args.name){var dummy=function(){};args.onLoad=args.onLoad||dummy;args.onSave=args.onSave||dummy;if(!("enabled" in args)){args.enabled=true;}for(var i=this._cookieHandlers.length-1;i>=0;--i){if(this._cookieHandlers[i].name==args.name){this._cookieHandlers.splice(i,1);}}this._cookieHandlers.push(args);if(this._cookieStartedup&&args.name in this._cookie){args.onLoad(this._cookie[args.name],this.grid);}}},removeCookie:function(){var key=_11c4(this.grid);_11bf(key,null,{expires:-1});},setCookieEnabled:function(_11e6,_11e7){if(typeof _11e6=="string"){var chs=this._cookieHandlers;for(var i=chs.length-1;i>=0;--i){if(chs[i].name===_11e6){chs[i].enabled=!!_11e7;}}}else{this._cookieEnabled=!!_11e6;if(!this._cookieEnabled){this.removeCookie();}}},getCookieEnabled:function(_11e8){if(lang.isString(_11e8)){var chs=this._cookieHandlers;for(var i=chs.length-1;i>=0;--i){if(chs[i].name==_11e8){return chs[i].enabled;}}return false;}return this._cookieEnabled;}});_11c2.registerPlugin(_11e1,{"preInit":true});return _11e1;});},"dojox/grid/enhanced/plugins/IndirectSelection":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/_base/lang","dojo/_base/html","dojo/_base/window","dojo/_base/connect","dojo/_base/sniff","dojo/query","dojo/keys","dojo/string","../_Plugin","../../EnhancedGrid","../../cells/dijit"],function(_11e9,array,evt,lang,html,win,_11ea,has,query,keys,_11eb,_11ec,_11ed){var _11ee=lang.getObject("dojox.grid.cells");var _11ef=_11e9("dojox.grid.cells.RowSelector",_11ee._Widget,{inputType:"",map:null,disabledMap:null,isRowSelector:true,_connects:null,_subscribes:null,checkedText:"&#10003;",unCheckedText:"O",constructor:function(){this.map={};this.disabledMap={};this.disabledCount=0;this._connects=[];this._subscribes=[];this.inA11YMode=html.hasClass(win.body(),"dijit_a11y");this.baseClass="dojoxGridRowSelector dijitReset dijitInline dijit"+this.inputType;this.checkedClass=" dijit"+this.inputType+"Checked";this.disabledClass=" dijit"+this.inputType+"Disabled";this.checkedDisabledClass=" dijit"+this.inputType+"CheckedDisabled";this.statusTextClass=" dojoxGridRowSelectorStatusText";this._connects.push(_11ea.connect(this.grid,"dokeyup",this,"_dokeyup"));this._connects.push(_11ea.connect(this.grid.selection,"onSelected",this,"_onSelected"));this._connects.push(_11ea.connect(this.grid.selection,"onDeselected",this,"_onDeselected"));this._connects.push(_11ea.connect(this.grid.scroller,"invalidatePageNode",this,"_pageDestroyed"));this._connects.push(_11ea.connect(this.grid,"onCellClick",this,"_onClick"));this._connects.push(_11ea.connect(this.grid,"updateRow",this,"_onUpdateRow"));},formatter:function(data,_11f0,scope){var _11f1=scope;var clazz=_11f1.baseClass;var _11f2=!!_11f1.getValue(_11f0);var _11f3=!!_11f1.disabledMap[_11f0];if(_11f2){clazz+=_11f1.checkedClass;if(_11f3){clazz+=_11f1.checkedDisabledClass;}}else{if(_11f3){clazz+=_11f1.disabledClass;}}return ["<div tabindex = -1 ","id = '"+_11f1.grid.id+"_rowSelector_"+_11f0+"' ","name = '"+_11f1.grid.id+"_rowSelector' class = '"+clazz+"' ","role = "+_11f1.inputType+" aria-checked = '"+_11f2+"' aria-disabled = '"+_11f3+"' aria-label = '"+_11eb.substitute(_11f1.grid._nls["indirectSelection"+_11f1.inputType],[_11f0+1])+"'>","<span class = '"+_11f1.statusTextClass+"'>"+(_11f2?_11f1.checkedText:_11f1.unCheckedText)+"</span>","</div>"].join("");},setValue:function(_11f4,_11f5){},getValue:function(_11f6){return this.grid.selection.isSelected(_11f6);},toggleRow:function(index,value){this._nativeSelect(index,value);},setDisabled:function(index,_11f7){if(index<0){return;}this._toggleDisabledStyle(index,_11f7);},disabled:function(index){return !!this.disabledMap[index];},_onClick:function(e){if(e.cell===this){this._selectRow(e);}},_dokeyup:function(e){if(e.cellIndex==this.index&&e.rowIndex>=0&&e.keyCode==keys.SPACE){this._selectRow(e);}},focus:function(_11f8){var _11f9=this.map[_11f8];if(_11f9){_11f9.focus();}},_focusEndingCell:function(_11fa,_11fb){var cell=this.grid.getCell(_11fb);this.grid.focus.setFocusCell(cell,_11fa);},_nativeSelect:function(index,value){this.grid.selection[value?"select":"deselect"](index);},_onSelected:function(index){this._toggleCheckedStyle(index,true);},_onDeselected:function(index){this._toggleCheckedStyle(index,false);},_onUpdateRow:function(index){delete this.map[index];},_toggleCheckedStyle:function(index,value){var _11fc=this._getSelector(index);if(_11fc){html.toggleClass(_11fc,this.checkedClass,value);if(this.disabledMap[index]){html.toggleClass(_11fc,this.checkedDisabledClass,value);}_11fc.setAttribute("aria-checked",value);if(this.inA11YMode){_11fc.firstChild.innerHTML=(value?this.checkedText:this.unCheckedText);}}},_toggleDisabledStyle:function(index,_11fd){var _11fe=this._getSelector(index);if(_11fe){html.toggleClass(_11fe,this.disabledClass,_11fd);if(this.getValue(index)){html.toggleClass(_11fe,this.checkedDisabledClass,_11fd);}_11fe.setAttribute("aria-disabled",_11fd);}this.disabledMap[index]=_11fd;if(index>=0){this.disabledCount+=_11fd?1:-1;}},_getSelector:function(index){var _11ff=this.map[index];if(!_11ff){var _1200=this.view.rowNodes[index];if(_1200){_11ff=query(".dojoxGridRowSelector",_1200)[0];if(_11ff){this.map[index]=_11ff;}}}return _11ff;},_pageDestroyed:function(_1201){var _1202=this.grid.scroller.rowsPerPage;var start=_1201*_1202,end=start+_1202-1;for(var i=start;i<=end;i++){if(!this.map[i]){continue;}html.destroy(this.map[i]);delete this.map[i];}},destroy:function(){for(var i in this.map){html.destroy(this.map[i]);delete this.map[i];}for(i in this.disabledMap){delete this.disabledMap[i];}array.forEach(this._connects,_11ea.disconnect);array.forEach(this._subscribes,_11ea.unsubscribe);delete this._connects;delete this._subscribes;}});var _1203=_11e9("dojox.grid.cells.SingleRowSelector",_11ef,{inputType:"Radio",_selectRow:function(e){var index=e.rowIndex;if(this.disabledMap[index]){return;}this._focusEndingCell(index,e.cellIndex);this._nativeSelect(index,!this.grid.selection.selected[index]);}});var _1204=_11e9("dojox.grid.cells.MultipleRowSelector",_11ef,{inputType:"CheckBox",swipeStartRowIndex:-1,swipeMinRowIndex:-1,swipeMaxRowIndex:-1,toSelect:false,lastClickRowIdx:-1,unCheckedText:"&#9633;",constructor:function(){this._connects.push(_11ea.connect(win.doc,"onmouseup",this,"_domouseup"));this._connects.push(_11ea.connect(this.grid,"onRowMouseOver",this,"_onRowMouseOver"));this._connects.push(_11ea.connect(this.grid.focus,"move",this,"_swipeByKey"));this._connects.push(_11ea.connect(this.grid,"onCellMouseDown",this,"_onMouseDown"));if(this.headerSelector){this._connects.push(_11ea.connect(this.grid.views,"render",this,"_addHeaderSelector"));this._connects.push(_11ea.connect(this.grid,"_onFetchComplete",this,"_addHeaderSelector"));this._connects.push(_11ea.connect(this.grid,"onSelectionChanged",this,"_onSelectionChanged"));this._connects.push(_11ea.connect(this.grid,"onKeyDown",this,function(e){if(e.rowIndex==-1&&e.cellIndex==this.index&&e.keyCode==keys.SPACE){this._toggletHeader();}}));}},toggleAllSelection:function(_1205){var grid=this.grid,_1206=grid.selection;if(_1205){_1206.selectRange(0,grid.rowCount-1);}else{_1206.deselectAll();}},_onMouseDown:function(e){if(e.cell==this){this._startSelection(e.rowIndex);evt.stop(e);}},_onRowMouseOver:function(e){this._updateSelection(e,0);},_domouseup:function(e){if(has("ie")){this.view.content.decorateEvent(e);}var _1207=e.cellIndex>=0&&this.inSwipeSelection()&&!this.grid.edit.isEditRow(e.rowIndex);if(_1207){this._focusEndingCell(e.rowIndex,e.cellIndex);}this._finishSelect();},_dokeyup:function(e){this.inherited(arguments);if(!e.shiftKey){this._finishSelect();}},_startSelection:function(_1208){this.swipeStartRowIndex=this.swipeMinRowIndex=this.swipeMaxRowIndex=_1208;this.toSelect=!this.getValue(_1208);},_updateSelection:function(e,delta){if(!this.inSwipeSelection()){return;}var byKey=delta!==0;var _1209=e.rowIndex,_120a=_1209-this.swipeStartRowIndex+delta;if(_120a>0&&this.swipeMaxRowIndex<_1209+delta){this.swipeMaxRowIndex=_1209+delta;}if(_120a<0&&this.swipeMinRowIndex>_1209+delta){this.swipeMinRowIndex=_1209+delta;}var min=_120a>0?this.swipeStartRowIndex:_1209+delta;var max=_120a>0?_1209+delta:this.swipeStartRowIndex;for(var i=this.swipeMinRowIndex;i<=this.swipeMaxRowIndex;i++){if(this.disabledMap[i]||i<0){continue;}if(i>=min&&i<=max){this._nativeSelect(i,this.toSelect);}else{if(!byKey){this._nativeSelect(i,!this.toSelect);}}}},_swipeByKey:function(_120b,_120c,e){if(!e||_120b===0||!e.shiftKey||e.cellIndex!=this.index||this.grid.focus.rowIndex<0){return;}var _120d=e.rowIndex;if(this.swipeStartRowIndex<0){this.swipeStartRowIndex=_120d;if(_120b>0){this.swipeMaxRowIndex=_120d+_120b;this.swipeMinRowIndex=_120d;}else{this.swipeMinRowIndex=_120d+_120b;this.swipeMaxRowIndex=_120d;}this.toSelect=this.getValue(_120d);}this._updateSelection(e,_120b);},_finishSelect:function(){this.swipeStartRowIndex=-1;this.swipeMinRowIndex=-1;this.swipeMaxRowIndex=-1;this.toSelect=false;},inSwipeSelection:function(){return this.swipeStartRowIndex>=0;},_nativeSelect:function(index,value){this.grid.selection[value?"addToSelection":"deselect"](index);},_selectRow:function(e){var _120e=e.rowIndex;if(this.disabledMap[_120e]){return;}evt.stop(e);this._focusEndingCell(_120e,e.cellIndex);var delta=_120e-this.lastClickRowIdx;var _120f=!this.grid.selection.selected[_120e];if(this.lastClickRowIdx>=0&&!e.ctrlKey&&!e.altKey&&e.shiftKey){var min=delta>0?this.lastClickRowIdx:_120e;var max=delta>0?_120e:this.lastClickRowIdx;for(var i=min;i>=0&&i<=max;i++){this._nativeSelect(i,_120f);}}else{this._nativeSelect(_120e,_120f);}this.lastClickRowIdx=_120e;},getValue:function(_1210){if(_1210==-1){var g=this.grid;return g.rowCount>0&&g.rowCount<=g.selection.getSelectedCount();}return this.inherited(arguments);},_addHeaderSelector:function(){var _1211=this.view.getHeaderCellNode(this.index);if(!_1211){return;}html.empty(_1211);var g=this.grid;var _1212=_1211.appendChild(html.create("div",{"aria-label":g._nls["selectAll"],"tabindex":-1,"id":g.id+"_rowSelector_-1","class":this.baseClass,"role":"Checkbox","innerHTML":"<span class = '"+this.statusTextClass+"'></span><span style='height: 0; width: 0; overflow: hidden; display: block;'>"+g._nls["selectAll"]+"</span>"}));this.map[-1]=_1212;var idx=this._headerSelectorConnectIdx;if(idx!==undefined){_11ea.disconnect(this._connects[idx]);this._connects.splice(idx,1);}this._headerSelectorConnectIdx=this._connects.length;this._connects.push(_11ea.connect(_1212,"onclick",this,"_toggletHeader"));this._onSelectionChanged();},_toggletHeader:function(){if(!!this.disabledMap[-1]){return;}this.grid._selectingRange=true;this.toggleAllSelection(!this.getValue(-1));this._onSelectionChanged();this.grid._selectingRange=false;},_onSelectionChanged:function(){var g=this.grid;if(!this.map[-1]||g._selectingRange){return;}g.allItemsSelected=this.getValue(-1);this._toggleCheckedStyle(-1,g.allItemsSelected);},_toggleDisabledStyle:function(index,_1213){this.inherited(arguments);if(this.headerSelector){var _1214=(this.grid.rowCount==this.disabledCount);if(_1214!=!!this.disabledMap[-1]){arguments[0]=-1;arguments[1]=_1214;this.inherited(arguments);}}}});var _1215=_11e9("dojox.grid.enhanced.plugins.IndirectSelection",_11ec,{name:"indirectSelection",constructor:function(){var _1216=this.grid.layout;this.connect(_1216,"setStructure",lang.hitch(_1216,this.addRowSelectCell,this.option));},addRowSelectCell:function(_1217){if(!this.grid.indirectSelection||this.grid.selectionMode=="none"){return;}var _1218=false,_1219=["get","formatter","field","fields"],_121a={type:_1204,name:"",width:"30px",styles:"text-align: center;"};if(_1217.headerSelector){_1217.name="";}if(this.grid.rowSelectCell){this.grid.rowSelectCell.destroy();}array.forEach(this.structure,function(view){var cells=view.cells;if(cells&&cells.length>0&&!_1218){var _121b=cells[0];if(_121b[0]&&_121b[0].isRowSelector){_1218=true;return;}var _121c,_121d=this.grid.selectionMode=="single"?_1203:_1204;_121c=lang.mixin(_121a,_1217,{type:_121d,editable:false,notselectable:true,filterable:false,navigatable:true,nosort:true});array.forEach(_1219,function(field){if(field in _121c){delete _121c[field];}});if(cells.length>1){_121c.rowSpan=cells.length;}array.forEach(this.cells,function(cell,i){if(cell.index>=0){cell.index+=1;}else{console.warn("Error:IndirectSelection.addRowSelectCell()-  cell "+i+" has no index!");}});var _121e=this.addCellDef(0,0,_121c);_121e.index=0;_121b.unshift(_121e);this.cells.unshift(_121e);this.grid.rowSelectCell=_121e;_1218=true;}},this);this.cellCount=this.cells.length;},destroy:function(){this.grid.rowSelectCell.destroy();delete this.grid.rowSelectCell;this.inherited(arguments);}});_11ed.registerPlugin(_1215,{"preInit":true});return _1215;});},"dojox/grid/enhanced/plugins/NestedSorting":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/_base/html","dojo/_base/event","dojo/_base/window","dojo/keys","dojo/query","dojo/string","../_Plugin","../../EnhancedGrid"],function(_121f,array,_1220,lang,html,evt,win,keys,query,_1221,_1222,_1223){var _1224=_121f("dojox.grid.enhanced.plugins.NestedSorting",_1222,{name:"nestedSorting",_currMainSort:"none",_currRegionIdx:-1,_a11yText:{"dojoxGridDescending":"&#9662;","dojoxGridAscending":"&#9652;","dojoxGridAscendingTip":"&#1784;","dojoxGridDescendingTip":"&#1783;","dojoxGridUnsortedTip":"x"},constructor:function(){this._sortDef=[];this._sortData={};this._headerNodes={};this._excludedColIdx=[];this.nls=this.grid._nls;this.grid.setSortInfo=function(){};this.grid.setSortIndex=lang.hitch(this,"_setGridSortIndex");this.grid.getSortIndex=function(){};this.grid.getSortProps=lang.hitch(this,"getSortProps");if(this.grid.sortFields){this._setGridSortIndex(this.grid.sortFields,null,true);}this.connect(this.grid.views,"render","_initSort");this.initCookieHandler();if(this.grid.plugin("rearrange")){this.subscribe("dojox/grid/rearrange/move/"+this.grid.id,lang.hitch(this,"_onColumnDnD"));}else{this.connect(this.grid.layout,"moveColumn","_onMoveColumn");}},onStartUp:function(){this.inherited(arguments);this.connect(this.grid,"onHeaderCellClick","_onHeaderCellClick");this.connect(this.grid,"onHeaderCellMouseOver","_onHeaderCellMouseOver");this.connect(this.grid,"onHeaderCellMouseOut","_onHeaderCellMouseOut");},_onMoveColumn:function(_1225,_1226,_1227,_1228,_1229){var cr=this._getCurrentRegion(),idx=cr&&this._getRegionHeader(cr).getAttribute("idx"),c=this._headerNodes[idx],_122a=this._sortData,_122b={},_122c,data;if(cr){this._blurRegion(cr);this._currRegionIdx=array.indexOf(this._getRegions(),c.firstChild);}if(_1228<_1227){for(_122c in _122a){_122c=parseInt(_122c,10);data=_122a[_122c];if(data){if(_122c>=_1228&&_122c<_1227){_122b[_122c+1]=data;}else{if(_122c==_1227){_122b[_1228]=data;}else{_122b[_122c]=data;}}}}}else{if(_1228>_1227+1){if(!_1229){_1228++;}for(_122c in _122a){_122c=parseInt(_122c,10);data=_122a[_122c];if(data){if(_122c>_1227&&_122c<_1228){_122b[_122c-1]=data;}else{if(_122c==_1227){_122b[_1228-1]=data;}else{_122b[_122c]=data;}}}}}}this._sortData=_122b;this._initSort(false);},_onColumnDnD:function(type,_122d){if(type!=="col"){return;}var m=_122d,obj={},d=this._sortData,p;var cr=this._getCurrentRegion();this._blurRegion(cr);var idx=this._getRegionHeader(cr).getAttribute("idx");for(p in m){if(d[p]){obj[m[p]]=d[p];delete d[p];}if(p===idx){idx=m[p];}}for(p in obj){d[p]=obj[p];}var c=this._headerNodes[idx];this._currRegionIdx=array.indexOf(this._getRegions(),c.firstChild);this._initSort(false);},_setGridSortIndex:function(_122e,inAsc,_122f){if(lang.isArray(_122e)){var i,d,cell;for(i=0;i<_122e.length;i++){d=_122e[i];cell=this.grid.getCellByField(d.attribute);if(!cell){console.warn("Invalid sorting option, column ",d.attribute," not found.");return;}if(cell["nosort"]||!this.grid.canSort(cell.index,cell.field)){console.warn("Invalid sorting option, column ",d.attribute," is unsortable.");return;}}this.clearSort();array.forEach(_122e,function(d,i){cell=this.grid.getCellByField(d.attribute);this.setSortData(cell.index,"index",i);this.setSortData(cell.index,"order",d.descending?"desc":"asc");},this);}else{if(!isNaN(_122e)){if(inAsc===undefined){return;}this.setSortData(_122e,"order",inAsc?"asc":"desc");}else{return;}}this._updateSortDef();if(!_122f){this.grid.sort();}},getSortProps:function(){return this._sortDef.length?this._sortDef:null;},_initSort:function(_1230){var g=this.grid,n=g.domNode,len=this._sortDef.length;html.toggleClass(n,"dojoxGridSorted",!!len);html.toggleClass(n,"dojoxGridSingleSorted",len===1);html.toggleClass(n,"dojoxGridNestSorted",len>1);if(len>0){this._currMainSort=this._sortDef[0].descending?"desc":"asc";}var idx,_1231=this._excludedCoIdx=[];this._headerNodes=query("th",g.viewsHeaderNode).forEach(function(n){idx=parseInt(n.getAttribute("idx"),10);if(html.style(n,"display")==="none"||g.layout.cells[idx]["nosort"]||(g.canSort&&!g.canSort(idx,g.layout.cells[idx]["field"]))){_1231.push(idx);}});this._headerNodes.forEach(this._initHeaderNode,this);this._initFocus();if(_1230){this._focusHeader();}},_initHeaderNode:function(node){html.toggleClass(node,"dojoxGridSortNoWrap",true);var _1232=query(".dojoxGridSortNode",node)[0];if(_1232){html.toggleClass(_1232,"dojoxGridSortNoWrap",true);}if(array.indexOf(this._excludedCoIdx,node.getAttribute("idx"))>=0){html.addClass(node,"dojoxGridNoSort");return;}if(!query(".dojoxGridSortBtn",node).length){this._connects=array.filter(this._connects,function(conn){if(conn._sort){_1220.disconnect(conn);return false;}return true;});var n=html.create("a",{className:"dojoxGridSortBtn dojoxGridSortBtnNested",title:_1221.substitute(this.nls.sortingState,[this.nls.nestedSort,this.nls.ascending]),innerHTML:"1"},node.firstChild,"last");n.onmousedown=evt.stop;n=html.create("a",{className:"dojoxGridSortBtn dojoxGridSortBtnSingle",title:_1221.substitute(this.nls.sortingState,[this.nls.singleSort,this.nls.ascending])},node.firstChild,"last");n.onmousedown=evt.stop;}else{var a1=query(".dojoxGridSortBtnSingle",node)[0];var a2=query(".dojoxGridSortBtnNested",node)[0];a1.className="dojoxGridSortBtn dojoxGridSortBtnSingle";a2.className="dojoxGridSortBtn dojoxGridSortBtnNested";a2.innerHTML="1";html.removeClass(node,"dojoxGridCellShowIndex");html.removeClass(node.firstChild,"dojoxGridSortNodeSorted");html.removeClass(node.firstChild,"dojoxGridSortNodeAsc");html.removeClass(node.firstChild,"dojoxGridSortNodeDesc");html.removeClass(node.firstChild,"dojoxGridSortNodeMain");html.removeClass(node.firstChild,"dojoxGridSortNodeSub");}this._updateHeaderNodeUI(node);},_onHeaderCellClick:function(e){this._focusRegion(e.target);if(html.hasClass(e.target,"dojoxGridSortBtn")){this._onSortBtnClick(e);evt.stop(e);this._focusRegion(this._getCurrentRegion());}},_onHeaderCellMouseOver:function(e){if(!e.cell){return;}if(this._sortDef.length>1){return;}if(this._sortData[e.cellIndex]&&this._sortData[e.cellIndex].index===0){return;}var p;for(p in this._sortData){if(this._sortData[p]&&this._sortData[p].index===0){html.addClass(this._headerNodes[p],"dojoxGridCellShowIndex");break;}}if(!html.hasClass(win.body(),"dijit_a11y")){return;}var i=e.cell.index,node=e.cellNode;var _1233=query(".dojoxGridSortBtnSingle",node)[0];var _1234=query(".dojoxGridSortBtnNested",node)[0];var _1235="none";if(html.hasClass(this.grid.domNode,"dojoxGridSingleSorted")){_1235="single";}else{if(html.hasClass(this.grid.domNode,"dojoxGridNestSorted")){_1235="nested";}}var _1236=_1234.getAttribute("orderIndex");if(_1236===null||_1236===undefined){_1234.setAttribute("orderIndex",_1234.innerHTML);_1236=_1234.innerHTML;}if(this.isAsc(i)){_1234.innerHTML=_1236+this._a11yText.dojoxGridDescending;}else{if(this.isDesc(i)){_1234.innerHTML=_1236+this._a11yText.dojoxGridUnsortedTip;}else{_1234.innerHTML=_1236+this._a11yText.dojoxGridAscending;}}if(this._currMainSort==="none"){_1233.innerHTML=this._a11yText.dojoxGridAscending;}else{if(this._currMainSort==="asc"){_1233.innerHTML=this._a11yText.dojoxGridDescending;}else{if(this._currMainSort==="desc"){_1233.innerHTML=this._a11yText.dojoxGridUnsortedTip;}}}},_onHeaderCellMouseOut:function(e){var p;for(p in this._sortData){if(this._sortData[p]&&this._sortData[p].index===0){html.removeClass(this._headerNodes[p],"dojoxGridCellShowIndex");break;}}},_onSortBtnClick:function(e){var _1237=e.cell.index;if(html.hasClass(e.target,"dojoxGridSortBtnSingle")){this._prepareSingleSort(_1237);}else{if(html.hasClass(e.target,"dojoxGridSortBtnNested")){this._prepareNestedSort(_1237);}else{return;}}evt.stop(e);this._doSort(_1237);},_doSort:function(_1238){if(!this._sortData[_1238]||!this._sortData[_1238].order){this.setSortData(_1238,"order","asc");}else{if(this.isAsc(_1238)){this.setSortData(_1238,"order","desc");}else{if(this.isDesc(_1238)){this.removeSortData(_1238);}}}this._updateSortDef();this.grid.sort();this._initSort(true);},setSortData:function(_1239,attr,value){var sd=this._sortData[_1239];if(!sd){sd=this._sortData[_1239]={};}sd[attr]=value;},removeSortData:function(_123a){var d=this._sortData,i=d[_123a].index,p;delete d[_123a];for(p in d){if(d[p].index>i){d[p].index--;}}},_prepareSingleSort:function(_123b){var d=this._sortData,p;for(p in d){delete d[p];}this.setSortData(_123b,"index",0);this.setSortData(_123b,"order",this._currMainSort==="none"?null:this._currMainSort);if(!this._sortData[_123b]||!this._sortData[_123b].order){this._currMainSort="asc";}else{if(this.isAsc(_123b)){this._currMainSort="desc";}else{if(this.isDesc(_123b)){this._currMainSort="none";}}}},_prepareNestedSort:function(_123c){var i=this._sortData[_123c]?this._sortData[_123c].index:null;if(i===0||!!i){return;}this.setSortData(_123c,"index",this._sortDef.length);},_updateSortDef:function(){this._sortDef.length=0;var d=this._sortData,p;for(p in d){this._sortDef[d[p].index]={attribute:this.grid.layout.cells[p].field,descending:d[p].order==="desc"};}},_updateHeaderNodeUI:function(node){var cell=this._getCellByNode(node);var _123d=cell.index;var data=this._sortData[_123d];var _123e=query(".dojoxGridSortNode",node)[0];var _123f=query(".dojoxGridSortBtnSingle",node)[0];var _1240=query(".dojoxGridSortBtnNested",node)[0];html.toggleClass(_123f,"dojoxGridSortBtnAsc",this._currMainSort==="asc");html.toggleClass(_123f,"dojoxGridSortBtnDesc",this._currMainSort==="desc");if(this._currMainSort==="asc"){_123f.title=_1221.substitute(this.nls.sortingState,[this.nls.singleSort,this.nls.descending]);}else{if(this._currMainSort==="desc"){_123f.title=_1221.substitute(this.nls.sortingState,[this.nls.singleSort,this.nls.unsorted]);}else{_123f.title=_1221.substitute(this.nls.sortingState,[this.nls.singleSort,this.nls.ascending]);}}var _1241=this;function _1242(){var _1243="Column "+(cell.index+1)+" "+cell.field;var _1244="none";var _1245="ascending";if(data){_1244=data.order==="asc"?"ascending":"descending";_1245=data.order==="asc"?"descending":"none";}var _1246=_1243+" - is sorted by "+_1244;var _1247=_1243+" - is nested sorted by "+_1244;var _1248=_1243+" - choose to sort by "+_1245;var _1249=_1243+" - choose to nested sort by "+_1245;_123f.setAttribute("aria-label",_1246);_1240.setAttribute("aria-label",_1247);var _124a=[_1241.connect(_123f,"onmouseover",function(){_123f.setAttribute("aria-label",_1248);}),_1241.connect(_123f,"onmouseout",function(){_123f.setAttribute("aria-label",_1246);}),_1241.connect(_1240,"onmouseover",function(){_1240.setAttribute("aria-label",_1249);}),_1241.connect(_1240,"onmouseout",function(){_1240.setAttribute("aria-label",_1247);})];array.forEach(_124a,function(_124b){_124b._sort=true;});};_1242();var a11y=html.hasClass(win.body(),"dijit_a11y");if(!data){_1240.innerHTML=this._sortDef.length+1;_1240.title=_1221.substitute(this.nls.sortingState,[this.nls.nestedSort,this.nls.ascending]);if(a11y){_123e.innerHTML=this._a11yText.dojoxGridUnsortedTip;}return;}if(data.index||(data.index===0&&this._sortDef.length>1)){_1240.innerHTML=data.index+1;}html.addClass(_123e,"dojoxGridSortNodeSorted");if(this.isAsc(_123d)){html.addClass(_123e,"dojoxGridSortNodeAsc");_1240.title=_1221.substitute(this.nls.sortingState,[this.nls.nestedSort,this.nls.descending]);if(a11y){_123e.innerHTML=this._a11yText.dojoxGridAscendingTip;}}else{if(this.isDesc(_123d)){html.addClass(_123e,"dojoxGridSortNodeDesc");_1240.title=_1221.substitute(this.nls.sortingState,[this.nls.nestedSort,this.nls.unsorted]);if(a11y){_123e.innerHTML=this._a11yText.dojoxGridDescendingTip;}}}html.addClass(_123e,(data.index===0?"dojoxGridSortNodeMain":"dojoxGridSortNodeSub"));},isAsc:function(_124c){return this._sortData[_124c].order==="asc";},isDesc:function(_124d){return this._sortData[_124d].order==="desc";},_getCellByNode:function(node){var i;for(i=0;i<this._headerNodes.length;i++){if(this._headerNodes[i]===node){return this.grid.layout.cells[i];}}return null;},clearSort:function(){this._sortData={};this._sortDef.length=0;},initCookieHandler:function(){if(this.grid.addCookieHandler){this.grid.addCookieHandler({name:"sortOrder",onLoad:lang.hitch(this,"_loadNestedSortingProps"),onSave:lang.hitch(this,"_saveNestedSortingProps")});}},_loadNestedSortingProps:function(_124e,grid){this._setGridSortIndex(_124e);},_saveNestedSortingProps:function(grid){return this.getSortProps();},_initFocus:function(){var f=this.focus=this.grid.focus;this._focusRegions=this._getRegions();if(!this._headerArea){var area=this._headerArea=f.getArea("header");area.onFocus=f.focusHeader=lang.hitch(this,"_focusHeader");area.onBlur=f.blurHeader=f._blurHeader=lang.hitch(this,"_blurHeader");area.onMove=lang.hitch(this,"_onMove");area.onKeyDown=lang.hitch(this,"_onKeyDown");area._regions=[];area.getRegions=null;this.connect(this.grid,"onBlur","_blurHeader");}},_focusHeader:function(e){if(this._currRegionIdx===-1){this._onMove(0,1,null);}else{var _124f=this._getCurrentRegion();this._focusRegion(_124f);var view=this._getRegionView(_124f);view.scrollboxNode.scrollLeft=view.headerNode.scrollLeft;}try{if(e){evt.stop(e);}}catch(e){}return true;},_blurHeader:function(e){this._blurRegion(this._getCurrentRegion());return true;},_onMove:function(_1250,_1251,e){var curr=this._currRegionIdx||0,_1252=this._focusRegions;var _1253=_1252[curr+_1251];if(!_1253){return;}else{if(html.style(_1253,"display")==="none"||html.style(_1253,"visibility")==="hidden"){this._onMove(_1250,_1251+(_1251>0?1:-1),e);return;}}this._focusRegion(_1253);var view=this._getRegionView(_1253);view.scrollboxNode.scrollLeft=view.headerNode.scrollLeft;},_onKeyDown:function(e,_1254){if(_1254){switch(e.keyCode){case keys.ENTER:case keys.SPACE:if(html.hasClass(e.target,"dojoxGridSortBtnSingle")||html.hasClass(e.target,"dojoxGridSortBtnNested")){this._onSortBtnClick(e);}}}},_getRegionView:function(_1255){var _1256=_1255;while(_1256&&!html.hasClass(_1256,"dojoxGridHeader")){_1256=_1256.parentNode;}if(_1256){return array.filter(this.grid.views.views,function(view){return view.headerNode===_1256;})[0]||null;}return null;},_getRegions:function(){var _1257=[],cells=this.grid.layout.cells;this._headerNodes.forEach(function(n,i){if(html.style(n,"display")==="none"){return;}if(cells[i]["isRowSelector"]){_1257.push(n);return;}query(".dojoxGridSortNode,.dojoxGridSortBtnNested,.dojoxGridSortBtnSingle",n).forEach(function(node){node.setAttribute("tabindex",0);_1257.push(node);});},this);return _1257;},_focusRegion:function(_1258){if(!_1258){return;}var _1259=this._getCurrentRegion();if(_1259&&_1258!==_1259){this._blurRegion(_1259);}var _125a=this._getRegionHeader(_1258);html.addClass(_125a,"dojoxGridCellSortFocus");if(html.hasClass(_1258,"dojoxGridSortNode")){html.addClass(_1258,"dojoxGridSortNodeFocus");}else{if(html.hasClass(_1258,"dojoxGridSortBtn")){html.addClass(_1258,"dojoxGridSortBtnFocus");}}try{_1258.focus();}catch(e){}this.focus.currentArea("header");this._currRegionIdx=array.indexOf(this._focusRegions,_1258);},_blurRegion:function(_125b){if(!_125b){return;}var _125c=this._getRegionHeader(_125b);html.removeClass(_125c,"dojoxGridCellSortFocus");if(html.hasClass(_125b,"dojoxGridSortNode")){html.removeClass(_125b,"dojoxGridSortNodeFocus");}else{if(html.hasClass(_125b,"dojoxGridSortBtn")){html.removeClass(_125b,"dojoxGridSortBtnFocus");}}_125b.blur();},_getCurrentRegion:function(){return this._focusRegions?this._focusRegions[this._currRegionIdx]:null;},_getRegionHeader:function(_125d){while(_125d&&!html.hasClass(_125d,"dojoxGridCell")){_125d=_125d.parentNode;}return _125d;},destroy:function(){this._sortDef=this._sortData=null;this._headerNodes=this._focusRegions=null;this.inherited(arguments);}});_1223.registerPlugin(_1224);return _1224;});},"dojox/grid/enhanced/plugins/Selector":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/keys","dojo/query","dojo/_base/html","dojo/_base/window","dijit/focus","../../_RowSelector","../_Plugin","../../EnhancedGrid","../../cells/_base","./AutoScroll"],function(dojo,lang,_125e,array,event,keys,query,html,win,_125f,_1260,_1261,_1262){var _1263=0,_1264=1,MULTI=2,_1265={col:"row",row:"col"},_1266=function(type,value,start,end,_1267){if(type!=="cell"){value=value[type];start=start[type];end=end[type];if(typeof value!=="number"||typeof start!=="number"||typeof end!=="number"){return false;}return _1267?((value>=start&&value<end)||(value>end&&value<=start)):((value>=start&&value<=end)||(value>=end&&value<=start));}else{return _1266("col",value,start,end,_1267)&&_1266("row",value,start,end,_1267);}},_1268=function(type,v1,v2){try{if(v1&&v2){switch(type){case "col":case "row":return v1[type]==v2[type]&&typeof v1[type]=="number"&&!(_1265[type] in v1)&&!(_1265[type] in v2);case "cell":return v1.col==v2.col&&v1.row==v2.row&&typeof v1.col=="number"&&typeof v1.row=="number";}}}catch(e){}return false;},_1269=function(evt){try{if(evt&&evt.preventDefault){event.stop(evt);}}catch(e){}},_126a=function(type,_126b,_126c){switch(type){case "col":return {"col":typeof _126c=="undefined"?_126b:_126c,"except":[]};case "row":return {"row":_126b,"except":[]};case "cell":return {"row":_126b,"col":_126c};}return null;};var _126d=_125e("dojox.grid.enhanced.plugins.Selector",_1261,{name:"selector",constructor:function(grid,args){this.grid=grid;this._config={row:MULTI,col:MULTI,cell:MULTI};this.noClear=args&&args.noClear;this.setupConfig(args);if(grid.selectionMode==="single"){this._config.row=_1264;}this._enabled=true;this._selecting={};this._selected={"col":[],"row":[],"cell":[]};this._startPoint={};this._currentPoint={};this._lastAnchorPoint={};this._lastEndPoint={};this._lastSelectedAnchorPoint={};this._lastSelectedEndPoint={};this._keyboardSelect={};this._lastType=null;this._selectedRowModified={};this._hacks();this._initEvents();this._initAreas();this._mixinGrid();},destroy:function(){this.inherited(arguments);},setupConfig:function(_126e){if(!_126e||!lang.isObject(_126e)){return;}var types=["row","col","cell"];for(var type in _126e){if(array.indexOf(types,type)>=0){if(!_126e[type]||_126e[type]=="disabled"){this._config[type]=_1263;}else{if(_126e[type]=="single"){this._config[type]=_1264;}else{this._config[type]=MULTI;}}}}var mode=["none","single","extended"][this._config.row];this.grid.selection.setMode(mode);},isSelected:function(type,_126f,_1270){return this._isSelected(type,_126a(type,_126f,_1270));},toggleSelect:function(type,_1271,_1272){this._startSelect(type,_126a(type,_1271,_1272),this._config[type]===MULTI,false,false,!this.isSelected(type,_1271,_1272));this._endSelect(type);},select:function(type,_1273,_1274){if(!this.isSelected(type,_1273,_1274)){this.toggleSelect(type,_1273,_1274);}},deselect:function(type,_1275,_1276){if(this.isSelected(type,_1275,_1276)){this.toggleSelect(type,_1275,_1276);}},selectRange:function(type,start,end,_1277){this.grid._selectingRange=true;var _1278=type=="cell"?_126a(type,start.row,start.col):_126a(type,start),_1279=type=="cell"?_126a(type,end.row,end.col):_126a(type,end);this._startSelect(type,_1278,false,false,false,_1277);this._highlight(type,_1279,_1277===undefined?true:_1277);this._endSelect(type);this.grid._selectingRange=false;},clear:function(type){this._clearSelection(type||"all");},isSelecting:function(type){if(typeof type=="undefined"){return this._selecting.col||this._selecting.row||this._selecting.cell;}return this._selecting[type];},selectEnabled:function(_127a){if(typeof _127a!="undefined"&&!this.isSelecting()){this._enabled=!!_127a;}return this._enabled;},getSelected:function(type,_127b){switch(type){case "cell":return array.map(this._selected[type],function(item){return item;});case "col":case "row":return array.map(_127b?this._selected[type]:array.filter(this._selected[type],function(item){return item.except.length===0;}),function(item){return _127b?item:item[type];});}return [];},getSelectedCount:function(type,_127c){switch(type){case "cell":return this._selected[type].length;case "col":case "row":return (_127c?this._selected[type]:array.filter(this._selected[type],function(item){return item.except.length===0;})).length;}return 0;},getSelectedType:function(){var s=this._selected;return ["","cell","row","row|cell","col","col|cell","col|row","col|row|cell"][(!!s.cell.length)|(!!s.row.length<<1)|(!!s.col.length<<2)];},getLastSelectedRange:function(type){return this._lastAnchorPoint[type]?{"start":this._lastAnchorPoint[type],"end":this._lastEndPoint[type]}:null;},_hacks:function(){var g=this.grid;var _127d=function(e){if(e.cellNode){g.onMouseUp(e);}g.onMouseUpRow(e);};var _127e=lang.hitch(g,"onMouseUp");var _127f=lang.hitch(g,"onMouseDown");var _1280=function(e){e.cellNode.style.border="solid 1px";};array.forEach(g.views.views,function(view){view.content.domouseup=_127d;view.header.domouseup=_127e;if(view.declaredClass=="dojox.grid._RowSelector"){view.domousedown=_127f;view.domouseup=_127e;view.dofocus=_1280;}});g.selection.clickSelect=function(){};this._oldDeselectAll=g.selection.deselectAll;var _1281=this;g.selection.selectRange=function(from,to){_1281.selectRange("row",from,to,true);if(g.selection.preserver){g.selection.preserver._updateMapping(true,true,false,from,to);}g.selection.onChanged();};g.selection.deselectRange=function(from,to){_1281.selectRange("row",from,to,false);if(g.selection.preserver){g.selection.preserver._updateMapping(true,false,false,from,to);}g.selection.onChanged();};g.selection.deselectAll=function(){g._selectingRange=true;_1281._oldDeselectAll.apply(g.selection,arguments);_1281._clearSelection("all");g._selectingRange=false;if(g.selection.preserver){g.selection.preserver._updateMapping(true,false,true);}g.selection.onChanged();};var _1282=g.views.views[0];if(_1282 instanceof _1260){_1282.doStyleRowNode=function(_1283,_1284){html.removeClass(_1284,"dojoxGridRow");html.addClass(_1284,"dojoxGridRowbar");html.addClass(_1284,"dojoxGridNonNormalizedCell");html.toggleClass(_1284,"dojoxGridRowbarOver",g.rows.isOver(_1283));html.toggleClass(_1284,"dojoxGridRowbarSelected",!!g.selection.isSelected(_1283));};}this.connect(g,"updateRow",function(_1285){array.forEach(g.layout.cells,function(cell){if(this.isSelected("cell",_1285,cell.index)){this._highlightNode(cell.getNode(_1285),true);}},this);});},_mixinGrid:function(){var g=this.grid;g.setupSelectorConfig=lang.hitch(this,this.setupConfig);g.onStartSelect=function(){};g.onEndSelect=function(){};g.onStartDeselect=function(){};g.onEndDeselect=function(){};g.onSelectCleared=function(){};},_initEvents:function(){var g=this.grid,_1286=this,dp=lang.partial,_1287=function(type,e){if(type==="row"){_1286._isUsingRowSelector=true;}if(_1286.selectEnabled()&&_1286._config[type]&&e.button!=2){if(_1286._keyboardSelect.col||_1286._keyboardSelect.row||_1286._keyboardSelect.cell){_1286._endSelect("all");_1286._keyboardSelect.col=_1286._keyboardSelect.row=_1286._keyboardSelect.cell=0;}if(_1286._usingKeyboard){_1286._usingKeyboard=false;}var _1288=_126a(type,e.rowIndex,e.cell&&e.cell.index);_1286._startSelect(type,_1288,e.ctrlKey,e.shiftKey);}},ender=lang.hitch(this,"_endSelect");this.connect(g,"onHeaderCellMouseDown",dp(_1287,"col"));this.connect(g,"onHeaderCellMouseUp",dp(ender,"col"));this.connect(g,"onRowSelectorMouseDown",dp(_1287,"row"));this.connect(g,"onRowSelectorMouseUp",dp(ender,"row"));this.connect(g,"onCellMouseDown",function(e){if(e.cell&&e.cell.isRowSelector){return;}if(g.singleClickEdit){_1286._singleClickEdit=true;g.singleClickEdit=false;}_1287(_1286._config["cell"]==_1263?"row":"cell",e);});this.connect(g,"onCellMouseUp",function(e){if(_1286._singleClickEdit){delete _1286._singleClickEdit;g.singleClickEdit=true;}ender("all",e);});this.connect(g,"onCellMouseOver",function(e){if(_1286._curType!="row"&&_1286._selecting[_1286._curType]&&_1286._config[_1286._curType]==MULTI){_1286._highlight("col",_126a("col",e.cell.index),_1286._toSelect);if(!_1286._keyboardSelect.cell){_1286._highlight("cell",_126a("cell",e.rowIndex,e.cell.index),_1286._toSelect);}}});this.connect(g,"onHeaderCellMouseOver",function(e){if(_1286._selecting.col&&_1286._config.col==MULTI){_1286._highlight("col",_126a("col",e.cell.index),_1286._toSelect);}});this.connect(g,"onRowMouseOver",function(e){if(_1286._selecting.row&&_1286._config.row==MULTI){_1286._highlight("row",_126a("row",e.rowIndex),_1286._toSelect);}});this.connect(g,"onSelectedById","_onSelectedById");this.connect(g,"_onFetchComplete",function(){if(!g._notRefreshSelection){this._refreshSelected(true);}});this.connect(g.scroller,"buildPage",function(){if(!g._notRefreshSelection){this._refreshSelected(true);}});this.connect(win.doc,"onmouseup",dp(ender,"all"));this.connect(g,"onEndAutoScroll",function(_1289,_128a,view,_128b){var _128c=_1286._selecting.cell,type,_128d,dir=_128a?1:-1;if(_1289&&(_128c||_1286._selecting.row)){type=_128c?"cell":"row";_128d=_1286._currentPoint[type];_1286._highlight(type,_126a(type,_128d.row+dir,_128d.col),_1286._toSelect);}else{if(!_1289&&(_128c||_1286._selecting.col)){type=_128c?"cell":"col";_128d=_1286._currentPoint[type];_1286._highlight(type,_126a(type,_128d.row,_128b),_1286._toSelect);}}});this.subscribe("dojox/grid/rearrange/move/"+g.id,"_onInternalRearrange");this.subscribe("dojox/grid/rearrange/copy/"+g.id,"_onInternalRearrange");this.subscribe("dojox/grid/rearrange/change/"+g.id,"_onExternalChange");this.subscribe("dojox/grid/rearrange/insert/"+g.id,"_onExternalChange");this.subscribe("dojox/grid/rearrange/remove/"+g.id,"clear");this.connect(g,"onSelected",function(_128e){if(this._selectedRowModified&&this._isUsingRowSelector){delete this._selectedRowModified;}else{if(!this.grid._selectingRange){this.select("row",_128e);}}});this.connect(g,"onDeselected",function(_128f){if(this._selectedRowModified&&this._isUsingRowSelector){delete this._selectedRowModified;}else{if(!this.grid._selectingRange){this.deselect("row",_128f);}}});},_onSelectedById:function(id,_1290,_1291){if(this.grid._noInternalMapping){return;}var _1292=[this._lastAnchorPoint.row,this._lastEndPoint.row,this._lastSelectedAnchorPoint.row,this._lastSelectedEndPoint.row];_1292=_1292.concat(this._selected.row);var found=false;array.forEach(_1292,function(item){if(item){if(item.id===id){found=true;item.row=_1290;}else{if(item.row===_1290&&item.id){item.row=-1;}}}});if(!found&&_1291){array.some(this._selected.row,function(item){if(item&&!item.id&&!item.except.length){item.id=id;item.row=_1290;return true;}return false;});}found=false;_1292=[this._lastAnchorPoint.cell,this._lastEndPoint.cell,this._lastSelectedAnchorPoint.cell,this._lastSelectedEndPoint.cell];_1292=_1292.concat(this._selected.cell);array.forEach(_1292,function(item){if(item){if(item.id===id){found=true;item.row=_1290;}else{if(item.row===_1290&&item.id){item.row=-1;}}}});},onSetStore:function(){this._clearSelection("all");},_onInternalRearrange:function(type,_1293){try{this._refresh("col",false);array.forEach(this._selected.row,function(item){array.forEach(this.grid.layout.cells,function(cell){this._highlightNode(cell.getNode(item.row),false);},this);},this);query(".dojoxGridRowSelectorSelected").forEach(function(node){html.removeClass(node,"dojoxGridRowSelectorSelected");html.removeClass(node,"dojoxGridRowSelectorSelectedUp");html.removeClass(node,"dojoxGridRowSelectorSelectedDown");});var _1294=function(item){if(item){delete item.converted;}},_1295=[this._lastAnchorPoint[type],this._lastEndPoint[type],this._lastSelectedAnchorPoint[type],this._lastSelectedEndPoint[type]];if(type==="cell"){this.selectRange("cell",_1293.to.min,_1293.to.max);var cells=this.grid.layout.cells;array.forEach(_1295,function(item){if(item.converted){return;}for(var r=_1293.from.min.row,tr=_1293.to.min.row;r<=_1293.from.max.row;++r,++tr){for(var c=_1293.from.min.col,tc=_1293.to.min.col;c<=_1293.from.max.col;++c,++tc){while(cells[c].hidden){++c;}while(cells[tc].hidden){++tc;}if(item.row==r&&item.col==c){item.row=tr;item.col=tc;item.converted=true;return;}}}});}else{_1295=this._selected.cell.concat(this._selected[type]).concat(_1295).concat([this._lastAnchorPoint.cell,this._lastEndPoint.cell,this._lastSelectedAnchorPoint.cell,this._lastSelectedEndPoint.cell]);array.forEach(_1295,function(item){if(item&&!item.converted){var from=item[type];if(from in _1293){item[type]=_1293[from];}item.converted=true;}});array.forEach(this._selected[_1265[type]],function(item){for(var i=0,len=item.except.length;i<len;++i){var from=item.except[i];if(from in _1293){item.except[i]=_1293[from];}}});}array.forEach(_1295,_1294);this._refreshSelected(true);this._focusPoint(type,this._lastEndPoint);}catch(e){console.warn("Selector._onInternalRearrange() error",e);}},_onExternalChange:function(type,_1296){var start=type=="cell"?_1296.min:_1296[0],end=type=="cell"?_1296.max:_1296[_1296.length-1];this.selectRange(type,start,end);},_refresh:function(type,_1297){if(!this._keyboardSelect[type]){array.forEach(this._selected[type],function(item){this._highlightSingle(type,_1297,item,undefined,true);},this);}},_refreshSelected:function(){this._refresh("col",true);this._refresh("row",true);this._refresh("cell",true);},_initAreas:function(){var g=this.grid,f=g.focus,_1298=this,_1299=1,_129a=2,_129b=function(type,_129c,_129d,_129e,evt){var ks=_1298._keyboardSelect;if(evt.shiftKey&&ks[type]){if(ks[type]===_1299){if(type==="cell"){var item=_1298._lastEndPoint[type];if(f.cell!=g.layout.cells[item.col+_129e]||f.rowIndex!=item.row+_129d){ks[type]=0;return;}}_1298._startSelect(type,_1298._lastAnchorPoint[type],true,false,true);_1298._highlight(type,_1298._lastEndPoint[type],_1298._toSelect);ks[type]=_129a;}var _129f=_129c(type,_129d,_129e,evt);if(_1298._isValid(type,_129f,g)){_1298._highlight(type,_129f,_1298._toSelect);}_1269(evt);}},_12a0=function(type,_12a1,evt,_12a2){if(_12a2&&_1298.selectEnabled()&&_1298._config[type]!=_1263){switch(evt.keyCode){case keys.SPACE:_1298._startSelect(type,_12a1(),evt.ctrlKey,evt.shiftKey);_1298._endSelect(type);break;case keys.SHIFT:if(_1298._config[type]==MULTI&&_1298._isValid(type,_1298._lastAnchorPoint[type],g)){_1298._endSelect(type);_1298._keyboardSelect[type]=_1299;_1298._usingKeyboard=true;}}}},_12a3=function(type,evt,_12a4){if(_12a4&&evt.keyCode==keys.SHIFT&&_1298._keyboardSelect[type]){_1298._endSelect(type);_1298._keyboardSelect[type]=0;}};if(g.views.views[0] instanceof _1260){this._lastFocusedRowBarIdx=0;f.addArea({name:"rowHeader",onFocus:function(evt,step){var view=g.views.views[0];if(view instanceof _1260){var _12a5=view.getCellNode(_1298._lastFocusedRowBarIdx,0);if(_12a5){html.toggleClass(_12a5,f.focusClass,false);}if(evt&&"rowIndex" in evt){if(evt.rowIndex>=0){_1298._lastFocusedRowBarIdx=evt.rowIndex;}else{if(!_1298._lastFocusedRowBarIdx){_1298._lastFocusedRowBarIdx=0;}}}_12a5=view.getCellNode(_1298._lastFocusedRowBarIdx,0);if(_12a5){_125f.focus(_12a5);html.toggleClass(_12a5,f.focusClass,true);}f.rowIndex=_1298._lastFocusedRowBarIdx;_1269(evt);return true;}return false;},onBlur:function(evt,step){var view=g.views.views[0];if(view instanceof _1260){var _12a6=view.getCellNode(_1298._lastFocusedRowBarIdx,0);if(_12a6){html.toggleClass(_12a6,f.focusClass,false);}_1269(evt);}return true;},onMove:function(_12a7,_12a8,evt){var view=g.views.views[0];if(_12a7&&view instanceof _1260){var next=_1298._lastFocusedRowBarIdx+_12a7;if(next>=0&&next<g.rowCount){_1269(evt);var _12a9=view.getCellNode(_1298._lastFocusedRowBarIdx,0);html.toggleClass(_12a9,f.focusClass,false);var sc=g.scroller;var _12aa=sc.getLastPageRow(sc.page);var rc=g.rowCount-1,row=Math.min(rc,next);if(next>_12aa){g.setScrollTop(g.scrollTop+sc.findScrollTop(row)-sc.findScrollTop(_1298._lastFocusedRowBarIdx));}_12a9=view.getCellNode(next,0);_125f.focus(_12a9);html.toggleClass(_12a9,f.focusClass,true);_1298._lastFocusedRowBarIdx=next;f.cell=_12a9;f.cell.view=view;f.cell.getNode=function(index){return f.cell;};f.rowIndex=_1298._lastFocusedRowBarIdx;f.scrollIntoView();f.cell=null;}}}});f.placeArea("rowHeader","before","content");}f.addArea({name:"cellselect",onMove:lang.partial(_129b,"cell",function(type,_12ab,_12ac,evt){var _12ad=_1298._currentPoint[type];return _126a("cell",_12ad.row+_12ab,_12ad.col+_12ac);}),onKeyDown:lang.partial(_12a0,"cell",function(){return _126a("cell",f.rowIndex,f.cell.index);}),onKeyUp:lang.partial(_12a3,"cell")});f.placeArea("cellselect","below","content");f.addArea({name:"colselect",onMove:lang.partial(_129b,"col",function(type,_12ae,_12af,evt){var _12b0=_1298._currentPoint[type];return _126a("col",_12b0.col+_12af);}),onKeyDown:lang.partial(_12a0,"col",function(){return _126a("col",f.getHeaderIndex());}),onKeyUp:lang.partial(_12a3,"col")});f.placeArea("colselect","below","header");f.addArea({name:"rowselect",onMove:lang.partial(_129b,"row",function(type,_12b1,_12b2,evt){return _126a("row",f.rowIndex);}),onKeyDown:lang.partial(_12a0,"row",function(){return _126a("row",f.rowIndex);}),onKeyUp:lang.partial(_12a3,"row")});f.placeArea("rowselect","below","rowHeader");},_clearSelection:function(type,_12b3){if(type=="all"){this._clearSelection("cell",_12b3);this._clearSelection("col",_12b3);this._clearSelection("row",_12b3);return;}this._isUsingRowSelector=true;array.forEach(this._selected[type],function(item){if(!_1268(type,_12b3,item)){this._highlightSingle(type,false,item);}},this);this._blurPoint(type,this._currentPoint);this._selecting[type]=false;this._startPoint[type]=this._currentPoint[type]=null;this._selected[type]=[];if(type=="row"&&!this.grid._selectingRange){this._oldDeselectAll.call(this.grid.selection);this.grid.selection._selectedById={};}this.grid.onEndDeselect(type,null,null,this._selected);this.grid.onSelectCleared(type);},_startSelect:function(type,start,_12b4,_12b5,_12b6,_12b7){if(!this._isValid(type,start)){return;}var _12b8=this._isSelected(type,this._lastEndPoint[type]),_12b9=this._isSelected(type,start);if(this.noClear&&!_12b4){this._toSelect=_12b7===undefined?true:_12b7;}else{this._toSelect=_12b6?_12b9:!_12b9;}if(!_12b4||(!_12b9&&this._config[type]==_1264)){this._clearSelection("col",start);this._clearSelection("cell",start);if(!this.noClear||(type==="row"&&this._config[type]==_1264)){this._clearSelection("row",start);}this._toSelect=_12b7===undefined?true:_12b7;}this._selecting[type]=true;this._currentPoint[type]=null;if(_12b5&&this._lastType==type&&_12b8==this._toSelect&&this._config[type]==MULTI){if(type==="row"){this._isUsingRowSelector=true;}this._startPoint[type]=this._lastAnchorPoint[type];this._highlight(type,this._startPoint[type]);this._isUsingRowSelector=false;}else{this._startPoint[type]=start;}this._curType=type;this._fireEvent("start",type);this._isStartFocus=true;this._isUsingRowSelector=true;this._highlight(type,start,this._toSelect);this._isStartFocus=false;},_endSelect:function(type){if(type==="row"){delete this._isUsingRowSelector;}if(type=="all"){this._endSelect("col");this._endSelect("row");this._endSelect("cell");}else{if(this._selecting[type]){this._addToSelected(type);this._lastAnchorPoint[type]=this._startPoint[type];this._lastEndPoint[type]=this._currentPoint[type];if(this._toSelect){this._lastSelectedAnchorPoint[type]=this._lastAnchorPoint[type];this._lastSelectedEndPoint[type]=this._lastEndPoint[type];}this._startPoint[type]=this._currentPoint[type]=null;this._selecting[type]=false;this._lastType=type;this._fireEvent("end",type);}}},_fireEvent:function(_12ba,type){switch(_12ba){case "start":this.grid[this._toSelect?"onStartSelect":"onStartDeselect"](type,this._startPoint[type],this._selected);break;case "end":this.grid[this._toSelect?"onEndSelect":"onEndDeselect"](type,this._lastAnchorPoint[type],this._lastEndPoint[type],this._selected);break;}},_calcToHighlight:function(type,_12bb,_12bc,_12bd){if(_12bd!==undefined){var sltd;if(this._usingKeyboard&&!_12bc){var last=this._isInLastRange(this._lastType,_12bb);if(last){sltd=this._isSelected(type,_12bb);if(_12bd&&sltd){return false;}if(!_12bd&&!sltd&&this._isInLastRange(this._lastType,_12bb,true)){return true;}}}return _12bc?_12bd:(sltd||this._isSelected(type,_12bb));}return _12bc;},_highlightNode:function(node,_12be){if(node){var _12bf="dojoxGridRowSelected";var _12c0="dojoxGridCellSelected";html.toggleClass(node,_12bf,_12be);html.toggleClass(node,_12c0,_12be);}},_highlightHeader:function(_12c1,_12c2){var cells=this.grid.layout.cells;var node=cells[_12c1].getHeaderNode();var _12c3="dojoxGridHeaderSelected";html.toggleClass(node,_12c3,_12c2);},_highlightRowSelector:function(_12c4,_12c5){var _12c6=this.grid.views.views[0];if(_12c6 instanceof _1260){var node=_12c6.getRowNode(_12c4);if(node){var _12c7="dojoxGridRowSelectorSelected";html.toggleClass(node,_12c7,_12c5);}}},_highlightSingle:function(type,_12c8,_12c9,_12ca,_12cb){var _12cc=this,toHL,g=_12cc.grid,cells=g.layout.cells;switch(type){case "cell":toHL=this._calcToHighlight(type,_12c9,_12c8,_12ca);var c=cells[_12c9.col];if(!c.hidden&&!c.notselectable){this._highlightNode(_12c9.node||c.getNode(_12c9.row),toHL);}break;case "col":toHL=this._calcToHighlight(type,_12c9,_12c8,_12ca);this._highlightHeader(_12c9.col,toHL);query("td[idx='"+_12c9.col+"']",g.domNode).forEach(function(_12cd){var _12ce=cells[_12c9.col].view.content.findRowTarget(_12cd);if(_12ce){var _12cf=_12ce[dojox.grid.util.rowIndexTag];_12cc._highlightSingle("cell",toHL,{"row":_12cf,"col":_12c9.col,"node":_12cd});}});break;case "row":toHL=this._calcToHighlight(type,_12c9,_12c8,_12ca);this._highlightRowSelector(_12c9.row,toHL);if(this._config.cell){array.forEach(cells,function(cell){_12cc._highlightSingle("cell",toHL,{"row":_12c9.row,"col":cell.index,"node":cell.getNode(_12c9.row)});});}this._selectedRowModified=true;if(!_12cb){g.selection.setSelected(_12c9.row,toHL);}}},_highlight:function(type,_12d0,_12d1){if(this._selecting[type]&&_12d0!==null){var start=this._startPoint[type],_12d2=this._currentPoint[type],_12d3=this,_12d4=function(from,to,toHL){_12d3._forEach(type,from,to,function(item){_12d3._highlightSingle(type,toHL,item,_12d1);},true);};switch(type){case "col":case "row":if(_12d2!==null){if(_1266(type,_12d0,start,_12d2,true)){_12d4(_12d2,_12d0,false);}else{if(_1266(type,start,_12d0,_12d2,true)){_12d4(_12d2,start,false);_12d2=start;}_12d4(_12d0,_12d2,true);}}else{this._highlightSingle(type,true,_12d0,_12d1);}break;case "cell":if(_12d2!==null){if(_1266("row",_12d0,start,_12d2,true)||_1266("col",_12d0,start,_12d2,true)||_1266("row",start,_12d0,_12d2,true)||_1266("col",start,_12d0,_12d2,true)){_12d4(start,_12d2,false);}}_12d4(start,_12d0,true);}this._currentPoint[type]=_12d0;this._focusPoint(type,this._currentPoint);}},_focusPoint:function(type,point){if(!this._isStartFocus){var _12d5=point[type],f=this.grid.focus;if(type=="col"){f._colHeadFocusIdx=_12d5.col;f.focusArea("header");}else{if(type=="row"){f.focusArea("rowHeader",{"rowIndex":_12d5.row});}else{if(type=="cell"){f.setFocusIndex(_12d5.row,_12d5.col);}}}}},_blurPoint:function(type,point){var f=this.grid.focus;if(type=="cell"){f._blurContent();}},_addToSelected:function(type){var _12d6=this._toSelect,_12d7=this,toAdd=[],_12d8=[],start=this._startPoint[type],end=this._currentPoint[type];if(this._usingKeyboard){this._forEach(type,this._lastAnchorPoint[type],this._lastEndPoint[type],function(item){if(!_1266(type,item,start,end)){(_12d6?_12d8:toAdd).push(item);}});}this._forEach(type,start,end,function(item){var _12d9=_12d7._isSelected(type,item);if(_12d6&&!_12d9){toAdd.push(item);}else{if(!_12d6){_12d8.push(item);}}});this._add(type,toAdd);this._remove(type,_12d8);array.forEach(this._selected.row,function(item){if(item.except.length>0){this._selectedRowModified=true;this.grid.selection.setSelected(item.row,false);}},this);},_forEach:function(type,start,end,func,_12da){if(!this._isValid(type,start,true)||!this._isValid(type,end,true)){return;}switch(type){case "col":case "row":start=start[type];end=end[type];var dir=end>start?1:-1;if(!_12da){end+=dir;}for(;start!=end;start+=dir){func(_126a(type,start));}break;case "cell":var _12db=end.col>start.col?1:-1,_12dc=end.row>start.row?1:-1;for(var i=start.row,p=end.row+_12dc;i!=p;i+=_12dc){for(var j=start.col,q=end.col+_12db;j!=q;j+=_12db){func(_126a(type,i,j));}}}},_makeupForExceptions:function(type,_12dd){var _12de=[];array.forEach(this._selected[type],function(v1){array.forEach(_12dd,function(v2){if(v1[type]==v2[type]){var pos=array.indexOf(v1.except,v2[_1265[type]]);if(pos>=0){v1.except.splice(pos,1);}_12de.push(v2);}});});return _12de;},_makeupForCells:function(type,_12df){var _12e0=[];array.forEach(this._selected.cell,function(v1){array.some(_12df,function(v2){if(v1[type]==v2[type]){_12e0.push(v1);return true;}return false;});});this._remove("cell",_12e0);array.forEach(this._selected[_1265[type]],function(v1){array.forEach(_12df,function(v2){var pos=array.indexOf(v1.except,v2[type]);if(pos>=0){v1.except.splice(pos,1);}});});},_addException:function(type,items){array.forEach(this._selected[type],function(v1){array.forEach(items,function(v2){v1.except.push(v2[_1265[type]]);});});},_addCellException:function(type,items){array.forEach(this._selected[type],function(v1){array.forEach(items,function(v2){if(v1[type]==v2[type]){v1.except.push(v2[_1265[type]]);}});});},_add:function(type,items){var cells=this.grid.layout.cells;if(type=="cell"){var _12e1=this._makeupForExceptions("col",items);var _12e2=this._makeupForExceptions("row",items);items=array.filter(items,function(item){return array.indexOf(_12e1,item)<0&&array.indexOf(_12e2,item)<0&&!cells[item.col].hidden&&!cells[item.col].notselectable;});}else{if(type=="col"){items=array.filter(items,function(item){return !cells[item.col].hidden&&!cells[item.col].notselectable;});}this._makeupForCells(type,items);this._selected[type]=array.filter(this._selected[type],function(v){return array.every(items,function(item){return v[type]!==item[type];});});}if(type!="col"&&this.grid._hasIdentity){array.forEach(items,function(item){var _12e3=this.grid._by_idx[item.row];if(_12e3){item.id=_12e3.idty;}},this);}this._selected[type]=this._selected[type].concat(items);},_remove:function(type,items){var comp=lang.partial(_1268,type);this._selected[type]=array.filter(this._selected[type],function(v1){return !array.some(items,function(v2){return comp(v1,v2);});});if(type=="cell"){this._addCellException("col",items);this._addCellException("row",items);}else{if(this._config.cell){this._addException(_1265[type],items);}}},_isCellNotInExcept:function(type,item){var attr=item[type],_12e4=item[_1265[type]];return array.some(this._selected[type],function(v){return v[type]==attr&&array.indexOf(v.except,_12e4)<0;});},_isSelected:function(type,item){if(!item){return false;}var res=array.some(this._selected[type],function(v){var ret=_1268(type,item,v);if(ret&&type!=="cell"){return v.except.length===0;}return ret;});if(!res&&type==="cell"){res=(this._isCellNotInExcept("col",item)||this._isCellNotInExcept("row",item));if(type==="cell"){res=res&&!this.grid.layout.cells[item.col].notselectable;}}return res;},_isInLastRange:function(type,item,_12e5){var start=this[_12e5?"_lastSelectedAnchorPoint":"_lastAnchorPoint"][type],end=this[_12e5?"_lastSelectedEndPoint":"_lastEndPoint"][type];if(!item||!start||!end){return false;}return _1266(type,item,start,end);},_isValid:function(type,item,_12e6){if(!item){return false;}try{var g=this.grid,index=item[type];switch(type){case "col":return index>=0&&index<g.layout.cells.length&&lang.isArray(item.except)&&(_12e6||!g.layout.cells[index].notselectable);case "row":return index>=0&&index<g.rowCount&&lang.isArray(item.except);case "cell":return item.col>=0&&item.col<g.layout.cells.length&&item.row>=0&&item.row<g.rowCount&&(_12e6||!g.layout.cells[item.col].notselectable);}}catch(e){}return false;}});_1262.registerPlugin(_126d,{"dependency":["autoScroll"]});return _126d;});},"dojox/grid/enhanced/plugins/AutoScroll":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/html","dojo/_base/window","../_Plugin","../../_RowSelector","../../EnhancedGrid"],function(_12e7,array,lang,html,win,_12e8,_12e9,_12ea){var _12eb=_12e7("dojox.grid.enhanced.plugins.AutoScroll",_12e8,{name:"autoScroll",autoScrollInterval:1000,autoScrollMargin:30,constructor:function(grid,args){this.grid=grid;this.readyForAutoScroll=false;this._scrolling=false;args=lang.isObject(args)?args:{};if("interval" in args){this.autoScrollInterval=args.interval;}if("margin" in args){this.autoScrollMargin=args.margin;}this._initEvents();this._mixinGrid();},_initEvents:function(){var g=this.grid;this.connect(g,"onCellMouseDown",function(){this.readyForAutoScroll=true;});this.connect(g,"onHeaderCellMouseDown",function(){this.readyForAutoScroll=true;});this.connect(g,"onRowSelectorMouseDown",function(){this.readyForAutoScroll=true;});this.connect(win.doc,"onmouseup",function(evt){this._manageAutoScroll(true);this.readyForAutoScroll=false;});this.connect(win.doc,"onmousemove",function(evt){if(this.readyForAutoScroll){this._event=evt;var _12ec=html.position(g.domNode),hh=g._getHeaderHeight(),_12ed=this.autoScrollMargin,ey=evt.clientY,ex=evt.clientX,gy=_12ec.y,gx=_12ec.x,gh=_12ec.h,gw=_12ec.w;if(ex>=gx&&ex<=gx+gw){if(ey>=gy+hh&&ey<gy+hh+_12ed){this._manageAutoScroll(false,true,false);return;}else{if(ey>gy+gh-_12ed&&ey<=gy+gh){this._manageAutoScroll(false,true,true);return;}else{if(ey>=gy&&ey<=gy+gh){var _12ee=array.some(g.views.views,function(view,i){if(view instanceof _12e9){return false;}var _12ef=html.position(view.domNode);if(ex<_12ef.x+_12ed&&ex>=_12ef.x){this._manageAutoScroll(false,false,false,view);return true;}else{if(ex>_12ef.x+_12ef.w-_12ed&&ex<_12ef.x+_12ef.w){this._manageAutoScroll(false,false,true,view);return true;}}return false;},this);if(_12ee){return;}}}}}this._manageAutoScroll(true);}});},_mixinGrid:function(){var g=this.grid;g.onStartAutoScroll=function(){};g.onEndAutoScroll=function(){};},_fireEvent:function(_12f0,args){var g=this.grid;switch(_12f0){case "start":g.onStartAutoScroll.apply(g,args);break;case "end":g.onEndAutoScroll.apply(g,args);break;}},_manageAutoScroll:function(_12f1,_12f2,_12f3,view){if(_12f1){this._scrolling=false;clearInterval(this._handler);}else{if(!this._scrolling){this._scrolling=true;this._fireEvent("start",[_12f2,_12f3,view]);this._autoScroll(_12f2,_12f3,view);this._handler=setInterval(lang.hitch(this,"_autoScroll",_12f2,_12f3,view),this.autoScrollInterval);}}},_autoScroll:function(_12f4,_12f5,view){var g=this.grid,_12f6=null;if(_12f4){var _12f7=g.scroller.firstVisibleRow+(_12f5?1:-1);if(_12f7>=0&&_12f7<g.rowCount){g.scrollToRow(_12f7);_12f6=_12f7;}}else{_12f6=this._scrollColumn(_12f5,view);}if(_12f6!==null){this._fireEvent("end",[_12f4,_12f5,view,_12f6,this._event]);}},_scrollColumn:function(_12f8,view){var node=view.scrollboxNode,_12f9=null;if(node.clientWidth<node.scrollWidth){var cells=array.filter(this.grid.layout.cells,function(cell){return !cell.hidden;});var _12fa=html.position(view.domNode);var limit,edge,_12fb,i;if(_12f8){limit=node.clientWidth;for(i=0;i<cells.length;++i){_12fb=html.position(cells[i].getHeaderNode());edge=_12fb.x-_12fa.x+_12fb.w;if(edge>limit){_12f9=cells[i].index;node.scrollLeft+=edge-limit+10;break;}}}else{limit=0;for(i=cells.length-1;i>=0;--i){_12fb=html.position(cells[i].getHeaderNode());edge=_12fb.x-_12fa.x;if(edge<limit){_12f9=cells[i].index;node.scrollLeft+=edge-limit-10;break;}}}}return _12f9;}});_12ea.registerPlugin(_12eb);return _12eb;});},"dojox/grid/enhanced/plugins/Menu":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/html","dojo/_base/event","dojo/keys","../_Plugin","../../EnhancedGrid"],function(_12fc,array,lang,html,evt,keys,_12fd,_12fe){var Menu=_12fc("dojox.grid.enhanced.plugins.Menu",_12fd,{name:"menus",types:["headerMenu","rowMenu","cellMenu","selectedRegionMenu"],constructor:function(){var g=this.grid;g.showMenu=lang.hitch(g,this.showMenu);g._setRowMenuAttr=lang.hitch(this,"_setRowMenuAttr");g._setCellMenuAttr=lang.hitch(this,"_setCellMenuAttr");g._setSelectedRegionMenuAttr=lang.hitch(this,"_setSelectedRegionMenuAttr");},onStartUp:function(){var type,_12ff=this.option;for(type in _12ff){if(array.indexOf(this.types,type)>=0&&_12ff[type]){this._initMenu(type,_12ff[type]);}}},_initMenu:function(_1300,menu){var g=this.grid;if(!g[_1300]){var m=this._getMenuWidget(menu);if(!m){return;}g.set(_1300,m);if(_1300!="headerMenu"){m._scheduleOpen=function(){return;};}else{g.setupHeaderMenu();}}},_getMenuWidget:function(menu){return (menu instanceof dijit.Menu)?menu:dijit.byId(menu);},_setRowMenuAttr:function(menu){this._setMenuAttr(menu,"rowMenu");},_setCellMenuAttr:function(menu){this._setMenuAttr(menu,"cellMenu");},_setSelectedRegionMenuAttr:function(menu){this._setMenuAttr(menu,"selectedRegionMenu");},_setMenuAttr:function(menu,_1301){var g=this.grid,n=g.domNode;if(!menu||!(menu instanceof dijit.Menu)){console.warn(_1301," of Grid ",g.id," is not existed!");return;}if(g[_1301]){g[_1301].unBindDomNode(n);}g[_1301]=menu;g[_1301].bindDomNode(n);},showMenu:function(e){var _1302=(e.cellNode&&html.hasClass(e.cellNode,"dojoxGridRowSelected")||e.rowNode&&(html.hasClass(e.rowNode,"dojoxGridRowSelected")||html.hasClass(e.rowNode,"dojoxGridRowbarSelected")));if(_1302&&this.selectedRegionMenu){this.onSelectedRegionContextMenu(e);return;}var info={target:e.target,coords:e.keyCode!==keys.F10&&"pageX" in e?{x:e.pageX,y:e.pageY}:null};if(this.rowMenu&&(!this.cellMenu||this.selection.isSelected(e.rowIndex)||e.rowNode&&html.hasClass(e.rowNode,"dojoxGridRowbar"))){this.rowMenu._openMyself(info);evt.stop(e);return;}if(this.cellMenu){this.cellMenu._openMyself(info);}evt.stop(e);},destroy:function(){var g=this.grid;if(g.headerMenu){g.headerMenu.unBindDomNode(g.viewsHeaderNode);}if(g.rowMenu){g.rowMenu.unBindDomNode(g.domNode);}if(g.cellMenu){g.cellMenu.unBindDomNode(g.domNode);}if(g.selectedRegionMenu){g.selectedRegionMenu.destroy();}this.inherited(arguments);}});_12fe.registerPlugin(Menu);return Menu;});},"dojox/grid/enhanced/plugins/DnD":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/array","dojo/_base/lang","dojo/_base/html","dojo/_base/json","dojo/_base/window","dojo/query","dojo/keys","dojo/dnd/Source","dojo/dnd/Avatar","../_Plugin","../../EnhancedGrid","dojo/dnd/Manager","./Selector","./Rearrange"],function(dojo,_1303,_1304,array,lang,html,json,win,query,keys,_1305,_1306,_1307,_1308,_1309){var _130a=function(a){a.sort(function(v1,v2){return v1-v2;});var arr=[[a[0]]];for(var i=1,j=0;i<a.length;++i){if(a[i]==a[i-1]+1){arr[j].push(a[i]);}else{arr[++j]=[a[i]];}}return arr;},_130b=function(_130c){var a=_130c[0];for(var i=1;i<_130c.length;++i){a=a.concat(_130c[i]);}return a;};var _130d=_1303("dojox.grid.enhanced.plugins.GridDnDElement",null,{constructor:function(_130e){this.plugin=_130e;this.node=html.create("div");this._items={};},destroy:function(){this.plugin=null;html.destroy(this.node);this.node=null;this._items=null;},createDnDNodes:function(_130f){this.destroyDnDNodes();var _1310=["grid/"+_130f.type+"s"];var _1311=this.plugin.grid.id+"_dndItem";array.forEach(_130f.selected,function(range,i){var id=_1311+i;this._items[id]={"type":_1310,"data":range,"dndPlugin":this.plugin};this.node.appendChild(html.create("div",{"id":id}));},this);},getDnDNodes:function(){return array.map(this.node.childNodes,function(node){return node;});},destroyDnDNodes:function(){html.empty(this.node);this._items={};},getItem:function(_1312){return this._items[_1312];}});var _1313=_1303("dojox.grid.enhanced.plugins.GridDnDSource",_1305,{accept:["grid/cells","grid/rows","grid/cols"],constructor:function(node,param){this.grid=param.grid;this.dndElem=param.dndElem;this.dndPlugin=param.dnd;this.sourcePlugin=null;},destroy:function(){this.inherited(arguments);this.grid=null;this.dndElem=null;this.dndPlugin=null;this.sourcePlugin=null;},getItem:function(_1314){return this.dndElem.getItem(_1314);},checkAcceptance:function(_1315,nodes){if(this!=_1315&&nodes[0]){var item=_1315.getItem(nodes[0].id);if(item.dndPlugin){var type=item.type;for(var j=0;j<type.length;++j){if(type[j] in this.accept){if(this.dndPlugin._canAccept(item.dndPlugin)){this.sourcePlugin=item.dndPlugin;}else{return false;}break;}}}else{if("grid/rows" in this.accept){var rows=[];array.forEach(nodes,function(node){var item=_1315.getItem(node.id);if(item.data&&array.indexOf(item.type,"grid/rows")>=0){var _1316=item.data;if(typeof item.data=="string"){_1316=json.fromJson(item.data);}if(_1316){rows.push(_1316);}}});if(rows.length){this.sourcePlugin={_dndRegion:{type:"row",selected:[rows]}};}else{return false;}}}}return this.inherited(arguments);},onDraggingOver:function(){this.dndPlugin.onDraggingOver(this.sourcePlugin);},onDraggingOut:function(){this.dndPlugin.onDraggingOut(this.sourcePlugin);},onDndDrop:function(_1317,nodes,copy,_1318){this.onDndCancel();if(this!=_1317&&this==_1318){this.dndPlugin.onDragIn(this.sourcePlugin,copy);}}});var _1319=_1303("dojox.grid.enhanced.plugins.GridDnDAvatar",_1306,{construct:function(){this._itemType=this.manager._dndPlugin._dndRegion.type;this._itemCount=this._getItemCount();this.isA11y=html.hasClass(win.body(),"dijit_a11y");var a=html.create("table",{"border":"0","cellspacing":"0","class":"dojoxGridDndAvatar","style":{position:"absolute",zIndex:"1999",margin:"0px"}}),_131a=this.manager.source,b=html.create("tbody",null,a),tr=html.create("tr",null,b),td=html.create("td",{"class":"dojoxGridDnDIcon"},tr);if(this.isA11y){html.create("span",{"id":"a11yIcon","innerHTML":this.manager.copy?"+":"<"},td);}td=html.create("td",{"class":"dojoxGridDnDItemIcon "+this._getGridDnDIconClass()},tr);td=html.create("td",null,tr);html.create("span",{"class":"dojoxGridDnDItemCount","innerHTML":_131a.generateText?this._generateText():""},td);html.style(tr,{"opacity":0.9});this.node=a;},_getItemCount:function(){var _131b=this.manager._dndPlugin._dndRegion.selected,count=0;switch(this._itemType){case "cell":_131b=_131b[0];var cells=this.manager._dndPlugin.grid.layout.cells,_131c=_131b.max.col-_131b.min.col+1,_131d=_131b.max.row-_131b.min.row+1;if(_131c>1){for(var i=_131b.min.col;i<=_131b.max.col;++i){if(cells[i].hidden){--_131c;}}}count=_131c*_131d;break;case "row":case "col":count=_130b(_131b).length;}return count;},_getGridDnDIconClass:function(){return {"row":["dojoxGridDnDIconRowSingle","dojoxGridDnDIconRowMulti"],"col":["dojoxGridDnDIconColSingle","dojoxGridDnDIconColMulti"],"cell":["dojoxGridDnDIconCellSingle","dojoxGridDnDIconCellMulti"]}[this._itemType][this._itemCount==1?0:1];},_generateText:function(){return "("+this._itemCount+")";}});var DnD=_1303("dojox.grid.enhanced.plugins.DnD",_1307,{name:"dnd",_targetAnchorBorderWidth:2,_copyOnly:false,_config:{"row":{"within":true,"in":true,"out":true},"col":{"within":true,"in":true,"out":true},"cell":{"within":true,"in":true,"out":true}},constructor:function(grid,args){this.grid=grid;this._config=lang.clone(this._config);args=lang.isObject(args)?args:{};this.setupConfig(args.dndConfig);this._copyOnly=!!args.copyOnly;this._mixinGrid();this.selector=grid.pluginMgr.getPlugin("selector");this.rearranger=grid.pluginMgr.getPlugin("rearrange");this.rearranger.setArgs(args);this._clear();this._elem=new _130d(this);this._source=new _1313(this._elem.node,{"grid":grid,"dndElem":this._elem,"dnd":this});this._container=query(".dojoxGridMasterView",this.grid.domNode)[0];this._initEvents();},destroy:function(){this.inherited(arguments);this._clear();this._source.destroy();this._elem.destroy();this._container=null;this.grid=null;this.selector=null;this.rearranger=null;this._config=null;},_mixinGrid:function(){this.grid.setupDnDConfig=lang.hitch(this,"setupConfig");this.grid.dndCopyOnly=lang.hitch(this,"copyOnly");},setupConfig:function(_131e){if(_131e&&lang.isObject(_131e)){var _131f=["row","col","cell"],_1320=["within","in","out"],cfg=this._config;array.forEach(_131f,function(type){if(type in _131e){var t=_131e[type];if(t&&lang.isObject(t)){array.forEach(_1320,function(mode){if(mode in t){cfg[type][mode]=!!t[mode];}});}else{array.forEach(_1320,function(mode){cfg[type][mode]=!!t;});}}});array.forEach(_1320,function(mode){if(mode in _131e){var m=_131e[mode];if(m&&lang.isObject(m)){array.forEach(_131f,function(type){if(type in m){cfg[type][mode]=!!m[type];}});}else{array.forEach(_131f,function(type){cfg[type][mode]=!!m;});}}});}},copyOnly:function(_1321){if(typeof _1321!="undefined"){this._copyOnly=!!_1321;}return this._copyOnly;},_isOutOfGrid:function(evt){var _1322=html.position(this.grid.domNode),x=evt.clientX,y=evt.clientY;return y<_1322.y||y>_1322.y+_1322.h||x<_1322.x||x>_1322.x+_1322.w;},_onMouseMove:function(evt){if(this._dndRegion&&!this._dnding&&!this._externalDnd){this._dnding=true;this._startDnd(evt);}else{if(this._isMouseDown&&!this._dndRegion){delete this._isMouseDown;this._oldCursor=html.style(win.body(),"cursor");html.style(win.body(),"cursor","not-allowed");}var isOut=this._isOutOfGrid(evt);if(!this._alreadyOut&&isOut){this._alreadyOut=true;if(this._dnding){this._destroyDnDUI(true,false);}this._moveEvent=evt;this._source.onOutEvent();}else{if(this._alreadyOut&&!isOut){this._alreadyOut=false;if(this._dnding){this._createDnDUI(evt,true);}this._moveEvent=evt;this._source.onOverEvent();}}}},_onMouseUp:function(){if(!this._extDnding&&!this._isSource){var _1323=this._dnding&&!this._alreadyOut;if(_1323&&this._config[this._dndRegion.type]["within"]){this._rearrange();}this._endDnd(_1323);}html.style(win.body(),"cursor",this._oldCursor||"");delete this._isMouseDown;},_initEvents:function(){var g=this.grid,s=this.selector;this.connect(win.doc,"onmousemove","_onMouseMove");this.connect(win.doc,"onmouseup","_onMouseUp");this.connect(g,"onCellMouseOver",function(evt){if(!this._dnding&&!s.isSelecting()&&!evt.ctrlKey){this._dndReady=s.isSelected("cell",evt.rowIndex,evt.cell.index);s.selectEnabled(!this._dndReady);}});this.connect(g,"onHeaderCellMouseOver",function(evt){if(this._dndReady){s.selectEnabled(true);}});this.connect(g,"onRowMouseOver",function(evt){if(this._dndReady&&!evt.cell){s.selectEnabled(true);}});this.connect(g,"onCellMouseDown",function(evt){if(!evt.ctrlKey&&this._dndReady){this._dndRegion=this._getDnDRegion(evt.rowIndex,evt.cell.index);this._isMouseDown=true;}});this.connect(g,"onCellMouseUp",function(evt){if(!this._dndReady&&!s.isSelecting()&&evt.cell){this._dndReady=s.isSelected("cell",evt.rowIndex,evt.cell.index);s.selectEnabled(!this._dndReady);}});this.connect(g,"onCellClick",function(evt){if(this._dndReady&&!evt.ctrlKey&&!evt.shiftKey){s.select("cell",evt.rowIndex,evt.cell.index);}});this.connect(g,"onEndAutoScroll",function(_1324,_1325,view,_1326,evt){if(this._dnding){this._markTargetAnchor(evt);}});this.connect(win.doc,"onkeydown",function(evt){if(evt.keyCode==keys.ESCAPE){this._endDnd(false);}else{if(evt.keyCode==keys.CTRL){s.selectEnabled(true);this._isCopy=true;}}});this.connect(win.doc,"onkeyup",function(evt){if(evt.keyCode==keys.CTRL){s.selectEnabled(!this._dndReady);this._isCopy=false;}});},_clear:function(){this._dndRegion=null;this._target=null;this._moveEvent=null;this._targetAnchor={};this._dnding=false;this._externalDnd=false;this._isSource=false;this._alreadyOut=false;this._extDnding=false;},_getDnDRegion:function(_1327,_1328){var s=this.selector,_1329=s._selected,flag=(!!_1329.cell.length)|(!!_1329.row.length<<1)|(!!_1329.col.length<<2),type;switch(flag){case 1:type="cell";if(!this._config[type]["within"]&&!this._config[type]["out"]){return null;}var cells=this.grid.layout.cells,_132a=function(range){var _132b=0;for(var i=range.min.col;i<=range.max.col;++i){if(cells[i].hidden){++_132b;}}return (range.max.row-range.min.row+1)*(range.max.col-range.min.col+1-_132b);},_132c=function(item,range){return item.row>=range.min.row&&item.row<=range.max.row&&item.col>=range.min.col&&item.col<=range.max.col;},range={max:{row:-1,col:-1},min:{row:Infinity,col:Infinity}};array.forEach(_1329[type],function(item){if(item.row<range.min.row){range.min.row=item.row;}if(item.row>range.max.row){range.max.row=item.row;}if(item.col<range.min.col){range.min.col=item.col;}if(item.col>range.max.col){range.max.col=item.col;}});if(array.some(_1329[type],function(item){return item.row==_1327&&item.col==_1328;})){if(_132a(range)==_1329[type].length&&array.every(_1329[type],function(item){return _132c(item,range);})){return {"type":type,"selected":[range],"handle":{"row":_1327,"col":_1328}};}}return null;case 2:case 4:type=flag==2?"row":"col";if(!this._config[type]["within"]&&!this._config[type]["out"]){return null;}var res=s.getSelected(type);if(res.length){return {"type":type,"selected":_130a(res),"handle":flag==2?_1327:_1328};}return null;}return null;},_startDnd:function(evt){this._createDnDUI(evt);},_endDnd:function(_132d){this._destroyDnDUI(false,_132d);this._clear();},_createDnDUI:function(evt,_132e){var _132f=html.position(this.grid.views.views[0].domNode);html.style(this._container,"height",_132f.h+"px");try{if(!_132e){this._createSource(evt);}this._createMoveable(evt);this._oldCursor=html.style(win.body(),"cursor");html.style(win.body(),"cursor","default");}catch(e){console.warn("DnD._createDnDUI() error:",e);}},_destroyDnDUI:function(_1330,_1331){try{if(_1331){this._destroySource();}this._unmarkTargetAnchor();if(!_1330){this._destroyMoveable();}html.style(win.body(),"cursor",this._oldCursor);}catch(e){console.warn("DnD._destroyDnDUI() error:",this.grid.id,e);}},_createSource:function(evt){this._elem.createDnDNodes(this._dndRegion);var m=_1309.manager();var _1332=m.makeAvatar;m._dndPlugin=this;m.makeAvatar=function(){var _1333=new _1319(m);delete m._dndPlugin;return _1333;};m.startDrag(this._source,this._elem.getDnDNodes(),evt.ctrlKey);m.makeAvatar=_1332;m.onMouseMove(evt);},_destroySource:function(){_1304.publish("/dnd/cancel");},_createMoveable:function(evt){if(!this._markTagetAnchorHandler){this._markTagetAnchorHandler=this.connect(win.doc,"onmousemove","_markTargetAnchor");}},_destroyMoveable:function(){this.disconnect(this._markTagetAnchorHandler);delete this._markTagetAnchorHandler;},_calcColTargetAnchorPos:function(evt,_1334){var i,_1335,left,_1336,ex=evt.clientX,cells=this.grid.layout.cells,ltr=html._isBodyLtr(),_1337=this._getVisibleHeaders();for(i=0;i<_1337.length;++i){_1335=html.position(_1337[i].node);if(ltr?((i===0||ex>=_1335.x)&&ex<_1335.x+_1335.w):((i===0||ex<_1335.x+_1335.w)&&ex>=_1335.x)){left=_1335.x+(ltr?0:_1335.w);break;}else{if(ltr?(i===_1337.length-1&&ex>=_1335.x+_1335.w):(i===_1337.length-1&&ex<_1335.x)){++i;left=_1335.x+(ltr?_1335.w:0);break;}}}if(i<_1337.length){_1336=_1337[i].cell.index;if(this.selector.isSelected("col",_1336)&&this.selector.isSelected("col",_1336-1)){var _1338=this._dndRegion.selected;for(i=0;i<_1338.length;++i){if(array.indexOf(_1338[i],_1336)>=0){_1336=_1338[i][0];_1335=html.position(cells[_1336].getHeaderNode());left=_1335.x+(ltr?0:_1335.w);break;}}}}else{_1336=cells.length;}this._target=_1336;return left-_1334.x;},_calcRowTargetAnchorPos:function(evt,_1339){var g=this.grid,top,i=0,cells=g.layout.cells;while(cells[i].hidden){++i;}var cell=g.layout.cells[i],_133a=g.scroller.firstVisibleRow,_133b=cell.getNode(_133a);if(!_133b){this._target=-1;return 0;}var _133c=html.position(_133b);while(_133c.y+_133c.h<evt.clientY){if(++_133a>=g.rowCount){break;}_133c=html.position(cell.getNode(_133a));}if(_133a<g.rowCount){if(this.selector.isSelected("row",_133a)&&this.selector.isSelected("row",_133a-1)){var _133d=this._dndRegion.selected;for(i=0;i<_133d.length;++i){if(array.indexOf(_133d[i],_133a)>=0){_133a=_133d[i][0];_133c=html.position(cell.getNode(_133a));break;}}}top=_133c.y;}else{top=_133c.y+_133c.h;}this._target=_133a;return top-_1339.y;},_calcCellTargetAnchorPos:function(evt,_133e,_133f){var s=this._dndRegion.selected[0],_1340=this._dndRegion.handle,g=this.grid,ltr=html._isBodyLtr(),cells=g.layout.cells,_1341,_1342,_1343,_1344,_1345,width,left,top,_1346,_1347,i,_1348=_1340.col-s.min.col,_1349=s.max.col-_1340.col,_134a,_134b;if(!_133f.childNodes.length){_134a=html.create("div",{"class":"dojoxGridCellBorderLeftTopDIV"},_133f);_134b=html.create("div",{"class":"dojoxGridCellBorderRightBottomDIV"},_133f);}else{_134a=query(".dojoxGridCellBorderLeftTopDIV",_133f)[0];_134b=query(".dojoxGridCellBorderRightBottomDIV",_133f)[0];}for(i=s.min.col+1;i<_1340.col;++i){if(cells[i].hidden){--_1348;}}for(i=_1340.col+1;i<s.max.col;++i){if(cells[i].hidden){--_1349;}}_1344=this._getVisibleHeaders();for(i=_1348;i<_1344.length-_1349;++i){_1341=html.position(_1344[i].node);if((evt.clientX>=_1341.x&&evt.clientX<_1341.x+_1341.w)||(i==_1348&&(ltr?evt.clientX<_1341.x:evt.clientX>=_1341.x+_1341.w))||(i==_1344.length-_1349-1&&(ltr?evt.clientX>=_1341.x+_1341.w:evt<_1341.x))){_1346=_1344[i-_1348];_1347=_1344[i+_1349];_1342=html.position(_1346.node);_1343=html.position(_1347.node);_1346=_1346.cell.index;_1347=_1347.cell.index;left=ltr?_1342.x:_1343.x;width=ltr?(_1343.x+_1343.w-_1342.x):(_1342.x+_1342.w-_1343.x);break;}}i=0;while(cells[i].hidden){++i;}var cell=cells[i],_134c=g.scroller.firstVisibleRow,_134d=html.position(cell.getNode(_134c));while(_134d.y+_134d.h<evt.clientY){if(++_134c<g.rowCount){_134d=html.position(cell.getNode(_134c));}else{break;}}var _134e=_134c>=_1340.row-s.min.row?_134c-_1340.row+s.min.row:0;var _134f=_134e+s.max.row-s.min.row;if(_134f>=g.rowCount){_134f=g.rowCount-1;_134e=_134f-s.max.row+s.min.row;}_1342=html.position(cell.getNode(_134e));_1343=html.position(cell.getNode(_134f));top=_1342.y;_1345=_1343.y+_1343.h-_1342.y;this._target={"min":{"row":_134e,"col":_1346},"max":{"row":_134f,"col":_1347}};var _1350=(html.marginBox(_134a).w-html.contentBox(_134a).w)/2;var _1351=html.position(cells[_1346].getNode(_134e));html.style(_134a,{"width":(_1351.w-_1350)+"px","height":(_1351.h-_1350)+"px"});var _1352=html.position(cells[_1347].getNode(_134f));html.style(_134b,{"width":(_1352.w-_1350)+"px","height":(_1352.h-_1350)+"px"});return {h:_1345,w:width,l:left-_133e.x,t:top-_133e.y};},_markTargetAnchor:function(evt){try{var t=this._dndRegion.type;if(this._alreadyOut||(this._dnding&&!this._config[t]["within"])||(this._extDnding&&!this._config[t]["in"])){return;}var _1353,width,left,top,_1354=this._targetAnchor[t],pos=html.position(this._container);if(!_1354){_1354=this._targetAnchor[t]=html.create("div",{"class":(t=="cell")?"dojoxGridCellBorderDIV":"dojoxGridBorderDIV"});html.style(_1354,"display","none");this._container.appendChild(_1354);}switch(t){case "col":_1353=pos.h;width=this._targetAnchorBorderWidth;left=this._calcColTargetAnchorPos(evt,pos);top=0;break;case "row":_1353=this._targetAnchorBorderWidth;width=pos.w;left=0;top=this._calcRowTargetAnchorPos(evt,pos);break;case "cell":var _1355=this._calcCellTargetAnchorPos(evt,pos,_1354);_1353=_1355.h;width=_1355.w;left=_1355.l;top=_1355.t;}if(typeof _1353=="number"&&typeof width=="number"&&typeof left=="number"&&typeof top=="number"){html.style(_1354,{"height":_1353+"px","width":width+"px","left":left+"px","top":top+"px"});html.style(_1354,"display","");}else{this._target=null;}}catch(e){console.warn("DnD._markTargetAnchor() error:",e);}},_unmarkTargetAnchor:function(){if(this._dndRegion){var _1356=this._targetAnchor[this._dndRegion.type];if(_1356){html.style(this._targetAnchor[this._dndRegion.type],"display","none");}}},_getVisibleHeaders:function(){return array.map(array.filter(this.grid.layout.cells,function(cell){return !cell.hidden;}),function(cell){return {"node":cell.getHeaderNode(),"cell":cell};});},_rearrange:function(){if(this._target===null){return;}var t=this._dndRegion.type;var _1357=this._dndRegion.selected;if(t==="cell"){this.rearranger[(this._isCopy||this._copyOnly)?"copyCells":"moveCells"](_1357[0],this._target===-1?null:this._target);}else{this.rearranger[t=="col"?"moveColumns":"moveRows"](_130b(_1357),this._target===-1?null:this._target);}this._target=null;},onDraggingOver:function(_1358){if(!this._dnding&&_1358){_1358._isSource=true;this._extDnding=true;if(!this._externalDnd){this._externalDnd=true;this._dndRegion=this._mapRegion(_1358.grid,_1358._dndRegion);}this._createDnDUI(this._moveEvent,true);this.grid.pluginMgr.getPlugin("autoScroll").readyForAutoScroll=true;}},_mapRegion:function(_1359,_135a){if(_135a.type==="cell"){var _135b=_135a.selected[0];var cells=this.grid.layout.cells;var _135c=_1359.layout.cells;var c,cnt=0;for(c=_135b.min.col;c<=_135b.max.col;++c){if(!_135c[c].hidden){++cnt;}}for(c=0;cnt>0;++c){if(!cells[c].hidden){--cnt;}}var _135d=lang.clone(_135a);_135d.selected[0].min.col=0;_135d.selected[0].max.col=c-1;for(c=_135b.min.col;c<=_135a.handle.col;++c){if(!_135c[c].hidden){++cnt;}}for(c=0;cnt>0;++c){if(!cells[c].hidden){--cnt;}}_135d.handle.col=c;}return _135a;},onDraggingOut:function(_135e){if(this._externalDnd){this._extDnding=false;this._destroyDnDUI(true,false);if(_135e){_135e._isSource=false;}}},onDragIn:function(_135f,_1360){var _1361=false;if(this._target!==null){var type=_135f._dndRegion.type;var _1362=_135f._dndRegion.selected;switch(type){case "cell":this.rearranger.changeCells(_135f.grid,_1362[0],this._target);break;case "row":var range=_130b(_1362);this.rearranger.insertRows(_135f.grid,range,this._target);break;}_1361=true;}this._endDnd(true);if(_135f.onDragOut){_135f.onDragOut(_1361&&!_1360);}},onDragOut:function(_1363){if(_1363&&!this._copyOnly){var type=this._dndRegion.type;var _1364=this._dndRegion.selected;switch(type){case "cell":this.rearranger.clearCells(_1364[0]);break;case "row":this.rearranger.removeRows(_130b(_1364));break;}}this._endDnd(true);},_canAccept:function(_1365){if(!_1365){return false;}var _1366=_1365._dndRegion;var type=_1366.type;if(!this._config[type]["in"]||!_1365._config[type]["out"]){return false;}var g=this.grid;var _1367=_1366.selected;var _1368=array.filter(g.layout.cells,function(cell){return !cell.hidden;}).length;var _1369=g.rowCount;var res=true;switch(type){case "cell":_1367=_1367[0];res=g.store.getFeatures()["dojo.data.api.Write"]&&(_1367.max.row-_1367.min.row)<=_1369&&array.filter(_1365.grid.layout.cells,function(cell){return cell.index>=_1367.min.col&&cell.index<=_1367.max.col&&!cell.hidden;}).length<=_1368;case "row":if(_1365._allDnDItemsLoaded()){return res;}}return false;},_allDnDItemsLoaded:function(){if(this._dndRegion){var type=this._dndRegion.type,_136a=this._dndRegion.selected,rows=[];switch(type){case "cell":for(var i=_136a[0].min.row,max=_136a[0].max.row;i<=max;++i){rows.push(i);}break;case "row":rows=_130b(_136a);break;default:return false;}var cache=this.grid._by_idx;return array.every(rows,function(_136b){return !!cache[_136b];});}return false;}});_1308.registerPlugin(DnD,{"dependency":["selector","rearrange"]});return DnD;});},"dojox/grid/enhanced/plugins/Rearrange":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","../../EnhancedGrid","../_Plugin","./_RowMapLayer"],function(dojo,lang,_136c,array,_136d,_136e,_136f,_1370){var _1371=_136c("dojox.grid.enhanced.plugins.Rearrange",_136f,{name:"rearrange",constructor:function(grid,args){this.grid=grid;this.setArgs(args);var _1372=new _1370(grid);dojox.grid.enhanced.plugins.wrap(grid,"_storeLayerFetch",_1372);},setArgs:function(args){this.args=lang.mixin(this.args||{},args||{});this.args.setIdentifierForNewItem=this.args.setIdentifierForNewItem||function(v){return v;};},destroy:function(){this.inherited(arguments);this.grid.unwrap("rowmap");},onSetStore:function(store){this.grid.layer("rowmap").clearMapping();},_hasIdentity:function(_1373){var g=this.grid,s=g.store,cells=g.layout.cells;if(s.getFeatures()["dojo.data.api.Identity"]){if(array.some(_1373,function(point){return s.getIdentityAttributes(g._by_idx[point.r].item)==cells[point.c].field;})){return true;}}return false;},moveColumns:function(_1374,_1375){var g=this.grid,_1376=g.layout,cells=_1376.cells,_1377,i,delta=0,_1378=true,tmp={},_1379={};_1374.sort(function(a,b){return a-b;});for(i=0;i<_1374.length;++i){tmp[_1374[i]]=i;if(_1374[i]<_1375){++delta;}}var _137a=0,_137b=0;var _137c=Math.max(_1374[_1374.length-1],_1375);if(_137c==cells.length){--_137c;}var _137d=Math.min(_1374[0],_1375);for(i=_137d;i<=_137c;++i){var j=tmp[i];if(j>=0){_1379[i]=_1375-delta+j;}else{if(i<_1375){_1379[i]=_137d+_137a;++_137a;}else{if(i>=_1375){_1379[i]=_1375+_1374.length-delta+_137b;++_137b;}}}}delta=0;if(_1375==cells.length){--_1375;_1378=false;}g._notRefreshSelection=true;for(i=0;i<_1374.length;++i){_1377=_1374[i];if(_1377<_1375){_1377-=delta;}++delta;if(_1377!=_1375){_1376.moveColumn(cells[_1377].view.idx,cells[_1375].view.idx,_1377,_1375,_1378);cells=_1376.cells;}if(_1375<=_1377){++_1375;}}delete g._notRefreshSelection;_136d.publish("dojox/grid/rearrange/move/"+g.id,["col",_1379,_1374]);},moveRows:function(_137e,_137f){var g=this.grid,_1380={},_1381=[],_1382=[],len=_137e.length,i,r,k,arr,_1383,_1384;for(i=0;i<len;++i){r=_137e[i];if(r>=_137f){break;}_1381.push(r);}_1382=_137e.slice(i);arr=_1381;len=arr.length;if(len){_1383={};array.forEach(arr,function(r){_1383[r]=true;});_1380[arr[0]]=_137f-len;for(k=0,i=arr[k]+1,_1384=i-1;i<_137f;++i){if(!_1383[i]){_1380[i]=_1384;++_1384;}else{++k;_1380[i]=_137f-len+k;}}}arr=_1382;len=arr.length;if(len){_1383={};array.forEach(arr,function(r){_1383[r]=true;});_1380[arr[len-1]]=_137f+len-1;for(k=len-1,i=arr[k]-1,_1384=i+1;i>=_137f;--i){if(!_1383[i]){_1380[i]=_1384;--_1384;}else{--k;_1380[i]=_137f+k;}}}var _1385=lang.clone(_1380);g.layer("rowmap").setMapping(_1380);g.forEachLayer(function(layer){if(layer.name()!="rowmap"){layer.invalidate();return true;}else{return false;}},false);g.selection.selected=[];g._noInternalMapping=true;g._refresh();setTimeout(function(){_136d.publish("dojox/grid/rearrange/move/"+g.id,["row",_1385,_137e]);g._noInternalMapping=false;},0);},moveCells:function(_1386,_1387){var g=this.grid,s=g.store;if(s.getFeatures()["dojo.data.api.Write"]){if(_1386.min.row==_1387.min.row&&_1386.min.col==_1387.min.col){return;}var cells=g.layout.cells,cnt=_1386.max.row-_1386.min.row+1,r,c,tr,tc,_1388=[],_1389=[];for(r=_1386.min.row,tr=_1387.min.row;r<=_1386.max.row;++r,++tr){for(c=_1386.min.col,tc=_1387.min.col;c<=_1386.max.col;++c,++tc){while(cells[c]&&cells[c].hidden){++c;}while(cells[tc]&&cells[tc].hidden){++tc;}_1388.push({"r":r,"c":c});_1389.push({"r":tr,"c":tc,"v":cells[c].get(r,g._by_idx[r].item)});}}if(this._hasIdentity(_1388.concat(_1389))){console.warn("Can not write to identity!");return;}array.forEach(_1388,function(point){s.setValue(g._by_idx[point.r].item,cells[point.c].field,"");});array.forEach(_1389,function(point){s.setValue(g._by_idx[point.r].item,cells[point.c].field,point.v);});s.save({onComplete:function(){_136d.publish("dojox/grid/rearrange/move/"+g.id,["cell",{"from":_1386,"to":_1387}]);}});}},copyCells:function(_138a,_138b){var g=this.grid,s=g.store;if(s.getFeatures()["dojo.data.api.Write"]){if(_138a.min.row==_138b.min.row&&_138a.min.col==_138b.min.col){return;}var cells=g.layout.cells,cnt=_138a.max.row-_138a.min.row+1,r,c,tr,tc,_138c=[];for(r=_138a.min.row,tr=_138b.min.row;r<=_138a.max.row;++r,++tr){for(c=_138a.min.col,tc=_138b.min.col;c<=_138a.max.col;++c,++tc){while(cells[c]&&cells[c].hidden){++c;}while(cells[tc]&&cells[tc].hidden){++tc;}_138c.push({"r":tr,"c":tc,"v":cells[c].get(r,g._by_idx[r].item)});}}if(this._hasIdentity(_138c)){console.warn("Can not write to identity!");return;}array.forEach(_138c,function(point){s.setValue(g._by_idx[point.r].item,cells[point.c].field,point.v);});s.save({onComplete:function(){setTimeout(function(){_136d.publish("dojox/grid/rearrange/copy/"+g.id,["cell",{"from":_138a,"to":_138b}]);},0);}});}},changeCells:function(_138d,_138e,_138f){var g=this.grid,s=g.store;if(s.getFeatures()["dojo.data.api.Write"]){var srcg=_138d,cells=g.layout.cells,_1390=srcg.layout.cells,cnt=_138e.max.row-_138e.min.row+1,r,c,tr,tc,_1391=[];for(r=_138e.min.row,tr=_138f.min.row;r<=_138e.max.row;++r,++tr){for(c=_138e.min.col,tc=_138f.min.col;c<=_138e.max.col;++c,++tc){while(_1390[c]&&_1390[c].hidden){++c;}while(cells[tc]&&cells[tc].hidden){++tc;}_1391.push({"r":tr,"c":tc,"v":_1390[c].get(r,srcg._by_idx[r].item)});}}if(this._hasIdentity(_1391)){console.warn("Can not write to identity!");return;}array.forEach(_1391,function(point){s.setValue(g._by_idx[point.r].item,cells[point.c].field,point.v);});s.save({onComplete:function(){_136d.publish("dojox/grid/rearrange/change/"+g.id,["cell",_138f]);}});}},clearCells:function(_1392){var g=this.grid,s=g.store;if(s.getFeatures()["dojo.data.api.Write"]){var cells=g.layout.cells,cnt=_1392.max.row-_1392.min.row+1,r,c,_1393=[];for(r=_1392.min.row;r<=_1392.max.row;++r){for(c=_1392.min.col;c<=_1392.max.col;++c){while(cells[c]&&cells[c].hidden){++c;}_1393.push({"r":r,"c":c});}}if(this._hasIdentity(_1393)){console.warn("Can not write to identity!");return;}array.forEach(_1393,function(point){s.setValue(g._by_idx[point.r].item,cells[point.c].field,"");});s.save({onComplete:function(){_136d.publish("dojox/grid/rearrange/change/"+g.id,["cell",_1392]);}});}},insertRows:function(_1394,_1395,_1396){try{var g=this.grid,s=g.store,_1397=g.rowCount,_1398={},obj={idx:0},_1399=[],i,_139a=_1396<0,_139b=this,len=_1395.length;if(_139a){_1396=0;}else{for(i=_1396;i<g.rowCount;++i){_1398[i]=i+len;}}if(s.getFeatures()["dojo.data.api.Write"]){if(_1394){var srcg=_1394,srcs=srcg.store,_139c,attrs;if(!_139a){for(i=0;!_139c;++i){_139c=g._by_idx[i];}attrs=s.getAttributes(_139c.item);}else{attrs=array.filter(array.map(g.layout.cells,function(cell){return cell.field;}),function(field){return field;});}var _139d=[];array.forEach(_1395,function(_139e,i){var item={};var _139f=srcg._by_idx[_139e];if(_139f){array.forEach(attrs,function(attr){item[attr]=srcs.getValue(_139f.item,attr);});item=_139b.args.setIdentifierForNewItem(item,s,_1397+obj.idx)||item;try{s.newItem(item);_1399.push(_1396+i);_1398[_1397+obj.idx]=_1396+i;++obj.idx;}catch(e){}}else{_139d.push(_139e);}});}else{if(_1395.length&&lang.isObject(_1395[0])){array.forEach(_1395,function(_13a0,i){var item=_139b.args.setIdentifierForNewItem(_13a0,s,_1397+obj.idx)||_13a0;try{s.newItem(item);_1399.push(_1396+i);_1398[_1397+obj.idx]=_1396+i;++obj.idx;}catch(e){}});}else{return;}}g.layer("rowmap").setMapping(_1398);s.save({onComplete:function(){g._refresh();setTimeout(function(){_136d.publish("dojox/grid/rearrange/insert/"+g.id,["row",_1399]);},0);}});}}catch(e){}},removeRows:function(_13a1){var g=this.grid;var s=g.store;try{array.forEach(array.map(_13a1,function(_13a2){return g._by_idx[_13a2];}),function(row){if(row){s.deleteItem(row.item);}});s.save({onComplete:function(){_136d.publish("dojox/grid/rearrange/remove/"+g.id,["row",_13a1]);}});}catch(e){}},_getPageInfo:function(){var _13a3=this.grid.scroller,_13a4=_13a3.page,_13a5=_13a3.page,_13a6=_13a3.firstVisibleRow,_13a7=_13a3.lastVisibleRow,_13a8=_13a3.rowsPerPage,_13a9=_13a3.pageNodes[0],_13aa,_13ab,_13ac,_13ad=[];array.forEach(_13a9,function(page,_13ae){if(!page){return;}_13ac=false;_13aa=_13ae*_13a8;_13ab=(_13ae+1)*_13a8-1;if(_13a6>=_13aa&&_13a6<=_13ab){_13a4=_13ae;_13ac=true;}if(_13a7>=_13aa&&_13a7<=_13ab){_13a5=_13ae;_13ac=true;}if(!_13ac&&(_13aa>_13a7||_13ab<_13a6)){_13ad.push(_13ae);}});return {topPage:_13a4,bottomPage:_13a5,invalidPages:_13ad};}});_136e.registerPlugin(_1371);return _1371;});},"dojox/grid/enhanced/plugins/_RowMapLayer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./_StoreLayer"],function(array,_13af,_13b0,lang,_13b1){var _13b2=function(a){a.sort(function(v1,v2){return v1-v2;});var arr=[[a[0]]];for(var i=1,j=0;i<a.length;++i){if(a[i]==a[i-1]+1){arr[j].push(a[i]);}else{arr[++j]=[a[i]];}}return arr;},_13b3=function(scope,func){return func?lang.hitch(scope||_13b0.global,func):function(){};};return _13af("dojox.grid.enhanced.plugins._RowMapLayer",_13b1._StoreLayer,{tags:["reorder"],constructor:function(grid){this._map={};this._revMap={};this.grid=grid;this._oldOnDelete=grid._onDelete;var _13b4=this;grid._onDelete=function(item){_13b4._onDelete(item);_13b4._oldOnDelete.call(grid,item);};this._oldSort=grid.sort;grid.sort=function(){_13b4.clearMapping();_13b4._oldSort.apply(grid,arguments);};},uninitialize:function(){this.grid._onDelete=this._oldOnDelete;this.grid.sort=this._oldSort;},setMapping:function(_13b5){this._store.forEachLayer(function(layer){if(layer.name()==="rowmap"){return false;}else{if(layer.onRowMappingChange){layer.onRowMappingChange(_13b5);}}return true;},false);var from,to,_13b6,_13b7={};for(from in _13b5){from=parseInt(from,10);to=_13b5[from];if(typeof to=="number"){if(from in this._revMap){_13b6=this._revMap[from];delete this._revMap[from];}else{_13b6=from;}if(_13b6==to){delete this._map[_13b6];_13b7[to]="eq";}else{this._map[_13b6]=to;_13b7[to]=_13b6;}}}for(to in _13b7){if(_13b7[to]==="eq"){delete this._revMap[parseInt(to,10)];}else{this._revMap[parseInt(to,10)]=_13b7[to];}}},clearMapping:function(){this._map={};this._revMap={};},_onDelete:function(item){var idx=this.grid._getItemIndex(item,true);if(idx in this._revMap){var _13b8=[],r,i,_13b9=this._revMap[idx];delete this._map[_13b9];delete this._revMap[idx];for(r in this._revMap){r=parseInt(r,10);if(this._revMap[r]>_13b9){--this._revMap[r];}}for(r in this._revMap){r=parseInt(r,10);if(r>idx){_13b8.push(r);}}_13b8.sort(function(a,b){return b-a;});for(i=_13b8.length-1;i>=0;--i){r=_13b8[i];this._revMap[r-1]=this._revMap[r];delete this._revMap[r];}this._map={};for(r in this._revMap){this._map[this._revMap[r]]=r;}}},_fetch:function(_13ba){var _13bb=0,r;var start=_13ba.start||0;for(r in this._revMap){r=parseInt(r,10);if(r>=start){++_13bb;}}if(_13bb>0){var rows=[],i,map={},count=_13ba.count>0?_13ba.count:-1;if(count>0){for(i=0;i<count;++i){r=start+i;r=r in this._revMap?this._revMap[r]:r;map[r]=i;rows.push(r);}}else{for(i=0;;++i){r=start+i;if(r in this._revMap){--_13bb;r=this._revMap[r];}map[r]=i;rows.push(r);if(_13bb<=0){break;}}}this._subFetch(_13ba,this._getRowArrays(rows),0,[],map,_13ba.onComplete,start,count);return _13ba;}else{return lang.hitch(this._store,this._originFetch)(_13ba);}},_getRowArrays:function(rows){return _13b2(rows);},_subFetch:function(_13bc,_13bd,index,_13be,map,_13bf,start,count){var arr=_13bd[index],_13c0=this;var _13c1=_13bc.start=arr[0];_13bc.count=arr[arr.length-1]-arr[0]+1;_13bc.onComplete=function(items){array.forEach(items,function(item,i){var r=_13c1+i;if(r in map){_13be[map[r]]=item;}});if(++index==_13bd.length){if(count>0){_13bc.start=start;_13bc.count=count;_13bc.onComplete=_13bf;_13b3(_13bc.scope,_13bf)(_13be,_13bc);}else{_13bc.start=_13bc.start+items.length;delete _13bc.count;_13bc.onComplete=function(items){_13be=_13be.concat(items);_13bc.start=start;_13bc.onComplete=_13bf;_13b3(_13bc.scope,_13bf)(_13be,_13bc);};_13c0.originFetch(_13bc);}}else{_13c0._subFetch(_13bc,_13bd,index,_13be,map,_13bf,start,count);}};_13c0.originFetch(_13bc);}});});},"dojox/grid/enhanced/plugins/Search":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/data/util/filter","../../EnhancedGrid","../_Plugin"],function(dojo,lang,_13c2,array,_13c3,_13c4,_13c5){var _13c6=_13c2("dojox.grid.enhanced.plugins.Search",_13c5,{name:"search",constructor:function(grid,args){this.grid=grid;args=(args&&lang.isObject(args))?args:{};this._cacheSize=args.cacheSize||-1;grid.searchRow=lang.hitch(this,"searchRow");},searchRow:function(_13c7,_13c8){if(!lang.isFunction(_13c8)){return;}if(lang.isString(_13c7)){_13c7=_13c3.patternToRegExp(_13c7);}var _13c9=false;if(_13c7 instanceof RegExp){_13c9=true;}else{if(lang.isObject(_13c7)){var _13ca=true;for(var field in _13c7){if(lang.isString(_13c7[field])){_13c7[field]=_13c3.patternToRegExp(_13c7[field]);}_13ca=false;}if(_13ca){return;}}else{return;}}this._search(_13c7,0,_13c8,_13c9);},_search:function(_13cb,start,_13cc,_13cd){var _13ce=this,cnt=this._cacheSize,args={start:start,query:this.grid.query,sort:this.grid.getSortProps(),queryOptions:this.grid.queryOptions,onBegin:function(size){_13ce._storeSize=size;},onComplete:function(items){if(!array.some(items,function(item,i){if(_13ce._checkRow(item,_13cb,_13cd)){_13cc(start+i,item);return true;}return false;})){if(cnt>0&&start+cnt<_13ce._storeSize){_13ce._search(_13cb,start+cnt,_13cc,_13cd);}else{_13cc(-1,null);}}}};if(cnt>0){args.count=cnt;}this.grid._storeLayerFetch(args);},_checkRow:function(item,_13cf,_13d0){var g=this.grid,s=g.store,i,field,cells=array.filter(g.layout.cells,function(cell){return !cell.hidden;});if(_13d0){return array.some(cells,function(cell){try{if(cell.field){return String(s.getValue(item,cell.field)).search(_13cf)>=0;}}catch(e){}return false;});}else{for(field in _13cf){if(_13cf[field] instanceof RegExp){for(i=cells.length-1;i>=0;--i){if(cells[i].field==field){try{if(String(s.getValue(item,field)).search(_13cf[field])<0){return false;}break;}catch(e){return false;}}}if(i<0){return false;}}}return true;}}});_13c4.registerPlugin(_13c6);return _13c6;});},"dojox/grid/enhanced/plugins/CellMerge":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/html","../_Plugin","../../EnhancedGrid"],function(_13d1,array,lang,html,_13d2,_13d3){var _13d4=_13d1("dojox.grid.enhanced.plugins.CellMerge",_13d2,{name:"cellMerge",constructor:function(grid,args){this.grid=grid;this._records=[];this._merged={};if(args&&lang.isObject(args)){this._setupConfig(args.mergedCells);}this._initEvents();this._mixinGrid();},mergeCells:function(_13d5,_13d6,_13d7,_13d8){var item=this._createRecord({"row":_13d5,"start":_13d6,"end":_13d7,"major":_13d8});if(item){this._updateRows(item);}return item;},unmergeCells:function(_13d9){var idx;if(_13d9&&(idx=array.indexOf(this._records,_13d9))>=0){this._records.splice(idx,1);this._updateRows(_13d9);}},getMergedCells:function(){var res=[];for(var i in this._merged){res=res.concat(this._merged[i]);}return res;},getMergedCellsByRow:function(_13da){return this._merged[_13da]||[];},_setupConfig:function(_13db){array.forEach(_13db,this._createRecord,this);},_initEvents:function(){array.forEach(this.grid.views.views,function(view){this.connect(view,"onAfterRow",lang.hitch(this,"_onAfterRow",view.index));},this);},_mixinGrid:function(){var g=this.grid;g.mergeCells=lang.hitch(this,"mergeCells");g.unmergeCells=lang.hitch(this,"unmergeCells");g.getMergedCells=lang.hitch(this,"getMergedCells");g.getMergedCellsByRow=lang.hitch(this,"getMergedCellsByRow");},_getWidth:function(_13dc){var node=this.grid.layout.cells[_13dc].getHeaderNode();return html.position(node).w;},_onAfterRow:function(_13dd,_13de,_13df){try{if(_13de<0){return;}var _13e0=[],i,j,len=this._records.length,cells=this.grid.layout.cells;for(i=0;i<len;++i){var item=this._records[i];var _13e1=this.grid._by_idx[_13de];if(item.view==_13dd&&item.row(_13de,_13e1&&_13e1.item,this.grid.store)){var res={record:item,hiddenCells:[],totalWidth:0,majorNode:cells[item.major].getNode(_13de),majorHeaderNode:cells[item.major].getHeaderNode()};for(j=item.start;j<=item.end;++j){var w=this._getWidth(j,_13de);res.totalWidth+=w;if(j!=item.major){res.hiddenCells.push(cells[j].getNode(_13de));}}if(_13df.length!=1||res.totalWidth>0){for(j=_13e0.length-1;j>=0;--j){var r=_13e0[j].record;if((r.start>=item.start&&r.start<=item.end)||(r.end>=item.start&&r.end<=item.end)){_13e0.splice(j,1);}}_13e0.push(res);}}}this._merged[_13de]=[];array.forEach(_13e0,function(res){array.forEach(res.hiddenCells,function(node){html.style(node,"display","none");});var pbm=html.marginBox(res.majorHeaderNode).w-html.contentBox(res.majorHeaderNode).w;var tw=res.totalWidth;if(!html.isWebKit){tw-=pbm;}html.style(res.majorNode,"width",tw+"px");res.majorNode.setAttribute("colspan",res.hiddenCells.length+1);this._merged[_13de].push({"row":_13de,"start":res.record.start,"end":res.record.end,"major":res.record.major,"handle":res.record});},this);}catch(e){console.warn("CellMerge._onAfterRow() error: ",_13de,e);}},_createRecord:function(item){if(this._isValid(item)){item={"row":item.row,"start":item.start,"end":item.end,"major":item.major};var cells=this.grid.layout.cells;item.view=cells[item.start].view.index;item.major=typeof item.major=="number"&&!isNaN(item.major)?item.major:item.start;if(typeof item.row=="number"){var r=item.row;item.row=function(_13e2){return _13e2===r;};}else{if(typeof item.row=="string"){var id=item.row;item.row=function(_13e3,_13e4,store){try{if(store&&_13e4&&store.getFeatures()["dojo.data.api.Identity"]){return store.getIdentity(_13e4)==id;}}catch(e){console.error(e);}return false;};}}if(lang.isFunction(item.row)){this._records.push(item);return item;}}return null;},_isValid:function(item){var cells=this.grid.layout.cells,_13e5=cells.length;return (lang.isObject(item)&&("row" in item)&&("start" in item)&&("end" in item)&&item.start>=0&&item.start<_13e5&&item.end>item.start&&item.end<_13e5&&cells[item.start].view.index==cells[item.end].view.index&&cells[item.start].subrow==cells[item.end].subrow&&!(typeof item.major=="number"&&(item.major<item.start||item.major>item.end)));},_updateRows:function(item){var min=null;for(var i=0,count=this.grid.rowCount;i<count;++i){var _13e6=this.grid._by_idx[i];if(_13e6&&item.row(i,_13e6&&_13e6.item,this.grid.store)){this.grid.views.updateRow(i);if(min===null){min=i;}}}if(min>=0){this.grid.scroller.rowHeightChanged(min);}}});_13d3.registerPlugin(_13d4);return _13d4;});},"dojox/grid/enhanced/plugins/Pagination":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/_base/html","dojo/_base/event","dojo/query","dojo/string","dojo/keys","dojo/text!../templates/Pagination.html","./Dialog","./_StoreLayer","../_Plugin","../../EnhancedGrid","dijit/form/Button","dijit/form/NumberTextBox","dijit/focus","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojox/html/metrics","dojo/i18n!../nls/Pagination"],function(_13e7,_13e8,array,_13e9,lang,html,event,query,_13ea,keys,_13eb,_13ec,_13ed,_13ee,_13ef,_13f0,_13f1,_13f2,_13f3,_13f4,_13f5,_13f6,nls){var _13f7=_13e8("dojox.grid.enhanced.plugins.pagination._GotoPagePane",[_13f3,_13f4,_13f5],{templateString:"<div>"+"<div class='dojoxGridDialogMargin' dojoAttachPoint='_mainMsgNode'></div>"+"<div class='dojoxGridDialogMargin'>"+"<input dojoType='dijit.form.NumberTextBox' style='width: 50px;' dojoAttachPoint='_pageInputBox' dojoAttachEvent='onKeyUp: _onKey'></input>"+"<label dojoAttachPoint='_pageLabelNode'></label>"+"</div>"+"<div class='dojoxGridDialogButton'>"+"<button dojoType='dijit.form.Button' dojoAttachPoint='_confirmBtn' dojoAttachEvent='onClick: _onConfirm'></button>"+"<button dojoType='dijit.form.Button' dojoAttachPoint='_cancelBtn' dojoAttachEvent='onClick: _onCancel'></button>"+"</div>"+"</div>",widgetsInTemplate:true,dlg:null,postMixInProperties:function(){this.plugin=this.dlg.plugin;},postCreate:function(){this.inherited(arguments);this._mainMsgNode.innerHTML=this.plugin._nls[12];this._confirmBtn.set("label",this.plugin._nls[14]);this._confirmBtn.set("disabled",true);this._cancelBtn.set("label",this.plugin._nls[15]);},_onConfirm:function(evt){if(this._pageInputBox.isValid()&&this._pageInputBox.getDisplayedValue()!==""){this.plugin.currentPage(this._pageInputBox.parse(this._pageInputBox.getDisplayedValue()));this.dlg._gotoPageDialog.hide();this._pageInputBox.reset();}_13f8(evt);},_onCancel:function(evt){this._pageInputBox.reset();this.dlg._gotoPageDialog.hide();_13f8(evt);},_onKey:function(evt){this._confirmBtn.set("disabled",!this._pageInputBox.isValid()||this._pageInputBox.getDisplayedValue()=="");if(!evt.altKey&&!evt.metaKey&&evt.keyCode===keys.ENTER){this._onConfirm(evt);}}});var _13f9=_13e8("dojox.grid.enhanced.plugins.pagination._GotoPageDialog",null,{pageCount:0,dlgPane:null,constructor:function(_13fa){this.plugin=_13fa;this.dlgPane=new _13f7({"dlg":this});this.dlgPane.startup();this._gotoPageDialog=new _13ec({"refNode":_13fa.grid.domNode,"title":this.plugin._nls[11],"content":this.dlgPane});this._gotoPageDialog.startup();},_updatePageCount:function(){this.pageCount=this.plugin.getTotalPageNum();this.dlgPane._pageInputBox.constraints={fractional:false,min:1,max:this.pageCount};this.dlgPane._pageLabelNode.innerHTML=_13ea.substitute(this.plugin._nls[13],[this.pageCount]);},showDialog:function(){this._updatePageCount();this._gotoPageDialog.show();},destroy:function(){this._gotoPageDialog.destroy();}});var _13fb=_13e8("dojox.grid.enhanced.plugins._ForcedPageStoreLayer",_13ed._StoreLayer,{tags:["presentation"],constructor:function(_13fc){this._plugin=_13fc;},_fetch:function(_13fd){var _13fe=this,_13ff=_13fe._plugin,grid=_13ff.grid,scope=_13fd.scope||_13e7.global,_1400=_13fd.onBegin;_13fd.start=(_13ff._currentPage-1)*_13ff._currentPageSize+_13fd.start;_13fe.startIdx=_13fd.start;_13fe.endIdx=_13fd.start+_13ff._currentPageSize-1;var p=_13ff._paginator;if(!_13ff._showAll){_13ff._showAll=!p.sizeSwitch&&!p.pageStepper&&!p.gotoButton;}if(_1400&&_13ff._showAll){_13fd.onBegin=function(size,req){_13ff._maxSize=_13ff._currentPageSize=size;_13fe.startIdx=0;_13fe.endIdx=size-1;_13ff._paginator._update();req.onBegin=_1400;req.onBegin.call(scope,size,req);};}else{if(_1400){_13fd.onBegin=function(size,req){req.start=0;req.count=_13ff._currentPageSize;_13ff._maxSize=size;_13fe.endIdx=_13fe.endIdx>=size?(size-1):_13fe.endIdx;if(_13fe.startIdx>size&&size!==0){grid._pending_requests[req.start]=false;_13ff.firstPage();}_13ff._paginator._update();req.onBegin=_1400;req.onBegin.call(scope,Math.min(_13ff._currentPageSize,(size-_13fe.startIdx)),req);};}}return lang.hitch(this._store,this._originFetch)(_13fd);}});var _13f8=function(evt){try{if(evt){event.stop(evt);}}catch(e){}};var _1401=_13e8("dojox.grid.enhanced.plugins.pagination._Focus",null,{_focusedNode:null,_isFocused:false,constructor:function(_1402){this._pager=_1402;var _1403=_1402.plugin.grid.focus;_1402.plugin.connect(_1402,"onSwitchPageSize",lang.hitch(this,"_onActive"));_1402.plugin.connect(_1402,"onPageStep",lang.hitch(this,"_onActive"));_1402.plugin.connect(_1402,"onShowGotoPageDialog",lang.hitch(this,"_onActive"));_1402.plugin.connect(_1402,"_update",lang.hitch(this,"_moveFocus"));},_onFocus:function(evt,step){var node,nodes;if(!this._isFocused){node=this._focusedNode||query("[tabindex]",this._pager.domNode)[0];}else{if(step&&this._focusedNode){var dir=step>0?-1:1,_1404=parseInt(this._focusedNode.getAttribute("tabindex"),10)+dir;while(_1404>=-3&&_1404<0){node=query("[tabindex="+_1404+"]",this._pager.domNode)[0];if(node){break;}else{_1404+=dir;}}}}return this._focus(node,evt);},_onBlur:function(evt,step){if(!step||!this._focusedNode){this._isFocused=false;if(this._focusedNode&&html.hasClass(this._focusedNode,"dojoxGridButtonFocus")){html.removeClass(this._focusedNode,"dojoxGridButtonFocus");}return true;}var node,dir=step>0?-1:1,_1405=parseInt(this._focusedNode.getAttribute("tabindex"),10)+dir;while(_1405>=-3&&_1405<0){node=query("[tabindex="+_1405+"]",this._pager.domNode)[0];if(node){break;}else{_1405+=dir;}}if(!node){this._isFocused=false;if(html.hasClass(this._focusedNode,"dojoxGridButtonFocus")){html.removeClass(this._focusedNode,"dojoxGridButtonFocus");}}return node?false:true;},_onMove:function(_1406,_1407,evt){if(this._focusedNode){var _1408=this._focusedNode.getAttribute("tabindex"),delta=_1407==1?"nextSibling":"previousSibling",node=this._focusedNode[delta];while(node){if(node.getAttribute("tabindex")==_1408){this._focus(node);break;}node=node[delta];}}},_focus:function(node,evt){if(node){this._isFocused=true;if(_13e7.isIE&&this._focusedNode){html.removeClass(this._focusedNode,"dojoxGridButtonFocus");}this._focusedNode=node;node.focus();if(_13e7.isIE){html.addClass(node,"dojoxGridButtonFocus");}_13f8(evt);return true;}return false;},_onActive:function(e){this._focusedNode=e.target;if(!this._isFocused){this._pager.plugin.grid.focus.focusArea("pagination"+this._pager.position);}},_moveFocus:function(){if(this._focusedNode&&!this._focusedNode.getAttribute("tabindex")){var next=this._focusedNode.nextSibling;while(next){if(next.getAttribute("tabindex")){this._focus(next);return;}next=next.nextSibling;}var prev=this._focusedNode.previousSibling;while(prev){if(prev.getAttribute("tabindex")){this._focus(prev);return;}prev=prev.previousSibling;}this._focusedNode=null;this._onBlur();}else{if(_13e7.isIE&&this._focusedNode){html.addClass(this._focusedNode,"dojoxGridButtonFocus");}}}});var _1409=_13e8("dojox.grid.enhanced.plugins._Paginator",[_13f3,_13f4],{templateString:_13eb,constructor:function(_140a){lang.mixin(this,_140a);this.grid=this.plugin.grid;},postCreate:function(){this.inherited(arguments);var _140b=this,g=this.grid;this.plugin.connect(g,"_resize",lang.hitch(this,"_resetGridHeight"));this._originalResize=g.resize;g.resize=function(_140c,_140d){_140b._changeSize=_140c;_140b._resultSize=_140d;_140b._originalResize.apply(g,arguments);};this.focus=_1401(this);this._placeSelf();},destroy:function(){this.inherited(arguments);this.grid.focus.removeArea("pagination"+this.position);if(this._gotoPageDialog){this._gotoPageDialog.destroy();}this.grid.resize=this._originalResize;},onSwitchPageSize:function(evt){},onPageStep:function(evt){},onShowGotoPageDialog:function(evt){},_update:function(){this._updateDescription();this._updatePageStepper();this._updateSizeSwitch();this._updateGotoButton();},_registerFocus:function(isTop){var _140e=this.grid.focus,name="pagination"+this.position,f=this.focus;_140e.addArea({name:name,onFocus:lang.hitch(this.focus,"_onFocus"),onBlur:lang.hitch(this.focus,"_onBlur"),onMove:lang.hitch(this.focus,"_onMove")});_140e.placeArea(name,isTop?"before":"after",isTop?"header":"content");},_placeSelf:function(){var g=this.grid,isTop=this.position=="top";this.placeAt(isTop?g.viewsHeaderNode:g.viewsNode,isTop?"before":"after");this._registerFocus(isTop);},_resetGridHeight:function(_140f,_1410){var g=this.grid;_140f=_140f||this._changeSize;_1410=_1410||this._resultSize;delete this._changeSize;delete this._resultSize;if(g._autoHeight){return;}var _1411=g._getPadBorder().h;if(!this.plugin.gh){this.plugin.gh=(g.domNode.clientHeight||html.style(g.domNode,"height"))+2*_1411;}if(_1410){_140f=_1410;}if(_140f){this.plugin.gh=html.contentBox(g.domNode).h+2*_1411;}var gh=this.plugin.gh,hh=g._getHeaderHeight(),ph=html.marginBox(this.domNode).h;if(typeof g.autoHeight==="number"){var cgh=gh+ph-_1411;html.style(g.domNode,"height",cgh+"px");html.style(g.viewsNode,"height",(cgh-ph-hh)+"px");this._styleMsgNode(hh,html.marginBox(g.viewsNode).w,cgh-ph-hh);}else{var h=gh-ph-hh-_1411;html.style(g.viewsNode,"height",h+"px");var _1412=array.some(g.views.views,function(v){return v.hasHScrollbar();});array.forEach(g.viewsNode.childNodes,function(c){html.style(c,"height",h+"px");});array.forEach(g.views.views,function(v){if(v.scrollboxNode){if(!v.hasHScrollbar()&&_1412){html.style(v.scrollboxNode,"height",(h-_13f6.getScrollbar().h)+"px");}else{html.style(v.scrollboxNode,"height",h+"px");}}});this._styleMsgNode(hh,html.marginBox(g.viewsNode).w,h);}},_styleMsgNode:function(top,width,_1413){var _1414=this.grid.messagesNode;html.style(_1414,{"position":"absolute","top":top+"px","width":width+"px","height":_1413+"px","z-Index":"100"});},_updateDescription:function(){var s=this.plugin.forcePageStoreLayer,_1415=this.plugin._maxSize,nls=this.plugin._nls,_1416=function(){return _1415<=0||_1415==1?nls[5]:nls[4];};if(this.description&&this.descriptionDiv){this.descriptionDiv.innerHTML=_1415>0?_13ea.substitute(nls[0],[_1416(),_1415,s.startIdx+1,s.endIdx+1]):"0 "+_1416();}},_updateSizeSwitch:function(){html.style(this.sizeSwitchTd,"display",this.sizeSwitch?"":"none");if(!this.sizeSwitch){return;}if(this.sizeSwitchTd.childNodes.length<1){this._createSizeSwitchNodes();}this._updateSwitchNodesStyle();},_createSizeSwitchNodes:function(){var node=null,nls=this.plugin._nls,_13e9=lang.hitch(this.plugin,"connect");array.forEach(this.pageSizes,function(size){var _1417=isFinite(size)?_13ea.substitute(nls[2],[size]):nls[1],value=isFinite(size)?size:nls[16];node=html.create("span",{innerHTML:value,title:_1417,value:size,tabindex:"-1"},this.sizeSwitchTd,"last");node.setAttribute("aria-label",_1417);_13e9(node,"onclick",lang.hitch(this,"_onSwitchPageSize"));_13e9(node,"onkeydown",lang.hitch(this,"_onSwitchPageSize"));_13e9(node,"onmouseover",function(e){html.addClass(e.target,"dojoxGridPageTextHover");});_13e9(node,"onmouseout",function(e){html.removeClass(e.target,"dojoxGridPageTextHover");});node=html.create("span",{innerHTML:"|"},this.sizeSwitchTd,"last");html.addClass(node,"dojoxGridSeparator");},this);html.destroy(node);},_updateSwitchNodesStyle:function(){var size=null;var _1418=function(node,_1419){if(_1419){html.addClass(node,"dojoxGridActivedSwitch");html.removeAttr(node,"tabindex");}else{html.addClass(node,"dojoxGridInactiveSwitch");node.setAttribute("tabindex","-1");}};array.forEach(this.sizeSwitchTd.childNodes,function(node){if(node.value){html.removeClass(node);size=node.value;if(this.plugin._showAll){_1418(node,isNaN(parseInt(size,10)));}else{_1418(node,this.plugin._currentPageSize==size);}}},this);},_updatePageStepper:function(){html.style(this.pageStepperTd,"display",this.pageStepper?"":"none");if(!this.pageStepper){return;}if(this.pageStepperDiv.childNodes.length<1){this._createPageStepNodes();this._createWardBtns();}else{this._resetPageStepNodes();}this._updatePageStepNodesStyle();},_createPageStepNodes:function(){var _141a=this._getStartPage(),_141b=this._getStepPageSize(),label="",node=null,i=_141a,_13e9=lang.hitch(this.plugin,"connect");for(;i<_141a+this.maxPageStep+1;i++){label=_13ea.substitute(this.plugin._nls[3],[i]);node=html.create("div",{innerHTML:i,value:i,title:label},this.pageStepperDiv,"last");node.setAttribute("aria-label",label);_13e9(node,"onclick",lang.hitch(this,"_onPageStep"));_13e9(node,"onkeydown",lang.hitch(this,"_onPageStep"));_13e9(node,"onmouseover",function(e){html.addClass(e.target,"dojoxGridPageTextHover");});_13e9(node,"onmouseout",function(e){html.removeClass(e.target,"dojoxGridPageTextHover");});html.style(node,"display",i<_141a+_141b?"":"none");}},_createWardBtns:function(){var _141c=this,nls=this.plugin._nls;var _141d={prevPage:"&#60;",firstPage:"&#171;",nextPage:"&#62;",lastPage:"&#187;"};var _141e=function(value,label,_141f){var node=html.create("div",{value:value,title:label,tabindex:"-2"},_141c.pageStepperDiv,_141f);_141c.plugin.connect(node,"onclick",lang.hitch(_141c,"_onPageStep"));_141c.plugin.connect(node,"onkeydown",lang.hitch(_141c,"_onPageStep"));node.setAttribute("aria-label",label);var _1420=html.create("span",{value:value,title:label,innerHTML:_141d[value]},node,_141f);html.addClass(_1420,"dojoxGridWardButtonInner");};_141e("prevPage",nls[6],"first");_141e("firstPage",nls[7],"first");_141e("nextPage",nls[8],"last");_141e("lastPage",nls[9],"last");},_resetPageStepNodes:function(){var _1421=this._getStartPage(),_1422=this._getStepPageSize(),_1423=this.pageStepperDiv.childNodes,node=null,i=_1421,j=2,tip;for(;j<_1423.length-2;j++,i++){node=_1423[j];if(i<_1421+_1422){tip=_13ea.substitute(this.plugin._nls[3],[i]);html.attr(node,{"innerHTML":i,"title":tip,"value":i});html.style(node,"display","");node.setAttribute("aria-label",tip);}else{html.style(node,"display","none");}}},_updatePageStepNodesStyle:function(){var value=null,_1424=this.plugin.currentPage(),_1425=this.plugin.getTotalPageNum();var _1426=function(node,_1427,_1428){var value=node.value,_1429=_1427?"dojoxGrid"+value+"Btn":"dojoxGridInactived",_142a=_1427?"dojoxGrid"+value+"BtnDisable":"dojoxGridActived";if(_1428){html.addClass(node,_142a);html.removeAttr(node,"tabindex");}else{html.addClass(node,_1429);node.setAttribute("tabindex","-2");}};array.forEach(this.pageStepperDiv.childNodes,function(node){html.removeClass(node);if(isNaN(parseInt(node.value,10))){html.addClass(node,"dojoxGridWardButton");var _142b=node.value=="prevPage"||node.value=="firstPage"?1:_1425;_1426(node,true,(_1424===_142b));}else{value=parseInt(node.value,10);_1426(node,false,(value===_1424||html.style(node,"display")==="none"));}},this);},_showGotoButton:function(flag){this.gotoButton=flag;this._updateGotoButton();},_updateGotoButton:function(){if(!this.gotoButton){if(this._gotoPageDialog){this._gotoPageDialog.destroy();}html.removeAttr(this.gotoPageDiv,"tabindex");html.style(this.gotoPageTd,"display","none");return;}if(html.style(this.gotoPageTd,"display")=="none"){html.style(this.gotoPageTd,"display","");}this.gotoPageDiv.setAttribute("title",this.plugin._nls[10]);html.toggleClass(this.gotoPageDiv,"dojoxGridPaginatorGotoDivDisabled",this.plugin.getTotalPageNum()<=1);if(this.plugin.getTotalPageNum()<=1){html.removeAttr(this.gotoPageDiv,"tabindex");}else{this.gotoPageDiv.setAttribute("tabindex","-3");}},_openGotopageDialog:function(e){if(this.plugin.getTotalPageNum()<=1){return;}if(e.type==="keydown"&&e.keyCode!==keys.ENTER&&e.keyCode!==keys.SPACE){return;}if(!this._gotoPageDialog){this._gotoPageDialog=new _13f9(this.plugin);}this._gotoPageDialog.showDialog();this.onShowGotoPageDialog(e);},_onSwitchPageSize:function(e){if(e.type==="keydown"&&e.keyCode!==keys.ENTER&&e.keyCode!==keys.SPACE){return;}this.onSwitchPageSize(e);this.plugin.currentPageSize(e.target.value);},_onPageStep:function(e){if(e.type==="keydown"&&e.keyCode!==keys.ENTER&&e.keyCode!==keys.SPACE){return;}var p=this.plugin,value=e.target.value;this.onPageStep(e);if(!isNaN(parseInt(value,10))){p.currentPage(parseInt(value,10));}else{p[value]();}},_getStartPage:function(){var cp=this.plugin.currentPage(),ms=this.maxPageStep,hs=parseInt(ms/2,10),tp=this.plugin.getTotalPageNum();if(cp<hs||(cp-hs)<1||tp<=ms){return 1;}else{return tp-cp<hs&&cp-ms>=0?tp-ms+1:cp-hs;}},_getStepPageSize:function(){var sp=this._getStartPage(),tp=this.plugin.getTotalPageNum(),ms=this.maxPageStep;return sp+ms>tp?tp-sp+1:ms;}});var _142c=_13e8("dojox.grid.enhanced.plugins.Pagination",_13ee,{name:"pagination",defaultPageSize:25,defaultPage:1,description:true,sizeSwitch:true,pageStepper:true,gotoButton:false,pageSizes:[10,25,50,100,Infinity],maxPageStep:7,position:"bottom",init:function(){var g=this.grid;g.usingPagination=true;this._initOptions();this._currentPage=this.defaultPage;this._currentPageSize=this.grid.rowsPerPage=this.defaultPageSize;this._store=g.store;this.forcePageStoreLayer=new _13fb(this);_13ed.wrap(g,"_storeLayerFetch",this.forcePageStoreLayer);this._paginator=this.option.position!="top"?new _1409(lang.mixin(this.option,{position:"bottom",plugin:this})):new _1409(lang.mixin(this.option,{position:"top",plugin:this}));this._regApis();},destroy:function(){this.inherited(arguments);this._paginator.destroy();var g=this.grid;g.unwrap(this.forcePageStoreLayer.name());g.scrollToRow=this._gridOriginalfuncs[0];g._onNew=this._gridOriginalfuncs[1];g.removeSelectedRows=this._gridOriginalfuncs[2];this._paginator=null;this._nls=null;},currentPage:function(page){if(page<=this.getTotalPageNum()&&page>0&&this._currentPage!==page){this._currentPage=page;this.grid._refresh(true);this.grid.resize();}return this._currentPage;},nextPage:function(){this.currentPage(this._currentPage+1);},prevPage:function(){this.currentPage(this._currentPage-1);},firstPage:function(){this.currentPage(1);},lastPage:function(){this.currentPage(this.getTotalPageNum());},currentPageSize:function(size){if(!isNaN(size)){var g=this.grid,_142d=this._currentPageSize*(this._currentPage-1),_142e;this._showAll=!isFinite(size);this.grid.usingPagination=!this._showAll;this._currentPageSize=this._showAll?this._maxSize:size;g.rowsPerPage=this._showAll?this._defaultRowsPerPage:size;_142e=_142d+Math.min(this._currentPageSize,this._maxSize);if(_142e>this._maxSize){this.lastPage();}else{var cp=Math.ceil(_142d/this._currentPageSize)+1;if(cp!==this._currentPage){this.currentPage(cp);}else{this.grid._refresh(true);}}this.grid.resize();}return this._currentPageSize;},getTotalPageNum:function(){return Math.ceil(this._maxSize/this._currentPageSize);},getTotalRowCount:function(){return this._maxSize;},scrollToRow:function(_142f){var page=parseInt(_142f/this._currentPageSize,10)+1;if(page>this.getTotalPageNum()){return;}this.currentPage(page);var _1430=_142f%this._currentPageSize;return this._gridOriginalfuncs[0](_1430);},removeSelectedRows:function(){this._multiRemoving=true;this._gridOriginalfuncs[2].apply();this._multiRemoving=false;if(this.grid.store.save){this.grid.store.save();}this.grid.resize();this.grid._refresh();},showGotoPageButton:function(flag){this._paginator.gotoButton=flag;this._paginator._updateGotoButton();},gotoPage:function(page){_13e7.deprecated("dojox.grid.enhanced.EnhancedGrid.gotoPage(page)","use dojox.grid.enhanced.EnhancedGrid.currentPage(page) instead","1.8");this.currentPage(page);},gotoFirstPage:function(){_13e7.deprecated("dojox.grid.enhanced.EnhancedGrid.gotoFirstPage()","use dojox.grid.enhanced.EnhancedGrid.firstPage() instead","1.8");this.firstPage();},gotoLastPage:function(){_13e7.deprecated("dojox.grid.enhanced.EnhancedGrid.gotoLastPage()","use dojox.grid.enhanced.EnhancedGrid.lastPage() instead","1.8");this.lastPage();},changePageSize:function(size){_13e7.deprecated("dojox.grid.enhanced.EnhancedGrid.changePageSize(size)","use dojox.grid.enhanced.EnhancedGrid.currentPageSize(size) instead","1.8");this.currentPageSize(size);},_nls:null,_showAll:false,_maxSize:0,_defaultRowsPerPage:25,_currentPage:1,_currentPageSize:25,_initOptions:function(){this._defaultRowsPerPage=this.grid.rowsPerPage||25;this.defaultPage=this.option.defaultPage>=1?parseInt(this.option.defaultPage,10):1;this.option.description=this.option.description!==undefined?!!this.option.description:this.description;this.option.sizeSwitch=this.option.sizeSwitch!==undefined?!!this.option.sizeSwitch:this.sizeSwitch;this.option.pageStepper=this.option.pageStepper!==undefined?!!this.option.pageStepper:this.pageStepper;this.option.gotoButton=this.option.gotoButton!==undefined?!!this.option.gotoButton:this.gotoButton;if(lang.isArray(this.option.pageSizes)){var _1431=[];array.forEach(this.option.pageSizes,function(size){size=typeof size=="number"?size:parseInt(size,10);if(!isNaN(size)&&size>0){_1431.push(size);}else{if(array.indexOf(_1431,Infinity)<0){_1431.push(Infinity);}}},this);this.option.pageSizes=_1431.sort(function(a,b){return a-b;});}else{this.option.pageSizes=this.pageSizes;}this.defaultPageSize=this.option.defaultPageSize>=1?parseInt(this.option.defaultPageSize,10):this.pageSizes[0];this.option.maxPageStep=this.option.maxPageStep>0?this.option.maxPageStep:this.maxPageStep;this.option.position=lang.isString(this.option.position)?this.option.position.toLowerCase():this.position;this._nls=[nls.descTemplate,nls.allItemsLabelTemplate,nls.pageSizeLabelTemplate,nls.pageStepLabelTemplate,nls.itemTitle,nls.singularItemTitle,nls.prevTip,nls.firstTip,nls.nextTip,nls.lastTip,nls.gotoButtonTitle,nls.dialogTitle,nls.dialogIndication,nls.pageCountIndication,nls.dialogConfirm,nls.dialogCancel,nls.all];},_regApis:function(){var g=this.grid;g.currentPage=lang.hitch(this,this.currentPage);g.nextPage=lang.hitch(this,this.nextPage);g.prevPage=lang.hitch(this,this.prevPage);g.firstPage=lang.hitch(this,this.firstPage);g.lastPage=lang.hitch(this,this.lastPage);g.currentPageSize=lang.hitch(this,this.currentPageSize);g.showGotoPageButton=lang.hitch(this,this.showGotoPageButton);g.getTotalRowCount=lang.hitch(this,this.getTotalRowCount);g.getTotalPageNum=lang.hitch(this,this.getTotalPageNum);g.gotoPage=lang.hitch(this,this.gotoPage);g.gotoFirstPage=lang.hitch(this,this.gotoFirstPage);g.gotoLastPage=lang.hitch(this,this.gotoLastPage);g.changePageSize=lang.hitch(this,this.changePageSize);this._gridOriginalfuncs=[lang.hitch(g,g.scrollToRow),lang.hitch(g,g._onNew),lang.hitch(g,g.removeSelectedRows)];g.scrollToRow=lang.hitch(this,this.scrollToRow);g.removeSelectedRows=lang.hitch(this,this.removeSelectedRows);g._onNew=lang.hitch(this,this._onNew);this.connect(g,"_onDelete",lang.hitch(this,this._onDelete));},_onNew:function(item,_1432){var _1433=this.getTotalPageNum();if(((this._currentPage===_1433||_1433===0)&&this.grid.get("rowCount")<this._currentPageSize)||this._showAll){lang.hitch(this.grid,this._gridOriginalfuncs[1])(item,_1432);this.forcePageStoreLayer.endIdx++;}this._maxSize++;if(this._showAll){this._currentPageSize++;}if(this._showAll&&this.grid.autoHeight){this.grid._refresh();}else{this._paginator._update();}},_onDelete:function(){if(!this._multiRemoving){this.grid.resize();if(this._showAll){this.grid._refresh();}}if(this.grid.get("rowCount")===0){this.prevPage();}}});_13ef.registerPlugin(_142c);return _142c;});},"url:dojox/grid/resources/View.html":"<div class=\"dojoxGridView\" role=\"presentation\">\n\t<div class=\"dojoxGridHeader\" dojoAttachPoint=\"headerNode\" role=\"presentation\">\n\t\t<div dojoAttachPoint=\"headerNodeContainer\" style=\"width:9000em\" role=\"presentation\">\n\t\t\t<div dojoAttachPoint=\"headerContentNode\" role=\"row\"></div>\n\t\t</div>\n\t</div>\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" dojoAttachPoint=\"hiddenFocusNode\" role=\"presentation\" />\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" role=\"presentation\" />\n\t<div class=\"dojoxGridScrollbox\" dojoAttachPoint=\"scrollboxNode\" role=\"presentation\">\n\t\t<div class=\"dojoxGridContent\" dojoAttachPoint=\"contentNode\" hidefocus=\"hidefocus\" role=\"presentation\"></div>\n\t</div>\n</div>\n","url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,textDirNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<span data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<span class=\"dijitInline dijitIcon dijitMenuExpand\"></span>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</span>\n\t</td>\n</tr>\n","url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset\" data-dojo-attach-point=\"focusNode\" role=\"${role}\" tabIndex=\"-1\" aria-checked=\"${checked}\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<span class=\"dijitInline dijitIcon dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t\t<span class=\"dijitMenuItemIconChar dijitCheckedMenuItemIconChar\">${checkedChar}</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode,textDirNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n","url:dojox/grid/resources/_Grid.html":"<div hidefocus=\"hidefocus\" role=\"grid\" dojoAttachEvent=\"onmouseout:_mouseOut\">\n\t<div class=\"dojoxGridMasterHeader\" dojoAttachPoint=\"viewsHeaderNode\" role=\"presentation\"></div>\n\t<div class=\"dojoxGridMasterView\" dojoAttachPoint=\"viewsNode\" role=\"presentation\"></div>\n\t<div class=\"dojoxGridMasterMessages\" style=\"display: none;\" dojoAttachPoint=\"messagesNode\"></div>\n\t<span dojoAttachPoint=\"lastFocusNode\" tabindex=\"0\"></span>\n</div>\n","url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\n\t\t\t\trole=\"heading\" level=\"1\"></span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabindex=\"0\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n","url:dojox/grid/enhanced/templates/FilterBar.html":"<table class=\"dojoxGridFBar\" border=\"0\" cellspacing=\"0\" role=\"presentation\" dojoAttachEvent=\"onclick:_onClickFilterBar, onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave, onmousemove:_onMouseMove\"\n\t><tr><td class=\"dojoxGridFBarBtnTD\"\n\t\t><span dojoType=\"dijit.form.Button\" class=\"dojoxGridFBarBtn\" dojoAttachPoint=\"defineFilterButton\" label=\"...\" iconClass=\"dojoxGridFBarDefFilterBtnIcon\" showLabel=\"true\" dojoAttachEvent=\"onClick:_showFilterDefDialog, onMouseEnter:_onEnterButton, onMouseLeave:_onLeaveButton, onMouseMove:_onMoveButton\"></span\n\t></td><td class=\"dojoxGridFBarInfoTD\"\n\t\t><span class=\"dojoxGridFBarInner\"\n\t\t\t><span class=\"dojoxGridFBarStatus\" dojoAttachPoint=\"statusBarNode\">${_noFilterMsg}</span\n\t\t\t><span dojoType=\"dijit.form.Button\" class=\"dojoxGridFBarClearFilterBtn\" dojoAttachPoint=\"clearFilterButton\" \n\t\t\t\tlabel=\"${_filterBarClearBtnLabel}\" iconClass=\"dojoxGridFBarClearFilterBtnIcon\" showLabel=\"true\" \n\t\t\t\tdojoAttachEvent=\"onClick:_clearFilterDefDialog, onMouseEnter:_onEnterButton, onMouseLeave:_onLeaveButton, onMouseMove:_onMoveButton\"></span\n\t\t\t><span dojotype=\"dijit.form.Button\" class=\"dojoxGridFBarCloseBtn\" dojoAttachPoint=\"closeFilterBarButton\" \n\t\t\t\tlabel=\"${_closeFilterBarBtnLabel}\" iconClass=\"dojoxGridFBarCloseBtnIcon\" showLabel=\"false\" \n\t\t\t\tdojoAttachEvent=\"onClick:_closeFilterBar, onMouseEnter:_onEnterButton, onMouseLeave:_onLeaveButton, onMouseMove:_onMoveButton\"></span\n\t\t></span\n\t></td></tr\n></table>\n","url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n></div>\n","url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\taria-haspopup=\"true\"\n\tdata-dojo-attach-point=\"_popupStateNode\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\n\t/></div\n></div>\n","url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\" data-dojo-attach-point=\"gridNode\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\" scope=\"col\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"></span>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\" scope=\"col\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' scope=\"col\" data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"></span>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"ondijitclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n","url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n","url:dijit/layout/templates/AccordionButton.html":"<div data-dojo-attach-event='ondijitclick:_onTitleClick' class='dijitAccordionTitle' role=\"presentation\">\n\t<div data-dojo-attach-point='titleNode,focusNode' data-dojo-attach-event='onkeydown:_onTitleKeyDown'\n\t\t\tclass='dijitAccordionTitleFocus' role=\"tab\" aria-expanded=\"false\"\n\t\t><span class='dijitInline dijitAccordionArrow' role=\"presentation\"></span\n\t\t><span class='arrowTextUp' role=\"presentation\">+</span\n\t\t><span class='arrowTextDown' role=\"presentation\">-</span\n\t\t><span role=\"presentation\" class=\"dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t\t<span role=\"presentation\" data-dojo-attach-point='titleTextNode, textDirNode' class='dijitAccordionText'></span>\n\t</div>\n</div>\n","url:dojox/grid/enhanced/templates/FilterDefPane.html":"<div class=\"dojoxGridFDPane\">\n\t<div class=\"dojoxGridFDPaneRelation\">${_relMsgFront}\n\t<span class=\"dojoxGridFDPaneModes\" dojoAttachPoint=\"criteriaModeNode\">\n\t\t<select dojoAttachPoint=\"_relSelect\" dojoType=\"dijit.form.Select\" dojoAttachEvent=\"onChange: _onRelSelectChange\">\n\t\t\t<option value=\"0\">${_relAll}</option>\n\t\t\t<option value=\"1\">${_relAny}</option>\n\t\t</select>\n\t</span>\n\t${_relMsgTail}\n\t</div>\n\t<div dojoAttachPoint=\"criteriaPane\" class=\"dojoxGridFDPaneRulePane\"></div>\n\t<div dojoAttachPoint=\"_addCBoxBtn\" dojoType=\"dijit.form.Button\" \n\t\tclass=\"dojoxGridFDPaneAddCBoxBtn\" iconClass=\"dojoxGridFDPaneAddCBoxBtnIcon\"\n\t\tdojoAttachEvent=\"onClick:_onAddCBox\" label=\"${_addRuleBtnLabel}\" showLabel=\"false\">\n\t</div>\n\t<div class=\"dojoxGridFDPaneBtns\" dojoAttachPoint=\"buttonsPane\">\n\t\t<span dojoAttachPoint=\"_cancelBtn\" dojoType=\"dijit.form.Button\" \n\t\t\tdojoAttachEvent=\"onClick:_onCancel\" label=\"${_cancelBtnLabel}\">\n\t\t</span>\n\t\t<span dojoAttachPoint=\"_clearFilterBtn\" dojoType=\"dijit.form.Button\" \n\t\t\tdojoAttachEvent=\"onClick:_onClearFilter\" label=\"${_clearBtnLabel}\" disabled=\"true\">\n\t\t</span>\n\t\t<span dojoAttachPoint=\"_filterBtn\" dojoType=\"dijit.form.Button\" \n\t\t\tdojoAttachEvent=\"onClick:_onFilter\" label=\"${_filterBtnLabel}\" disabled=\"true\">\n\t\t</span>\n\t</div>\n</div>\n","url:dojox/grid/enhanced/templates/CriteriaBox.html":"<div class=\"dojoxGridFCBox\">\n\t<div class=\"dojoxGridFCBoxSelCol\" dojoAttachPoint=\"selColNode\">\n\t\t<span class=\"dojoxGridFCBoxField\">${_colSelectLabel}</span>\n\t\t<select dojoAttachPoint=\"_colSelect\" dojoType=\"dijit.form.Select\" \n\t\t\tclass=\"dojoxGridFCBoxColSelect\"\n\t\t\tdojoAttachEvent=\"onChange:_onChangeColumn\">\n\t\t</select>\n\t</div>\n\t<div class=\"dojoxGridFCBoxCondition\" dojoAttachPoint=\"condNode\">\n\t\t<span class=\"dojoxGridFCBoxField\">${_condSelectLabel}</span>\n\t\t<select dojoAttachPoint=\"_condSelect\" dojoType=\"dijit.form.Select\" \n\t\t\tclass=\"dojoxGridFCBoxCondSelect\"\n\t\t\tdojoAttachEvent=\"onChange:_onChangeCondition\">\n\t\t</select>\n\t\t<div class=\"dojoxGridFCBoxCondSelectAlt\" dojoAttachPoint=\"_condSelectAlt\" style=\"display:none;\"></div>\n\t</div>\n\t<div class=\"dojoxGridFCBoxValue\" dojoAttachPoint=\"valueNode\">\n\t\t<span class=\"dojoxGridFCBoxField\">${_valueBoxLabel}</span>\n\t</div>\n</div>\n","url:dojox/grid/enhanced/templates/FilterBoolValueBox.html":"<div class=\"dojoxGridBoolValueBox\">\n\t<div class=\"dojoxGridTrueBox\">\n\t\t<input dojoType=\"dijit.form.RadioButton\" type='radio' name='a1' id='${_baseId}_rbTrue' checked=\"true\" \n\t\t\tdojoAttachPoint=\"rbTrue\" dojoAttachEvent=\"onChange: onChange\"/>\n\t\t<div class=\"dojoxGridTrueLabel\" for='${_baseId}_rbTrue'>${_lblTrue}</div>\n\t</div>\n\t<div class=\"dojoxGridFalseBox\">\n\t\t<input dojoType=\"dijit.form.RadioButton\" dojoAttachPoint=\"rbFalse\" type='radio' name='a1' id='${_baseId}_rbFalse'/>\n\t\t<div class=\"dojoxGridTrueLabel\" for='${_baseId}_rbFalse'>${_lblFalse}</div>\n\t</div>\n</div>\n","url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n","url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\" role=\"separator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>\n","url:dijit/form/templates/Select.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tdata-dojo-attach-point=\"_buttonNode,tableNode,focusNode,_popupStateNode\" cellspacing='0' cellpadding='0'\n\trole=\"listbox\" aria-haspopup=\"true\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents\" role=\"presentation\"\n\t\t\t><div class=\"dijitReset dijitInputField dijitButtonText\"  data-dojo-attach-point=\"containerNode,textDirNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitValidationContainer\"\n\t\t\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t/></div\n\t\t\t><input type=\"hidden\" ${!nameAttrSetting} data-dojo-attach-point=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\n\t\t/></td\n\t\t><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\"\n\t\t\tdata-dojo-attach-point=\"titleNode\" role=\"presentation\"\n\t\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/></td\n\t></tr></tbody\n></table>\n","url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"ondijitclick:_onClick\"\n/></div>\n","url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeydown:_onKeyDown\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n","url:dijit/form/templates/HorizontalSlider.html":"<table class=\"dijit dijitReset dijitSlider dijitSliderH\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" rules=\"none\" data-dojo-attach-event=\"onkeydown:_onKeyDown, onkeyup:_onKeyUp\"\n\trole=\"presentation\"\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t\t><td data-dojo-attach-point=\"topDecoration\" class=\"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH\"></td\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH\"\n\t\t\t><div class=\"dijitSliderDecrementIconH\" style=\"display:none\" data-dojo-attach-point=\"decrementButton\"><span class=\"dijitSliderButtonInner\">-</span></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper\" data-dojo-attach-event=\"press:_onClkDecBumper\"></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><input data-dojo-attach-point=\"valueNode\" type=\"hidden\" ${!nameAttrSetting}\n\t\t\t/><div class=\"dijitReset dijitSliderBarContainerH\" role=\"presentation\" data-dojo-attach-point=\"sliderBarContainer\"\n\t\t\t\t><div role=\"presentation\" data-dojo-attach-point=\"progressBar\" class=\"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH\" data-dojo-attach-event=\"press:_onBarClick\"\n\t\t\t\t\t><div class=\"dijitSliderMoveable dijitSliderMoveableH\"\n\t\t\t\t\t\t><div data-dojo-attach-point=\"sliderHandle,focusNode\" class=\"dijitSliderImageHandle dijitSliderImageHandleH\" data-dojo-attach-event=\"press:_onHandleClick\" role=\"slider\"></div\n\t\t\t\t\t></div\n\t\t\t\t></div\n\t\t\t\t><div role=\"presentation\" data-dojo-attach-point=\"remainingBar\" class=\"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH\" data-dojo-attach-event=\"press:_onBarClick\"></div\n\t\t\t></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper\" data-dojo-attach-event=\"press:_onClkIncBumper\"></div\n\t\t></td\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH\"\n\t\t\t><div class=\"dijitSliderIncrementIconH\" style=\"display:none\" data-dojo-attach-point=\"incrementButton\"><span class=\"dijitSliderButtonInner\">+</span></div\n\t\t></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t\t><td data-dojo-attach-point=\"containerNode,bottomDecoration\" class=\"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH\"></td\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t></tr\n></table>\n","url:dijit/templates/TooltipDialog.html":"<div role=\"alertdialog\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class=\"dijitTooltipContents dijitTooltipFocusNode\" data-dojo-attach-point=\"containerNode\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\n</div>\n","url:dojox/grid/enhanced/templates/FilterStatusPane.html":"<div class=\"dojoxGridFStatusTip\"\n\t><div class=\"dojoxGridFStatusTipHead\"\n\t\t><span class=\"dojoxGridFStatusTipTitle\" dojoAttachPoint=\"statusTitle\"></span\n\t\t><span class=\"dojoxGridFStatusTipRel\" dojoAttachPoint=\"statusRel\"></span\n\t></div\n\t><div class=\"dojoxGridFStatusTipDetail\" dojoAttachPoint=\"statusDetailNode\"\n\t></div\n></div>\n","url:dojox/grid/enhanced/templates/ClearFilterConfirmPane.html":"<div class=\"dojoxGridClearFilterConfirm\">\n\t<div class=\"dojoxGridClearFilterMsg\">\n\t\t${_clearFilterMsg}\n\t</div>\n\t<div class=\"dojoxGridClearFilterBtns\" dojoAttachPoint=\"btnsNode\">\n\t\t<span dojoType=\"dijit.form.Button\" label=\"${_cancelBtnLabel}\" dojoAttachPoint=\"cancelBtn\" dojoAttachEvent=\"onClick:_onCancel\"></span>\n\t\t<span dojoType=\"dijit.form.Button\" label=\"${_clearBtnLabel}\" dojoAttachPoint=\"clearBtn\" dojoAttachEvent=\"onClick:_onClear\"></span>\n\t</div>\n</div>\n","url:dojox/grid/enhanced/templates/Pagination.html":"<div dojoAttachPoint=\"paginatorBar\"\n\t><table cellpadding=\"0\" cellspacing=\"0\"  class=\"dojoxGridPaginator\"\n\t\t><tr\n\t\t\t><td dojoAttachPoint=\"descriptionTd\" class=\"dojoxGridDescriptionTd\"\n\t\t\t\t><div dojoAttachPoint=\"descriptionDiv\" class=\"dojoxGridDescription\"></div\n\t\t\t></div></td\n\t\t\t><td dojoAttachPoint=\"sizeSwitchTd\"></td\n\t\t\t><td dojoAttachPoint=\"pageStepperTd\" class=\"dojoxGridPaginatorFastStep\"\n\t\t\t\t><div dojoAttachPoint=\"pageStepperDiv\" class=\"dojoxGridPaginatorStep\"></div\n\t\t\t></td\n\t\t\t><td dojoAttachPoint=\"gotoPageTd\" class=\"dojoxGridPaginatorGotoTd\"\n\t\t\t\t><div dojoAttachPoint=\"gotoPageDiv\" class=\"dojoxGridPaginatorGotoDiv\" dojoAttachEvent=\"onclick:_openGotopageDialog, onkeydown:_openGotopageDialog\"\n\t\t\t\t\t><span class=\"dojoxGridWardButtonInner\">&#8869;</span\n\t\t\t\t></div\n\t\t\t></td\n\t\t></tr\n\t></table\n></div>\n","*now":function(r){r(["dojo/i18n!*preload*demos/grid/nls/src*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});require(["dojo/data/ItemFileWriteStore","dojox/grid/EnhancedGrid","dojox/grid/enhanced/plugins/Filter","dojox/grid/enhanced/plugins/exporter/CSVWriter","dojox/grid/enhanced/plugins/Printer","dojox/grid/enhanced/plugins/Cookie","dojox/grid/enhanced/plugins/IndirectSelection","dojox/grid/enhanced/plugins/NestedSorting","dojox/grid/enhanced/plugins/Selector","dojox/grid/enhanced/plugins/Menu","dojox/grid/enhanced/plugins/DnD","dojox/grid/enhanced/plugins/Search","dojox/grid/enhanced/plugins/CellMerge","dojox/grid/enhanced/plugins/Pagination"],function(){var _1434={rowsPerPage:5,keepSelection:true,plugins:{}};var _1435={"nestedSorting":{},"indirectSelection":{headerSelector:true},"menus":{headerMenu:"headerMenu",rowMenu:"rowMenu",cellMenu:"cellMenu",selectedRegionMenu:"selectedRegionMenu"},"exporter":{},"printer":{},"filter":{closeFilterbarButton:true,ruleCount:0},"selector":{},"dnd":{copyOnly:true},"cellMerge":{"mergedCells":[{row:"3",start:1,end:10,major:3}]},"search":{},"pagination":{pageSizes:["5","10","20","50","All"],description:true,sizeSwitch:true,pageStepper:true,gotoButton:true,maxPageStep:10,position:"bottom"}};var _1436={"canSort":{label:"disable canSort",value:function(_1437){return false;}},"rowSelector":{value:"20px"},"autoWidth":{value:true},"singleClickEdit":{value:true},"selectionMode":{label:"single selectionMode",value:"single"}};function _1438(){var sb=["<table><tbody>"];for(var _1439 in _1436){sb.push("<tr>");sb.push("<td><input id='cbid",_1439,"' dojoType='dijit.form.CheckBox' dojoAttachPoint='cb",_1439,"'><label id='lbl",_1439,"' for='cbid",_1439,"'>",_1436[_1439].label||_1439,"</label></input></td>");sb.push("</tr>");}sb.push("<tr><td><hr/></td></tr>","<tr><td><button id='selectAllOptions' >Select All</button>","<button id='deselectAllOptions'>Deselect All</button></td></tr>");for(var _143a in _1435){sb.push("<tr>");sb.push("<td><input id='cbid",_143a,"' dojoType='dijit.form.CheckBox' dojoAttachPoint='cb",_143a,"'><label id='lbl",_143a,"' for='cbid",_143a,"'>",_143a,"</label></input></td>");sb.push("</tr>");}sb.push("</tbody></table>");return sb.join("");};dojo.declare("PluginTable",[dijit._Widget,dijit._TemplatedMixin,dijit._WidgetsInTemplateMixin],{templateString:_1438(),widgetsInTemplate:true,_onChangePlugin:function(_143b,cb,e){var _143c=cb.get("checked");_1434.plugins[_143b]=_143c?_1435[_143b]:false;var nd=dojo.byId(_143b+"Support");if(nd){dojo.style(nd,"display",_143c?"":"none");}},_onChangeFeature:function(_143d,cb,e){var _143e=cb.get("checked");if(_143e){_1434[_143d]=_1436[_143d].value;}else{delete _1434[_143d];}},postCreate:function(){var cb;for(var _143f in _1436){cb=this["cb"+_143f];this.connect(cb,"onChange",dojo.hitch(this,"_onChangeFeature",_143f,cb));}for(var _1440 in _1435){cb=this["cb"+_1440];this.connect(cb,"onChange",dojo.hitch(this,"_onChangePlugin",_1440,cb));}}});function _1441(){for(var _1442 in _1435){dijit.byId("cbid"+_1442).set("checked",true);}};function _1443(){for(var _1444 in _1435){dijit.byId("cbid"+_1444).set("checked",false);}};function _1445(){var g=dijit.byId("grid");g&&g.exportGrid("csv",{writerArgs:{separator:dojo.byId("sep").value}},function(str){dojo.byId("csvResults").value=str;});};function _1446(){var g=dijit.byId("grid");if(g){dojo.byId("csvResults").value=g.exportSelected("csv",{separator:dojo.byId("sep").value});}};function _1447(){var g=dijit.byId("grid");if(g){g.printGrid({title:dojo.byId("print_title").value,cssFiles:["support/print_style1.css","support/print_style2.css"]});}};function _1448(){var g=dijit.byId("grid");g&&g.printSelected({title:dojo.byId("print_title").value,cssFiles:["support/print_style1.css","support/print_style2.css"]});};function _1449(){var g=dijit.byId("grid");g&&g.exportToHTML({title:dojo.byId("print_title").value,cssFiles:["support/print_style1.css","support/print_style2.css"]},function(str){var win=window.open();win.document.open();win.document.write(str);g.normalizePrintedGrid(win.document);win.document.close();});};function _144a(){var _144b=parseInt(dojo.byId("inputRow").value,10)-1;var start=parseInt(dojo.byId("inputStart").value,10);var end=parseInt(dojo.byId("inputEnd").value,10);var major=parseInt(dojo.byId("inputMajor").value,10);var grid=dijit.byId("grid");grid.mergeCells(_144b,start,end,major);};function _144c(key,_144d){try{var g=dijit.byId("grid");if(g){if(key){g.setCookieEnabled(key,_144d);}else{g.setCookieEnabled(_144d);}}}catch(e){}};function _144e(){var g=dijit.byId("grid");if(g){var idx=parseInt(dojo.byId("inputScrollToRowIdx").value,10);g.scrollToRow(idx);}};dojo.ready(function(){dojo.connect(dojo.byId("selectAllOptions"),"click",_1441);dojo.connect(dojo.byId("deselectAllOptions"),"click",_1443);dojo.connect(dojo.byId("exportAllCSV"),"click",_1445);dojo.connect(dojo.byId("exportSelectedCSV"),"click",_1446);dojo.connect(dojo.byId("mergeCell"),"click",_144a);dojo.connect(dojo.byId("scrollToRow"),"click",_144e);var btns=dojo.byId("ctrlBtns2");btns.appendChild(dojo.create("button",{"innerHTML":"Refresh","onclick":function(){var g=dijit.byId("grid");g&&g._refresh();}}));btns.appendChild(dojo.create("button",{"innerHTML":"Delete Selected","onclick":function(){var g=dijit.byId("grid");g&&g.removeSelectedRows();}}));btns.appendChild(dojo.create("button",{"innerHTML":"resize","onclick":function(){var g=dijit.byId("grid");if(g){var cc=dojo.byId("gridContainer");dojo.style(cc,"height",(dojo.contentBox(cc).h+10)+"px");dojo.style(cc,"width",(dojo.contentBox(cc).w-10)+"px");g.resize(dojo.contentBox(cc));}}}));btns.appendChild(dojo.create("button",{"innerHTML":"Select All","onclick":function(){var g=dijit.byId("grid");if(g){var t1=(new Date()).getTime();g.selection.selectRange(0,g.rowCount-1);}}}));var _144f=true;btns.appendChild(dojo.create("button",{"innerHTML":"Disable 4th row selector","onclick":function(){var g=dijit.byId("grid");if(g){var cell=g.layout.cells[0];if(cell.setDisabled){cell.setDisabled(3,_144f);_144f=!_144f;}}}}));btns.appendChild(dojo.create("button",{"innerHTML":"clear sort","onclick":function(){var g=dijit.byId("grid");if(g){g.setSortIndex([]);}}}));});var data={identifier:"id",label:"id",items:[]};var _1450=[{"Heard":true,"Checked":"True","Genre":"Easy Listening","Artist":"Bette Midler","Year":2003,"Album":"Bette Midler Sings the Rosemary Clooney Songbook","Name":"Hey There","Length":"03:31","Track":4,"Composer":"Ross, Jerry 1926-1956 -w Adler, Richard 1921-","Download Date":"1923/4/9","Last Played":"04:32:49"},{"Heard":true,"Checked":"True","Genre":"Classic Rock","Artist":"Jimi Hendrix","Year":1993,"Album":"Are You Experienced","Name":"Love Or Confusion","Length":"03:15","Track":4,"Composer":"Jimi Hendrix","Download Date":"1947/12/6","Last Played":"03:47:49"},{"Heard":true,"Checked":"True","Genre":"Jazz","Artist":"Andy Narell","Year":1992,"Album":"Down the Road","Name":"Sugar Street","Length":"07:00","Track":8,"Composer":"Andy Narell","Download Date":"1906/3/22","Last Played":"21:56:15"},{"Heard":true,"Checked":"True","Genre":"Progressive Rock","Artist":"Emerson, Lake & Palmer","Year":1992,"Album":"The Atlantic Years","Name":"Tarkus","Length":"20:40","Track":5,"Composer":"Greg Lake/Keith Emerson","Download Date":"1994/11/29","Last Played":"03:25:19"},{"Heard":true,"Checked":"True","Genre":"Rock","Artist":"Blood, Sweat & Tears","Year":1968,"Album":"Child Is Father To The Man","Name":"Somethin' Goin' On","Length":"08:00","Track":9,"Composer":"","Download Date":"1973/9/11","Last Played":"19:49:41"},{"Heard":true,"Checked":"True","Genre":"Jazz","Artist":"Andy Narell","Year":1989,"Album":"Little Secrets","Name":"Armchair Psychology","Length":"08:20","Track":5,"Composer":"Andy Narell","Download Date":"2010/4/15","Last Played":"01:13:08"},{"Heard":true,"Checked":"True","Genre":"Easy Listening","Artist":"Frank Sinatra","Year":1991,"Album":"Sinatra Reprise: The Very Good Years","Name":"Luck Be A Lady","Length":"05:16","Track":4,"Composer":"F. Loesser","Download Date":"2035/4/12","Last Played":"06:16:53"},{"Heard":true,"Checked":"True","Genre":"Progressive Rock","Artist":"Dixie dregs","Year":1977,"Album":"Free Fall","Name":"Sleep","Length":"01:58","Track":6,"Composer":"Steve Morse","Download Date":"2032/11/21","Last Played":"08:23:26"}];var len=_1450.length;var _1451=25;for(var i=0;i<_1451*len;++i){data.items.push(dojo.mixin({"id":i+1},_1450[i%len]));}var store=new dojo.data.ItemFileWriteStore({data:data});var _1452=function(_1453){var dtb=new dijit.form.DateTextBox({});var res=dojo.date.locale.parse(_1453,{selector:"date",datePattern:"yyyy/MM/dd"});dtb.set("value",res);return dtb;};var _1454=[[{defaultCell:{editable:true,autoComplete:true,type:dojox.grid.cells._Widget},cells:[{field:"id",name:"Index",datatype:"number",width:4},{field:"Genre",name:"Genre",datatype:"string",width:10},{field:"Artist",name:"Artist",datatype:"string",width:10},{field:"Year",name:"Year",datatype:"string",width:6},{field:"Album",name:"Album",datatype:"string",width:10},{field:"Name",name:"Name",datatype:"string",width:8,disabledConditions:["contains","notcontains"]},{field:"Length",name:"Length",datatype:"string",width:6},{field:"Track",name:"Track",datatype:"number",width:5},{field:"Composer",name:"Composer",datatype:"string",width:12},{field:"Download Date",name:"Download Date",datatype:"date",width:12,navigatable:true,editable:false,dataTypeArgs:{datePattern:"yyyy/M/d"}},{field:"Last Played",name:"Last Played",datatype:"time",width:6,dataTypeArgs:{timePattern:"HH:mm:ss"}},{field:"Heard",name:"Checked",datatype:"boolean",width:6},{field:"Checked",name:"Checked (Customized Label)",editable:false,datatype:"boolean",width:15,dataTypeArgs:{trueLabel:"This sounds like a very old song.",falseLabel:"Never heard of this song."}}]}],[{defaultCell:{},rows:[[{field:"id",name:"Index(1)",hidden:false},{field:"Genre",name:"Genre(2)",hidden:false},{field:"Artist",name:"Artist(3)",hidden:false},{field:"Year",name:"Year(4)",hidden:false},{field:"Album",name:"Album(5)",hidden:false},{field:"Name",name:"Name(6)",hidden:false},{field:"Length",name:"Length(7)",hidden:false},{field:"Track",name:"Track(8)",hidden:false},{field:"Composer",name:"Composer(9)",hidden:false},{field:"Download Date",name:"Download Date(10)",cellFormatter:{selector:"date",parse:{datePattern:"yyyy/M/d"},format:{datePattern:"MMMM d, yyyy"}},hidden:false},{field:"Last Played",name:"Last Played(11)",hidden:false}]]}],[{width:"300px",rows:[{field:"Genre",width:"6"},{field:"Artist",width:"5"},{field:"Year",width:"6"},{field:"Album",width:"10"}]},{rows:[{field:"Name",width:"17"},{field:"Length",width:"6"},{field:"Track",width:"6"},{field:"Composer",width:"15"}]}],[{rows:[{field:"Genre",width:"8"},{field:"Artist",width:"6"},{field:"Year",width:"6"},{field:"Album",width:"10"},{field:"Name",width:"10"},{field:"Length",width:"6"},{field:"Track",width:"6"},{field:"Composer",width:"13"},{field:"Download Date",width:"10"},{field:"Last Played",width:"10"}]}],[{rows:[[{field:"Genre"},{field:"Artist"},{field:"Year"},{field:"Album"},{field:"Name"}],[{field:"Length"},{field:"Track"},{field:"Composer"},{field:"Download Date"},{field:"Last Played"}]]}],[{rows:[[{field:"Genre",width:"10",rowSpan:2},{field:"Artist",width:"15"},{field:"Year",width:"15"}],[{field:"Album",colSpan:2}]]},{rows:[[{field:"Name",width:"20",rowSpan:2},{field:"Length",width:"20"},{field:"Track"}],[{field:"Composer",colSpan:2}],[{field:"Download Date"},{field:"Last Played"},{field:"Checked"}]]}]];var _1455=0;var _1456=1000;var _1457=500;function _1458(step){try{var g=dijit.byId("grid");g&&g.destroyRecursive();for(_1455+=step;_1455<0;_1455+=_1454.length){}_1455%=_1454.length;var t1=(new Date()).getTime();g=new dojox.grid.EnhancedGrid(dojo.mixin({"id":"grid","store":store,"structure":_1454[_1455]},_1434||{}));g.placeAt(dojo.byId("gridContainer"));g.startup();dojo.byId("num").value=_1455;return g;}catch(e){}};var cnt=_1456;function start(){if(cnt>0){--cnt;_1458(1);setTimeout(start,_1457);}else{var g=dijit.byId("grid");g&&g.destroyRecursive();cnt=_1456;}};function stop(){cnt=0;};function _1459(){var id=parseInt(dojo.byId("num").value)%_1454.length;_1455=isNaN(id)?_1455:id;_1458(0);};function _145a(){var g=dijit.byId("grid");g&&g.destroyRecursive();};dojo.addOnLoad(function(){var btns=dojo.byId("ctrlBtns");btns.appendChild(dojo.create("button",{"innerHTML":"Play","onclick":start}));btns.appendChild(dojo.create("button",{"innerHTML":"Stop","onclick":stop}));btns.appendChild(dojo.create("button",{"innerHTML":"Prev","onclick":dojo.partial(_1458,-1)}));btns.appendChild(dojo.create("button",{"innerHTML":"Next","onclick":dojo.partial(_1458,1)}));btns.appendChild(dojo.create("input",{"id":"num","value":_1455,"type":"text"}));btns.appendChild(dojo.create("button",{"innerHTML":"Create","onclick":_1459}));btns.appendChild(dojo.create("button",{"innerHTML":"Destroy","onclick":_145a}));_1459();});});