/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dojox/mobile":function(){define([".","dojo/_base/lang","dojox/mobile/_base"],function(_1,_2,_3){_2.getObject("mobile",true,_1);return _1.mobile;});},"dojox/main":function(){define(["dojo/_base/kernel"],function(_4){return _4.dojox;});},"dojox/mobile/_base":function(){define(["./common","./View","./Heading","./RoundRect","./RoundRectCategory","./EdgeToEdgeCategory","./RoundRectList","./EdgeToEdgeList","./ListItem","./Container","./Pane","./Switch","./ToolBarButton","./ProgressIndicator"],function(_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10){return _5;});},"dojox/mobile/common":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/lang","dojo/_base/window","dojo/_base/kernel","dojo/dom-class","dojo/dom-construct","dojo/domReady","dojo/ready","dojo/touch","dijit/registry","./sniff","./uacss"],function(_11,_12,_13,_14,win,_15,_16,_17,_18,_19,_1a,_1b,has){var dm=_14.getObject("dojox.mobile",true);win.doc.dojoClick=true;if(has("touch")){has.add("clicks-prevented",!(has("android")>=4.1||has("ie")>=10));if(has("clicks-prevented")){dm._sendClick=function(_1c,e){for(var _1d=_1c;_1d;_1d=_1d.parentNode){if(_1d.dojoClick){return;}}var ev=win.doc.createEvent("MouseEvents");ev.initMouseEvent("click",true,true,win.global,1,e.screenX,e.screenY,e.clientX,e.clientY);_1c.dispatchEvent(ev);};}}dm.getScreenSize=function(){return {h:win.global.innerHeight||win.doc.documentElement.clientHeight,w:win.global.innerWidth||win.doc.documentElement.clientWidth};};dm.updateOrient=function(){var dim=dm.getScreenSize();_16.replace(win.doc.documentElement,dim.h>dim.w?"dj_portrait":"dj_landscape",dim.h>dim.w?"dj_landscape":"dj_portrait");};dm.updateOrient();dm.tabletSize=500;dm.detectScreenSize=function(_1e){var dim=dm.getScreenSize();var sz=Math.min(dim.w,dim.h);var _1f,to;if(sz>=dm.tabletSize&&(_1e||(!this._sz||this._sz<dm.tabletSize))){_1f="phone";to="tablet";}else{if(sz<dm.tabletSize&&(_1e||(!this._sz||this._sz>=dm.tabletSize))){_1f="tablet";to="phone";}}if(to){_16.replace(win.doc.documentElement,"dj_"+to,"dj_"+_1f);_13.publish("/dojox/mobile/screenSize/"+to,[dim]);}this._sz=sz;};dm.detectScreenSize();dm.hideAddressBarWait=typeof (_12.mblHideAddressBarWait)==="number"?_12.mblHideAddressBarWait:1500;dm.hide_1=function(){scrollTo(0,1);dm._hidingTimer=(dm._hidingTimer==0)?200:dm._hidingTimer*2;setTimeout(function(){if(dm.isAddressBarHidden()||dm._hidingTimer>dm.hideAddressBarWait){dm.resizeAll();dm._hiding=false;}else{setTimeout(dm.hide_1,dm._hidingTimer);}},50);};dm.hideAddressBar=function(evt){if(dm.disableHideAddressBar||dm._hiding){return;}dm._hiding=true;dm._hidingTimer=has("ios")?200:0;var _20=screen.availHeight;if(has("android")){_20=outerHeight/devicePixelRatio;if(_20==0){dm._hiding=false;setTimeout(function(){dm.hideAddressBar();},200);}if(_20<=innerHeight){_20=outerHeight;}if(has("android")<3){win.doc.documentElement.style.overflow=win.body().style.overflow="visible";}}if(win.body().offsetHeight<_20){win.body().style.minHeight=_20+"px";dm._resetMinHeight=true;}setTimeout(dm.hide_1,dm._hidingTimer);};dm.isAddressBarHidden=function(){return pageYOffset===1;};dm.resizeAll=function(evt,_21){if(dm.disableResizeAll){return;}_13.publish("/dojox/mobile/resizeAll",[evt,_21]);_13.publish("/dojox/mobile/beforeResizeAll",[evt,_21]);if(dm._resetMinHeight){win.body().style.minHeight=dm.getScreenSize().h+"px";}dm.updateOrient();dm.detectScreenSize();var _22=function(w){var _23=w.getParent&&w.getParent();return !!((!_23||!_23.resize)&&w.resize);};var _24=function(w){_11.forEach(w.getChildren(),function(_25){if(_22(_25)){_25.resize();}_24(_25);});};if(_21){if(_21.resize){_21.resize();}_24(_21);}else{_11.forEach(_11.filter(_1b.toArray(),_22),function(w){w.resize();});}_13.publish("/dojox/mobile/afterResizeAll",[evt,_21]);};dm.openWindow=function(url,_26){win.global.open(url,_26||"_blank");};dm._detectWindowsTheme=function(){if(navigator.userAgent.match(/IEMobile\/10\.0/)){_17.create("style",{innerHTML:"@-ms-viewport {width: auto !important}"},win.doc.head);}var _27=function(){_16.add(win.doc.documentElement,"windows_theme");_15.experimental("Dojo Mobile Windows theme","Behavior and appearance of the Windows theme are experimental.");};var _28=has("windows-theme");if(_28!==undefined){if(_28){_27();}return;}var i,j;var _29=function(_2a){if(_2a&&_2a.indexOf("/windows/")!==-1){has.add("windows-theme",true);_27();return true;}return false;};var s=win.doc.styleSheets;for(i=0;i<s.length;i++){if(s[i].href){continue;}var r=s[i].cssRules||s[i].imports;if(!r){continue;}for(j=0;j<r.length;j++){if(_29(r[j].href)){return;}}}var _2b=win.doc.getElementsByTagName("link");for(i=0;i<_2b.length;i++){if(_29(_2b[i].href)){return;}}};if(_12.mblApplyPageStyles!==false){_16.add(win.doc.documentElement,"mobile");}if(has("chrome")){_16.add(win.doc.documentElement,"dj_chrome");}if(win.global._no_dojo_dm){var _2c=win.global._no_dojo_dm;for(var i in _2c){dm[i]=_2c[i];}dm.deviceTheme.setDm(dm);}has.add("mblAndroidWorkaround",_12.mblAndroidWorkaround!==false&&has("android")<3,undefined,true);has.add("mblAndroid3Workaround",_12.mblAndroid3Workaround!==false&&has("android")>=3,undefined,true);dm._detectWindowsTheme();_18(function(){_16.add(win.body(),"mblBackground");});_19(function(){dm.detectScreenSize(true);if(_12.mblAndroidWorkaroundButtonStyle!==false&&has("android")){_17.create("style",{innerHTML:"BUTTON,INPUT[type='button'],INPUT[type='submit'],INPUT[type='reset'],INPUT[type='file']::-webkit-file-upload-button{-webkit-appearance:none;} audio::-webkit-media-controls-play-button,video::-webkit-media-controls-play-button{-webkit-appearance:media-play-button;} video::-webkit-media-controls-fullscreen-button{-webkit-appearance:media-fullscreen-button;}"},win.doc.head,"first");}if(has("mblAndroidWorkaround")){_17.create("style",{innerHTML:".mblView.mblAndroidWorkaround{position:absolute;top:-9999px !important;left:-9999px !important;}"},win.doc.head,"last");}var f=dm.resizeAll;var _2d=navigator.appVersion.indexOf("Mobile")!=-1&&!(has("ios")>=7);if((_12.mblHideAddressBar!==false&&_2d)||_12.mblForceHideAddressBar===true){dm.hideAddressBar();if(_12.mblAlwaysHideAddressBar===true){f=dm.hideAddressBar;}}var _2e=has("ios")>=6;if((has("android")||_2e)&&win.global.onorientationchange!==undefined){var _2f=f;var _30,_31,_32;if(_2e){_31=win.doc.documentElement.clientWidth;_32=win.doc.documentElement.clientHeight;}else{f=function(evt){var _33=_13.connect(null,"onresize",null,function(e){_13.disconnect(_33);_2f(e);});};_30=dm.getScreenSize();}_13.connect(null,"onresize",null,function(e){if(_2e){var _34=win.doc.documentElement.clientWidth,_35=win.doc.documentElement.clientHeight;if(_34==_31&&_35!=_32){_2f(e);}_31=_34;_32=_35;}else{var _36=dm.getScreenSize();if(_36.w==_30.w&&Math.abs(_36.h-_30.h)>=100){_2f(e);}_30=_36;}});}_13.connect(null,win.global.onorientationchange!==undefined?"onorientationchange":"onresize",null,f);win.body().style.visibility="visible";});return dm;});},"dojo/touch":function(){define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(_37,_38,dom,_39,_3a,on,has,_3b,_3c,win){var _3d=has("touch");var _3e=has("ios")<5;var _3f=navigator.msPointerEnabled;var _40,_41,_42,_43,_44,_45,_46,_47;var _48;function _49(_4a,_4b,_4c){if(_3f&&_4c){return function(_4d,_4e){return on(_4d,_4c,_4e);};}else{if(_3d){return function(_4f,_50){var _51=on(_4f,_4b,_50),_52=on(_4f,_4a,function(evt){if(!_48||(new Date()).getTime()>_48+1000){_50.call(this,evt);}});return {remove:function(){_51.remove();_52.remove();}};};}else{return function(_53,_54){return on(_53,_4a,_54);};}}};function _55(_56){do{if(_56.dojoClick){return _56;}}while(_56=_56.parentNode);};function _57(e,_58,_59){var _5a=_55(e.target);_41=!e.target.disabled&&_5a&&_5a.dojoClick;if(_41){var _5b=(_41=="useTarget");_42=(_5b?_5a:e.target);if(_5b){e.preventDefault();}_43=e.touches?e.touches[0].pageX:e.clientX;_44=e.touches?e.touches[0].pageY:e.clientY;_45=(typeof _41=="object"?_41.x:(typeof _41=="number"?_41:0))||4;_46=(typeof _41=="object"?_41.y:(typeof _41=="number"?_41:0))||4;if(!_40){_40=true;function _5c(e){if(_5b){_41=dom.isDescendant(win.doc.elementFromPoint((e.changedTouches?e.changedTouches[0].pageX:e.clientX),(e.changedTouches?e.changedTouches[0].pageY:e.clientY)),_42);}else{_41=_41&&e.target==_42&&Math.abs((e.changedTouches?e.changedTouches[0].pageX:e.clientX)-_43)<=_45&&Math.abs((e.changedTouches?e.changedTouches[0].pageY:e.clientY)-_44)<=_46;}};win.doc.addEventListener(_58,function(e){_5c(e);if(_5b){e.preventDefault();}},true);win.doc.addEventListener(_59,function(e){_5c(e);if(_41){_47=(new Date()).getTime();var _5d=(_5b?_42:e.target);if(_5d.tagName==="LABEL"){_5d=dom.byId(_5d.getAttribute("for"))||_5d;}setTimeout(function(){on.emit(_5d,"click",{bubbles:true,cancelable:true,_dojo_click:true});},0);}},true);function _5e(_5f){win.doc.addEventListener(_5f,function(e){if(!e._dojo_click&&(new Date()).getTime()<=_47+1000&&!(e.target.tagName=="INPUT"&&_39.contains(e.target,"dijitOffScreen"))){e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();if(_5f=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){e.preventDefault();}}},true);};_5e("click");_5e("mousedown");_5e("mouseup");}}};var _60;if(_3d){if(_3f){_3c(function(){win.doc.addEventListener("MSPointerDown",function(evt){_57(evt,"MSPointerMove","MSPointerUp");},true);});}else{_3c(function(){_60=win.body();win.doc.addEventListener("touchstart",function(evt){_48=(new Date()).getTime();var _61=_60;_60=evt.target;on.emit(_61,"dojotouchout",{relatedTarget:_60,bubbles:true});on.emit(_60,"dojotouchover",{relatedTarget:_61,bubbles:true});_57(evt,"touchmove","touchend");},true);function _62(evt){var _63=_3a.delegate(evt,{bubbles:true});if(has("ios")>=6){_63.touches=evt.touches;_63.altKey=evt.altKey;_63.changedTouches=evt.changedTouches;_63.ctrlKey=evt.ctrlKey;_63.metaKey=evt.metaKey;_63.shiftKey=evt.shiftKey;_63.targetTouches=evt.targetTouches;}return _63;};on(win.doc,"touchmove",function(evt){_48=(new Date()).getTime();var _64=win.doc.elementFromPoint(evt.pageX-(_3e?0:win.global.pageXOffset),evt.pageY-(_3e?0:win.global.pageYOffset));if(_64){if(_60!==_64){on.emit(_60,"dojotouchout",{relatedTarget:_64,bubbles:true});on.emit(_64,"dojotouchover",{relatedTarget:_60,bubbles:true});_60=_64;}if(!on.emit(_64,"dojotouchmove",_62(evt))){evt.preventDefault();}}});on(win.doc,"touchend",function(evt){_48=(new Date()).getTime();var _65=win.doc.elementFromPoint(evt.pageX-(_3e?0:win.global.pageXOffset),evt.pageY-(_3e?0:win.global.pageYOffset))||win.body();on.emit(_65,"dojotouchend",_62(evt));});});}}var _66={press:_49("mousedown","touchstart","MSPointerDown"),move:_49("mousemove","dojotouchmove","MSPointerMove"),release:_49("mouseup","dojotouchend","MSPointerUp"),cancel:_49(_3b.leave,"touchcancel",_3d?"MSPointerCancel":null),over:_49("mouseover","dojotouchover","MSPointerOver"),out:_49("mouseout","dojotouchout","MSPointerOut"),enter:_3b._eventHandler(_49("mouseover","dojotouchover","MSPointerOver")),leave:_3b._eventHandler(_49("mouseout","dojotouchout","MSPointerOut"))};1&&(_37.touch=_66);return _66;});},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(_67,win,_68){var _69={},_6a={};var _6b={length:0,add:function(_6c){if(_6a[_6c.id]){throw new Error("Tried to register widget with id=="+_6c.id+" but that id is already registered");}_6a[_6c.id]=_6c;this.length++;},remove:function(id){if(_6a[id]){delete _6a[id];this.length--;}},byId:function(id){return typeof id=="string"?_6a[id]:id;},byNode:function(_6d){return _6a[_6d.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in _6a){ar.push(_6a[id]);}return ar;},getUniqueId:function(_6e){var id;do{id=_6e+"_"+(_6e in _69?++_69[_6e]:_69[_6e]=0);}while(_6a[id]);return _68._scopeName=="dijit"?id:_68._scopeName+"_"+id;},findWidgets:function(_6f,_70){var _71=[];function _72(_73){for(var _74=_73.firstChild;_74;_74=_74.nextSibling){if(_74.nodeType==1){var _75=_74.getAttribute("widgetId");if(_75){var _76=_6a[_75];if(_76){_71.push(_76);}}else{if(_74!==_70){_72(_74);}}}}};_72(_6f);return _71;},_destroyAll:function(){_68._curFocus=null;_68._prevFocus=null;_68._activeStack=[];_67.forEach(_6b.findWidgets(win.body()),function(_77){if(!_77._destroyed){if(_77.destroyRecursive){_77.destroyRecursive();}else{if(_77.destroy){_77.destroy();}}}});},getEnclosingWidget:function(_78){while(_78){var id=_78.nodeType==1&&_78.getAttribute("widgetId");if(id){return _6a[id];}_78=_78.parentNode;}return null;},_hash:_6a};_68.registry=_6b;return _6b;});},"dijit/main":function(){define(["dojo/_base/kernel"],function(_79){return _79.dijit;});},"dojox/mobile/sniff":function(){define(["dojo/_base/kernel","dojo/sniff"],function(_7a,has){_7a.deprecated("dojox/mobile/sniff","Use dojo/sniff instead","2.0");has.add("iphone",has("ios"));return has;});},"dojox/mobile/uacss":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/window","./sniff"],function(_7b,_7c,win,has){var _7d=win.doc.documentElement;_7d.className=_7c.trim(_7d.className+" "+[has("bb")?"dj_bb":"",has("android")?"dj_android":"",has("ios")?"dj_ios":"",has("ios")>=6?"dj_ios6":"",has("ios")?"dj_iphone":"",has("ipod")?"dj_ipod":"",has("ipad")?"dj_ipad":"",has("ie")?"dj_ie":""].join(" ").replace(/ +/g," "));return _7b;});},"dojox/mobile/View":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/sniff","dojo/_base/window","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./ViewController","./common","./transition","./viewRegistry","./_css3"],function(_7e,_7f,_80,_81,_82,has,win,_83,dom,_84,_85,_86,_87,_88,_89,_8a,_8b,_8c,_8d,_8e,_8f,_90){var dm=_82.getObject("dojox.mobile",true);return _81("dojox.mobile.View",[_8b,_8a,_89],{selected:false,keepScrollPos:true,tag:"div",baseClass:"mblView",constructor:function(_91,_92){if(_92){dom.byId(_92).style.visibility="hidden";}},destroy:function(){_8f.remove(this.id);this.inherited(arguments);},buildRendering:function(){if(!this.templateString){this.domNode=this.containerNode=this.srcNodeRef||_85.create(this.tag);}this._animEndHandle=this.connect(this.domNode,_90.name("animationEnd"),"onAnimationEnd");this._animStartHandle=this.connect(this.domNode,_90.name("animationStart"),"onAnimationStart");if(!_7f.mblCSS3Transition){this._transEndHandle=this.connect(this.domNode,_90.name("transitionEnd"),"onAnimationEnd");}if(has("mblAndroid3Workaround")){_87.set(this.domNode,_90.name("transformStyle"),"preserve-3d");}_8f.add(this);this.inherited(arguments);},startup:function(){if(this._started){return;}if(this._visible===undefined){var _93=this.getSiblingViews();var ids=location.hash&&location.hash.substring(1).split(/,/);var _94,_95,_96;_7e.forEach(_93,function(v,i){if(_7e.indexOf(ids,v.id)!==-1){_94=v;}if(i==0){_96=v;}if(v.selected){_95=v;}v._visible=false;},this);(_94||_95||_96)._visible=true;}if(this._visible){this.show(true,true);this.defer(function(){this.onStartView();_80.publish("/dojox/mobile/startView",[this]);});}if(this.domNode.style.visibility!="visible"){this.domNode.style.visibility="visible";}this.inherited(arguments);var _97=this.getParent();if(!_97||!_97.resize){this.resize();}if(!this._visible){this.hide();}},resize:function(){_7e.forEach(this.getChildren(),function(_98){if(_98.resize){_98.resize();}});},onStartView:function(){},onBeforeTransitionIn:function(_99,dir,_9a,_9b,_9c){},onAfterTransitionIn:function(_9d,dir,_9e,_9f,_a0){},onBeforeTransitionOut:function(_a1,dir,_a2,_a3,_a4){},onAfterTransitionOut:function(_a5,dir,_a6,_a7,_a8){},_clearClasses:function(_a9){if(!_a9){return;}var _aa=[];_7e.forEach(_82.trim(_a9.className||"").split(/\s+/),function(c){if(c.match(/^mbl\w*View$/)||c.indexOf("mbl")===-1){_aa.push(c);}},this);_a9.className=_aa.join(" ");},_fixViewState:function(_ab){var _ac=this.domNode.parentNode.childNodes;for(var i=0;i<_ac.length;i++){var n=_ac[i];if(n.nodeType===1&&_84.contains(n,"mblView")){this._clearClasses(n);}}this._clearClasses(_ab);var _ad=_88.byNode(_ab);if(_ad){_ad._inProgress=false;}},convertToId:function(_ae){if(typeof (_ae)=="string"){return _ae.replace(/^#?([^&?]+).*/,"$1");}return _ae;},_isBookmarkable:function(_af){return _af.moveTo&&(_7f.mblForceBookmarkable||_af.moveTo.charAt(0)==="#")&&!_af.hashchange;},performTransition:function(_b0,_b1,_b2,_b3,_b4){if(this._inProgress){return;}this._inProgress=true;var _b5,_b6;if(_b0&&typeof (_b0)==="object"){_b5=_b0;_b6=_b1;}else{_b5={moveTo:_b0,transitionDir:_b1,transition:_b2,context:_b3,method:_b4};_b6=[];for(var i=5;i<arguments.length;i++){_b6.push(arguments[i]);}}this._detail=_b5;this._optArgs=_b6;this._arguments=[_b5.moveTo,_b5.transitionDir,_b5.transition,_b5.context,_b5.method];if(_b5.moveTo==="#"){return;}var _b7;if(_b5.moveTo){_b7=this.convertToId(_b5.moveTo);}else{if(!this._dummyNode){this._dummyNode=win.doc.createElement("div");win.body().appendChild(this._dummyNode);}_b7=this._dummyNode;}if(this.addTransitionInfo&&typeof (_b5.moveTo)=="string"&&this._isBookmarkable(_b5)){this.addTransitionInfo(this.id,_b5.moveTo,{transitionDir:_b5.transitionDir,transition:_b5.transition});}var _b8=this.domNode;var _b9=_b8.offsetTop;_b7=this.toNode=dom.byId(_b7);if(!_b7){return;}_b7.style.visibility="hidden";_b7.style.display="";this._fixViewState(_b7);var _ba=_88.byNode(_b7);if(_ba){if(_7f.mblAlwaysResizeOnTransition||!_ba._resized){_8d.resizeAll(null,_ba);_ba._resized=true;}if(_b5.transition&&_b5.transition!="none"){_ba._addTransitionPaddingTop(_b9);}_ba.load&&_ba.load();_ba.movedFrom=_b8.id;}if(has("mblAndroidWorkaround")&&!_7f.mblCSS3Transition&&_b5.transition&&_b5.transition!="none"){_87.set(_b7,_90.name("transformStyle"),"preserve-3d");_87.set(_b8,_90.name("transformStyle"),"preserve-3d");_84.add(_b7,"mblAndroidWorkaround");}this.onBeforeTransitionOut.apply(this,this._arguments);_80.publish("/dojox/mobile/beforeTransitionOut",[this].concat(_82._toArray(this._arguments)));if(_ba){if(this.keepScrollPos&&!this.getParent()){var _bb=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;_b8._scrollTop=_bb;var _bc=(_b5.transitionDir==1)?0:(_b7._scrollTop||0);_b7.style.top="0px";if(_bb>1||_bc!==0){_b8.style.top=_bc-_bb+"px";if(!(has("ios")>=7)&&_7f.mblHideAddressBar!==false){this.defer(function(){win.global.scrollTo(0,(_bc||1));});}}}else{_b7.style.top="0px";}_ba.onBeforeTransitionIn.apply(_ba,this._arguments);_80.publish("/dojox/mobile/beforeTransitionIn",[_ba].concat(_82._toArray(this._arguments)));}_b7.style.display="none";_b7.style.visibility="visible";_8d.fromView=this;_8d.toView=_ba;this._doTransition(_b8,_b7,_b5.transition,_b5.transitionDir);},_addTransitionPaddingTop:function(_bd){this.containerNode.style.paddingTop=_bd+"px";},_removeTransitionPaddingTop:function(){this.containerNode.style.paddingTop="";},_toCls:function(s){return "mbl"+s.charAt(0).toUpperCase()+s.substring(1);},_doTransition:function(_be,_bf,_c0,_c1){var rev=(_c1==-1)?" mblReverse":"";_bf.style.display="";if(!_c0||_c0=="none"){this.domNode.style.display="none";this.invokeCallback();}else{if(_7f.mblCSS3Transition){_83.when(_8e,_82.hitch(this,function(_c2){var _c3=_87.get(_bf,"position");_87.set(_bf,"position","absolute");_83.when(_c2(_be,_bf,{transition:_c0,reverse:(_c1===-1)?true:false}),_82.hitch(this,function(){_87.set(_bf,"position",_c3);_bf.style.paddingTop="";this.invokeCallback();}));}));}else{if(_c0.indexOf("cube")!=-1){if(has("ipad")){_87.set(_bf.parentNode,{webkitPerspective:1600});}else{if(has("ios")){_87.set(_bf.parentNode,{webkitPerspective:800});}}}var s=this._toCls(_c0);if(has("mblAndroidWorkaround")){var _c4=this;_c4.defer(function(){_84.add(_be,s+" mblOut"+rev);_84.add(_bf,s+" mblIn"+rev);_84.remove(_bf,"mblAndroidWorkaround");_c4.defer(function(){_84.add(_be,"mblTransition");_84.add(_bf,"mblTransition");},30);},70);}else{_84.add(_be,s+" mblOut"+rev);_84.add(_bf,s+" mblIn"+rev);this.defer(function(){_84.add(_be,"mblTransition");_84.add(_bf,"mblTransition");},100);}var _c5="50% 50%";var _c6="50% 50%";var _c7,_c8,_c9;if(_c0.indexOf("swirl")!=-1||_c0.indexOf("zoom")!=-1){if(this.keepScrollPos&&!this.getParent()){_c7=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;}else{_c7=-_86.position(_be,true).y;}_c9=win.global.innerHeight/2+_c7;_c5="50% "+_c9+"px";_c6="50% "+_c9+"px";}else{if(_c0.indexOf("scale")!=-1){var _ca=_86.position(_be,true);_c8=((this.clickedPosX!==undefined)?this.clickedPosX:win.global.innerWidth/2)-_ca.x;if(this.keepScrollPos&&!this.getParent()){_c7=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;}else{_c7=-_ca.y;}_c9=((this.clickedPosY!==undefined)?this.clickedPosY:win.global.innerHeight/2)+_c7;_c5=_c8+"px "+_c9+"px";_c6=_c8+"px "+_c9+"px";}}_87.set(_be,_90.add({},{transformOrigin:_c5}));_87.set(_bf,_90.add({},{transformOrigin:_c6}));}}},onAnimationStart:function(e){},onAnimationEnd:function(e){var _cb=e.animationName||e.target.className;if(_cb.indexOf("Out")===-1&&_cb.indexOf("In")===-1&&_cb.indexOf("Shrink")===-1){return;}var _cc=false;if(_84.contains(this.domNode,"mblOut")){_cc=true;this.domNode.style.display="none";_84.remove(this.domNode,[this._toCls(this._detail.transition),"mblIn","mblOut","mblReverse"]);}else{this._removeTransitionPaddingTop();}_87.set(this.domNode,_90.add({},{transformOrigin:""}));if(_cb.indexOf("Shrink")!==-1){var li=e.target;li.style.display="none";_84.remove(li,"mblCloseContent");var p=_8f.getEnclosingScrollable(this.domNode);p&&p.onTouchEnd();}if(_cc){this.invokeCallback();}this._clearClasses(this.domNode);this.clickedPosX=this.clickedPosY=undefined;if(_cb.indexOf("Cube")!==-1&&_cb.indexOf("In")!==-1&&has("ios")){this.domNode.parentNode.style[_90.name("perspective")]="";}},invokeCallback:function(){this.onAfterTransitionOut.apply(this,this._arguments);_80.publish("/dojox/mobile/afterTransitionOut",[this].concat(this._arguments));var _cd=_88.byNode(this.toNode);if(_cd){_cd.onAfterTransitionIn.apply(_cd,this._arguments);_80.publish("/dojox/mobile/afterTransitionIn",[_cd].concat(this._arguments));_cd.movedFrom=undefined;if(this.setFragIds&&this._isBookmarkable(this._detail)){this.setFragIds(_cd);}}if(has("mblAndroidWorkaround")){this.defer(function(){if(_cd){_87.set(this.toNode,_90.name("transformStyle"),"");}_87.set(this.domNode,_90.name("transformStyle"),"");});}var c=this._detail.context,m=this._detail.method;if(c||m){if(!m){m=c;c=null;}c=c||win.global;if(typeof (m)=="string"){c[m].apply(c,this._optArgs);}else{if(typeof (m)=="function"){m.apply(c,this._optArgs);}}}this._detail=this._optArgs=this._arguments=undefined;this._inProgress=false;},isVisible:function(_ce){var _cf=function(_d0){return _87.get(_d0,"display")!=="none";};if(_ce){for(var n=this.domNode;n.tagName!=="BODY";n=n.parentNode){if(!_cf(n)){return false;}}return true;}else{return _cf(this.domNode);}},getShowingView:function(){var _d1=this.domNode.parentNode.childNodes;for(var i=0;i<_d1.length;i++){var n=_d1[i];if(n.nodeType===1&&_84.contains(n,"mblView")&&n.style.display!=="none"){return _88.byNode(n);}}return null;},getSiblingViews:function(){if(!this.domNode.parentNode){return [this];}return _7e.map(_7e.filter(this.domNode.parentNode.childNodes,function(n){return n.nodeType===1&&_84.contains(n,"mblView");}),function(n){return _88.byNode(n);});},show:function(_d2,_d3){var out=this.getShowingView();if(!_d2){if(out){out.onBeforeTransitionOut(out.id);_80.publish("/dojox/mobile/beforeTransitionOut",[out,out.id]);}this.onBeforeTransitionIn(this.id);_80.publish("/dojox/mobile/beforeTransitionIn",[this,this.id]);}if(_d3){this.domNode.style.display="";}else{_7e.forEach(this.getSiblingViews(),function(v){v.domNode.style.display=(v===this)?"":"none";},this);}this.load&&this.load();if(!_d2){if(out){out.onAfterTransitionOut(out.id);_80.publish("/dojox/mobile/afterTransitionOut",[out,out.id]);}this.onAfterTransitionIn(this.id);_80.publish("/dojox/mobile/afterTransitionIn",[this,this.id]);}},hide:function(){this.domNode.style.display="none";}});});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_d4,_d5){return _d4("dijit._Contained",null,{_getSibling:function(_d6){var _d7=this.domNode;do{_d7=_d7[_d6+"Sibling"];}while(_d7&&_d7.nodeType!=1);return _d7&&_d5.byNode(_d7);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_d8,_d9,_da,_db){return _d9("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_dc,_dd){var _de=this.containerNode;if(_dd>0){_de=_de.firstChild;while(_dd>0){if(_de.nodeType==1){_dd--;}_de=_de.nextSibling;}if(_de){_dd="before";}else{_de=this.containerNode;_dd="last";}}_da.place(_dc.domNode,_de,_dd);if(this._started&&!_dc._started){_dc.startup();}},removeChild:function(_df){if(typeof _df=="number"){_df=this.getChildren()[_df];}if(_df){var _e0=_df.domNode;if(_e0&&_e0.parentNode){_e0.parentNode.removeChild(_e0);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_e1,dir){_db.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var _e2=this.getChildren(),idx=_d8.indexOf(_e2,_e1);return _e2[idx+dir];},getIndexOfChild:function(_e3){return _d8.indexOf(this.getChildren(),_e3);}});});},"dijit/_WidgetBase":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(_e4,_e5,_e6,_e7,_e8,_e9,dom,_ea,_eb,_ec,_ed,_ee,has,_ef,_f0,on,_f1,_f2,_f3,win,_f4,_f5,_f6){has.add("dijit-legacy-requires",!_ef.isAsync);has.add("dojo-bidi",false);if(has("dijit-legacy-requires")){_f1(0,function(){var _f7=["dijit/_base/manager"];_e4(_f7);});}var _f8={};function _f9(obj){var ret={};for(var _fa in obj){ret[_fa.toLowerCase()]=true;}return ret;};function _fb(_fc){return function(val){_ea[val?"set":"remove"](this.domNode,_fc,val);this._set(_fc,val);};};var _fd=_e9("dijit._WidgetBase",[_f2,_f4],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_fb("lang"),dir:"",_setDirAttr:_fb("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_e7.blankGif||_e4.toUrl("dojo/resources/blank.gif"),_introspect:function(){var _fe=this.constructor;if(!_fe._setterAttrs){var _ff=_fe.prototype,_100=_fe._setterAttrs=[],_101=(_fe._onMap={});for(var name in _ff.attributeMap){_100.push(name);}for(name in _ff){if(/^on/.test(name)){_101[name.substring(2).toLowerCase()]=name;}if(/^_set[A-Z](.*)Attr$/.test(name)){name=name.charAt(4).toLowerCase()+name.substr(5,name.length-9);if(!_ff.attributeMap||!(name in _ff.attributeMap)){_100.push(name);}}}}},postscript:function(_102,_103){this.create(_102,_103);},create:function(_104,_105){this._introspect();this.srcNodeRef=dom.byId(_105);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_104){this.params=_104;_f0.mixin(this,_104);}this.postMixInProperties();if(!this.id){this.id=_f6.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=win.body(this.ownerDocument);_f6.add(this);this.buildRendering();var _106;if(this.domNode){this._applyAttributes();var _107=this.srcNodeRef;if(_107&&_107.parentNode&&this.domNode!==_107){_107.parentNode.replaceChild(this.domNode,_107);_106=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_106){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _108={};for(var key in this.params||{}){_108[key]=this._get(key);}_e5.forEach(this.constructor._setterAttrs,function(key){if(!(key in _108)){var val=this._get(key);if(val){this.set(key,val);}}},this);for(key in _108){this.set(key,_108[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _109=this.baseClass.split(" ");if(!this.isLeftToRight()){_109=_109.concat(_e5.map(_109,function(name){return name+"Rtl";}));}_eb.add(this.domNode,_109);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_e5.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&_f0.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_10a){this._beingDestroyed=true;this.destroyDescendants(_10a);this.destroy(_10a);},destroy:function(_10b){this._beingDestroyed=true;this.uninitialize();function _10c(w){if(w.destroyRecursive){w.destroyRecursive(_10b);}else{if(w.destroy){w.destroy(_10b);}}};_e5.forEach(this._connects,_f0.hitch(this,"disconnect"));_e5.forEach(this._supportingWidgets,_10c);if(this.domNode){_e5.forEach(_f6.findWidgets(this.domNode,this.containerNode),_10c);}this.destroyRendering(_10b);_f6.remove(this.id);this._destroyed=true;},destroyRendering:function(_10d){if(this.bgIframe){this.bgIframe.destroy(_10d);delete this.bgIframe;}if(this.domNode){if(_10d){_ea.remove(this.domNode,"widgetId");}else{_ec.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_10d){_ec.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_10e){_e5.forEach(this.getChildren(),function(_10f){if(_10f.destroyRecursive){_10f.destroyRecursive(_10e);}});},uninitialize:function(){return false;},_setStyleAttr:function(_110){var _111=this.domNode;if(_f0.isObject(_110)){_ee.set(_111,_110);}else{if(_111.style.cssText){_111.style.cssText+="; "+_110;}else{_111.style.cssText=_110;}}this._set("style",_110);},_attrToDom:function(attr,_112,_113){_113=arguments.length>=3?_113:this.attributeMap[attr];_e5.forEach(_f0.isArray(_113)?_113:[_113],function(_114){var _115=this[_114.node||_114||"domNode"];var type=_114.type||"attribute";switch(type){case "attribute":if(_f0.isFunction(_112)){_112=_f0.hitch(this,_112);}var _116=_114.attribute?_114.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);if(_115.tagName){_ea.set(_115,_116,_112);}else{_115.set(_116,_112);}break;case "innerText":_115.innerHTML="";_115.appendChild(this.ownerDocument.createTextNode(_112));break;case "innerHTML":_115.innerHTML=_112;break;case "class":_eb.replace(_115,_112,this[attr]);break;}},this);},get:function(name){var _117=this._getAttrNames(name);return this[_117.g]?this[_117.g]():this._get(name);},set:function(name,_118){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _119=this._getAttrNames(name),_11a=this[_119.s];if(_f0.isFunction(_11a)){var _11b=_11a.apply(this,Array.prototype.slice.call(arguments,1));}else{var _11c=this.focusNode&&!_f0.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_11c]&&this[_11c].tagName,_11d=tag&&(_f8[tag]||(_f8[tag]=_f9(this[_11c]))),map=name in this.attributeMap?this.attributeMap[name]:_119.s in this?this[_119.s]:((_11d&&_119.l in _11d&&typeof _118!="function")||/^aria-|^data-|^role$/.test(name))?_11c:null;if(map!=null){this._attrToDom(name,_118,map);}this._set(name,_118);}return _11b||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,_11e){var _11f=this[name];this[name]=_11e;if(this._created&&_11e!==_11f){if(this._watchCallbacks){this._watchCallbacks(name,_11f,_11e);}this.emit("attrmodified-"+name,{detail:{prevValue:_11f,newValue:_11e}});}},_get:function(name){return this[name];},emit:function(type,_120,_121){_120=_120||{};if(_120.bubbles===undefined){_120.bubbles=true;}if(_120.cancelable===undefined){_120.cancelable=true;}if(!_120.detail){_120.detail={};}_120.detail.widget=this;var ret,_122=this["on"+type];if(_122){ret=_122.apply(this,_121?_121:[_120]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,type.toLowerCase(),_120);}return ret;},on:function(type,func){var _123=this._onMap(type);if(_123){return _e6.after(this,_123,func,true);}return this.own(on(this.domNode,type,func))[0];},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[typeof type=="string"&&type.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_f6.findWidgets(this.containerNode):[];},getParent:function(){return _f6.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_124,_125){return this.own(_e8.connect(obj,_124,this,_125))[0];},disconnect:function(_126){_126.remove();},subscribe:function(t,_127){return this.own(_f3.subscribe(t,_f0.hitch(this,_127)))[0];},unsubscribe:function(_128){_128.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_ed.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_ee.get(this.domNode,"display")!="none");},placeAt:function(_129,_12a){var _12b=!_129.tagName&&_f6.byId(_129);if(_12b&&_12b.addChild&&(!_12a||typeof _12a==="number")){_12b.addChild(this,_12a);}else{var ref=_12b?(_12b.containerNode&&!/after|before|replace/.test(_12a||"")?_12b.containerNode:_12b.domNode):dom.byId(_129,this.ownerDocument);_ec.place(this.domNode,ref,_12a);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},defer:function(fcn,_12c){var _12d=setTimeout(_f0.hitch(this,function(){if(!_12d){return;}_12d=null;if(!this._destroyed){_f0.hitch(this,fcn)();}}),_12c||0);return {remove:function(){if(_12d){clearTimeout(_12d);_12d=null;}return null;}};}});if(has("dojo-bidi")){_fd.extend(_f5);}return _fd;});},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(_12e,lang,_12f,when){return _12e("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}return (apn[name]={s:"_"+name+"Setter",g:"_"+name+"Getter"});},postscript:function(_130){if(_130){this.set(_130);}},_get:function(name,_131){return typeof this[_131.g]==="function"?this[_131.g]():this[name];},get:function(name){return this._get(name,this._getAttrNames(name));},set:function(name,_132){if(typeof name==="object"){for(var x in name){if(name.hasOwnProperty(x)&&x!="_watchCallbacks"){this.set(x,name[x]);}}return this;}var _133=this._getAttrNames(name),_134=this._get(name,_133),_135=this[_133.s],_136;if(typeof _135==="function"){_136=_135.apply(this,Array.prototype.slice.call(arguments,1));}else{this[name]=_132;}if(this._watchCallbacks){var self=this;when(_136,function(){self._watchCallbacks(name,_134,_132);});}return this;},_changeAttrValue:function(name,_137){var _138=this.get(name);this[name]=_137;if(this._watchCallbacks){this._watchCallbacks(name,_138,_137);}return this;},watch:function(name,_139){var _13a=this._watchCallbacks;if(!_13a){var self=this;_13a=this._watchCallbacks=function(name,_13b,_13c,_13d){var _13e=function(_13f){if(_13f){_13f=_13f.slice();for(var i=0,l=_13f.length;i<l;i++){_13f[i].call(self,name,_13b,_13c);}}};_13e(_13a["_"+name]);if(!_13d){_13e(_13a["*"]);}};}if(!_139&&typeof name==="function"){_139=name;name="*";}else{name="_"+name;}var _140=_13a[name];if(typeof _140!=="object"){_140=_13a[name]=[];}_140.push(_139);var _141={};_141.unwatch=_141.remove=function(){var _142=_12f.indexOf(_140,_139);if(_142>-1){_140.splice(_142,1);}};return _141;}});});},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_143,_144,_145){return _145("dijit.Destroyable",null,{destroy:function(_146){this._destroyed=true;},own:function(){_143.forEach(arguments,function(_147){var _148="destroyRecursive" in _147?"destroyRecursive":"destroy" in _147?"destroy":"remove";var odh=_144.before(this,"destroy",function(_149){_147[_148](_149);});var hdh=_144.after(_147,_148,function(){odh.remove();hdh.remove();},true);},this);return arguments;}});});},"dojox/mobile/ViewController":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/on","dojo/ready","dijit/registry","./ProgressIndicator","./TransitionEvent","./viewRegistry"],function(dojo,_14a,_14b,_14c,lang,win,_14d,dom,_14e,_14f,on,_150,_151,_152,_153,_154){var _155=_14c("dojox.mobile.ViewController",null,{dataHandlerClass:"dojox/mobile/dh/DataHandler",dataSourceClass:"dojox/mobile/dh/UrlDataSource",fileTypeMapClass:"dojox/mobile/dh/SuffixFileTypeMap",constructor:function(){this.viewMap={};_150(lang.hitch(this,function(){on(win.body(),"startTransition",lang.hitch(this,"onStartTransition"));}));},findTransitionViews:function(_156){if(!_156){return [];}_156.match(/^#?([^&?]+)(.*)/);var _157=RegExp.$2;var view=_151.byId(RegExp.$1);if(!view){return [];}for(var v=view.getParent();v;v=v.getParent()){if(v.isVisible&&!v.isVisible()){var sv=view.getShowingView();if(sv&&sv.id!==view.id){view.show();}view=v;}}return [view.getShowingView(),view,_157];},openExternalView:function(_158,_159){var d=new _14d();var id=this.viewMap[_158.url];if(id){_158.moveTo=id;if(_158.noTransition){_151.byId(id).hide();}else{new _153(win.body(),_158).dispatch();}d.resolve(true);return d;}var _15a=null;for(var i=_159.childNodes.length-1;i>=0;i--){var c=_159.childNodes[i];if(c.nodeType===1){var _15b=c.getAttribute("fixed")||c.getAttribute("data-mobile-fixed")||(_151.byNode(c)&&_151.byNode(c).fixed);if(_15b==="bottom"){_15a=c;break;}}}var dh=_158.dataHandlerClass||this.dataHandlerClass;var ds=_158.dataSourceClass||this.dataSourceClass;var ft=_158.fileTypeMapClass||this.fileTypeMapClass;require([dh,ds,ft],lang.hitch(this,function(_15c,_15d,_15e){var _15f=new _15c(new _15d(_158.data||_158.url),_159,_15a);var _160=_158.contentType||_15e.getContentType(_158.url)||"html";_15f.processData(_160,lang.hitch(this,function(id){if(id){this.viewMap[_158.url]=_158.moveTo=id;if(_158.noTransition){_151.byId(id).hide();}else{new _153(win.body(),_158).dispatch();}d.resolve(true);}else{d.reject("Failed to load "+_158.url);}}));}));return d;},onStartTransition:function(evt){evt.preventDefault();if(!evt.detail){return;}var _161=evt.detail;if(!_161.moveTo&&!_161.href&&!_161.url&&!_161.scene){return;}if(_161.url&&!_161.moveTo){var _162=_161.urlTarget;var w=_151.byId(_162);var _163=w&&w.containerNode||dom.byId(_162);if(!_163){w=_154.getEnclosingView(evt.target);_163=w&&w.domNode.parentNode||win.body();}this.openExternalView(_161,_163);return;}else{if(_161.href){if(_161.hrefTarget&&_161.hrefTarget!="_self"){win.global.open(_161.href,_161.hrefTarget);}else{var view;for(var v=_154.getEnclosingView(evt.target);v;v=_154.getParentView(v)){view=v;}if(view){view.performTransition(null,_161.transitionDir,_161.transition,evt.target,function(){location.href=_161.href;});}}return;}else{if(_161.scene){_14b.publish("/dojox/mobile/app/pushScene",[_161.scene]);return;}}}var arr=this.findTransitionViews(_161.moveTo),_164=arr[0],_165=arr[1],_166=arr[2];if(!location.hash&&!_161.hashchange){_154.initialView=_164;}if(_161.moveTo&&_165){_161.moveTo=(_161.moveTo.charAt(0)==="#"?"#"+_165.id:_165.id)+_166;}if(!_164||(_161.moveTo&&_164===_151.byId(_161.moveTo.replace(/^#?([^&?]+).*/,"$1")))){return;}var src=_151.getEnclosingWidget(evt.target);if(src&&src.callback){_161.context=src;_161.method=src.callback;}_164.performTransition(_161);}});_155._instance=new _155();_155.getInstance=function(){return _155._instance;};return _155;});},"dojox/mobile/ProgressIndicator":function(){define(["dojo/_base/config","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dijit/_Contained","dijit/_WidgetBase","./_css3"],function(_167,_168,lang,_169,_16a,_16b,_16c,has,_16d,_16e,css3){var cls=_168("dojox.mobile.ProgressIndicator",[_16e,_16d],{interval:100,size:40,removeOnStop:true,startSpinning:false,center:true,colors:null,baseClass:"mblProgressIndicator",constructor:function(){this.colors=[];this._bars=[];},buildRendering:function(){this.inherited(arguments);if(this.center){_169.add(this.domNode,"mblProgressIndicatorCenter");}this.containerNode=_16a.create("div",{className:"mblProgContainer"},this.domNode);this.spinnerNode=_16a.create("div",null,this.containerNode);for(var i=0;i<12;i++){var div=_16a.create("div",{className:"mblProg mblProg"+i},this.spinnerNode);this._bars.push(div);}this.scale(this.size);if(this.startSpinning){this.start();}},scale:function(size){var _16f=size/40;_16c.set(this.containerNode,css3.add({},{transform:"scale("+_16f+")",transformOrigin:"0 0"}));_16b.setMarginBox(this.domNode,{w:size,h:size});_16b.setMarginBox(this.containerNode,{w:size/_16f,h:size/_16f});},start:function(){if(this.imageNode){var img=this.imageNode;var l=Math.round((this.containerNode.offsetWidth-img.offsetWidth)/2);var t=Math.round((this.containerNode.offsetHeight-img.offsetHeight)/2);img.style.margin=t+"px "+l+"px";return;}var cntr=0;var _170=this;var n=12;this.timer=setInterval(function(){cntr--;cntr=cntr<0?n-1:cntr;var c=_170.colors;for(var i=0;i<n;i++){var idx=(cntr+i)%n;if(c[idx]){_170._bars[i].style.backgroundColor=c[idx];}else{_169.replace(_170._bars[i],"mblProg"+idx+"Color","mblProg"+(idx===n-1?0:idx+1)+"Color");}}},this.interval);},stop:function(){if(this.timer){clearInterval(this.timer);}this.timer=null;if(this.removeOnStop&&this.domNode&&this.domNode.parentNode){this.domNode.parentNode.removeChild(this.domNode);}},setImage:function(file){if(file){this.imageNode=_16a.create("img",{src:file},this.containerNode);this.spinnerNode.style.display="none";}else{if(this.imageNode){this.containerNode.removeChild(this.imageNode);this.imageNode=null;}this.spinnerNode.style.display="";}},destroy:function(){this.inherited(arguments);if(this===cls._instance){cls._instance=null;}}});cls._instance=null;cls.getInstance=function(_171){if(!cls._instance){cls._instance=new cls(_171);}return cls._instance;};return cls;});},"dojox/mobile/_css3":function(){define(["dojo/_base/window","dojo/_base/array","dojo/has"],function(win,arr,has){var _172=[],_173=[];var _174=win.doc.createElement("div").style;var _175=["webkit"];has.add("css3-animations",function(_176,_177,_178){var _179=_178.style;return (_179["animation"]!==undefined&&_179["transition"]!==undefined)||arr.some(_175,function(p){return _179[p+"Animation"]!==undefined&&_179[p+"Transition"]!==undefined;});});has.add("t17164",function(_17a,_17b,_17c){return (_17c.style["transition"]!==undefined)&&!("TransitionEvent" in window);});var css3={name:function(p,_17d){var n=(_17d?_173:_172)[p];if(!n){if(/End|Start/.test(p)){var idx=p.length-(p.match(/End/)?3:5);var s=p.substr(0,idx);var pp=this.name(s);if(pp==s){n=p.toLowerCase();}else{n=pp+p.substr(idx);}}else{if(p=="keyframes"){var pk=this.name("animation",_17d);if(pk=="animation"){n=p;}else{if(_17d){n=pk.replace(/animation/,"keyframes");}else{n=pk.replace(/Animation/,"Keyframes");}}}else{var cn=_17d?p.replace(/-(.)/g,function(_17e,p1){return p1.toUpperCase();}):p;if(_174[cn]!==undefined&&!has("t17164")){n=p;}else{cn=cn.charAt(0).toUpperCase()+cn.slice(1);arr.some(_175,function(_17f){if(_174[_17f+cn]!==undefined){if(_17d){n="-"+_17f+"-"+p;}else{n=_17f+cn;}}});}}}if(!n){n=p;}(_17d?_173:_172)[p]=n;}return n;},add:function(_180,_181){for(var p in _181){if(_181.hasOwnProperty(p)){_180[css3.name(p)]=_181[p];}}return _180;}};return css3;});},"dojox/mobile/TransitionEvent":function(){define(["dojo/_base/declare","dojo/on"],function(_182,on){return _182("dojox.mobile.TransitionEvent",null,{constructor:function(_183,_184,_185){this.transitionOptions=_184;this.target=_183;this.triggerEvent=_185||null;},dispatch:function(){var opts={bubbles:true,cancelable:true,detail:this.transitionOptions,triggerEvent:this.triggerEvent};var evt=on.emit(this.target,"startTransition",opts);}});});},"dojox/mobile/viewRegistry":function(){define(["dojo/_base/array","dojo/dom-class","dijit/registry"],function(_186,_187,_188){var _189={length:0,hash:{},initialView:null,add:function(view){this.hash[view.id]=view;this.length++;},remove:function(id){if(this.hash[id]){delete this.hash[id];this.length--;}},getViews:function(){var arr=[];for(var i in this.hash){arr.push(this.hash[i]);}return arr;},getParentView:function(view){for(var v=view.getParent();v;v=v.getParent()){if(_187.contains(v.domNode,"mblView")){return v;}}return null;},getChildViews:function(_18a){return _186.filter(this.getViews(),function(v){return this.getParentView(v)===_18a;},this);},getEnclosingView:function(node){for(var n=node;n&&n.tagName!=="BODY";n=n.parentNode){if(n.nodeType===1&&_187.contains(n,"mblView")){return _188.byNode(n);}}return null;},getEnclosingScrollable:function(node){for(var w=_188.getEnclosingWidget(node);w;w=w.getParent()){if(w.scrollableParams&&w._v){return w;}}return null;}};return _189;});},"dojox/mobile/transition":function(){define(["dojo/_base/Deferred","dojo/_base/config"],function(_18b,_18c){if(_18c.mblCSS3Transition){var _18d=new _18b();require([_18c.mblCSS3Transition],function(_18e){_18d.resolve(_18e);});return _18d;}return null;});},"dojox/mobile/Heading":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./ProgressIndicator","./ToolBarButton","./View","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/Heading"],function(_18f,_190,_191,lang,win,dom,_192,_193,_194,_195,_196,_197,_198,_199,_19a,_19b,View,has,_19c){var dm=lang.getObject("dojox.mobile",true);var _19d=_191(has("dojo-bidi")?"dojox.mobile.NonBidiHeading":"dojox.mobile.Heading",[_199,_198,_197],{back:"",href:"",moveTo:"",transition:"slide",label:"",iconBase:"",tag:"h1",busy:false,progStyle:"mblProgWhite",baseClass:"mblHeading",buildRendering:function(){if(!this.templateString){this.domNode=this.containerNode=this.srcNodeRef||win.doc.createElement(this.tag);}this.inherited(arguments);if(!this.templateString){if(!this.label){_18f.forEach(this.domNode.childNodes,function(n){if(n.nodeType==3){var v=lang.trim(n.nodeValue);if(v){this.label=v;this.labelNode=_193.create("span",{innerHTML:v},n,"replace");}}},this);}if(!this.labelNode){this.labelNode=_193.create("span",null,this.domNode);}this.labelNode.className="mblHeadingSpanTitle";this.labelDivNode=_193.create("div",{className:"mblHeadingDivTitle",innerHTML:this.labelNode.innerHTML},this.domNode);}if(this.labelDivNode){_195.set(this.labelDivNode,"role","heading");_195.set(this.labelDivNode,"aria-level","1");}dom.setSelectable(this.domNode,false);},startup:function(){if(this._started){return;}var _19e=this.getParent&&this.getParent();if(!_19e||!_19e.resize){var _19f=this;_19f.defer(function(){_19f.resize();});}this.inherited(arguments);},resize:function(){if(this.labelNode){var _1a0,_1a1;var _1a2=this.containerNode.childNodes;for(var i=_1a2.length-1;i>=0;i--){var c=_1a2[i];if(c.nodeType===1&&_194.get(c,"display")!=="none"){if(!_1a1&&_194.get(c,"float")==="right"){_1a1=c;}if(!_1a0&&_194.get(c,"float")==="left"){_1a0=c;}}}if(!this.labelNodeLen&&this.label){this.labelNode.style.display="inline";this.labelNodeLen=this.labelNode.offsetWidth;this.labelNode.style.display="";}var bw=this.domNode.offsetWidth;var rw=_1a1?bw-_1a1.offsetLeft+5:0;var lw=_1a0?_1a0.offsetLeft+_1a0.offsetWidth+5:0;var tw=this.labelNodeLen||0;_192[bw-Math.max(rw,lw)*2>tw?"add":"remove"](this.domNode,"mblHeadingCenterTitle");}_18f.forEach(this.getChildren(),function(_1a3){if(_1a3.resize){_1a3.resize();}});},_setBackAttr:function(back){this._set("back",back);if(!this.backButton){this.backButton=new _19b({arrow:"left",label:back,moveTo:this.moveTo,back:!this.moveTo&&!this.href,href:this.href,transition:this.transition,transitionDir:-1,dir:this.isLeftToRight()?"ltr":"rtl"});this.backButton.placeAt(this.domNode,"first");}else{this.backButton.set("label",back);}this.resize();},_setMoveToAttr:function(_1a4){this._set("moveTo",_1a4);if(this.backButton){this.backButton.set("moveTo",_1a4);this.backButton.set("back",!_1a4&&!this.href);}},_setHrefAttr:function(href){this._set("href",href);if(this.backButton){this.backButton.set("href",href);this.backButton.set("back",!this.moveTo&&!href);}},_setTransitionAttr:function(_1a5){this._set("transition",_1a5);if(this.backButton){this.backButton.set("transition",_1a5);}},_setLabelAttr:function(_1a6){this._set("label",_1a6);this.labelNode.innerHTML=this.labelDivNode.innerHTML=this._cv?this._cv(_1a6):_1a6;},_setBusyAttr:function(busy){var prog=this._prog;if(busy){if(!prog){prog=this._prog=new _19a({size:30,center:false});_192.add(prog.domNode,this.progStyle);}_193.place(prog.domNode,this.domNode,"first");prog.start();}else{if(prog){prog.stop();}}this._set("busy",busy);}});return has("dojo-bidi")?_191("dojox.mobile.Heading",[_19d,_19c]):_19d;});},"dojox/mobile/ToolBarButton":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","./sniff","./_ItemBase","dojo/has!dojo-bidi?dojox/mobile/bidi/ToolBarButton"],function(_1a7,lang,win,_1a8,_1a9,_1aa,_1ab,has,_1ac,_1ad){var _1ae=_1a7(has("dojo-bidi")?"dojox.mobile.NonBidiToolBarButton":"dojox.mobile.ToolBarButton",_1ac,{selected:false,arrow:"",light:true,defaultColor:"mblColorDefault",selColor:"mblColorDefaultSel",baseClass:"mblToolBarButton",_selStartMethod:"touch",_selEndMethod:"touch",buildRendering:function(){if(!this.label&&this.srcNodeRef){this.label=this.srcNodeRef.innerHTML;}this.label=lang.trim(this.label);this.domNode=(this.srcNodeRef&&this.srcNodeRef.tagName==="SPAN")?this.srcNodeRef:_1a9.create("span");_1ab.set(this.domNode,"role","button");this.inherited(arguments);if(this.light&&!this.arrow&&(!this.icon||!this.label)){this.labelNode=this.tableNode=this.bodyNode=this.iconParentNode=this.domNode;_1a8.add(this.domNode,this.defaultColor+" mblToolBarButtonBody"+(this.icon?" mblToolBarButtonLightIcon":" mblToolBarButtonLightText"));return;}this.domNode.innerHTML="";if(this.arrow==="left"||this.arrow==="right"){this.arrowNode=_1a9.create("span",{className:"mblToolBarButtonArrow mblToolBarButton"+(this.arrow==="left"?"Left":"Right")+"Arrow "+(has("ie")<10?"":(this.defaultColor+" "+this.defaultColor+"45"))},this.domNode);_1a8.add(this.domNode,"mblToolBarButtonHas"+(this.arrow==="left"?"Left":"Right")+"Arrow");}this.bodyNode=_1a9.create("span",{className:"mblToolBarButtonBody"},this.domNode);this.tableNode=_1a9.create("table",{cellPadding:"0",cellSpacing:"0",border:"0",role:"presentation"},this.bodyNode);if(!this.label&&this.arrow){this.tableNode.className="mblToolBarButtonText";}var row=this.tableNode.insertRow(-1);this.iconParentNode=row.insertCell(-1);this.labelNode=row.insertCell(-1);this.iconParentNode.className="mblToolBarButtonIcon";this.labelNode.className="mblToolBarButtonLabel";if(this.icon&&this.icon!=="none"&&this.label){_1a8.add(this.domNode,"mblToolBarButtonHasIcon");_1a8.add(this.bodyNode,"mblToolBarButtonLabeledIcon");}_1a8.add(this.bodyNode,this.defaultColor);},startup:function(){if(this._started){return;}this.connect(this.domNode,"onkeydown","_onClick");this.inherited(arguments);if(!this._isOnLine){this._isOnLine=true;this.set("icon",this._pendingIcon!==undefined?this._pendingIcon:this.icon);delete this._pendingIcon;}},_onClick:function(e){if(e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}this.defaultClickAction(e);},onClick:function(){},_setLabelAttr:function(text){this.inherited(arguments);_1a8.toggle(this.tableNode,"mblToolBarButtonText",text||this.arrow);},_setSelectedAttr:function(_1af){var _1b0=function(node,a,b){_1a8.replace(node,a+" "+a+"45",b+" "+b+"45");};this.inherited(arguments);if(_1af){_1a8.replace(this.bodyNode,this.selColor,this.defaultColor);if(!(has("ie")<10)&&this.arrowNode){_1b0(this.arrowNode,this.selColor,this.defaultColor);}}else{_1a8.replace(this.bodyNode,this.defaultColor,this.selColor);if(!(has("ie")<10)&&this.arrowNode){_1b0(this.arrowNode,this.defaultColor,this.selColor);}}_1a8.toggle(this.domNode,"mblToolBarButtonSelected",_1af);_1a8.toggle(this.bodyNode,"mblToolBarButtonBodySelected",_1af);}});return has("dojo-bidi")?_1a7("dojox.mobile.ToolBarButton",[_1ae,_1ad]):_1ae;});},"dojox/mobile/_ItemBase":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/touch","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./TransitionEvent","./iconUtils","./sniff","dojo/has!dojo-bidi?dojox/mobile/bidi/_ItemBase"],function(_1b1,_1b2,lang,win,_1b3,_1b4,_1b5,_1b6,_1b7,_1b8,_1b9,_1ba,has,_1bb){var _1bc=_1b2(has("dojo-bidi")?"dojox.mobile._NonBidiItemBase":"dojox.mobile._ItemBase",[_1b8,_1b7,_1b6],{icon:"",iconPos:"",alt:"",href:"",hrefTarget:"",moveTo:"",scene:"",clickable:false,url:"",urlTarget:"",back:false,transition:"",transitionDir:1,transitionOptions:null,callback:null,label:"",toggle:false,selected:false,tabIndex:"0",_setTabIndexAttr:"",paramsToInherit:"transition,icon",_selStartMethod:"none",_selEndMethod:"none",_delayedSelection:false,_duration:800,_handleClick:true,buildRendering:function(){this.inherited(arguments);this._isOnLine=this.inheritParams();},startup:function(){if(this._started){return;}if(!this._isOnLine){this.inheritParams();}this._updateHandles();this.inherited(arguments);},inheritParams:function(){var _1bd=this.getParent();if(_1bd){_1b1.forEach(this.paramsToInherit.split(/,/),function(p){if(p.match(/icon/i)){var base=p+"Base",pos=p+"Pos";if(this[p]&&_1bd[base]&&_1bd[base].charAt(_1bd[base].length-1)==="/"){this[p]=_1bd[base]+this[p];}if(!this[p]){this[p]=_1bd[base];}if(!this[pos]){this[pos]=_1bd[pos];}}if(!this[p]){this[p]=_1bd[p];}},this);}return !!_1bd;},_updateHandles:function(){if(this._handleClick&&this._selStartMethod==="touch"){if(!this._onTouchStartHandle){this._onTouchStartHandle=this.connect(this.domNode,_1b4.press,"_onTouchStart");}}else{if(this._onTouchStartHandle){this.disconnect(this._onTouchStartHandle);this._onTouchStartHandle=null;}}},getTransOpts:function(){var opts=this.transitionOptions||{};_1b1.forEach(["moveTo","href","hrefTarget","url","target","urlTarget","scene","transition","transitionDir"],function(p){opts[p]=opts[p]||this[p];},this);return opts;},userClickAction:function(){},defaultClickAction:function(e){this.handleSelection(e);if(this.userClickAction(e)===false){return;}this.makeTransition(e);},handleSelection:function(e){if(this._delayedSelection){this.set("selected",true);}if(this._onTouchEndHandle){this.disconnect(this._onTouchEndHandle);this._onTouchEndHandle=null;}var p=this.getParent();if(this.toggle){this.set("selected",!this._currentSel);}else{if(p&&p.selectOne){this.set("selected",true);}else{if(this._selEndMethod==="touch"){this.set("selected",false);}else{if(this._selEndMethod==="timer"){this.defer(function(){this.set("selected",false);},this._duration);}}}}},makeTransition:function(e){if(this.back&&history){history.back();return;}if(this.href&&this.hrefTarget&&this.hrefTarget!="_self"){win.global.open(this.href,this.hrefTarget||"_blank");this._onNewWindowOpened(e);return;}var opts=this.getTransOpts();var _1be=!!(opts.moveTo||opts.href||opts.url||opts.target||opts.scene);if(this._prepareForTransition(e,_1be?opts:null)===false){return;}if(_1be){this.setTransitionPos(e);new _1b9(this.domNode,opts,e).dispatch();}},_onNewWindowOpened:function(){},_prepareForTransition:function(e,_1bf){},_onTouchStart:function(e){if(this.getParent().isEditing||this.onTouchStart(e)===false){return;}if(!this._onTouchEndHandle&&this._selStartMethod==="touch"){this._onTouchMoveHandle=this.connect(win.body(),_1b4.move,"_onTouchMove");this._onTouchEndHandle=this.connect(win.body(),_1b4.release,"_onTouchEnd");}this.touchStartX=e.touches?e.touches[0].pageX:e.clientX;this.touchStartY=e.touches?e.touches[0].pageY:e.clientY;this._currentSel=this.selected;if(this._delayedSelection){this._selTimer=this.defer(function(){this.set("selected",true);},100);}else{this.set("selected",true);}},onTouchStart:function(){},_onTouchMove:function(e){var x=e.touches?e.touches[0].pageX:e.clientX;var y=e.touches?e.touches[0].pageY:e.clientY;if(Math.abs(x-this.touchStartX)>=4||Math.abs(y-this.touchStartY)>=4){this.cancel();var p=this.getParent();if(p&&p.selectOne){this._prevSel&&this._prevSel.set("selected",true);}else{this.set("selected",false);}}},_disconnect:function(){this.disconnect(this._onTouchMoveHandle);this.disconnect(this._onTouchEndHandle);this._onTouchMoveHandle=this._onTouchEndHandle=null;},cancel:function(){if(this._selTimer){this._selTimer.remove();this._selTimer=null;}this._disconnect();},_onTouchEnd:function(e){if(!this._selTimer&&this._delayedSelection){return;}this.cancel();this._onClick(e);},setTransitionPos:function(e){var w=this;while(true){w=w.getParent();if(!w||_1b3.contains(w.domNode,"mblView")){break;}}if(w){w.clickedPosX=e.clientX;w.clickedPosY=e.clientY;}},transitionTo:function(_1c0,href,url,_1c1){var opts=(_1c0&&typeof (_1c0)==="object")?_1c0:{moveTo:_1c0,href:href,url:url,scene:_1c1,transition:this.transition,transitionDir:this.transitionDir};new _1b9(this.domNode,opts).dispatch();},_setIconAttr:function(icon){if(!this._isOnLine){this._pendingIcon=icon;return;}this._set("icon",icon);this.iconNode=_1ba.setIcon(icon,this.iconPos,this.iconNode,this.alt,this.iconParentNode,this.refNode,this.position);},_setLabelAttr:function(text){this._set("label",text);this.labelNode.innerHTML=this._cv?this._cv(text):text;},_setSelectedAttr:function(_1c2){if(_1c2){var p=this.getParent();if(p&&p.selectOne){var arr=_1b1.filter(p.getChildren(),function(w){return w.selected;});_1b1.forEach(arr,function(c){this._prevSel=c;c.set("selected",false);},this);}}this._set("selected",_1c2);}});return has("dojo-bidi")?_1b2("dojox.mobile._ItemBase",[_1bc,_1bb]):_1bc;});},"dojox/mobile/iconUtils":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","./sniff"],function(_1c3,_1c4,_1c5,_1c6,lang,win,_1c7,_1c8,_1c9,has){var dm=lang.getObject("dojox.mobile",true);var _1ca=function(){this.setupSpriteIcon=function(_1cb,_1cc){if(_1cb&&_1cc){var arr=_1c3.map(_1cc.split(/[ ,]/),function(item){return item-0;});var t=arr[0];var r=arr[1]+arr[2];var b=arr[0]+arr[3];var l=arr[1];_1c9.set(_1cb,{position:"absolute",clip:"rect("+t+"px "+r+"px "+b+"px "+l+"px)",top:(_1cb.parentNode?_1c9.get(_1cb,"top"):0)-t+"px",left:-l+"px"});_1c7.add(_1cb,"mblSpriteIcon");}};this.createDomButton=function(_1cd,_1ce,_1cf){if(!this._domButtons){if(has("webkit")){var _1d0=function(_1d1,dic){var i,j;if(!_1d1){var _1d2={};var ss=win.doc.styleSheets;for(i=0;i<ss.length;i++){ss[i]&&_1d0(ss[i],_1d2);}return _1d2;}var _1d3=_1d1.cssRules||[];for(i=0;i<_1d3.length;i++){var rule=_1d3[i];if(rule.href&&rule.styleSheet){_1d0(rule.styleSheet,dic);}else{if(rule.selectorText){var sels=rule.selectorText.split(/,/);for(j=0;j<sels.length;j++){var sel=sels[j];var n=sel.split(/>/).length-1;if(sel.match(/(mblDomButton\w+)/)){var cls=RegExp.$1;if(!dic[cls]||n>dic[cls]){dic[cls]=n;}}}}}}return dic;};this._domButtons=_1d0();}else{this._domButtons={};}}var s=_1cd.className;var node=_1cf||_1cd;if(s.match(/(mblDomButton\w+)/)&&s.indexOf("/")===-1){var _1d4=RegExp.$1;var nDiv=4;if(s.match(/(mblDomButton\w+_(\d+))/)){nDiv=RegExp.$2-0;}else{if(this._domButtons[_1d4]!==undefined){nDiv=this._domButtons[_1d4];}}var _1d5=null;if(has("bb")&&_1c4.mblBBBoxShadowWorkaround!==false){_1d5={style:"-webkit-box-shadow:none"};}for(var i=0,p=node;i<nDiv;i++){p=p.firstChild||_1c8.create("div",_1d5,p);}if(_1cf){setTimeout(function(){_1c7.remove(_1cd,_1d4);},0);_1c7.add(_1cf,_1d4);}}else{if(s.indexOf(".")!==-1){_1c8.create("img",{src:s},node);}else{return null;}}_1c7.add(node,"mblDomButton");!!_1ce&&_1c9.set(node,_1ce);return node;};this.createIcon=function(icon,_1d6,node,_1d7,_1d8,_1d9,pos){_1d7=_1d7||"";if(icon&&icon.indexOf("mblDomButton")===0){if(!node){node=_1c8.create("div",null,_1d9||_1d8,pos);}else{if(node.className.match(/(mblDomButton\w+)/)){_1c7.remove(node,RegExp.$1);}}node.title=_1d7;_1c7.add(node,icon);this.createDomButton(node);}else{if(icon&&icon!=="none"){if(!node||node.nodeName!=="IMG"){node=_1c8.create("img",{alt:_1d7},_1d9||_1d8,pos);}node.src=(icon||"").replace("${theme}",dm.currentTheme);this.setupSpriteIcon(node,_1d6);if(_1d6&&_1d8){var arr=_1d6.split(/[ ,]/);_1c9.set(_1d8,{position:"relative",width:arr[2]+"px",height:arr[3]+"px"});_1c7.add(_1d8,"mblSpriteIconParent");}_1c5.connect(node,"ondragstart",_1c6,"stop");}}return node;};this.iconWrapper=false;this.setIcon=function(icon,_1da,_1db,alt,_1dc,_1dd,pos){if(!_1dc||!icon&&!_1db){return null;}if(icon&&icon!=="none"){if(!this.iconWrapper&&icon.indexOf("mblDomButton")!==0&&!_1da){if(_1db&&_1db.tagName==="DIV"){_1c8.destroy(_1db);_1db=null;}_1db=this.createIcon(icon,null,_1db,alt,_1dc,_1dd,pos);_1c7.add(_1db,"mblImageIcon");}else{if(_1db&&_1db.tagName==="IMG"){_1c8.destroy(_1db);_1db=null;}_1db&&_1c8.empty(_1db);if(!_1db){_1db=_1c8.create("div",null,_1dd||_1dc,pos);}this.createIcon(icon,_1da,null,null,_1db);if(alt){_1db.title=alt;}}_1c7.remove(_1dc,"mblNoIcon");return _1db;}else{_1c8.destroy(_1db);_1c7.add(_1dc,"mblNoIcon");return null;}};};return new _1ca();});},"dojox/mobile/RoundRect":function(){define(["dojo/_base/declare","dojo/dom-class","./Container"],function(_1de,_1df,_1e0){return _1de("dojox.mobile.RoundRect",_1e0,{shadow:false,baseClass:"mblRoundRect",buildRendering:function(){this.inherited(arguments);if(this.shadow){_1df.add(this.domNode,"mblShadow");}}});});},"dojox/mobile/Container":function(){define(["dojo/_base/declare","dijit/_Container","./Pane"],function(_1e1,_1e2,Pane){return _1e1("dojox.mobile.Container",[Pane,_1e2],{baseClass:"mblContainer"});});},"dojox/mobile/Pane":function(){define(["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_WidgetBase"],function(_1e3,_1e4,_1e5,_1e6){return _1e4("dojox.mobile.Pane",[_1e6,_1e5],{baseClass:"mblPane",buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},resize:function(){_1e3.forEach(this.getChildren(),function(_1e7){if(_1e7.resize){_1e7.resize();}});}});});},"dojox/mobile/RoundRectCategory":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-construct","dijit/_Contained","dijit/_WidgetBase","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/RoundRectCategory"],function(_1e8,win,_1e9,_1ea,_1eb,has,_1ec){var _1ed=_1e8(has("dojo-bidi")?"dojox.mobile.NonBidiRoundRectCategory":"dojox.mobile.RoundRectCategory",[_1eb,_1ea],{label:"",tag:"h2",baseClass:"mblRoundRectCategory",buildRendering:function(){var _1ee=this.domNode=this.containerNode=this.srcNodeRef||_1e9.create(this.tag);this.inherited(arguments);if(!this.label&&_1ee.childNodes.length===1&&_1ee.firstChild.nodeType===3){this.label=_1ee.firstChild.nodeValue;}},_setLabelAttr:function(_1ef){this.label=_1ef;this.domNode.innerHTML=this._cv?this._cv(_1ef):_1ef;}});return has("dojo-bidi")?_1e8("dojox.mobile.RoundRectCategory",[_1ed,_1ec]):_1ed;});},"dojox/mobile/EdgeToEdgeCategory":function(){define(["dojo/_base/declare","./RoundRectCategory"],function(_1f0,_1f1){return _1f0("dojox.mobile.EdgeToEdgeCategory",_1f1,{buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeCategory";if(this.type&&this.type=="long"){this.domNode.className+=" mblEdgeToEdgeCategoryLong";}}});});},"dojox/mobile/RoundRectList":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-construct","dojo/dom-attr","dijit/_Contained","dijit/_Container","dijit/_WidgetBase"],function(_1f2,_1f3,_1f4,lang,win,_1f5,_1f6,_1f7,_1f8,_1f9){return _1f3("dojox.mobile.RoundRectList",[_1f9,_1f8,_1f7],{transition:"slide",iconBase:"",iconPos:"",select:"",stateful:false,syncWithViews:false,editable:false,tag:"ul",editableMixinClass:"dojox/mobile/_EditableListMixin",baseClass:"mblRoundRectList",filterBoxClass:"mblFilteredRoundRectListSearchBox",buildRendering:function(){this.domNode=this.srcNodeRef||_1f5.create(this.tag);if(this.select){_1f6.set(this.domNode,"role","listbox");if(this.select==="multiple"){_1f6.set(this.domNode,"aria-multiselectable","true");}}this.inherited(arguments);},postCreate:function(){if(this.editable){require([this.editableMixinClass],lang.hitch(this,function(_1fa){_1f3.safeMixin(this,new _1fa());}));}this.connect(this.domNode,"onselectstart",_1f4.stop);if(this.syncWithViews){var f=function(view,_1fb,dir,_1fc,_1fd,_1fe){var _1ff=_1f2.filter(this.getChildren(),function(w){return w.moveTo==="#"+view.id||w.moveTo===view.id;})[0];if(_1ff){_1ff.set("selected",true);}};this.subscribe("/dojox/mobile/afterTransitionIn",f);this.subscribe("/dojox/mobile/startView",f);}},resize:function(){_1f2.forEach(this.getChildren(),function(_200){if(_200.resize){_200.resize();}});},onCheckStateChanged:function(){},_setStatefulAttr:function(_201){this._set("stateful",_201);this.selectOne=_201;_1f2.forEach(this.getChildren(),function(_202){_202.setArrow&&_202.setArrow();});},deselectItem:function(item){item.set("selected",false);},deselectAll:function(){_1f2.forEach(this.getChildren(),function(_203){_203.set("selected",false);});},selectItem:function(item){item.set("selected",true);}});});},"dojox/mobile/EdgeToEdgeList":function(){define(["dojo/_base/declare","./RoundRectList"],function(_204,_205){return _204("dojox.mobile.EdgeToEdgeList",_205,{filterBoxClass:"mblFilteredEdgeToEdgeListSearchBox",buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeList";}});});},"dojox/mobile/ListItem":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dijit/registry","dijit/_WidgetBase","./iconUtils","./_ItemBase","./ProgressIndicator","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/ListItem"],function(_206,_207,lang,_208,_209,_20a,_20b,_20c,_20d,_20e,_20f,_210,has,_211){var _212=_207(has("dojo-bidi")?"dojox.mobile.NonBidiListItem":"dojox.mobile.ListItem",_20f,{rightText:"",rightIcon:"",rightIcon2:"",deleteIcon:"",anchorLabel:false,noArrow:false,checked:false,arrowClass:"",checkClass:"",uncheckClass:"",variableHeight:false,rightIconTitle:"",rightIcon2Title:"",header:false,tag:"li",busy:false,progStyle:"",paramsToInherit:"variableHeight,transition,deleteIcon,icon,rightIcon,rightIcon2,uncheckIcon,arrowClass,checkClass,uncheckClass,deleteIconTitle,deleteIconRole",baseClass:"mblListItem",_selStartMethod:"touch",_selEndMethod:"timer",_delayedSelection:true,_selClass:"mblListItemSelected",buildRendering:function(){this._templated=!!this.templateString;if(!this._templated){this.domNode=this.containerNode=this.srcNodeRef||_209.create(this.tag);}this.inherited(arguments);if(this.selected){_208.add(this.domNode,this._selClass);}if(this.header){_208.replace(this.domNode,"mblEdgeToEdgeCategory",this.baseClass);}if(!this._templated){this.labelNode=_209.create("div",{className:"mblListItemLabel"});var ref=this.srcNodeRef;if(ref&&ref.childNodes.length===1&&ref.firstChild.nodeType===3){this.labelNode.appendChild(ref.firstChild);}this.domNode.appendChild(this.labelNode);}this._layoutChildren=[];},startup:function(){if(this._started){return;}var _213=this.getParent();var opts=this.getTransOpts();if((!this._templated||this.labelNode)&&this.anchorLabel){this.labelNode.style.display="inline";this.labelNode.style.cursor="pointer";this.connect(this.labelNode,"onclick","_onClick");this.onTouchStart=function(e){return (e.target!==this.labelNode);};}if(opts.moveTo||opts.href||opts.url||this.clickable||(_213&&_213.select)){this.connect(this.domNode,"onkeydown","_onClick");}else{this._handleClick=false;}this.inherited(arguments);if(_208.contains(this.domNode,"mblVariableHeight")){this.variableHeight=true;}if(this.variableHeight){_208.add(this.domNode,"mblVariableHeight");this.defer("layoutVariableHeight");}if(!this._isOnLine){this._isOnLine=true;this.set({icon:this._pending_icon!==undefined?this._pending_icon:this.icon,deleteIcon:this._pending_deleteIcon!==undefined?this._pending_deleteIcon:this.deleteIcon,rightIcon:this._pending_rightIcon!==undefined?this._pending_rightIcon:this.rightIcon,rightIcon2:this._pending_rightIcon2!==undefined?this._pending_rightIcon2:this.rightIcon2,uncheckIcon:this._pending_uncheckIcon!==undefined?this._pending_uncheckIcon:this.uncheckIcon});delete this._pending_icon;delete this._pending_deleteIcon;delete this._pending_rightIcon;delete this._pending_rightIcon2;delete this._pending_uncheckIcon;}if(_213&&_213.select){this.set("checked",this._pendingChecked!==undefined?this._pendingChecked:this.checked);_20b.set(this.domNode,"role","option");if(this._pendingChecked||this.checked){_20b.set(this.domNode,"aria-selected","true");}delete this._pendingChecked;}this.setArrow();this.layoutChildren();},_updateHandles:function(){var _214=this.getParent();var opts=this.getTransOpts();if(opts.moveTo||opts.href||opts.url||this.clickable||(_214&&_214.select)){if(!this._keydownHandle){this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick");}this._handleClick=true;}else{if(this._keydownHandle){this.disconnect(this._keydownHandle);this._keydownHandle=null;}this._handleClick=false;}this.inherited(arguments);},layoutChildren:function(){var _215;_206.forEach(this.domNode.childNodes,function(n){if(n.nodeType!==1){return;}var _216=n.getAttribute("layout")||n.getAttribute("data-mobile-layout")||(_20c.byNode(n)||{}).layout;if(_216){_208.add(n,"mblListItemLayout"+_216.charAt(0).toUpperCase()+_216.substring(1));this._layoutChildren.push(n);if(_216==="center"){_215=n;}}},this);if(_215){this.domNode.insertBefore(_215,this.domNode.firstChild);}},resize:function(){if(this.variableHeight){this.layoutVariableHeight();}if(!this._templated||this.labelNode){this.labelNode.style.display=this.labelNode.firstChild?"block":"inline";}},_onTouchStart:function(e){if(e.target.getAttribute("preventTouch")||e.target.getAttribute("data-mobile-prevent-touch")||(_20c.getEnclosingWidget(e.target)||{}).preventTouch){return;}this.inherited(arguments);},_onClick:function(e){if(this.getParent().isEditing||e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}var n=this.labelNode;if((this._templated||n)&&this.anchorLabel&&e.currentTarget===n){_208.add(n,"mblListItemLabelSelected");this.defer(function(){_208.remove(n,"mblListItemLabelSelected");},this._duration);this.onAnchorLabelClicked(e);return;}var _217=this.getParent();if(_217.select){if(_217.select==="single"){if(!this.checked){this.set("checked",true);}}else{if(_217.select==="multiple"){this.set("checked",!this.checked);}}}this.defaultClickAction(e);},onClick:function(){},onAnchorLabelClicked:function(e){},layoutVariableHeight:function(){var h=this.domNode.offsetHeight;if(h===this.domNodeHeight){return;}this.domNodeHeight=h;_206.forEach(this._layoutChildren.concat([this.rightTextNode,this.rightIcon2Node,this.rightIconNode,this.uncheckIconNode,this.iconNode,this.deleteIconNode,this.knobIconNode]),function(n){if(n){var _218=this.domNode;var f=function(){var t=Math.round((_218.offsetHeight-n.offsetHeight)/2)-_20a.get(_218,"paddingTop");n.style.marginTop=t+"px";};if(n.offsetHeight===0&&n.tagName==="IMG"){n.onload=f;}else{f();}}},this);},setArrow:function(){if(this.checked){return;}var c="";var _219=this.getParent();var opts=this.getTransOpts();if(opts.moveTo||opts.href||opts.url||this.clickable){if(!this.noArrow&&!(_219&&_219.selectOne)){c=this.arrowClass||"mblDomButtonArrow";_20b.set(this.domNode,"role","button");}}if(c){this._setRightIconAttr(c);}},_findRef:function(type){var i,node,list=["deleteIcon","icon","rightIcon","uncheckIcon","rightIcon2","rightText"];for(i=_206.indexOf(list,type)+1;i<list.length;i++){node=this[list[i]+"Node"];if(node){return node;}}for(i=list.length-1;i>=0;i--){node=this[list[i]+"Node"];if(node){return node.nextSibling;}}return this.domNode.firstChild;},_setIcon:function(icon,type){if(!this._isOnLine){this["_pending_"+type]=icon;return;}this._set(type,icon);this[type+"Node"]=_20e.setIcon(icon,this[type+"Pos"],this[type+"Node"],this[type+"Title"]||this.alt,this.domNode,this._findRef(type),"before");if(this[type+"Node"]){var cap=type.charAt(0).toUpperCase()+type.substring(1);_208.add(this[type+"Node"],"mblListItem"+cap);}var role=this[type+"Role"];if(role){this[type+"Node"].setAttribute("role",role);}},_setDeleteIconAttr:function(icon){this._setIcon(icon,"deleteIcon");},_setIconAttr:function(icon){this._setIcon(icon,"icon");},_setRightTextAttr:function(text){if(!this._templated&&!this.rightTextNode){this.rightTextNode=_209.create("div",{className:"mblListItemRightText"},this.labelNode,"before");}this.rightText=text;this.rightTextNode.innerHTML=this._cv?this._cv(text):text;},_setRightIconAttr:function(icon){this._setIcon(icon,"rightIcon");},_setUncheckIconAttr:function(icon){this._setIcon(icon,"uncheckIcon");},_setRightIcon2Attr:function(icon){this._setIcon(icon,"rightIcon2");},_setCheckedAttr:function(_21a){if(!this._isOnLine){this._pendingChecked=_21a;return;}var _21b=this.getParent();if(_21b&&_21b.select==="single"&&_21a){_206.forEach(_21b.getChildren(),function(_21c){_21c!==this&&_21c.checked&&_21c.set("checked",false)&&_20b.set(_21c.domNode,"aria-selected","false");},this);}this._setRightIconAttr(this.checkClass||"mblDomButtonCheck");this._setUncheckIconAttr(this.uncheckClass);_208.toggle(this.domNode,"mblListItemChecked",_21a);_208.toggle(this.domNode,"mblListItemUnchecked",!_21a);_208.toggle(this.domNode,"mblListItemHasUncheck",!!this.uncheckIconNode);this.rightIconNode.style.position=(this.uncheckIconNode&&!_21a)?"absolute":"";if(_21b&&this.checked!==_21a){_21b.onCheckStateChanged(this,_21a);}this._set("checked",_21a);_20b.set(this.domNode,"aria-selected",_21a?"true":"false");},_setBusyAttr:function(busy){var prog=this._prog;if(busy){if(!this._progNode){this._progNode=_209.create("div",{className:"mblListItemIcon"});prog=this._prog=new _210({size:25,center:false,removeOnStop:false});_208.add(prog.domNode,this.progStyle);this._progNode.appendChild(prog.domNode);}if(this.iconNode){this.domNode.replaceChild(this._progNode,this.iconNode);}else{_209.place(this._progNode,this._findRef("icon"),"before");}prog.start();}else{if(this._progNode){if(this.iconNode){this.domNode.replaceChild(this.iconNode,this._progNode);}else{this.domNode.removeChild(this._progNode);}prog.stop();}}this._set("busy",busy);},_setSelectedAttr:function(_21d){this.inherited(arguments);_208.toggle(this.domNode,this._selClass,_21d);},_setClickableAttr:function(_21e){this._set("clickable",_21e);this._updateHandles();},_setMoveToAttr:function(_21f){this._set("moveTo",_21f);this._updateHandles();},_setHrefAttr:function(href){this._set("href",href);this._updateHandles();},_setUrlAttr:function(url){this._set("url",url);this._updateHandles();}});_212.ChildWidgetProperties={layout:"",preventTouch:false};lang.extend(_20d,_212.ChildWidgetProperties);return has("dojo-bidi")?_207("dojox.mobile.ListItem",[_212,_211]):_212;});},"dojox/mobile/Switch":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/event","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dojo/touch","dijit/_Contained","dijit/_WidgetBase","./sniff","./_maskUtils","./common","dojo/has!dojo-bidi?dojox/mobile/bidi/Switch"],function(_220,_221,_222,_223,win,_224,_225,_226,_227,_228,_229,_22a,has,_22b,dm,_22c){var _22d=_222(has("dojo-bidi")?"dojox.mobile.NonBidiSwitch":"dojox.mobile.Switch",[_22a,_229],{value:"on",name:"",leftLabel:"ON",rightLabel:"OFF",shape:"mblSwDefaultShape",tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSwitch",role:"",buildRendering:function(){if(!this.templateString){this.domNode=(this.srcNodeRef&&this.srcNodeRef.tagName==="SPAN")?this.srcNodeRef:_225.create("span");}if(typeof this.domNode.style.msTouchAction!="undefined"){this.domNode.style.msTouchAction="none";}this.inherited(arguments);if(!this.templateString){var c=(this.srcNodeRef&&this.srcNodeRef.className)||this.className||this["class"];if((c=c.match(/mblSw.*Shape\d*/))){this.shape=c;}_224.add(this.domNode,this.shape);var _22e=this.name?" name=\""+this.name+"\"":"";this.domNode.innerHTML="<div class=\"mblSwitchInner\">"+"<div class=\"mblSwitchBg mblSwitchBgLeft\">"+"<div class=\"mblSwitchText mblSwitchTextLeft\"></div>"+"</div>"+"<div class=\"mblSwitchBg mblSwitchBgRight\">"+"<div class=\"mblSwitchText mblSwitchTextRight\"></div>"+"</div>"+"<div class=\"mblSwitchKnob\"></div>"+"<input type=\"hidden\""+_22e+"></div>"+"</div>";var n=this.inner=this.domNode.firstChild;this.left=n.childNodes[0];this.right=n.childNodes[1];this.knob=n.childNodes[2];this.input=n.childNodes[3];}_227.set(this.domNode,"role","checkbox");_227.set(this.domNode,"aria-checked",(this.value==="on")?"true":"false");this.switchNode=this.domNode;if(has("windows-theme")){var _22f=_225.create("div",{className:"mblSwitchContainer"});this.labelNode=_225.create("label",{"class":"mblSwitchLabel","for":this.id},_22f);_22f.appendChild(this.domNode.cloneNode(true));this.domNode=_22f;this.focusNode=_22f.childNodes[1];this.labelNode.innerHTML=(this.value=="off")?this.rightLabel:this.leftLabel;this.switchNode=this.domNode.childNodes[1];var _230=this.inner=this.domNode.childNodes[1].firstChild;this.left=_230.childNodes[0];this.right=_230.childNodes[1];this.knob=_230.childNodes[2];this.input=_230.childNodes[3];}},postCreate:function(){this.connect(this.switchNode,"onclick","_onClick");this.connect(this.switchNode,"onkeydown","_onClick");this._startHandle=this.connect(this.switchNode,_228.press,"onTouchStart");this._initialValue=this.value;},_changeState:function(_231,anim){var on=(_231==="on");this.left.style.display="";this.right.style.display="";this.inner.style.left="";if(anim){_224.add(this.switchNode,"mblSwitchAnimation");}_224.remove(this.switchNode,on?"mblSwitchOff":"mblSwitchOn");_224.add(this.switchNode,on?"mblSwitchOn":"mblSwitchOff");_227.set(this.switchNode,"aria-checked",on?"true":"false");var _232=this;_232.defer(function(){_232.left.style.display=on?"":"none";_232.right.style.display=!on?"":"none";_224.remove(_232.switchNode,"mblSwitchAnimation");},anim?300:0);},_createMaskImage:function(){if(this._timer){this._timer.remove();delete this._timer;}if(this._hasMaskImage){return;}this._width=this.switchNode.offsetWidth-this.knob.offsetWidth;this._hasMaskImage=true;if(!(has("webkit")||has("svg"))){return;}var rDef=_226.get(this.left,"borderTopLeftRadius");if(rDef=="0px"){return;}var _233=rDef.split(" ");var rx=parseFloat(_233[0]),ry=(_233.length==1)?rx:parseFloat(_233[1]);var w=this.switchNode.offsetWidth,h=this.switchNode.offsetHeight;var id=(this.shape+"Mask"+w+h+rx+ry).replace(/\./,"_");_22b.createRoundMask(this.switchNode,0,0,0,0,w,h,rx,ry,1);},_onClick:function(e){if(e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}if(this._moved){return;}this._set("value",this.input.value=(this.value=="on")?"off":"on");this._changeState(this.value,true);this.onStateChanged(this.value);},onClick:function(){},onTouchStart:function(e){this._moved=false;this.innerStartX=this.inner.offsetLeft;if(!this._conn){this._conn=[this.connect(this.inner,_228.move,"onTouchMove"),this.connect(win.doc,_228.release,"onTouchEnd")];if(has("windows-theme")){this._conn.push(this.connect(win.doc,"MSPointerCancel","onTouchEnd"));}}this.touchStartX=e.touches?e.touches[0].pageX:e.clientX;this.left.style.display="";this.right.style.display="";_223.stop(e);this._createMaskImage();},onTouchMove:function(e){e.preventDefault();var dx;if(e.targetTouches){if(e.targetTouches.length!=1){return;}dx=e.targetTouches[0].clientX-this.touchStartX;}else{dx=e.clientX-this.touchStartX;}var pos=this.innerStartX+dx;var d=10;if(pos<=-(this._width-d)){pos=-this._width;}if(pos>=-d){pos=0;}this.inner.style.left=pos+"px";if(Math.abs(dx)>d){this._moved=true;}},onTouchEnd:function(e){_220.forEach(this._conn,_221.disconnect);this._conn=null;if(this.innerStartX==this.inner.offsetLeft){if(has("touch")&&has("clicks-prevented")){dm._sendClick(this.inner,e);}return;}var _234=(this.inner.offsetLeft<-(this._width/2))?"off":"on";_234=this._newState(_234);this._changeState(_234,true);if(_234!=this.value){this._set("value",this.input.value=_234);this.onStateChanged(_234);}},_newState:function(_235){return _235;},onStateChanged:function(_236){if(this.labelNode){this.labelNode.innerHTML=_236=="off"?this.rightLabel:this.leftLabel;}},_setValueAttr:function(_237){this._changeState(_237,false);if(this.value!=_237){this._set("value",this.input.value=_237);this.onStateChanged(_237);}},_setLeftLabelAttr:function(_238){this.leftLabel=_238;this.left.firstChild.innerHTML=this._cv?this._cv(_238):_238;},_setRightLabelAttr:function(_239){this.rightLabel=_239;this.right.firstChild.innerHTML=this._cv?this._cv(_239):_239;},reset:function(){this.set("value",this._initialValue);}});return has("dojo-bidi")?_222("dojox.mobile.Switch",[_22d,_22c]):_22d;});},"dojox/mobile/_maskUtils":function(){define(["dojo/_base/window","dojo/dom-style","./sniff"],function(win,_23a,has){var _23b={};return {createRoundMask:function(node,x,y,r,b,w,h,rx,ry,e){var tw=x+w+r;var th=y+h+b;if(has("webkit")){var id=("DojoMobileMask"+x+y+w+h+rx+ry).replace(/\./g,"_");if(!_23b[id]){_23b[id]=1;var ctx=win.doc.getCSSCanvasContext("2d",id,tw,th);ctx.beginPath();if(rx==ry){if(rx==2&&w==5){ctx.fillStyle="rgba(0,0,0,0.5)";ctx.fillRect(1,0,3,2);ctx.fillRect(0,1,5,1);ctx.fillRect(0,h-2,5,1);ctx.fillRect(1,h-1,3,2);ctx.fillStyle="rgb(0,0,0)";ctx.fillRect(0,2,5,h-4);}else{if(rx==2&&h==5){ctx.fillStyle="rgba(0,0,0,0.5)";ctx.fillRect(0,1,2,3);ctx.fillRect(1,0,1,5);ctx.fillRect(w-2,0,1,5);ctx.fillRect(w-1,1,2,3);ctx.fillStyle="rgb(0,0,0)";ctx.fillRect(2,0,w-4,5);}else{ctx.fillStyle="#000000";ctx.moveTo(x+rx,y);ctx.arcTo(x,y,x,y+rx,rx);ctx.lineTo(x,y+h-rx);ctx.arcTo(x,y+h,x+rx,y+h,rx);ctx.lineTo(x+w-rx,y+h);ctx.arcTo(x+w,y+h,x+w,y+rx,rx);ctx.lineTo(x+w,y+rx);ctx.arcTo(x+w,y,x+w-rx,y,rx);}}}else{var pi=Math.PI;ctx.scale(1,ry/rx);ctx.moveTo(x+rx,y);ctx.arc(x+rx,y+rx,rx,1.5*pi,0.5*pi,true);ctx.lineTo(x+w-rx,y+2*rx);ctx.arc(x+w-rx,y+rx,rx,0.5*pi,1.5*pi,true);}ctx.closePath();ctx.fill();}node.style.webkitMaskImage="-webkit-canvas("+id+")";}else{if(has("svg")){if(node._svgMask){node.removeChild(node._svgMask);}var bg=null;for(var p=node.parentNode;p;p=p.parentNode){bg=_23a.getComputedStyle(p).backgroundColor;if(bg&&bg!="transparent"&&!bg.match(/rgba\(.*,\s*0\s*\)/)){break;}}var _23c="http://www.w3.org/2000/svg";var svg=win.doc.createElementNS(_23c,"svg");svg.setAttribute("width",tw);svg.setAttribute("height",th);svg.style.position="absolute";svg.style.pointerEvents="none";svg.style.opacity="1";svg.style.zIndex="2147483647";var path=win.doc.createElementNS(_23c,"path");e=e||0;rx+=e;ry+=e;var d=" M"+(x+rx-e)+","+(y-e)+" a"+rx+","+ry+" 0 0,0 "+(-rx)+","+ry+" v"+(-ry)+" h"+rx+" Z"+" M"+(x-e)+","+(y+h-ry+e)+" a"+rx+","+ry+" 0 0,0 "+rx+","+ry+" h"+(-rx)+" v"+(-ry)+" z"+" M"+(x+w-rx+e)+","+(y+h+e)+" a"+rx+","+ry+" 0 0,0 "+rx+","+(-ry)+" v"+ry+" h"+(-rx)+" z"+" M"+(x+w+e)+","+(y+ry-e)+" a"+rx+","+ry+" 0 0,0 "+(-rx)+","+(-ry)+" h"+rx+" v"+ry+" z";if(y>0){d+=" M0,0 h"+tw+" v"+y+" h"+(-tw)+" z";}if(b>0){d+=" M0,"+(y+h)+" h"+tw+" v"+b+" h"+(-tw)+" z";}path.setAttribute("d",d);path.setAttribute("fill",bg);path.setAttribute("stroke",bg);path.style.opacity="1";svg.appendChild(path);node._svgMask=svg;node.appendChild(svg);}}}};});},"dojox/mobile/parser":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/config","dojo/_base/lang","dojo/_base/window","dojo/ready"],function(dojo,_23d,_23e,lang,win,_23f){var dm=lang.getObject("dojox.mobile",true);var _240=function(){var _241={};var _242=function(type,_243){if(typeof (_243)==="string"){var t=type+":"+_243.replace(/ /g,"");return _241[t]||(_241[t]=_242(type).createSubclass(_23d.map(_243.split(/, */),_242)));}return _241[type]||(_241[type]=lang.getObject(type)||require(type));};var _244=function(js){return eval(js);};this.instantiate=function(_245,_246,_247){_246=_246||{};_247=_247||{};var i,ws=[];if(_245){for(i=0;i<_245.length;i++){var n=_245[i],type=n._type,ctor=_242(type,n.getAttribute("data-dojo-mixins")),_248=ctor.prototype,_249={},prop,v,t;lang.mixin(_249,_244.call(_247.propsThis,"({"+(n.getAttribute("data-dojo-props")||"")+"})"));lang.mixin(_249,_247.defaults);lang.mixin(_249,_246);for(prop in _248){v=n.getAttributeNode(prop);v=v&&v.nodeValue;t=typeof _248[prop];if(!v&&(t!=="boolean"||v!=="")){continue;}if(lang.isArray(_248[prop])){_249[prop]=v.split(/\s*,\s*/);}else{if(t==="string"){_249[prop]=v;}else{if(t==="number"){_249[prop]=v-0;}else{if(t==="boolean"){_249[prop]=(v!=="false");}else{if(t==="object"){_249[prop]=eval("("+v+")");}else{if(t==="function"){_249[prop]=lang.getObject(v,false)||new Function(v);n.removeAttribute(prop);}}}}}}}_249["class"]=n.className;if(!_249.style){_249.style=n.style.cssText;}v=n.getAttribute("data-dojo-attach-point");if(v){_249.dojoAttachPoint=v;}v=n.getAttribute("data-dojo-attach-event");if(v){_249.dojoAttachEvent=v;}var _24a=new ctor(_249,n);ws.push(_24a);var jsId=n.getAttribute("jsId")||n.getAttribute("data-dojo-id");if(jsId){lang.setObject(jsId,_24a);}}for(i=0;i<ws.length;i++){var w=ws[i];!_247.noStart&&w.startup&&!w._started&&w.startup();}}return ws;};this.parse=function(_24b,_24c){if(!_24b){_24b=win.body();}else{if(!_24c&&_24b.rootNode){_24c=_24b;_24b=_24b.rootNode;}}var _24d=_24b.getElementsByTagName("*");var i,j,list=[];for(i=0;i<_24d.length;i++){var n=_24d[i],type=(n._type=n.getAttribute("dojoType")||n.getAttribute("data-dojo-type"));if(type){if(n._skip){n._skip="";continue;}if(_242(type).prototype.stopParser&&!(_24c&&_24c.template)){var arr=n.getElementsByTagName("*");for(j=0;j<arr.length;j++){arr[j]._skip="1";}}list.push(n);}}var _24e=_24c&&_24c.template?{template:true}:null;return this.instantiate(list,_24e,_24c);};};var _24f=new _240();if(_23e.parseOnLoad){_23f(100,function(){try{if(!require("dojo/parser")){_24f.parse();}}catch(e){_24f.parse();}});}dm.parser=_24f;dojo.parser=dojo.parser||_24f;return _24f;});},"dojox/mobile/compat":function(){define(["dojo/_base/lang","dojo/sniff"],function(lang,has){var dm=lang.getObject("dojox.mobile",true);if(!(has("webkit")||has("ie")>=10)){var s="dojox/mobile/_compat";require([s]);}return dm;});},"dojox/mobile/deviceTheme":function(){(typeof define==="undefined"?function(deps,def){def();}:define)(["dojo/_base/config","dojo/_base/lang","dojo/_base/window","require"],function(_250,lang,win,_251){var dm=lang&&lang.getObject("dojox.mobile",true)||{};var _252=function(){if(!win){win=window;win.doc=document;win._no_dojo_dm=dm;}_250=_250||win.mblConfig||{};var _253=win.doc.getElementsByTagName("script");for(var i=0;i<_253.length;i++){var n=_253[i];var src=n.getAttribute("src")||"";if(src.match(/\/deviceTheme\.js/i)){_250.baseUrl=src.replace("deviceTheme.js","../../dojo/");var conf=(n.getAttribute("data-dojo-config")||n.getAttribute("djConfig"));if(conf){var obj=eval("({ "+conf+" })");for(var key in obj){_250[key]=obj[key];}}break;}else{if(src.match(/\/dojo\.js/i)){_250.baseUrl=src.replace("dojo.js","");break;}}}this.loadCssFile=function(file){var link=win.doc.createElement("link");link.href=file;link.type="text/css";link.rel="stylesheet";var head=win.doc.getElementsByTagName("head")[0];head.insertBefore(link,head.firstChild);dm.loadedCssFiles.push(link);};this.toUrl=function(path){return _251?_251.toUrl(path):_250.baseUrl+"../"+path;};this.setDm=function(_254){dm=_254;};this.themeMap=_250.themeMap||[["Holodark","holodark",[]],["Android 3","holodark",[]],["Android 4","holodark",[]],["Android","android",[]],["BlackBerry","blackberry",[]],["BB10","blackberry",[]],["iPhone","iphone",[]],["iPad","iphone",[this.toUrl("dojox/mobile/themes/iphone/ipad.css")]],["WindowsPhone","windows",[]],["MSIE [6-9]","iphone",[]],["Trident","windows",[]],["Custom","custom",[]],[".*","iphone",[]]];dm.loadedCssFiles=[];this.loadDeviceTheme=function(_255){var t=_250.mblThemeFiles||dm.themeFiles||["@theme"];var i,j;var m=this.themeMap;var ua=_255||_250.mblUserAgent||(location.search.match(/theme=(\w+)/)?RegExp.$1:navigator.userAgent);for(i=0;i<m.length;i++){if(ua.match(new RegExp(m[i][0]))){var _256=m[i][1];if(_256=="windows"&&_250.mblDisableWindowsTheme){continue;}var cls=win.doc.documentElement.className;cls=cls.replace(new RegExp(" *"+dm.currentTheme+"_theme"),"")+" "+_256+"_theme";win.doc.documentElement.className=cls;dm.currentTheme=_256;var _257=[].concat(m[i][2]);for(j=0;j<t.length;j++){var _258=(t[j] instanceof Array||typeof t[j]=="array");var path;if(!_258&&t[j].indexOf("/")!==-1){path=t[j];}else{var pkg=_258?(t[j][0]||"").replace(/\./g,"/"):"dojox/mobile";var name=(_258?t[j][1]:t[j]).replace(/\./g,"/");var f="themes/"+_256+"/"+(name==="@theme"?_256:name)+".css";path=pkg+"/"+f;}_257.unshift(this.toUrl(path));}for(var k=0;k<dm.loadedCssFiles.length;k++){var n=dm.loadedCssFiles[k];n.parentNode.removeChild(n);}dm.loadedCssFiles=[];for(j=0;j<_257.length;j++){var _259=_257[j].toString();if(_250["dojo-bidi"]==true&&_259.indexOf("_rtl")==-1){var _25a="android.css blackberry.css custom.css iphone.css holodark.css base.css Carousel.css ComboBox.css IconContainer.css IconMenu.css ListItem.css RoundRectCategory.css SpinWheel.css Switch.css TabBar.css ToggleButton.css ToolBarButton.css";var _25b=_259.substr(_259.lastIndexOf("/")+1);if(_25a.indexOf(_25b)!=-1){this.loadCssFile(_259.replace(".css","_rtl.css"));}}this.loadCssFile(_257[j].toString());}if(_255&&dm.loadCompatCssFiles){dm.loadCompatCssFiles();}break;}}};};var _25c=new _252();_25c.loadDeviceTheme();window.deviceTheme=dm.deviceTheme=_25c;return _25c;});},"dojox/geo/openlayers/widget/Map":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/dom-geometry","dojo/query","dijit/_Widget","../_base","../Map","../Layer","../GfxLayer"],function(lang,_25d,_25e,_25f,_260,_261,_262,Map,_263,_264){return _25d("dojox.geo.openlayers.widget.Map",_261,{baseLayerType:_262.BaseLayerType.OSM,initialLocation:null,touchHandler:false,map:null,startup:function(){this.inherited(arguments);this.map.initialFit({initialLocation:this.initialLocation});},buildRendering:function(){this.inherited(arguments);var div=this.domNode;var map=new Map(div,{baseLayerType:this.baseLayerType,touchHandler:this.touchHandler});this.map=map;this._makeLayers();},_makeLayers:function(){var n=this.domNode;var _265=_260("> .layer",n);_25e.forEach(_265,function(l){var type=l.getAttribute("type");var name=l.getAttribute("name");var cls="dojox.geo.openlayers."+type;var p=lang.getObject(cls);if(p){var _266=new p(name,{});if(_266){this.map.addLayer(_266);}}},this);},resize:function(b,h){var olm=this.map.getOLMap();var box;switch(arguments.length){case 0:break;case 1:box=lang.mixin({},b);_25f.setMarginBox(olm.div,box);break;case 2:box={w:arguments[0],h:arguments[1]};_25f.setMarginBox(olm.div,box);break;}olm.updateSize();}});});},"dijit/_Widget":function(){define(["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_267,_268,_269,_26a,has,_26b,lang,_26c,_26d,_26e,_26f,_270,_271){function _272(){};function _273(_274){return function(obj,_275,_276,_277){if(obj&&typeof _275=="string"&&obj[_275]==_272){return obj.on(_275.substring(2).toLowerCase(),lang.hitch(_276,_277));}return _274.apply(_269,arguments);};};_267.around(_269,"connect",_273);if(_26b.connect){_267.around(_26b,"connect",_273);}var _278=_26a("dijit._Widget",[_26f,_270,_271],{onClick:_272,onDblClick:_272,onKeyDown:_272,onKeyPress:_272,onKeyUp:_272,onMouseDown:_272,onMouseMove:_272,onMouseOut:_272,onMouseOver:_272,onMouseLeave:_272,onMouseEnter:_272,onMouseUp:_272,constructor:function(_279){this._toConnect={};for(var name in _279){if(this[name]===_272){this._toConnect[name.replace(/^on/,"").toLowerCase()]=_279[name];delete _279[name];}}},postCreate:function(){this.inherited(arguments);for(var name in this._toConnect){this.on(name,this._toConnect[name]);}delete this._toConnect;},on:function(type,func){if(this[this._onMap(type)]===_272){return _269.connect(this.domNode,type.toLowerCase(),this,func);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(attr,_27a){_26b.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_27a);},attr:function(name,_27b){var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},getDescendants:function(){_26b.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_26c("[widgetId]",this.containerNode).map(_26e.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_26d(0,function(){var _27c=["dijit/_base"];require(_27c);});}return _278;});},"dijit/_OnDijitClickMixin":function(){define(["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(on,_27d,keys,_27e,has,_27f){var ret=_27e("dijit._OnDijitClickMixin",null,{connect:function(obj,_280,_281){return this.inherited(arguments,[obj,_280=="ondijitclick"?_27f:_280,_281]);}});ret.a11yclick=_27f;return ret;});},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(keys,_282,on,_283){function _284(e){if((e.keyCode===keys.ENTER||e.keyCode===keys.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName)){for(var node=e.target;node;node=node.parentNode){if(node.dojoClick){return true;}}}};var _285;on(document,"keydown",function(e){if(_284(e)){_285=e.target;e.preventDefault();}else{_285=null;}});on(document,"keyup",function(e){if(_284(e)&&e.target==_285){_285=null;on.emit(e.target,"click",{cancelable:true,bubbles:true,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type});}});var _286=function(node,_287){node.dojoClick=true;return on(node,"click",_287);};_286.click=_286;_286.press=function(node,_288){var _289=on(node,_283.press,function(evt){if(evt.type=="mousedown"&&!_282.isLeft(evt)){return;}_288(evt);}),_28a=on(node,"keydown",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_288(evt);}});return {remove:function(){_289.remove();_28a.remove();}};};_286.release=function(node,_28b){var _28c=on(node,_283.release,function(evt){if(evt.type=="mouseup"&&!_282.isLeft(evt)){return;}_28b(evt);}),_28d=on(node,"keyup",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_28b(evt);}});return {remove:function(){_28c.remove();_28d.remove();}};};_286.move=_283.move;return _286;});},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_28e,_28f,_290,lang){lang.extend(_28f,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _290("dijit._FocusMixin",null,{_focusManager:_28e});});},"dijit/focus":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_291,_292,dom,_293,_294,_295,_296,lang,on,_297,has,_298,win,_299,a11y,_29a,_29b){var _29c;var _29d=_292([_298,_296],{curNode:null,activeStack:[],constructor:function(){var _29e=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_291.before(_295,"empty",_29e);_291.before(_295,"destroy",_29e);},registerIframe:function(_29f){return this.registerWin(_29f.contentWindow,_29f);},registerWin:function(_2a0,_2a1){var _2a2=this,body=_2a0.document&&_2a0.document.body;if(body){var mdh=on(_2a0.document,"mousedown, touchstart",function(evt){_2a2._justMouseDowned=true;setTimeout(function(){_2a2._justMouseDowned=false;},0);if(evt&&evt.target&&evt.target.parentNode==null){return;}_2a2._onTouchNode(_2a1||evt.target,"mouse");});var fih=on(body,"focusin",function(evt){_29c=(new Date()).getTime();if(!evt.target.tagName){return;}var tag=evt.target.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isFocusable(evt.target)){_2a2._onFocusNode(_2a1||evt.target);}else{_2a2._onTouchNode(_2a1||evt.target);}});var foh=on(body,"focusout",function(evt){if((new Date()).getTime()<_29c+100){return;}_2a2._onBlurNode(_2a1||evt.target);});return {remove:function(){mdh.remove();fih.remove();foh.remove();mdh=fih=foh=null;body=null;}};}},_onBlurNode:function(node){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(lang.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(node,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}if(_294.contains(node,"dijitPopup")){node=node.firstChild;}var _2a3=[];try{while(node){var _2a4=_293.get(node,"dijitPopupParent");if(_2a4){node=_29a.byId(_2a4).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_299.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_2a5=id&&_29a.byId(id);if(_2a5&&!(by=="mouse"&&_2a5.get("disabled"))){_2a3.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_2a3,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",node);},_setStack:function(_2a6,by){var _2a7=this.activeStack,_2a8=_2a7.length-1,_2a9=_2a6.length-1;if(_2a6[_2a9]==_2a7[_2a8]){return;}this.set("activeStack",_2a6);var _2aa,i;for(i=_2a8;i>=0&&_2a7[i]!=_2a6[i];i--){_2aa=_29a.byId(_2a7[i]);if(_2aa){_2aa._hasBeenBlurred=true;_2aa.set("focused",false);if(_2aa._focusManager==this){_2aa._onBlur(by);}this.emit("widget-blur",_2aa,by);}}for(i++;i<=_2a9;i++){_2aa=_29a.byId(_2a6[i]);if(_2aa){_2aa.set("focused",true);if(_2aa._focusManager==this){_2aa._onFocus(by);}this.emit("widget-focus",_2aa,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _2ab=new _29d();_297(function(){var _2ac=_2ab.registerWin(_299.get(document));if(has("ie")){on(window,"unload",function(){if(_2ac){_2ac.remove();_2ac=null;}});}});_29b.focus=function(node){_2ab.focus(node);};for(var attr in _2ab){if(!/^_/.test(attr)){_29b.focus[attr]=typeof _2ab[attr]=="function"?lang.hitch(_2ab,attr):_2ab[attr];}}_2ab.watch(function(attr,_2ad,_2ae){_29b.focus[attr]=_2ae;});return _2ab;});},"dojo/window":function(){define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(lang,has,_2af,dom,geom,_2b0,_2b1){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var body=_2af.body(doc),_2b2=_2b1.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_2b1.create("div",{style:{overflow:"hidden",direction:"ltr"}},_2b2,"last"),ret=geom.position(div).x!=0;_2b2.removeChild(div);body.removeChild(_2b2);return ret;});has.add("position-fixed-support",function(win,doc){var body=_2af.body(doc),_2b3=_2b1.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_2b4=_2b1.create("span",{style:{position:"fixed",left:"0",top:"0"}},_2b3,"last"),ret=geom.position(_2b4).x!=geom.position(_2b3).x;_2b3.removeChild(_2b4);body.removeChild(_2b3);return ret;});var _2b5={getBox:function(doc){doc=doc||_2af.doc;var _2b6=(doc.compatMode=="BackCompat")?_2af.body(doc):doc.documentElement,_2b7=geom.docScroll(doc),w,h;if(has("touch")){var _2b8=_2b5.get(doc);w=_2b8.innerWidth||_2b6.clientWidth;h=_2b8.innerHeight||_2b6.clientHeight;}else{w=_2b6.clientWidth;h=_2b6.clientHeight;}return {l:_2b7.x,t:_2b7.y,w:w,h:h};},get:function(doc){if(has("ie")<9&&_2b5!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_2af.doc,body=_2af.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if(node==body||node==html){return;}if(!(has("mozilla")||isIE||isWK||has("opera"))&&("scrollIntoView" in node)){node.scrollIntoView(false);return;}var _2b9=doc.compatMode=="BackCompat",_2ba=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_2bb=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_2bc=(isWK||_2b9)?body:html,_2bd=pos||geom.position(node),el=node.parentNode,_2be=function(el){return (isIE<=6||(isIE==7&&_2b9))?false:(has("position-fixed-support")&&(_2b0.get(el,"position").toLowerCase()=="fixed"));};if(_2be(node)){return;}while(el){if(el==body){el=_2bc;}var _2bf=geom.position(el),_2c0=_2be(el),rtl=_2b0.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_2bc){_2bf.w=_2ba;_2bf.h=_2bb;if(_2bc==html&&isIE&&rtl){_2bf.x+=_2bc.offsetWidth-_2bf.w;}if(_2bf.x<0||!isIE||isIE>=9){_2bf.x=0;}if(_2bf.y<0||!isIE||isIE>=9){_2bf.y=0;}}else{var pb=geom.getPadBorderExtents(el);_2bf.w-=pb.w;_2bf.h-=pb.h;_2bf.x+=pb.l;_2bf.y+=pb.t;var _2c1=el.clientWidth,_2c2=_2bf.w-_2c1;if(_2c1>0&&_2c2>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_2bf.x+=_2c2;}_2bf.w=_2c1;}_2c1=el.clientHeight;_2c2=_2bf.h-_2c1;if(_2c1>0&&_2c2>0){_2bf.h=_2c1;}}if(_2c0){if(_2bf.y<0){_2bf.h+=_2bf.y;_2bf.y=0;}if(_2bf.x<0){_2bf.w+=_2bf.x;_2bf.x=0;}if(_2bf.y+_2bf.h>_2bb){_2bf.h=_2bb-_2bf.y;}if(_2bf.x+_2bf.w>_2ba){_2bf.w=_2ba-_2bf.x;}}var l=_2bd.x-_2bf.x,t=_2bd.y-_2bf.y,r=l+_2bd.w-_2bf.w,bot=t+_2bd.h-_2bf.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_2bc||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_2b9)||isIE>=9)){s=-s;}old=el.scrollLeft;el.scrollLeft+=s;s=el.scrollLeft-old;_2bd.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_2bc||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;el.scrollTop+=s;s=el.scrollTop-old;_2bd.y-=s;}el=(el!=_2bc)&&!_2c0&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_2b5);return _2b5;});},"dijit/a11y":function(){define(["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_2c3,dom,_2c4,_2c5,lang,has,_2c6){var _2c7;var a11y={_isElementShown:function(elem){var s=_2c5.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_2c4.get(elem,"type")!="hidden");},hasDefaultTabStop:function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _2c4.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _2c8=elem.contentDocument;if("designMode" in _2c8&&_2c8.designMode=="on"){return true;}body=_2c8.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}},effectiveTabIndex:function(elem){if(_2c4.get(elem,"disabled")){return _2c7;}else{if(_2c4.has(elem,"tabIndex")){return +_2c4.get(elem,"tabIndex");}else{return a11y.hasDefaultTabStop(elem)?0:_2c7;}}},isTabNavigable:function(elem){return a11y.effectiveTabIndex(elem)>=0;},isFocusable:function(elem){return a11y.effectiveTabIndex(elem)>=-1;},_getTabNavigable:function(root){var _2c9,last,_2ca,_2cb,_2cc,_2cd,_2ce={};function _2cf(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _2d0=a11y._isElementShown,_2d1=a11y.effectiveTabIndex;var _2d2=function(_2d3){for(var _2d4=_2d3.firstChild;_2d4;_2d4=_2d4.nextSibling){if(_2d4.nodeType!=1||(has("ie")<=9&&_2d4.scopeName!=="HTML")||!_2d0(_2d4)){continue;}var _2d5=_2d1(_2d4);if(_2d5>=0){if(_2d5==0){if(!_2c9){_2c9=_2d4;}last=_2d4;}else{if(_2d5>0){if(!_2ca||_2d5<_2cb){_2cb=_2d5;_2ca=_2d4;}if(!_2cc||_2d5>=_2cd){_2cd=_2d5;_2cc=_2d4;}}}var rn=_2cf(_2d4);if(_2c4.get(_2d4,"checked")&&rn){_2ce[rn]=_2d4;}}if(_2d4.nodeName.toUpperCase()!="SELECT"){_2d2(_2d4);}}};if(_2d0(root)){_2d2(root);}function rs(node){return _2ce[_2cf(node)]||node;};return {first:rs(_2c9),last:rs(last),lowest:rs(_2ca),highest:rs(_2cc)};},getFirstInTabbingOrder:function(root,doc){var _2d6=a11y._getTabNavigable(dom.byId(root,doc));return _2d6.lowest?_2d6.lowest:_2d6.first;},getLastInTabbingOrder:function(root,doc){var _2d7=a11y._getTabNavigable(dom.byId(root,doc));return _2d7.last?_2d7.last:_2d7.highest;}};1&&lang.mixin(_2c6,a11y);return a11y;});},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(_2d8,lang,_2d9,has,_2da){var html=_2da.doc.documentElement,ie=has("ie"),_2db=has("opera"),maj=Math.floor,ff=has("ff"),_2dc=_2d8.boxModel.replace(/-/,""),_2dd={"dj_quirks":has("quirks"),"dj_opera":_2db,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ios":has("ios"),"dj_android":has("android")};if(ie){_2dd["dj_ie"]=true;_2dd["dj_ie"+maj(ie)]=true;_2dd["dj_iequirks"]=has("quirks");}if(ff){_2dd["dj_ff"+maj(ff)]=true;}_2dd["dj_"+_2dc]=true;var _2de="";for(var clz in _2dd){if(_2dd[clz]){_2de+=clz+" ";}}html.className=lang.trim(html.className+" "+_2de);_2d9(function(){if(!_2d8.isBodyLtr()){var _2df="dj_rtl dijitRtl "+_2de.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_2df+"dj_rtl dijitRtl "+_2de.replace(/ /g,"-rtl "));}});return has;});},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(_2e0,has,_2e1,win){_2e1(function(){if(has("highcontrast")){_2e0.add(win.body(),"dijit_a11y");}});return has;});},"dojo/hccss":function(){define(["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(_2e2,_2e3,_2e4,_2e5,has,_2e6,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url(\""+(_2e3.blankGif||_2e2.toUrl("./resources/blank.gif"))+"\");";win.body().appendChild(div);var cs=_2e5.getComputedStyle(div),_2e7=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_2e7&&(_2e7=="none"||_2e7=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_2e6(function(){if(has("highcontrast")){_2e4.add(win.body(),"dj_a11y");}});return has;});},"dojox/geo/openlayers/_base":function(){define(["dojo/_base/lang"],function(lang){var _2e8=lang.getObject("dojox.geo.openlayers",true);_2e8.BaseLayerType={OSM:"OSM",WMS:"WMS",GOOGLE:"Google",VIRTUAL_EARTH:"VirtualEarth",BING:"VirtualEarth",YAHOO:"Yahoo",ARCGIS:"ArcGIS"};_2e8.EPSG4326=new OpenLayers.Projection("EPSG:4326");var re=/^\s*(\d{1,3})[D°]\s*(\d{1,2})[M']\s*(\d{1,2}\.?\d*)\s*(S|"|'')\s*([NSEWnsew]{0,1})\s*$/i;_2e8.parseDMS=function(v,_2e9){var res=re.exec(v);if(res==null||res.length<5){return parseFloat(v);}var d=parseFloat(res[1]);var m=parseFloat(res[2]);var s=parseFloat(res[3]);var nsew=res[5];if(_2e9){var lc=nsew.toLowerCase();var dd=d+(m+s/60)/60;if(lc=="w"||lc=="s"){dd=-dd;}return dd;}return [d,m,s,nsew];};return _2e8;});},"dojox/geo/openlayers/Map":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/json","dojo/dom","dojo/dom-style","./_base","./TouchInteractionSupport","./Layer","./Patch"],function(_2ea,_2eb,lang,_2ec,json,dom,_2ed,_2ee,_2ef,_2f0,_2f1){_2ea.experimental("dojox.geo.openlayers.Map");_2f1.patchGFX();return _2eb("dojox.geo.openlayers.Map",null,{olMap:null,_tp:null,constructor:function(div,_2f2){if(!_2f2){_2f2={};}div=dom.byId(div);this._tp={x:0,y:0};var opts=_2f2.openLayersMapOptions;if(!opts){opts={controls:[new OpenLayers.Control.ScaleLine({maxWidth:200}),new OpenLayers.Control.Navigation()]};}if(_2f2.accessible){var kbd=new OpenLayers.Control.KeyboardDefaults();if(!opts.controls){opts.controls=[];}opts.controls.push(kbd);}var _2f3=_2f2.baseLayerType;if(!_2f3){_2f3=_2ee.BaseLayerType.OSM;}var map=new OpenLayers.Map(div,opts);this.olMap=map;this._layerDictionary={olLayers:[],layers:[]};if(_2f2.touchHandler){this._touchControl=new _2ef(map);}var base=this._createBaseLayer(_2f2);this.addLayer(base);this.initialFit(_2f2);},initialFit:function(_2f4){var o=_2f4.initialLocation;if(!o){o=[-160,70,160,-70];}this.fitTo(o);},setBaseLayerType:function(type){if(type==this.baseLayerType){return null;}var o=null;if(typeof type=="string"){o={baseLayerName:type,baseLayerType:type};this.baseLayerType=type;}else{if(typeof type=="object"){o=type;this.baseLayerType=o.baseLayerType;}}var bl=null;if(o!=null){bl=this._createBaseLayer(o);if(bl!=null){var olm=this.olMap;var ob=olm.getZoom();var oc=olm.getCenter();var _2f5=!!oc&&!!olm.baseLayer&&!!olm.baseLayer.map;if(_2f5){var proj=olm.getProjectionObject();if(proj!=null){oc=oc.transform(proj,_2ee.EPSG4326);}}var old=olm.baseLayer;if(old!=null){var l=this._getLayer(old);this.removeLayer(l);}if(bl!=null){this.addLayer(bl);}if(_2f5){proj=olm.getProjectionObject();if(proj!=null){oc=oc.transform(_2ee.EPSG4326,proj);}olm.setCenter(oc,ob);}}}return bl;},getBaseLayerType:function(){return this.baseLayerType;},getScale:function(_2f6){var _2f7=null;var om=this.olMap;if(_2f6){var _2f8=om.getUnits();if(!_2f8){return null;}var _2f9=OpenLayers.INCHES_PER_UNIT;_2f7=(om.getGeodesicPixelSize().w||0.000001)*_2f9["km"]*OpenLayers.DOTS_PER_INCH;}else{_2f7=om.getScale();}return _2f7;},getOLMap:function(){return this.olMap;},_createBaseLayer:function(_2fa){var base=null;var type=_2fa.baseLayerType;var url=_2fa.baseLayerUrl;var name=_2fa.baseLayerName;var _2fb=_2fa.baseLayerOptions;if(!name){name=type;}if(!_2fb){_2fb={};}switch(type){case _2ee.BaseLayerType.OSM:_2fb.transitionEffect="resize";base=new _2f0(name,{olLayer:new OpenLayers.Layer.OSM(name,url,_2fb)});break;case _2ee.BaseLayerType.WMS:if(!url){url="http://labs.metacarta.com/wms/vmap0";if(!_2fb.layers){_2fb.layers="basic";}}base=new _2f0(name,{olLayer:new OpenLayers.Layer.WMS(name,url,_2fb,{transitionEffect:"resize"})});break;case _2ee.BaseLayerType.GOOGLE:base=new _2f0(name,{olLayer:new OpenLayers.Layer.Google(name,_2fb)});break;case _2ee.BaseLayerType.VIRTUAL_EARTH:base=new _2f0(name,{olLayer:new OpenLayers.Layer.VirtualEarth(name,_2fb)});break;case _2ee.BaseLayerType.YAHOO:base=new _2f0(name,{olLayer:new OpenLayers.Layer.Yahoo(name,_2fb)});break;case _2ee.BaseLayerType.ARCGIS:if(!url){url="http://server.arcgisonline.com/ArcGIS/rest/services/ESRI_StreetMap_World_2D/MapServer/export";}base=new _2f0(name,{olLayer:new OpenLayers.Layer.ArcGIS93Rest(name,url,_2fb,{})});break;}if(base==null){if(type instanceof OpenLayers.Layer){base=type;}else{_2fb.transitionEffect="resize";base=new _2f0(name,{olLayer:new OpenLayers.Layer.OSM(name,url,_2fb)});this.baseLayerType=_2ee.BaseLayerType.OSM;}}return base;},removeLayer:function(_2fc){var om=this.olMap;var i=_2ec.indexOf(this._layerDictionary.layers,_2fc);if(i>0){this._layerDictionary.layers.splice(i,1);}var oll=_2fc.olLayer;var j=_2ec.indexOf(this._layerDictionary.olLayers,oll);if(j>0){this._layerDictionary.olLayers.splice(i,j);}om.removeLayer(oll,false);},layerIndex:function(_2fd,_2fe){var olm=this.olMap;if(!_2fe){return olm.getLayerIndex(_2fd.olLayer);}olm.setLayerIndex(_2fd.olLayer,_2fe);this._layerDictionary.layers.sort(function(l1,l2){return olm.getLayerIndex(l1.olLayer)-olm.getLayerIndex(l2.olLayer);});this._layerDictionary.olLayers.sort(function(l1,l2){return olm.getLayerIndex(l1)-olm.getLayerIndex(l2);});return _2fe;},addLayer:function(_2ff){_2ff.dojoMap=this;var om=this.olMap;var ol=_2ff.olLayer;this._layerDictionary.olLayers.push(ol);this._layerDictionary.layers.push(_2ff);om.addLayer(ol);_2ff.added();},_getLayer:function(ol){var i=_2ec.indexOf(this._layerDictionary.olLayers,ol);if(i!=-1){return this._layerDictionary.layers[i];}return null;},getLayer:function(_300,_301){var om=this.olMap;var ols=om.getBy("layers",_300,_301);var ret=new Array();_2ec.forEach(ols,function(ol){ret.push(this._getLayer(ol));},this);return ret;},getLayerCount:function(){var om=this.olMap;if(om.layers==null){return 0;}return om.layers.length;},fitTo:function(o){var map=this.olMap;var from=_2ee.EPSG4326;if(o==null){var c=this.transformXY(0,0,from);map.setCenter(new OpenLayers.LonLat(c.x,c.y));return;}var b=null;if(typeof o=="string"){var j=json.fromJson(o);}else{j=o;}var ul;var lr;if(j.hasOwnProperty("bounds")){var a=j.bounds;b=new OpenLayers.Bounds();ul=this.transformXY(a[0],a[1],from);b.left=ul.x;b.top=ul.y;lr=this.transformXY(a[2],a[3],from);b.right=lr.x;b.bottom=lr.y;}if(b==null){if(j.hasOwnProperty("position")){var p=j.position;var e=j.hasOwnProperty("extent")?j.extent:1;if(typeof e=="string"){e=parseFloat(e);}b=new OpenLayers.Bounds();ul=this.transformXY(p[0]-e,p[1]+e,from);b.left=ul.x;b.top=ul.y;lr=this.transformXY(p[0]+e,p[1]-e,from);b.right=lr.x;b.bottom=lr.y;}}if(b==null){if(o.length==4){b=new OpenLayers.Bounds();if(false){b.left=o[0];b.top=o[1];b.right=o[2];b.bottom=o[3];}else{ul=this.transformXY(o[0],o[1],from);b.left=ul.x;b.top=ul.y;lr=this.transformXY(o[2],o[3],from);b.right=lr.x;b.bottom=lr.y;}}}if(b!=null){map.zoomToExtent(b,true);}},transform:function(p,from,to){return this.transformXY(p.x,p.y,from,to);},transformXY:function(x,y,from,to){var tp=this._tp;tp.x=x;tp.y=y;if(!from){from=_2ee.EPSG4326;}if(!to){to=this.olMap.getProjectionObject();}tp=OpenLayers.Projection.transform(tp,from,to);return tp;}});});},"dojox/geo/openlayers/TouchInteractionSupport":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/html","dojo/_base/lang","dojo/_base/event","dojo/_base/window"],function(_302,_303,html,lang,_304,win){return _302("dojox.geo.openlayers.TouchInteractionSupport",null,{_map:null,_centerTouchLocation:null,_touchMoveListener:null,_touchEndListener:null,_initialFingerSpacing:null,_initialScale:null,_tapCount:null,_tapThreshold:null,_lastTap:null,constructor:function(map){this._map=map;this._centerTouchLocation=new OpenLayers.LonLat(0,0);var div=this._map.div;_303.connect(div,"touchstart",this,this._touchStartHandler);_303.connect(div,"touchmove",this,this._touchMoveHandler);_303.connect(div,"touchend",this,this._touchEndHandler);this._tapCount=0;this._lastTap={x:0,y:0};this._tapThreshold=100;},_getTouchBarycenter:function(_305){var _306=_305.touches;var _307=_306[0];var _308=null;if(_306.length>1){_308=_306[1];}else{_308=_306[0];}var _309=html.marginBox(this._map.div);var _30a=(_307.pageX+_308.pageX)/2-_309.l;var _30b=(_307.pageY+_308.pageY)/2-_309.t;return {x:_30a,y:_30b};},_getFingerSpacing:function(_30c){var _30d=_30c.touches;var _30e=-1;if(_30d.length>=2){var dx=(_30d[1].pageX-_30d[0].pageX);var dy=(_30d[1].pageY-_30d[0].pageY);_30e=Math.sqrt(dx*dx+dy*dy);}return _30e;},_isDoubleTap:function(_30f){var _310=false;var _311=_30f.touches;if((this._tapCount>0)&&_311.length==1){var dx=(_311[0].pageX-this._lastTap.x);var dy=(_311[0].pageY-this._lastTap.y);var _312=dx*dx+dy*dy;if(_312<this._tapThreshold){_310=true;}else{this._tapCount=0;}}this._tapCount++;this._lastTap.x=_311[0].pageX;this._lastTap.y=_311[0].pageY;setTimeout(lang.hitch(this,function(){this._tapCount=0;}),300);return _310;},_doubleTapHandler:function(_313){var _314=_313.touches;var _315=html.marginBox(this._map.div);var offX=_314[0].pageX-_315.l;var offY=_314[0].pageY-_315.t;var _316=this._map.getLonLatFromPixel(new OpenLayers.Pixel(offX,offY));this._map.setCenter(new OpenLayers.LonLat(_316.lon,_316.lat),this._map.getZoom()+1);},_touchStartHandler:function(_317){_304.stop(_317);if(this._isDoubleTap(_317)){this._doubleTapHandler(_317);return;}var _318=this._getTouchBarycenter(_317);this._centerTouchLocation=this._map.getLonLatFromPixel(new OpenLayers.Pixel(_318.x,_318.y));this._initialFingerSpacing=this._getFingerSpacing(_317);this._initialScale=this._map.getScale();if(!this._touchMoveListener){this._touchMoveListener=_303.connect(win.global,"touchmove",this,this._touchMoveHandler);}if(!this._touchEndListener){this._touchEndListener=_303.connect(win.global,"touchend",this,this._touchEndHandler);}},_touchEndHandler:function(_319){_304.stop(_319);var _31a=_319.touches;if(_31a.length==0){if(this._touchMoveListener){_303.disconnect(this._touchMoveListener);this._touchMoveListener=null;}if(this._touchEndListener){_303.disconnect(this._touchEndListener);this._touchEndListener=null;}}else{var _31b=this._getTouchBarycenter(_319);this._centerTouchLocation=this._map.getLonLatFromPixel(new OpenLayers.Pixel(_31b.x,_31b.y));}},_touchMoveHandler:function(_31c){_304.stop(_31c);var _31d=this._getTouchBarycenter(_31c);var _31e=this._map.getLonLatFromPixel(new OpenLayers.Pixel(_31d.x,_31d.y));var _31f=_31e.lon-this._centerTouchLocation.lon;var _320=_31e.lat-this._centerTouchLocation.lat;var _321=1;var _322=_31c.touches;if(_322.length>=2){var _323=this._getFingerSpacing(_31c);_321=_323/this._initialFingerSpacing;this._map.zoomToScale(this._initialScale/_321);}var _324=this._map.getCenter();this._map.setCenter(new OpenLayers.LonLat(_324.lon-_31f,_324.lat-_320));}});});},"dojox/geo/openlayers/Layer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/sniff","./Feature"],function(_325,lang,_326,_327,_328){return _325("dojox.geo.openlayers.Layer",null,{constructor:function(name,_329){var ol=_329?_329.olLayer:null;if(!ol){ol=lang.delegate(new OpenLayers.Layer(name,_329));}this.olLayer=ol;this._features=null;this.olLayer.events.register("moveend",this,lang.hitch(this,this.moveTo));},renderFeature:function(f){f.render();},getDojoMap:function(){return this.dojoMap;},addFeature:function(f){if(lang.isArray(f)){_326.forEach(f,function(item){this.addFeature(item);},this);return;}if(this._features==null){this._features=[];}this._features.push(f);f._setLayer(this);},removeFeature:function(f){var ft=this._features;if(ft==null){return;}if(f instanceof Array){f=f.slice(0);_326.forEach(f,function(item){this.removeFeature(item);},this);return;}var i=_326.indexOf(ft,f);if(i!=-1){ft.splice(i,1);}f._setLayer(null);f.remove();},removeFeatureAt:function(_32a){var ft=this._features;var f=ft[_32a];if(!f){return;}ft.splice(_32a,1);f._setLayer(null);f.remove();},getFeatures:function(){return this._features;},getFeatureAt:function(i){if(this._features==null){return undefined;}return this._features[i];},getFeatureCount:function(){if(this._features==null){return 0;}return this._features.length;},clear:function(){var fa=this.getFeatures();this.removeFeature(fa);},moveTo:function(_32b){if(_32b.zoomChanged){if(this._features==null){return;}_326.forEach(this._features,function(f){this.renderFeature(f);},this);}},redraw:function(){if(_327.isIE){setTimeout(lang.hitch(this,function(){this.olLayer.redraw();},0));}else{this.olLayer.redraw();}},added:function(){}});});},"dojox/geo/openlayers/Feature":function(){define(["dojo/_base/kernel","dojo/_base/declare","./_base"],function(dojo,_32c,_32d){return _32c("dojox.geo.openlayers.Feature",null,{constructor:function(){this._layer=null;this._coordSys=_32d.EPSG4326;},getCoordinateSystem:function(){return this._coordSys;},setCoordinateSystem:function(cs){this._coordSys=cs;},getLayer:function(){return this._layer;},_setLayer:function(l){this._layer=l;},render:function(){},remove:function(){},_getLocalXY:function(p){var x=p.x;var y=p.y;var _32e=this.getLayer();var _32f=_32e.olLayer.map.getResolution();var _330=_32e.olLayer.getExtent();var rx=(x/_32f+(-_330.left/_32f));var ry=((_330.top/_32f)-y/_32f);return [rx,ry];}});});},"dojox/geo/openlayers/Patch":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojox/gfx","dojox/gfx/shape"],function(dojo,lang,_331,gfx,_332){var dgo=lang.getObject("geo.openlayers",true,dojox);dgo.Patch={patchMethod:function(type,_333,_334,_335){var old=type.prototype[_333];type.prototype[_333]=function(){var _336=_333;if(_334){_334.call(this,_336,arguments);}var ret=old.apply(this,arguments);if(_335){ret=_335.call(this,_336,ret,arguments)||ret;}return ret;};},patchGFX:function(){var _337=function(){if(!this.rawNode.path){this.rawNode.path={};}};var _338=function(){if(this.rawNode.fill&&!this.rawNode.fill.colors){this.rawNode.fill.colors={};}};if(_331.isIE<=8&&gfx.renderer==="vml"){this.patchMethod(gfx.Line,"setShape",_337,null);this.patchMethod(gfx.Polyline,"setShape",_337,null);this.patchMethod(gfx.Path,"setShape",_337,null);this.patchMethod(_332.Shape,"setFill",_338,null);}}};return dgo.Patch;});},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(lang,_339,_33a){_339.switchTo(_33a);return _339;});},"dojox/gfx/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/Color","dojo/_base/sniff","dojo/_base/window","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/dom-geometry"],function(_33b,lang,_33c,has,win,arr,dom,_33d,_33e){var g=lang.getObject("dojox.gfx",true),b=g._base={};g._hasClass=function(node,_33f){var cls=node.getAttribute("className");return cls&&(" "+cls+" ").indexOf(" "+_33f+" ")>=0;};g._addClass=function(node,_340){var cls=node.getAttribute("className")||"";if(!cls||(" "+cls+" ").indexOf(" "+_340+" ")<0){node.setAttribute("className",cls+(cls?" ":"")+_340);}};g._removeClass=function(node,_341){var cls=node.getAttribute("className");if(cls){node.setAttribute("className",cls.replace(new RegExp("(^|\\s+)"+_341+"(\\s+|$)"),"$1$2"));}};b._getFontMeasurements=function(){var _342={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};var p;if(has("ie")){win.doc.documentElement.style.fontSize="100%";}var div=_33d.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},win.body());for(p in _342){div.style.fontSize=p;_342[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}win.body().removeChild(div);return _342;};var _343=null;b._getCachedFontMeasurements=function(_344){if(_344||!_343){_343=b._getFontMeasurements();}return _343;};var _345=null,_346={};b._getTextBox=function(text,_347,_348){var m,s,al=arguments.length;var i;if(!_345){_345=_33d.create("div",{style:{position:"absolute",top:"-10000px",left:"0"}},win.body());}m=_345;m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(al>1&&_347){for(i in _347){if(i in _346){continue;}s[i]=_347[i];}}if(al>2&&_348){m.className=_348;}m.innerHTML=text;if(m["getBoundingClientRect"]){var bcr=m.getBoundingClientRect();return {l:bcr.left,t:bcr.top,w:bcr.width||(bcr.right-bcr.left),h:bcr.height||(bcr.bottom-bcr.top)};}else{return _33e.getMarginBox(m);}};b._computeTextLocation=function(_349,_34a,_34b,_34c){var loc={},_34d=_349.align;switch(_34d){case "end":loc.x=_349.x-_34a;break;case "middle":loc.x=_349.x-_34a/2;break;default:loc.x=_349.x;break;}var c=_34c?0.75:1;loc.y=_349.y-_34b*c;return loc;};b._computeTextBoundingBox=function(s){if(!g._base._isRendered(s)){return {x:0,y:0,width:0,height:0};}var loc,_34e=s.getShape(),font=s.getFont()||g.defaultFont,w=s.getTextWidth(),h=g.normalizedLength(font.size);loc=b._computeTextLocation(_34e,w,h,true);return {x:loc.x,y:loc.y,width:w,height:h};};b._isRendered=function(s){var p=s.parent;while(p&&p.getParent){p=p.parent;}return p!==null;};var _34f=0;b._getUniqueId=function(){var id;do{id=_33b._scopeName+"xUnique"+(++_34f);}while(dom.byId(id));return id;};b._fixMsTouchAction=function(_350){var r=_350.rawNode;if(typeof r.style.msTouchAction!="undefined"){r.style.msTouchAction="none";}};lang.mixin(g,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:(function(){var _351={};return function(type){var t=_351[type];if(t){return new t();}t=_351[type]=new Function();t.prototype=g["default"+type];return new t();};})(),normalizeColor:function(_352){return (_352 instanceof _33c)?_352:new _33c(_352);},normalizeParameters:function(_353,_354){var x;if(_354){var _355={};for(x in _353){if(x in _354&&!(x in _355)){_353[x]=_354[x];}}}return _353;},makeParameters:function(_356,_357){var i=null;if(!_357){return lang.delegate(_356);}var _358={};for(i in _356){if(!(i in _358)){_358[i]=lang.clone((i in _357)?_357[i]:_356[i]);}}return _358;},formatNumber:function(x,_359){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var _35a=val.indexOf(".");if(_35a>=0&&val.length-_35a>5){val=x.toFixed(4);}}if(x<0){return val;}return _359?" "+val:val;},makeFontString:function(font){return font.style+" "+font.variant+" "+font.weight+" "+font.size+" "+font.family;},splitFontString:function(str){var font=g.getDefault("Font");var t=str.split(/\s+/);do{if(t.length<5){break;}font.style=t[0];font.variant=t[1];font.weight=t[2];var i=t[3].indexOf("/");font.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;}else{if(t[4].charAt(0)=="/"){j=5;}}}if(j<t.length){font.family=t.slice(j).join(" ");}}while(false);return font;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return g._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*g.px_in_pt();},px2pt:function(len){return len/g.px_in_pt();},normalizedLength:function(len){if(len.length===0){return 0;}if(len.length>2){var _35b=g.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_35b;case "in":return val*72*_35b;case "pc":return val*12*_35b;case "mm":return val*g.mm_in_pt*_35b;case "cm":return val*g.cm_in_pt*_35b;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a===b;},switchTo:function(_35c){var ns=typeof _35c=="string"?g[_35c]:_35c;if(ns){arr.forEach(["Group","Rect","Ellipse","Circle","Line","Polyline","Image","Text","Path","TextPath","Surface","createSurface","fixTarget"],function(name){g[name]=ns[name];});if(typeof _35c=="string"){g.renderer=_35c;}else{arr.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(r){return (g.renderer=g[r]&&g[r].Surface===g.Surface?r:null);});}}}});return g;});},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(g,lang,has,win,_35d){var _35e=null;has.add("vml",function(_35f,_360,_361){_361.innerHTML="<v:shape adj=\"1\"/>";var _362=("adj" in _361.firstChild);_361.innerHTML="";return _362;});return {load:function(id,_363,load){if(_35e&&id!="force"){load(_35e);return;}var _364=_35d.forceGfxRenderer,_365=!_364&&(lang.isString(_35d.gfxRenderer)?_35d.gfxRenderer:"svg,vml,canvas,silverlight").split(","),_366,_367;while(!_364&&_365.length){switch(_365.shift()){case "svg":if("SVGAngle" in win.global){_364="svg";}break;case "vml":if(has("vml")){_364="vml";}break;case "silverlight":try{if(has("ie")){_366=new ActiveXObject("AgControl.AgControl");if(_366&&_366.IsVersionSupported("1.0")){_367=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){_367=true;}}}catch(e){_367=false;}finally{_366=null;}if(_367){_364="silverlight";}break;case "canvas":if(win.global.CanvasRenderingContext2D){_364="canvas";}break;}}if(_364==="canvas"&&_35d.canvasEvents!==false){_364="canvasWithEvents";}if(_35d.isDebug){}function _368(){_363(["dojox/gfx/"+_364],function(_369){g.renderer=_364;_35e=_369;load(_369);});};if(_364=="svg"&&typeof window.svgweb!="undefined"){window.svgweb.addOnLoad(_368);}else{_368();}}};});},"dojox/gfx/shape":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","dojo/_base/kernel","dojo/_base/sniff","dojo/on","dojo/_base/array","dojo/dom-construct","dojo/_base/Color","./matrix"],function(g,lang,_36a,_36b,has,on,arr,_36c,_36d,_36e){var _36f=g.shape={};_36f.Shape=_36a("dojox.gfx.shape.Shape",null,{constructor:function(){this.rawNode=null;this.shape=null;this.matrix=null;this.fillStyle=null;this.strokeStyle=null;this.bbox=null;this.parent=null;this.parentMatrix=null;if(has("gfxRegistry")){var uid=_36f.register(this);this.getUID=function(){return uid;};}},destroy:function(){if(has("gfxRegistry")){_36f.dispose(this);}if(this.rawNode&&"__gfxObject__" in this.rawNode){this.rawNode.__gfxObject__=null;}this.rawNode=null;},getNode:function(){return this.rawNode;},getShape:function(){return this.shape;},getTransform:function(){return this.matrix;},getFill:function(){return this.fillStyle;},getStroke:function(){return this.strokeStyle;},getParent:function(){return this.parent;},getBoundingBox:function(){return this.bbox;},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b){return null;}var m=this._getRealMatrix(),gm=_36e;return [gm.multiplyPoint(m,b.x,b.y),gm.multiplyPoint(m,b.x+b.width,b.y),gm.multiplyPoint(m,b.x+b.width,b.y+b.height),gm.multiplyPoint(m,b.x,b.y+b.height)];},getEventSource:function(){return this.rawNode;},setClip:function(clip){this.clip=clip;},getClip:function(){return this.clip;},setShape:function(_370){this.shape=g.makeParameters(this.shape,_370);this.bbox=null;return this;},setFill:function(fill){if(!fill){this.fillStyle=null;return this;}var f=null;if(typeof (fill)=="object"&&"type" in fill){switch(fill.type){case "linear":f=g.makeParameters(g.defaultLinearGradient,fill);break;case "radial":f=g.makeParameters(g.defaultRadialGradient,fill);break;case "pattern":f=g.makeParameters(g.defaultPattern,fill);break;}}else{f=g.normalizeColor(fill);}this.fillStyle=f;return this;},setStroke:function(_371){if(!_371){this.strokeStyle=null;return this;}if(typeof _371=="string"||lang.isArray(_371)||_371 instanceof _36d){_371={color:_371};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_371);s.color=g.normalizeColor(s.color);return this;},setTransform:function(_372){this.matrix=_36e.clone(_372?_36e.normalize(_372):_36e.identity);return this._applyTransform();},_applyTransform:function(){return this;},moveToFront:function(){var p=this.getParent();if(p){p._moveChildToFront(this);this._moveToFront();}return this;},moveToBack:function(){var p=this.getParent();if(p){p._moveChildToBack(this);this._moveToBack();}return this;},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(_373){return _373?this.setTransform([this.matrix,_373]):this;},applyLeftTransform:function(_374){return _374?this.setTransform([_374,this.matrix]):this;},applyTransform:function(_375){return _375?this.setTransform([this.matrix,_375]):this;},removeShape:function(_376){if(this.parent){this.parent.remove(this,_376);}return this;},_setParent:function(_377,_378){this.parent=_377;return this._updateParentMatrix(_378);},_updateParentMatrix:function(_379){this.parentMatrix=_379?_36e.clone(_379):null;return this._applyTransform();},_getRealMatrix:function(){var m=this.matrix;var p=this.parent;while(p){if(p.matrix){m=_36e.multiply(p.matrix,m);}p=p.parent;}return m;}});_36f._eventsProcessing={on:function(type,_37a){return on(this.getEventSource(),type,_36f.fixCallback(this,g.fixTarget,_37a));},connect:function(name,_37b,_37c){if(name.substring(0,2)=="on"){name=name.substring(2);}return this.on(name,_37c?lang.hitch(_37b,_37c):_37b);},disconnect:function(_37d){return _37d.remove();}};_36f.fixCallback=function(_37e,_37f,_380,_381){if(!_381){_381=_380;_380=null;}if(lang.isString(_381)){_380=_380||_36b.global;if(!_380[_381]){throw (["dojox.gfx.shape.fixCallback: scope[\"",_381,"\"] is null (scope=\"",_380,"\")"].join(""));}return function(e){return _37f(e,_37e)?_380[_381].apply(_380,arguments||[]):undefined;};}return !_380?function(e){return _37f(e,_37e)?_381.apply(_380,arguments):undefined;}:function(e){return _37f(e,_37e)?_381.apply(_380,arguments||[]):undefined;};};lang.extend(_36f.Shape,_36f._eventsProcessing);_36f.Container={_init:function(){this.children=[];this._batch=0;},openBatch:function(){return this;},closeBatch:function(){return this;},add:function(_382){var _383=_382.getParent();if(_383){_383.remove(_382,true);}this.children.push(_382);return _382._setParent(this,this._getRealMatrix());},remove:function(_384,_385){for(var i=0;i<this.children.length;++i){if(this.children[i]==_384){if(_385){}else{_384.parent=null;_384.parentMatrix=null;}this.children.splice(i,1);break;}}return this;},clear:function(_386){var _387;for(var i=0;i<this.children.length;++i){_387=this.children[i];_387.parent=null;_387.parentMatrix=null;if(_386){_387.destroy();}}this.children=[];return this;},getBoundingBox:function(){if(this.children){var _388=null;arr.forEach(this.children,function(_389){var bb=_389.getBoundingBox();if(bb){var ct=_389.getTransform();if(ct){bb=_36e.multiplyRectangle(ct,bb);}if(_388){_388.x=Math.min(_388.x,bb.x);_388.y=Math.min(_388.y,bb.y);_388.endX=Math.max(_388.endX,bb.x+bb.width);_388.endY=Math.max(_388.endY,bb.y+bb.height);}else{_388={x:bb.x,y:bb.y,endX:bb.x+bb.width,endY:bb.y+bb.height};}}});if(_388){_388.width=_388.endX-_388.x;_388.height=_388.endY-_388.y;}return _388;}return null;},_moveChildToFront:function(_38a){for(var i=0;i<this.children.length;++i){if(this.children[i]==_38a){this.children.splice(i,1);this.children.push(_38a);break;}}return this;},_moveChildToBack:function(_38b){for(var i=0;i<this.children.length;++i){if(this.children[i]==_38b){this.children.splice(i,1);this.children.unshift(_38b);break;}}return this;}};_36f.Surface=_36a("dojox.gfx.shape.Surface",null,{constructor:function(){this.rawNode=null;this._parent=null;this._nodes=[];this._events=[];},destroy:function(){arr.forEach(this._nodes,_36c.destroy);this._nodes=[];arr.forEach(this._events,function(h){if(h){h.remove();}});this._events=[];this.rawNode=null;if(has("ie")){while(this._parent.lastChild){_36c.destroy(this._parent.lastChild);}}else{this._parent.innerHTML="";}this._parent=null;},getEventSource:function(){return this.rawNode;},_getRealMatrix:function(){return null;},isLoaded:true,onLoad:function(_38c){},whenLoaded:function(_38d,_38e){var f=lang.hitch(_38d,_38e);if(this.isLoaded){f(this);}else{on.once(this,"load",function(_38f){f(_38f);});}}});lang.extend(_36f.Surface,_36f._eventsProcessing);_36f.Rect=_36a("dojox.gfx.shape.Rect",_36f.Shape,{constructor:function(_390){this.shape=g.getDefault("Rect");this.rawNode=_390;},getBoundingBox:function(){return this.shape;}});_36f.Ellipse=_36a("dojox.gfx.shape.Ellipse",_36f.Shape,{constructor:function(_391){this.shape=g.getDefault("Ellipse");this.rawNode=_391;},getBoundingBox:function(){if(!this.bbox){var _392=this.shape;this.bbox={x:_392.cx-_392.rx,y:_392.cy-_392.ry,width:2*_392.rx,height:2*_392.ry};}return this.bbox;}});_36f.Circle=_36a("dojox.gfx.shape.Circle",_36f.Shape,{constructor:function(_393){this.shape=g.getDefault("Circle");this.rawNode=_393;},getBoundingBox:function(){if(!this.bbox){var _394=this.shape;this.bbox={x:_394.cx-_394.r,y:_394.cy-_394.r,width:2*_394.r,height:2*_394.r};}return this.bbox;}});_36f.Line=_36a("dojox.gfx.shape.Line",_36f.Shape,{constructor:function(_395){this.shape=g.getDefault("Line");this.rawNode=_395;},getBoundingBox:function(){if(!this.bbox){var _396=this.shape;this.bbox={x:Math.min(_396.x1,_396.x2),y:Math.min(_396.y1,_396.y2),width:Math.abs(_396.x2-_396.x1),height:Math.abs(_396.y2-_396.y1)};}return this.bbox;}});_36f.Polyline=_36a("dojox.gfx.shape.Polyline",_36f.Shape,{constructor:function(_397){this.shape=g.getDefault("Polyline");this.rawNode=_397;},setShape:function(_398,_399){if(_398&&_398 instanceof Array){this.inherited(arguments,[{points:_398}]);if(_399&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.inherited(arguments,[_398]);}return this;},_normalizePoints:function(){var p=this.shape.points,l=p&&p.length;if(l&&typeof p[0]=="number"){var _39a=[];for(var i=0;i<l;i+=2){_39a.push({x:p[i],y:p[i+1]});}this.shape.points=_39a;}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){var p=this.shape.points;var l=p.length;var t=p[0];var bbox={l:t.x,t:t.y,r:t.x,b:t.y};for(var i=1;i<l;++i){t=p[i];if(bbox.l>t.x){bbox.l=t.x;}if(bbox.r<t.x){bbox.r=t.x;}if(bbox.t>t.y){bbox.t=t.y;}if(bbox.b<t.y){bbox.b=t.y;}}this.bbox={x:bbox.l,y:bbox.t,width:bbox.r-bbox.l,height:bbox.b-bbox.t};}return this.bbox;}});_36f.Image=_36a("dojox.gfx.shape.Image",_36f.Shape,{constructor:function(_39b){this.shape=g.getDefault("Image");this.rawNode=_39b;},getBoundingBox:function(){return this.shape;},setStroke:function(){return this;},setFill:function(){return this;}});_36f.Text=_36a(_36f.Shape,{constructor:function(_39c){this.fontStyle=null;this.shape=g.getDefault("Text");this.rawNode=_39c;},getFont:function(){return this.fontStyle;},setFont:function(_39d){this.fontStyle=typeof _39d=="string"?g.splitFontString(_39d):g.makeParameters(g.defaultFont,_39d);this._setFont();return this;},getBoundingBox:function(){var bbox=null,s=this.getShape();if(s.text){bbox=g._base._computeTextBoundingBox(this);}return bbox;}});_36f.Creator={createShape:function(_39e){switch(_39e.type){case g.defaultPath.type:return this.createPath(_39e);case g.defaultRect.type:return this.createRect(_39e);case g.defaultCircle.type:return this.createCircle(_39e);case g.defaultEllipse.type:return this.createEllipse(_39e);case g.defaultLine.type:return this.createLine(_39e);case g.defaultPolyline.type:return this.createPolyline(_39e);case g.defaultImage.type:return this.createImage(_39e);case g.defaultText.type:return this.createText(_39e);case g.defaultTextPath.type:return this.createTextPath(_39e);}return null;},createGroup:function(){return this.createObject(g.Group);},createRect:function(rect){return this.createObject(g.Rect,rect);},createEllipse:function(_39f){return this.createObject(g.Ellipse,_39f);},createCircle:function(_3a0){return this.createObject(g.Circle,_3a0);},createLine:function(line){return this.createObject(g.Line,line);},createPolyline:function(_3a1){return this.createObject(g.Polyline,_3a1);},createImage:function(_3a2){return this.createObject(g.Image,_3a2);},createText:function(text){return this.createObject(g.Text,text);},createPath:function(path){return this.createObject(g.Path,path);},createTextPath:function(text){return this.createObject(g.TextPath,{}).setText(text);},createObject:function(_3a3,_3a4){return null;}};return _36f;});},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(g,lang){var m=g.matrix={};var _3a5={};m._degToRad=function(_3a6){return _3a5[_3a6]||(_3a5[_3a6]=(Math.PI*_3a6/180));};m._radToDeg=function(_3a7){return _3a7/Math.PI*180;};m.Matrix2D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=arg;}else{if(arg instanceof Array){if(arg.length>0){var _3a8=m.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=_3a8,r=m.normalize(arg[i]);_3a8=new m.Matrix2D();_3a8.xx=l.xx*r.xx+l.xy*r.yx;_3a8.xy=l.xx*r.xy+l.xy*r.yy;_3a8.yx=l.yx*r.xx+l.yy*r.yx;_3a8.yy=l.yx*r.xy+l.yy*r.yy;_3a8.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_3a8.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}lang.mixin(this,_3a8);}}else{lang.mixin(this,arg);}}}};lang.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});lang.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(_3a9){var c=Math.cos(_3a9);var s=Math.sin(_3a9);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_3aa){return m.rotate(m._degToRad(_3aa));},skewX:function(_3ab){return new m.Matrix2D({xy:Math.tan(_3ab)});},skewXg:function(_3ac){return m.skewX(m._degToRad(_3ac));},skewY:function(_3ad){return new m.Matrix2D({yx:Math.tan(_3ad)});},skewYg:function(_3ae){return m.skewY(m._degToRad(_3ae));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_3af){return (_3af instanceof m.Matrix2D)?_3af:new m.Matrix2D(_3af);},isIdentity:function(_3b0){return _3b0.xx==1&&_3b0.xy==0&&_3b0.yx==0&&_3b0.yy==1&&_3b0.dx==0&&_3b0.dy==0;},clone:function(_3b1){var obj=new m.Matrix2D();for(var i in _3b1){if(typeof (_3b1[i])=="number"&&typeof (obj[i])=="number"&&obj[i]!=_3b1[i]){obj[i]=_3b1[i];}}return obj;},invert:function(_3b2){var M=m.normalize(_3b2),D=M.xx*M.yy-M.xy*M.yx;M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_3b3,x,y){return {x:_3b3.xx*x+_3b3.xy*y+_3b3.dx,y:_3b3.yx*x+_3b3.yy*y+_3b3.dy};},multiplyPoint:function(_3b4,a,b){var M=m.normalize(_3b4);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiplyRectangle:function(_3b5,rect){var M=m.normalize(_3b5);rect=rect||{x:0,y:0,width:0,height:0};if(m.isIdentity(M)){return {x:rect.x,y:rect.y,width:rect.width,height:rect.height};}var p0=m.multiplyPoint(M,rect.x,rect.y),p1=m.multiplyPoint(M,rect.x,rect.y+rect.height),p2=m.multiplyPoint(M,rect.x+rect.width,rect.y),p3=m.multiplyPoint(M,rect.x+rect.width,rect.y+rect.height),minx=Math.min(p0.x,p1.x,p2.x,p3.x),miny=Math.min(p0.y,p1.y,p2.y,p3.y),maxx=Math.max(p0.x,p1.x,p2.x,p3.x),maxy=Math.max(p0.y,p1.y,p2.y,p3.y);return {x:minx,y:miny,width:maxx-minx,height:maxy-miny};},multiply:function(_3b6){var M=m.normalize(_3b6);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_3b7,x,y){return m.multiply(m.translate(x,y),_3b7,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(_3b8,a,b){if(arguments.length>2){return m._sandwich(m.rotate(_3b8),a,b);}return m._sandwich(m.rotate(_3b8),a.x,a.y);},rotategAt:function(_3b9,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_3b9),a,b);}return m._sandwich(m.rotateg(_3b9),a.x,a.y);},skewXAt:function(_3ba,a,b){if(arguments.length>2){return m._sandwich(m.skewX(_3ba),a,b);}return m._sandwich(m.skewX(_3ba),a.x,a.y);},skewXgAt:function(_3bb,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_3bb),a,b);}return m._sandwich(m.skewXg(_3bb),a.x,a.y);},skewYAt:function(_3bc,a,b){if(arguments.length>2){return m._sandwich(m.skewY(_3bc),a,b);}return m._sandwich(m.skewY(_3bc),a.x,a.y);},skewYgAt:function(_3bd,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_3bd),a,b);}return m._sandwich(m.skewYg(_3bd),a.x,a.y);}});g.Matrix2D=m.Matrix2D;return m;});},"dojox/geo/openlayers/GfxLayer":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/dom-style","dojox/gfx","dojox/gfx/matrix","./Feature","./Layer"],function(_3be,_3bf,_3c0,gfx,_3c1,_3c2,_3c3){return _3be("dojox.geo.openlayers.GfxLayer",_3c3,{_viewport:null,constructor:function(name,_3c4){var s=gfx.createSurface(this.olLayer.div,100,100);this._surface=s;var vp;if(_3c4&&_3c4.viewport){vp=_3c4.viewport;}else{vp=s.createGroup();}this.setViewport(vp);_3bf.connect(this.olLayer,"onMapResize",this,"onMapResize");this.olLayer.getDataExtent=this.getDataExtent;},getViewport:function(){return this._viewport;},setViewport:function(g){if(this._viewport){this._viewport.removeShape();}this._viewport=g;this._surface.add(g);},onMapResize:function(){this._surfaceSize();},setMap:function(map){this.inherited(arguments);this._surfaceSize();},getDataExtent:function(){var ret=this._surface.getDimensions();return ret;},getSurface:function(){return this._surface;},_surfaceSize:function(){var s=this.olLayer.map.getSize();this._surface.setDimensions(s.w,s.h);},moveTo:function(_3c5){var s=_3c0.get(this.olLayer.map.layerContainerDiv);var left=parseInt(s.left);var top=parseInt(s.top);if(_3c5.zoomChanged||left||top){var d=this.olLayer.div;_3c0.set(d,{left:-left+"px",top:-top+"px"});if(this._features==null){return;}var vp=this.getViewport();vp.setTransform(_3c1.translate(left,top));this.inherited(arguments);}},added:function(){this.inherited(arguments);this._surfaceSize();}});});},"demos/mobileOpenLayers/src/NavigationControl":function(){define(["dojox/mobile/IconContainer","dojox/mobile/Button"],function(_3c6,_3c7){return dojo.declare("demos.mobileOpenLayers.src.NavigationControl",[OpenLayers.Control],{constructor:function(_3c8,_3c9){OpenLayers.Control.prototype.initialize.apply(this,[_3c8]);this._element=null;},draw:function(){OpenLayers.Control.prototype.draw.apply(this,arguments);if(!this._element){var div=dojo.create("div",{},this.div);var b=new dojox.mobile.Button({label:"+"},div);b.startup();var d=b.domNode;dojo.style(d,{position:"absolute",left:20+"px",top:10+"px",fontFamily:"Helvetica",fontSize:20+"px",width:40+"px",height:27+"px",textAlign:"center",verticalAlign:"baseline"});dojo.connect(d,"touchstart",this,this.zoomIn);dojo.connect(d,"onclick",this,this.zoomIn);div=dojo.create("div",{},this.div);b=new dojox.mobile.Button({label:"-"},div);b.startup();d=b.domNode;dojo.style(d,{position:"absolute",left:90+"px",top:10+"px",fontFamily:"Helvetica",fontSize:20+"px",width:40+"px",height:27+"px",textAlign:"center",verticalAlign:"baseline"});dojo.connect(d,"touchstart",this,this.zoomOut);dojo.connect(d,"onclick",this,this.zoomOut);this._element=this.div;}return this.div;},log:function(s){var t=document.createTextNode(s);this._element.appendChild(t);},setVisible:function(v){var d=this.div;dojo.style(d,{"visibility":(v?"visible":"hidden")});},zoomIn:function(e){dojo.stopEvent(e);this.map.zoomIn();},zoomOut:function(e){dojo.stopEvent(e);this.map.zoomOut();}});});},"dojox/mobile/IconContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-construct","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./IconItem","./Heading","./View"],function(_3ca,_3cb,lang,win,_3cc,_3cd,_3ce,_3cf,_3d0,_3d1,View){return _3cb("dojox.mobile.IconContainer",[_3cf,_3ce,_3cd],{defaultIcon:"",transition:"below",pressedIconOpacity:0.4,iconBase:"",iconPos:"",back:"Home",label:"My Application",single:false,editable:false,tag:"ul",baseClass:"mblIconContainer",editableMixinClass:"dojox/mobile/_EditableIconMixin",iconItemPaneContainerClass:"dojox/mobile/Container",iconItemPaneContainerProps:null,iconItemPaneClass:"dojox/mobile/_IconItemPane",iconItemPaneProps:null,buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||_3cc.create(this.tag);this._terminator=_3cc.create(this.tag==="ul"?"li":"div",{className:"mblIconItemTerminator"},this.domNode);this.inherited(arguments);},postCreate:function(){if(this.editable&&!this.startEdit){require([this.editableMixinClass],lang.hitch(this,function(_3d2){_3cb.safeMixin(this,new _3d2());this.set("editable",this.editable);}));}},startup:function(){if(this._started){return;}require([this.iconItemPaneContainerClass],lang.hitch(this,function(_3d3){this.paneContainerWidget=new _3d3(this.iconItemPaneContainerProps);if(this.transition==="below"){_3cc.place(this.paneContainerWidget.domNode,this.domNode,"after");}else{var view=this.appView=new View({id:this.id+"_mblApplView"});var _3d4=this;view.onAfterTransitionIn=function(_3d5,dir,_3d6,_3d7,_3d8){_3d4._opening._open_1();};view.domNode.style.visibility="hidden";var _3d9=view._heading=new _3d1({back:this._cv?this._cv(this.back):this.back,label:this._cv?this._cv(this.label):this.label,moveTo:this.domNode.parentNode.id,transition:this.transition=="zoomIn"?"zoomOut":this.transition});view.addChild(_3d9);view.addChild(this.paneContainerWidget);var _3da;for(var w=this.getParent();w;w=w.getParent()){if(w instanceof View){_3da=w.domNode.parentNode;break;}}if(!_3da){_3da=win.body();}_3da.appendChild(view.domNode);view.startup();}}));this.inherited(arguments);},closeAll:function(){_3ca.forEach(this.getChildren(),function(w){w.close(true);},this);},addChild:function(_3db,_3dc){this.inherited(arguments);if(this._started&&_3db.paneWidget&&!_3db.paneWidget.getParent()){this.paneContainerWidget.addChild(_3db.paneWidget,_3dc);}this.domNode.appendChild(this._terminator);},removeChild:function(_3dd){var _3de=(typeof _3dd=="number")?_3dd:_3dd.getIndexInParent();this.paneContainerWidget.removeChild(_3de);this.inherited(arguments);},_setLabelAttr:function(text){if(!this.appView){return;}this.label=text;var s=this._cv?this._cv(text):text;this.appView._heading.set("label",s);}});});},"dojox/mobile/IconItem":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/sniff","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","./_ItemBase","./Badge","./TransitionEvent","./iconUtils","./lazyLoadUtils","./viewRegistry","./_css3","dojo/has!dojo-bidi?dojox/mobile/bidi/IconItem"],function(_3df,_3e0,lang,has,win,_3e1,_3e2,_3e3,_3e4,_3e5,_3e6,_3e7,_3e8,_3e9,_3ea,css3,_3eb){var _3ec=_3df(has("dojo-bidi")?"dojox.mobile.NonBidiIconItem":"dojox.mobile.IconItem",_3e5,{lazy:false,requires:"",timeout:10,content:"",badge:"",badgeClass:"mblDomButtonRedBadge",deletable:true,deleteIcon:"",tag:"li",paramsToInherit:"transition,icon,deleteIcon,badgeClass,deleteIconTitle,deleteIconRole",baseClass:"mblIconItem",_selStartMethod:"touch",_selEndMethod:"none",destroy:function(){if(this.badgeObj){delete this.badgeObj;}this.inherited(arguments);},buildRendering:function(){this.domNode=this.srcNodeRef||_3e2.create(this.tag);if(this.srcNodeRef){this._tmpNode=_3e2.create("div");for(var i=0,len=this.srcNodeRef.childNodes.length;i<len;i++){this._tmpNode.appendChild(this.srcNodeRef.firstChild);}}this.iconDivNode=_3e2.create("div",{className:"mblIconArea"},this.domNode);this.iconParentNode=_3e2.create("div",{className:"mblIconAreaInner"},this.iconDivNode);this.labelNode=_3e2.create("span",{className:"mblIconAreaTitle"},this.iconDivNode);this.inherited(arguments);},startup:function(){if(this._started){return;}var p=this.getParent();require([p.iconItemPaneClass],lang.hitch(this,function(_3ed){var w=this.paneWidget=new _3ed(p.iconItemPaneProps);this.containerNode=w.containerNode;if(this._tmpNode){for(var i=0,len=this._tmpNode.childNodes.length;i<len;i++){w.containerNode.appendChild(this._tmpNode.firstChild);}this._tmpNode=null;}p.paneContainerWidget.addChild(w,this.getIndexInParent());w.set("label",this.label);this._clickCloseHandle=this.connect(w.closeIconNode,"onclick","_closeIconClicked");this._keydownCloseHandle=this.connect(w.closeIconNode,"onkeydown","_closeIconClicked");}));this.inherited(arguments);if(!this._isOnLine){this._isOnLine=true;this.set("icon",this._pendingIcon!==undefined?this._pendingIcon:this.icon);delete this._pendingIcon;}if(!this.icon&&p.defaultIcon){this.set("icon",p.defaultIcon);}this._dragstartHandle=this.connect(this.domNode,"ondragstart",_3e0.stop);this.connect(this.domNode,"onkeydown","_onClick");},highlight:function(_3ee){_3e1.add(this.iconDivNode,"mblVibrate");_3ee=(_3ee!==undefined)?_3ee:this.timeout;if(_3ee>0){var _3ef=this;_3ef.defer(function(){_3ef.unhighlight();},_3ee*1000);}},unhighlight:function(){if(has("ie")>10){_3e4.set(this.iconDivNode,"animation-name","");}_3e1.remove(this.iconDivNode,"mblVibrate");},isOpen:function(e){return this.paneWidget.isOpen();},_onClick:function(e){if(this.getParent().isEditing||e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}this.defaultClickAction(e);},onClick:function(){},_onNewWindowOpened:function(e){this.set("selected",false);},_prepareForTransition:function(e,_3f0){if(_3f0){this.defer(function(d){this.set("selected",false);},1500);return true;}else{if(this.getParent().transition==="below"&&this.isOpen()){this.close();}else{this.open(e);}return false;}},_closeIconClicked:function(e){if(e){if(e.type==="keydown"&&e.keyCode!==13){return;}if(this.closeIconClicked(e)===false){return;}this.defer(function(d){this._closeIconClicked();});return;}this.close();},closeIconClicked:function(){},open:function(e){var _3f1=this.getParent();if(this.transition==="below"){if(_3f1.single){_3f1.closeAll();}this._open_1();}else{_3f1._opening=this;if(_3f1.single){this.paneWidget.closeHeaderNode.style.display="none";if(!this.isOpen()){_3f1.closeAll();}_3f1.appView._heading.set("label",this.label);}this.moveTo=_3f1.id+"_mblApplView";new _3e7(this.domNode,this.getTransOpts(),e).dispatch();}},_open_1:function(){this.paneWidget.show();this.unhighlight();if(this.lazy){_3e9.instantiateLazyWidgets(this.containerNode,this.requires);this.lazy=false;}this.scrollIntoView(this.paneWidget.domNode);this.onOpen();},scrollIntoView:function(node){var s=_3ea.getEnclosingScrollable(node);if(s){var dim=s.getDim();if(dim.c.h>=dim.d.h){s.scrollIntoView(node,true);}}else{win.global.scrollBy(0,_3e3.position(node,false).y);}},close:function(_3f2){if(!this.isOpen()){return;}this.set("selected",false);if(has("css3-animations")&&!_3f2){var _3f3=this.paneWidget.domNode;if(this.getParent().transition=="below"){_3e1.add(_3f3,"mblCloseContent mblShrink");var _3f4=_3e3.position(_3f3,true);var _3f5=_3e3.position(this.domNode,true);var _3f6=(_3f5.x+_3f5.w/2-_3f4.x)+"px "+(_3f5.y+_3f5.h/2-_3f4.y)+"px";_3e4.set(_3f3,css3.add({},{transformOrigin:_3f6}));}else{_3e1.add(_3f3,"mblCloseContent mblShrink0");}}else{this.paneWidget.hide();}this.onClose();},onOpen:function(){},onClose:function(){},_setLabelAttr:function(text){this.label=text;var s=this._cv?this._cv(text):text;this.labelNode.innerHTML=s;if(this.paneWidget){this.paneWidget.set("label",text);}},_getBadgeAttr:function(){return this.badgeObj?this.badgeObj.getValue():null;},_setBadgeAttr:function(_3f7){if(!this.badgeObj){this.badgeObj=new _3e6({fontSize:14,className:this.badgeClass});_3e4.set(this.badgeObj.domNode,{position:"absolute",top:"-2px",right:"2px"});}this.badgeObj.setValue(_3f7);if(_3f7){this.iconDivNode.appendChild(this.badgeObj.domNode);}else{this.iconDivNode.removeChild(this.badgeObj.domNode);}},_setDeleteIconAttr:function(icon){if(!this.getParent()){return;}this._set("deleteIcon",icon);icon=this.deletable?icon:"";this.deleteIconNode=_3e8.setIcon(icon,this.deleteIconPos,this.deleteIconNode,this.deleteIconTitle||this.alt,this.iconDivNode);if(this.deleteIconNode){_3e1.add(this.deleteIconNode,"mblIconItemDeleteIcon");if(this.deleteIconRole){this.deleteIconNode.setAttribute("role",this.deleteIconRole);}}},_setContentAttr:function(data){var root;if(!this.paneWidget){if(!this._tmpNode){this._tmpNode=_3e2.create("div");}root=this._tmpNode;}else{root=this.paneWidget.containerNode;}if(typeof data==="object"){_3e2.empty(root);root.appendChild(data);}else{root.innerHTML=data;}},_setSelectedAttr:function(_3f8){this.inherited(arguments);_3e4.set(this.iconNode,"opacity",_3f8?this.getParent().pressedIconOpacity:1);}});return has("dojo-bidi")?_3df("dojox.mobile.IconItem",[_3ec,_3eb]):_3ec;});},"dojox/mobile/Badge":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","./iconUtils","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/Badge"],function(_3f9,lang,_3fa,_3fb,_3fc,has,_3fd){var _3fe=_3f9(has("dojo-bidi")?"dojox.mobile.NonBidiBadge":"dojox.mobile.Badge",null,{value:"0",className:"mblDomButtonRedBadge",fontSize:16,constructor:function(_3ff,node){if(_3ff){lang.mixin(this,_3ff);}this.domNode=node?node:_3fb.create("div");_3fa.add(this.domNode,"mblBadge");if(this.domNode.className.indexOf("mblDomButton")===-1){_3fa.add(this.domNode,this.className);}if(this.fontSize!==16){this.domNode.style.fontSize=this.fontSize+"px";}_3fc.createDomButton(this.domNode);this.setValue(this.value);},getValue:function(){return this.domNode.firstChild.innerHTML||"";},setValue:function(_400){this.domNode.firstChild.innerHTML=_400;}});return has("dojo-bidi")?_3f9("dojox.mobile.Badge",[_3fe,_3fd]):_3fe;});},"dojox/mobile/lazyLoadUtils":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/config","dojo/_base/window","dojo/_base/Deferred","dojo/ready"],function(dojo,_401,_402,win,_403,_404){var _405=function(){this._lazyNodes=[];var _406=this;if(_402.parseOnLoad){_404(90,function(){var _407=_401.filter(win.body().getElementsByTagName("*"),function(n){return n.getAttribute("lazy")==="true"||(n.getAttribute("data-dojo-props")||"").match(/lazy\s*:\s*true/);});var i,j,_408,s,n;for(i=0;i<_407.length;i++){_401.forEach(["dojoType","data-dojo-type"],function(a){_408=_401.filter(_407[i].getElementsByTagName("*"),function(n){return n.getAttribute(a);});for(j=0;j<_408.length;j++){n=_408[j];n.setAttribute("__"+a,n.getAttribute(a));n.removeAttribute(a);_406._lazyNodes.push(n);}});}});}_404(function(){for(var i=0;i<_406._lazyNodes.length;i++){var n=_406._lazyNodes[i];_401.forEach(["dojoType","data-dojo-type"],function(a){if(n.getAttribute("__"+a)){n.setAttribute(a,n.getAttribute("__"+a));n.removeAttribute("__"+a);}});}delete _406._lazyNodes;});this.instantiateLazyWidgets=function(root,_409,_40a){var d=new _403();var req=_409?_409.split(/,/):[];var _40b=root.getElementsByTagName("*");var len=_40b.length;for(var i=0;i<len;i++){var s=_40b[i].getAttribute("dojoType")||_40b[i].getAttribute("data-dojo-type");if(s){req.push(s);var m=_40b[i].getAttribute("data-dojo-mixins"),_40c=m?m.split(/, */):[];req=req.concat(_40c);}}if(req.length===0){return true;}if(dojo.require){_401.forEach(req,function(c){dojo["require"](c);});dojo.parser.parse(root);if(_40a){_40a(root);}return true;}else{req=_401.map(req,function(s){return s.replace(/\./g,"/");});require(req,function(){dojo.parser.parse(root);if(_40a){_40a(root);}d.resolve(true);});}return d;};};return new _405();});},"dojox/mobile/Button":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dijit/_WidgetBase","dijit/form/_ButtonMixin","dijit/form/_FormWidgetMixin","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/Button"],function(_40d,_40e,_40f,_410,_411,_412,_413,has,_414){var _415=_40e(has("dojo-bidi")?"dojox.mobile.NonBidiButton":"dojox.mobile.Button",[_411,_413,_412],{baseClass:"mblButton",_setTypeAttr:null,duration:1000,_onClick:function(e){var ret=this.inherited(arguments);if(ret&&this.duration>=0){var _416=this.focusNode||this.domNode;var _417=(this.baseClass+" "+this["class"]).split(" ");_417=_40d.map(_417,function(c){return c+"Selected";});_40f.add(_416,_417);this.defer(function(){_40f.remove(_416,_417);},this.duration);}return ret;},isFocusable:function(){return false;},buildRendering:function(){if(!this.srcNodeRef){this.srcNodeRef=_410.create("button",{"type":this.type});}else{if(this._cv){var n=this.srcNodeRef.firstChild;if(n&&n.nodeType===3){n.nodeValue=this._cv(n.nodeValue);}}}this.inherited(arguments);this.focusNode=this.domNode;},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onclick","_onClick");},_setLabelAttr:function(_418){this.inherited(arguments,[this._cv?this._cv(_418):_418]);}});return has("dojo-bidi")?_40e("dojox.mobile.Button",[_415,_414]):_415;});},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_419,dom,has,_41a){var _41b=_419("dijit.form._ButtonMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){e.stopPropagation();e.preventDefault();if(!this.disabled){this.valueNode.click(e);}return false;},_onClick:function(e){if(this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.onClick(e)===false){e.preventDefault();}cancelled=e.defaultPrevented;if(!cancelled&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _41c=_41a.byNode(node);if(_41c&&typeof _41c._onSubmit=="function"){_41c._onSubmit(e);e.preventDefault();cancelled=true;break;}}}return !cancelled;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_41d){this._set("label",_41d);var _41e=this.containerNode||this.focusNode;_41e.innerHTML=_41d;}});if(has("dojo-bidi")){_41b=_419("dijit.form._ButtonMixin",_41b,{_setLabelAttr:function(){this.inherited(arguments);var _41f=this.containerNode||this.focusNode;this.applyTextDir(_41f);}});}return _41b;});},"dijit/form/_FormWidgetMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(_420,_421,_422,_423,lang,_424,on,has,_425,a11y){return _421("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_426){this._set("disabled",_426);_422.set(this.focusNode,"disabled",_426);if(this.valueNode){_422.set(this.valueNode,"disabled",_426);}this.focusNode.setAttribute("aria-disabled",_426?"true":"false");if(_426){this._set("hovering",false);this._set("active",false);var _427="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_420.forEach(lang.isArray(_427)?_427:[_427],function(_428){var node=this[_428];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _429=this.own(on(this.focusNode,"focus",function(){_42a.remove();_429.remove();}))[0];var _42a=this.own(on(this.ownerDocumentBody,"mouseup, touchend",lang.hitch(this,function(evt){_42a.remove();_429.remove();if(this.focused){if(evt.type=="touchend"){this.defer("focus");}else{this.focus();}}})))[0];}if(this.scrollOnFocus){this.defer(function(){_425.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_423.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_42b,_42c){if(this._lastValueReported==undefined&&(_42c===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_42b;}this._pendingOnChange=this._pendingOnChange||(typeof _42b!=typeof this._lastValueReported)||(this.compare(_42b,this._lastValueReported)!=0);if((this.intermediateChanges||_42c||_42c===undefined)&&this._pendingOnChange){this._lastValueReported=_42b;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_42b);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});}}});require(["dojo/ready","dojo/dom","dojo/topic","dojo/_base/sniff","dojox/mobile","dojox/mobile/parser","dojox/mobile/compat","dojox/mobile/deviceTheme","dojo/on","dojo/_base/connect","dojo/_base/html","dijit/registry","dojox/geo/openlayers/widget/Map","demos/mobileOpenLayers/src/NavigationControl"],function(_42d,dom,_42e,ua,_42f,_430,_431,_432,on,_433,html,_434,Map,_435){var map;var _436;var _437=0;var _438=function(_439){var _43a=dom.byId("mapPage");if(_43a.style.visibility=="hidden"||_43a.style.display=="none"){return;}var _43b=_42f.getScreenSize();if(ua("ie")){dom.byId("map").style.width="100%";}else{if(_43b.h>_437-64&&_43b.h<_437+64){return;}}_437=_43b.h;var box={h:_43b.h-45};var _43c=_434.byId("map");if(_43c){_43c.resize(box);if(!_439){_43d();}}};_42d(function(){var _43e=_434.byId("mapPage");on(_43e,"AfterTransitionIn",_43f);var _440=_434.byId("paris");_433.connect(_440,"onClick",_440,_441);var ny=_434.byId("newyork");_433.connect(ny,"onClick",ny,_441);var lc=_434.byId("lacolle");_433.connect(lc,"onClick",lc,_441);_42e.subscribe("/dojox/mobile/resizeAll",_438);});function _43f(){if(!map){var _442={baseLayerName:"TheMap",touchHandler:true,baseLayerType:dojox.geo.openlayers.BaseLayerType.ARCGIS};map=new Map(_442,"map");map.startup();var _443=map.map.getOLMap();var ctrl=new _435({dojoMap:map});_443.addControl(ctrl);_438(true);}_444();};var locs={paris:[2.350833,48.856667,10],newyork:[-74.00597,40.71427,11],lacolle:[7.1072435,43.686842,15]};var _445={paris:"Paris",newyork:"New York",lacolle:"La Colle sur Loup"};function _441(e){var id=this.id;_436=id;var name=_445[id];var _446=_434.byId("mapHeader");_446.set("label",name);};function _444(loc){if(!loc){loc=_436;}var l=locs[loc];var p=map.map.transformXY(l[0],l[1]);var ll=new OpenLayers.LonLat(p.x,p.y);var olm=map.map.getOLMap();var _447=ll;var zoom=l[2];olm.zoom=null;olm.setCenter(_447,zoom);};function _43d(){var olm=map.map.getOLMap();var _448=olm.getCenter();if(_448!=null){var zoom=olm.getZoom();olm.zoom=null;olm.setCenter(_448,zoom);}};});