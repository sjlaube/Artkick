/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dojox/mobile":function(){define([".","dojo/_base/lang","dojox/mobile/_base"],function(_1,_2,_3){_2.getObject("mobile",true,_1);return _1.mobile;});},"dojox/main":function(){define(["dojo/_base/kernel"],function(_4){return _4.dojox;});},"dojox/mobile/_base":function(){define(["./common","./View","./Heading","./RoundRect","./RoundRectCategory","./EdgeToEdgeCategory","./RoundRectList","./EdgeToEdgeList","./ListItem","./Container","./Pane","./Switch","./ToolBarButton","./ProgressIndicator"],function(_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10){return _5;});},"dojox/mobile/common":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/lang","dojo/_base/window","dojo/_base/kernel","dojo/dom-class","dojo/dom-construct","dojo/domReady","dojo/ready","dojo/touch","dijit/registry","./sniff","./uacss"],function(_11,_12,_13,_14,win,_15,_16,_17,_18,_19,_1a,_1b,has){var dm=_14.getObject("dojox.mobile",true);win.doc.dojoClick=true;if(has("touch")){has.add("clicks-prevented",!(has("android")>=4.1||has("ie")>=10));if(has("clicks-prevented")){dm._sendClick=function(_1c,e){for(var _1d=_1c;_1d;_1d=_1d.parentNode){if(_1d.dojoClick){return;}}var ev=win.doc.createEvent("MouseEvents");ev.initMouseEvent("click",true,true,win.global,1,e.screenX,e.screenY,e.clientX,e.clientY);_1c.dispatchEvent(ev);};}}dm.getScreenSize=function(){return {h:win.global.innerHeight||win.doc.documentElement.clientHeight,w:win.global.innerWidth||win.doc.documentElement.clientWidth};};dm.updateOrient=function(){var dim=dm.getScreenSize();_16.replace(win.doc.documentElement,dim.h>dim.w?"dj_portrait":"dj_landscape",dim.h>dim.w?"dj_landscape":"dj_portrait");};dm.updateOrient();dm.tabletSize=500;dm.detectScreenSize=function(_1e){var dim=dm.getScreenSize();var sz=Math.min(dim.w,dim.h);var _1f,to;if(sz>=dm.tabletSize&&(_1e||(!this._sz||this._sz<dm.tabletSize))){_1f="phone";to="tablet";}else{if(sz<dm.tabletSize&&(_1e||(!this._sz||this._sz>=dm.tabletSize))){_1f="tablet";to="phone";}}if(to){_16.replace(win.doc.documentElement,"dj_"+to,"dj_"+_1f);_13.publish("/dojox/mobile/screenSize/"+to,[dim]);}this._sz=sz;};dm.detectScreenSize();dm.hideAddressBarWait=typeof (_12.mblHideAddressBarWait)==="number"?_12.mblHideAddressBarWait:1500;dm.hide_1=function(){scrollTo(0,1);dm._hidingTimer=(dm._hidingTimer==0)?200:dm._hidingTimer*2;setTimeout(function(){if(dm.isAddressBarHidden()||dm._hidingTimer>dm.hideAddressBarWait){dm.resizeAll();dm._hiding=false;}else{setTimeout(dm.hide_1,dm._hidingTimer);}},50);};dm.hideAddressBar=function(evt){if(dm.disableHideAddressBar||dm._hiding){return;}dm._hiding=true;dm._hidingTimer=has("ios")?200:0;var _20=screen.availHeight;if(has("android")){_20=outerHeight/devicePixelRatio;if(_20==0){dm._hiding=false;setTimeout(function(){dm.hideAddressBar();},200);}if(_20<=innerHeight){_20=outerHeight;}if(has("android")<3){win.doc.documentElement.style.overflow=win.body().style.overflow="visible";}}if(win.body().offsetHeight<_20){win.body().style.minHeight=_20+"px";dm._resetMinHeight=true;}setTimeout(dm.hide_1,dm._hidingTimer);};dm.isAddressBarHidden=function(){return pageYOffset===1;};dm.resizeAll=function(evt,_21){if(dm.disableResizeAll){return;}_13.publish("/dojox/mobile/resizeAll",[evt,_21]);_13.publish("/dojox/mobile/beforeResizeAll",[evt,_21]);if(dm._resetMinHeight){win.body().style.minHeight=dm.getScreenSize().h+"px";}dm.updateOrient();dm.detectScreenSize();var _22=function(w){var _23=w.getParent&&w.getParent();return !!((!_23||!_23.resize)&&w.resize);};var _24=function(w){_11.forEach(w.getChildren(),function(_25){if(_22(_25)){_25.resize();}_24(_25);});};if(_21){if(_21.resize){_21.resize();}_24(_21);}else{_11.forEach(_11.filter(_1b.toArray(),_22),function(w){w.resize();});}_13.publish("/dojox/mobile/afterResizeAll",[evt,_21]);};dm.openWindow=function(url,_26){win.global.open(url,_26||"_blank");};dm._detectWindowsTheme=function(){if(navigator.userAgent.match(/IEMobile\/10\.0/)){_17.create("style",{innerHTML:"@-ms-viewport {width: auto !important}"},win.doc.head);}var _27=function(){_16.add(win.doc.documentElement,"windows_theme");_15.experimental("Dojo Mobile Windows theme","Behavior and appearance of the Windows theme are experimental.");};var _28=has("windows-theme");if(_28!==undefined){if(_28){_27();}return;}var i,j;var _29=function(_2a){if(_2a&&_2a.indexOf("/windows/")!==-1){has.add("windows-theme",true);_27();return true;}return false;};var s=win.doc.styleSheets;for(i=0;i<s.length;i++){if(s[i].href){continue;}var r=s[i].cssRules||s[i].imports;if(!r){continue;}for(j=0;j<r.length;j++){if(_29(r[j].href)){return;}}}var _2b=win.doc.getElementsByTagName("link");for(i=0;i<_2b.length;i++){if(_29(_2b[i].href)){return;}}};if(_12.mblApplyPageStyles!==false){_16.add(win.doc.documentElement,"mobile");}if(has("chrome")){_16.add(win.doc.documentElement,"dj_chrome");}if(win.global._no_dojo_dm){var _2c=win.global._no_dojo_dm;for(var i in _2c){dm[i]=_2c[i];}dm.deviceTheme.setDm(dm);}has.add("mblAndroidWorkaround",_12.mblAndroidWorkaround!==false&&has("android")<3,undefined,true);has.add("mblAndroid3Workaround",_12.mblAndroid3Workaround!==false&&has("android")>=3,undefined,true);dm._detectWindowsTheme();_18(function(){_16.add(win.body(),"mblBackground");});_19(function(){dm.detectScreenSize(true);if(_12.mblAndroidWorkaroundButtonStyle!==false&&has("android")){_17.create("style",{innerHTML:"BUTTON,INPUT[type='button'],INPUT[type='submit'],INPUT[type='reset'],INPUT[type='file']::-webkit-file-upload-button{-webkit-appearance:none;} audio::-webkit-media-controls-play-button,video::-webkit-media-controls-play-button{-webkit-appearance:media-play-button;} video::-webkit-media-controls-fullscreen-button{-webkit-appearance:media-fullscreen-button;}"},win.doc.head,"first");}if(has("mblAndroidWorkaround")){_17.create("style",{innerHTML:".mblView.mblAndroidWorkaround{position:absolute;top:-9999px !important;left:-9999px !important;}"},win.doc.head,"last");}var f=dm.resizeAll;var _2d=navigator.appVersion.indexOf("Mobile")!=-1&&!(has("ios")>=7);if((_12.mblHideAddressBar!==false&&_2d)||_12.mblForceHideAddressBar===true){dm.hideAddressBar();if(_12.mblAlwaysHideAddressBar===true){f=dm.hideAddressBar;}}var _2e=has("ios")>=6;if((has("android")||_2e)&&win.global.onorientationchange!==undefined){var _2f=f;var _30,_31,_32;if(_2e){_31=win.doc.documentElement.clientWidth;_32=win.doc.documentElement.clientHeight;}else{f=function(evt){var _33=_13.connect(null,"onresize",null,function(e){_13.disconnect(_33);_2f(e);});};_30=dm.getScreenSize();}_13.connect(null,"onresize",null,function(e){if(_2e){var _34=win.doc.documentElement.clientWidth,_35=win.doc.documentElement.clientHeight;if(_34==_31&&_35!=_32){_2f(e);}_31=_34;_32=_35;}else{var _36=dm.getScreenSize();if(_36.w==_30.w&&Math.abs(_36.h-_30.h)>=100){_2f(e);}_30=_36;}});}_13.connect(null,win.global.onorientationchange!==undefined?"onorientationchange":"onresize",null,f);win.body().style.visibility="visible";});return dm;});},"dojo/touch":function(){define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(_37,_38,dom,_39,_3a,on,has,_3b,_3c,win){var _3d=has("touch");var _3e=has("ios")<5;var _3f=navigator.msPointerEnabled;var _40,_41,_42,_43,_44,_45,_46,_47;var _48;function _49(_4a,_4b,_4c){if(_3f&&_4c){return function(_4d,_4e){return on(_4d,_4c,_4e);};}else{if(_3d){return function(_4f,_50){var _51=on(_4f,_4b,_50),_52=on(_4f,_4a,function(evt){if(!_48||(new Date()).getTime()>_48+1000){_50.call(this,evt);}});return {remove:function(){_51.remove();_52.remove();}};};}else{return function(_53,_54){return on(_53,_4a,_54);};}}};function _55(_56){do{if(_56.dojoClick){return _56;}}while(_56=_56.parentNode);};function _57(e,_58,_59){var _5a=_55(e.target);_41=!e.target.disabled&&_5a&&_5a.dojoClick;if(_41){var _5b=(_41=="useTarget");_42=(_5b?_5a:e.target);if(_5b){e.preventDefault();}_43=e.touches?e.touches[0].pageX:e.clientX;_44=e.touches?e.touches[0].pageY:e.clientY;_45=(typeof _41=="object"?_41.x:(typeof _41=="number"?_41:0))||4;_46=(typeof _41=="object"?_41.y:(typeof _41=="number"?_41:0))||4;if(!_40){_40=true;function _5c(e){if(_5b){_41=dom.isDescendant(win.doc.elementFromPoint((e.changedTouches?e.changedTouches[0].pageX:e.clientX),(e.changedTouches?e.changedTouches[0].pageY:e.clientY)),_42);}else{_41=_41&&e.target==_42&&Math.abs((e.changedTouches?e.changedTouches[0].pageX:e.clientX)-_43)<=_45&&Math.abs((e.changedTouches?e.changedTouches[0].pageY:e.clientY)-_44)<=_46;}};win.doc.addEventListener(_58,function(e){_5c(e);if(_5b){e.preventDefault();}},true);win.doc.addEventListener(_59,function(e){_5c(e);if(_41){_47=(new Date()).getTime();var _5d=(_5b?_42:e.target);if(_5d.tagName==="LABEL"){_5d=dom.byId(_5d.getAttribute("for"))||_5d;}setTimeout(function(){on.emit(_5d,"click",{bubbles:true,cancelable:true,_dojo_click:true});},0);}},true);function _5e(_5f){win.doc.addEventListener(_5f,function(e){if(!e._dojo_click&&(new Date()).getTime()<=_47+1000&&!(e.target.tagName=="INPUT"&&_39.contains(e.target,"dijitOffScreen"))){e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();if(_5f=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){e.preventDefault();}}},true);};_5e("click");_5e("mousedown");_5e("mouseup");}}};var _60;if(_3d){if(_3f){_3c(function(){win.doc.addEventListener("MSPointerDown",function(evt){_57(evt,"MSPointerMove","MSPointerUp");},true);});}else{_3c(function(){_60=win.body();win.doc.addEventListener("touchstart",function(evt){_48=(new Date()).getTime();var _61=_60;_60=evt.target;on.emit(_61,"dojotouchout",{relatedTarget:_60,bubbles:true});on.emit(_60,"dojotouchover",{relatedTarget:_61,bubbles:true});_57(evt,"touchmove","touchend");},true);function _62(evt){var _63=_3a.delegate(evt,{bubbles:true});if(has("ios")>=6){_63.touches=evt.touches;_63.altKey=evt.altKey;_63.changedTouches=evt.changedTouches;_63.ctrlKey=evt.ctrlKey;_63.metaKey=evt.metaKey;_63.shiftKey=evt.shiftKey;_63.targetTouches=evt.targetTouches;}return _63;};on(win.doc,"touchmove",function(evt){_48=(new Date()).getTime();var _64=win.doc.elementFromPoint(evt.pageX-(_3e?0:win.global.pageXOffset),evt.pageY-(_3e?0:win.global.pageYOffset));if(_64){if(_60!==_64){on.emit(_60,"dojotouchout",{relatedTarget:_64,bubbles:true});on.emit(_64,"dojotouchover",{relatedTarget:_60,bubbles:true});_60=_64;}if(!on.emit(_64,"dojotouchmove",_62(evt))){evt.preventDefault();}}});on(win.doc,"touchend",function(evt){_48=(new Date()).getTime();var _65=win.doc.elementFromPoint(evt.pageX-(_3e?0:win.global.pageXOffset),evt.pageY-(_3e?0:win.global.pageYOffset))||win.body();on.emit(_65,"dojotouchend",_62(evt));});});}}var _66={press:_49("mousedown","touchstart","MSPointerDown"),move:_49("mousemove","dojotouchmove","MSPointerMove"),release:_49("mouseup","dojotouchend","MSPointerUp"),cancel:_49(_3b.leave,"touchcancel",_3d?"MSPointerCancel":null),over:_49("mouseover","dojotouchover","MSPointerOver"),out:_49("mouseout","dojotouchout","MSPointerOut"),enter:_3b._eventHandler(_49("mouseover","dojotouchover","MSPointerOver")),leave:_3b._eventHandler(_49("mouseout","dojotouchout","MSPointerOut"))};1&&(_37.touch=_66);return _66;});},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(_67,win,_68){var _69={},_6a={};var _6b={length:0,add:function(_6c){if(_6a[_6c.id]){throw new Error("Tried to register widget with id=="+_6c.id+" but that id is already registered");}_6a[_6c.id]=_6c;this.length++;},remove:function(id){if(_6a[id]){delete _6a[id];this.length--;}},byId:function(id){return typeof id=="string"?_6a[id]:id;},byNode:function(_6d){return _6a[_6d.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in _6a){ar.push(_6a[id]);}return ar;},getUniqueId:function(_6e){var id;do{id=_6e+"_"+(_6e in _69?++_69[_6e]:_69[_6e]=0);}while(_6a[id]);return _68._scopeName=="dijit"?id:_68._scopeName+"_"+id;},findWidgets:function(_6f,_70){var _71=[];function _72(_73){for(var _74=_73.firstChild;_74;_74=_74.nextSibling){if(_74.nodeType==1){var _75=_74.getAttribute("widgetId");if(_75){var _76=_6a[_75];if(_76){_71.push(_76);}}else{if(_74!==_70){_72(_74);}}}}};_72(_6f);return _71;},_destroyAll:function(){_68._curFocus=null;_68._prevFocus=null;_68._activeStack=[];_67.forEach(_6b.findWidgets(win.body()),function(_77){if(!_77._destroyed){if(_77.destroyRecursive){_77.destroyRecursive();}else{if(_77.destroy){_77.destroy();}}}});},getEnclosingWidget:function(_78){while(_78){var id=_78.nodeType==1&&_78.getAttribute("widgetId");if(id){return _6a[id];}_78=_78.parentNode;}return null;},_hash:_6a};_68.registry=_6b;return _6b;});},"dijit/main":function(){define(["dojo/_base/kernel"],function(_79){return _79.dijit;});},"dojox/mobile/sniff":function(){define(["dojo/_base/kernel","dojo/sniff"],function(_7a,has){_7a.deprecated("dojox/mobile/sniff","Use dojo/sniff instead","2.0");has.add("iphone",has("ios"));return has;});},"dojox/mobile/uacss":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/window","./sniff"],function(_7b,_7c,win,has){var _7d=win.doc.documentElement;_7d.className=_7c.trim(_7d.className+" "+[has("bb")?"dj_bb":"",has("android")?"dj_android":"",has("ios")?"dj_ios":"",has("ios")>=6?"dj_ios6":"",has("ios")?"dj_iphone":"",has("ipod")?"dj_ipod":"",has("ipad")?"dj_ipad":"",has("ie")?"dj_ie":""].join(" ").replace(/ +/g," "));return _7b;});},"dojox/mobile/View":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/sniff","dojo/_base/window","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./ViewController","./common","./transition","./viewRegistry","./_css3"],function(_7e,_7f,_80,_81,_82,has,win,_83,dom,_84,_85,_86,_87,_88,_89,_8a,_8b,_8c,_8d,_8e,_8f,_90){var dm=_82.getObject("dojox.mobile",true);return _81("dojox.mobile.View",[_8b,_8a,_89],{selected:false,keepScrollPos:true,tag:"div",baseClass:"mblView",constructor:function(_91,_92){if(_92){dom.byId(_92).style.visibility="hidden";}},destroy:function(){_8f.remove(this.id);this.inherited(arguments);},buildRendering:function(){if(!this.templateString){this.domNode=this.containerNode=this.srcNodeRef||_85.create(this.tag);}this._animEndHandle=this.connect(this.domNode,_90.name("animationEnd"),"onAnimationEnd");this._animStartHandle=this.connect(this.domNode,_90.name("animationStart"),"onAnimationStart");if(!_7f.mblCSS3Transition){this._transEndHandle=this.connect(this.domNode,_90.name("transitionEnd"),"onAnimationEnd");}if(has("mblAndroid3Workaround")){_87.set(this.domNode,_90.name("transformStyle"),"preserve-3d");}_8f.add(this);this.inherited(arguments);},startup:function(){if(this._started){return;}if(this._visible===undefined){var _93=this.getSiblingViews();var ids=location.hash&&location.hash.substring(1).split(/,/);var _94,_95,_96;_7e.forEach(_93,function(v,i){if(_7e.indexOf(ids,v.id)!==-1){_94=v;}if(i==0){_96=v;}if(v.selected){_95=v;}v._visible=false;},this);(_94||_95||_96)._visible=true;}if(this._visible){this.show(true,true);this.defer(function(){this.onStartView();_80.publish("/dojox/mobile/startView",[this]);});}if(this.domNode.style.visibility!="visible"){this.domNode.style.visibility="visible";}this.inherited(arguments);var _97=this.getParent();if(!_97||!_97.resize){this.resize();}if(!this._visible){this.hide();}},resize:function(){_7e.forEach(this.getChildren(),function(_98){if(_98.resize){_98.resize();}});},onStartView:function(){},onBeforeTransitionIn:function(_99,dir,_9a,_9b,_9c){},onAfterTransitionIn:function(_9d,dir,_9e,_9f,_a0){},onBeforeTransitionOut:function(_a1,dir,_a2,_a3,_a4){},onAfterTransitionOut:function(_a5,dir,_a6,_a7,_a8){},_clearClasses:function(_a9){if(!_a9){return;}var _aa=[];_7e.forEach(_82.trim(_a9.className||"").split(/\s+/),function(c){if(c.match(/^mbl\w*View$/)||c.indexOf("mbl")===-1){_aa.push(c);}},this);_a9.className=_aa.join(" ");},_fixViewState:function(_ab){var _ac=this.domNode.parentNode.childNodes;for(var i=0;i<_ac.length;i++){var n=_ac[i];if(n.nodeType===1&&_84.contains(n,"mblView")){this._clearClasses(n);}}this._clearClasses(_ab);var _ad=_88.byNode(_ab);if(_ad){_ad._inProgress=false;}},convertToId:function(_ae){if(typeof (_ae)=="string"){return _ae.replace(/^#?([^&?]+).*/,"$1");}return _ae;},_isBookmarkable:function(_af){return _af.moveTo&&(_7f.mblForceBookmarkable||_af.moveTo.charAt(0)==="#")&&!_af.hashchange;},performTransition:function(_b0,_b1,_b2,_b3,_b4){if(this._inProgress){return;}this._inProgress=true;var _b5,_b6;if(_b0&&typeof (_b0)==="object"){_b5=_b0;_b6=_b1;}else{_b5={moveTo:_b0,transitionDir:_b1,transition:_b2,context:_b3,method:_b4};_b6=[];for(var i=5;i<arguments.length;i++){_b6.push(arguments[i]);}}this._detail=_b5;this._optArgs=_b6;this._arguments=[_b5.moveTo,_b5.transitionDir,_b5.transition,_b5.context,_b5.method];if(_b5.moveTo==="#"){return;}var _b7;if(_b5.moveTo){_b7=this.convertToId(_b5.moveTo);}else{if(!this._dummyNode){this._dummyNode=win.doc.createElement("div");win.body().appendChild(this._dummyNode);}_b7=this._dummyNode;}if(this.addTransitionInfo&&typeof (_b5.moveTo)=="string"&&this._isBookmarkable(_b5)){this.addTransitionInfo(this.id,_b5.moveTo,{transitionDir:_b5.transitionDir,transition:_b5.transition});}var _b8=this.domNode;var _b9=_b8.offsetTop;_b7=this.toNode=dom.byId(_b7);if(!_b7){return;}_b7.style.visibility="hidden";_b7.style.display="";this._fixViewState(_b7);var _ba=_88.byNode(_b7);if(_ba){if(_7f.mblAlwaysResizeOnTransition||!_ba._resized){_8d.resizeAll(null,_ba);_ba._resized=true;}if(_b5.transition&&_b5.transition!="none"){_ba._addTransitionPaddingTop(_b9);}_ba.load&&_ba.load();_ba.movedFrom=_b8.id;}if(has("mblAndroidWorkaround")&&!_7f.mblCSS3Transition&&_b5.transition&&_b5.transition!="none"){_87.set(_b7,_90.name("transformStyle"),"preserve-3d");_87.set(_b8,_90.name("transformStyle"),"preserve-3d");_84.add(_b7,"mblAndroidWorkaround");}this.onBeforeTransitionOut.apply(this,this._arguments);_80.publish("/dojox/mobile/beforeTransitionOut",[this].concat(_82._toArray(this._arguments)));if(_ba){if(this.keepScrollPos&&!this.getParent()){var _bb=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;_b8._scrollTop=_bb;var _bc=(_b5.transitionDir==1)?0:(_b7._scrollTop||0);_b7.style.top="0px";if(_bb>1||_bc!==0){_b8.style.top=_bc-_bb+"px";if(!(has("ios")>=7)&&_7f.mblHideAddressBar!==false){this.defer(function(){win.global.scrollTo(0,(_bc||1));});}}}else{_b7.style.top="0px";}_ba.onBeforeTransitionIn.apply(_ba,this._arguments);_80.publish("/dojox/mobile/beforeTransitionIn",[_ba].concat(_82._toArray(this._arguments)));}_b7.style.display="none";_b7.style.visibility="visible";_8d.fromView=this;_8d.toView=_ba;this._doTransition(_b8,_b7,_b5.transition,_b5.transitionDir);},_addTransitionPaddingTop:function(_bd){this.containerNode.style.paddingTop=_bd+"px";},_removeTransitionPaddingTop:function(){this.containerNode.style.paddingTop="";},_toCls:function(s){return "mbl"+s.charAt(0).toUpperCase()+s.substring(1);},_doTransition:function(_be,_bf,_c0,_c1){var rev=(_c1==-1)?" mblReverse":"";_bf.style.display="";if(!_c0||_c0=="none"){this.domNode.style.display="none";this.invokeCallback();}else{if(_7f.mblCSS3Transition){_83.when(_8e,_82.hitch(this,function(_c2){var _c3=_87.get(_bf,"position");_87.set(_bf,"position","absolute");_83.when(_c2(_be,_bf,{transition:_c0,reverse:(_c1===-1)?true:false}),_82.hitch(this,function(){_87.set(_bf,"position",_c3);_bf.style.paddingTop="";this.invokeCallback();}));}));}else{if(_c0.indexOf("cube")!=-1){if(has("ipad")){_87.set(_bf.parentNode,{webkitPerspective:1600});}else{if(has("ios")){_87.set(_bf.parentNode,{webkitPerspective:800});}}}var s=this._toCls(_c0);if(has("mblAndroidWorkaround")){var _c4=this;_c4.defer(function(){_84.add(_be,s+" mblOut"+rev);_84.add(_bf,s+" mblIn"+rev);_84.remove(_bf,"mblAndroidWorkaround");_c4.defer(function(){_84.add(_be,"mblTransition");_84.add(_bf,"mblTransition");},30);},70);}else{_84.add(_be,s+" mblOut"+rev);_84.add(_bf,s+" mblIn"+rev);this.defer(function(){_84.add(_be,"mblTransition");_84.add(_bf,"mblTransition");},100);}var _c5="50% 50%";var _c6="50% 50%";var _c7,_c8,_c9;if(_c0.indexOf("swirl")!=-1||_c0.indexOf("zoom")!=-1){if(this.keepScrollPos&&!this.getParent()){_c7=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;}else{_c7=-_86.position(_be,true).y;}_c9=win.global.innerHeight/2+_c7;_c5="50% "+_c9+"px";_c6="50% "+_c9+"px";}else{if(_c0.indexOf("scale")!=-1){var _ca=_86.position(_be,true);_c8=((this.clickedPosX!==undefined)?this.clickedPosX:win.global.innerWidth/2)-_ca.x;if(this.keepScrollPos&&!this.getParent()){_c7=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;}else{_c7=-_ca.y;}_c9=((this.clickedPosY!==undefined)?this.clickedPosY:win.global.innerHeight/2)+_c7;_c5=_c8+"px "+_c9+"px";_c6=_c8+"px "+_c9+"px";}}_87.set(_be,_90.add({},{transformOrigin:_c5}));_87.set(_bf,_90.add({},{transformOrigin:_c6}));}}},onAnimationStart:function(e){},onAnimationEnd:function(e){var _cb=e.animationName||e.target.className;if(_cb.indexOf("Out")===-1&&_cb.indexOf("In")===-1&&_cb.indexOf("Shrink")===-1){return;}var _cc=false;if(_84.contains(this.domNode,"mblOut")){_cc=true;this.domNode.style.display="none";_84.remove(this.domNode,[this._toCls(this._detail.transition),"mblIn","mblOut","mblReverse"]);}else{this._removeTransitionPaddingTop();}_87.set(this.domNode,_90.add({},{transformOrigin:""}));if(_cb.indexOf("Shrink")!==-1){var li=e.target;li.style.display="none";_84.remove(li,"mblCloseContent");var p=_8f.getEnclosingScrollable(this.domNode);p&&p.onTouchEnd();}if(_cc){this.invokeCallback();}this._clearClasses(this.domNode);this.clickedPosX=this.clickedPosY=undefined;if(_cb.indexOf("Cube")!==-1&&_cb.indexOf("In")!==-1&&has("ios")){this.domNode.parentNode.style[_90.name("perspective")]="";}},invokeCallback:function(){this.onAfterTransitionOut.apply(this,this._arguments);_80.publish("/dojox/mobile/afterTransitionOut",[this].concat(this._arguments));var _cd=_88.byNode(this.toNode);if(_cd){_cd.onAfterTransitionIn.apply(_cd,this._arguments);_80.publish("/dojox/mobile/afterTransitionIn",[_cd].concat(this._arguments));_cd.movedFrom=undefined;if(this.setFragIds&&this._isBookmarkable(this._detail)){this.setFragIds(_cd);}}if(has("mblAndroidWorkaround")){this.defer(function(){if(_cd){_87.set(this.toNode,_90.name("transformStyle"),"");}_87.set(this.domNode,_90.name("transformStyle"),"");});}var c=this._detail.context,m=this._detail.method;if(c||m){if(!m){m=c;c=null;}c=c||win.global;if(typeof (m)=="string"){c[m].apply(c,this._optArgs);}else{if(typeof (m)=="function"){m.apply(c,this._optArgs);}}}this._detail=this._optArgs=this._arguments=undefined;this._inProgress=false;},isVisible:function(_ce){var _cf=function(_d0){return _87.get(_d0,"display")!=="none";};if(_ce){for(var n=this.domNode;n.tagName!=="BODY";n=n.parentNode){if(!_cf(n)){return false;}}return true;}else{return _cf(this.domNode);}},getShowingView:function(){var _d1=this.domNode.parentNode.childNodes;for(var i=0;i<_d1.length;i++){var n=_d1[i];if(n.nodeType===1&&_84.contains(n,"mblView")&&n.style.display!=="none"){return _88.byNode(n);}}return null;},getSiblingViews:function(){if(!this.domNode.parentNode){return [this];}return _7e.map(_7e.filter(this.domNode.parentNode.childNodes,function(n){return n.nodeType===1&&_84.contains(n,"mblView");}),function(n){return _88.byNode(n);});},show:function(_d2,_d3){var out=this.getShowingView();if(!_d2){if(out){out.onBeforeTransitionOut(out.id);_80.publish("/dojox/mobile/beforeTransitionOut",[out,out.id]);}this.onBeforeTransitionIn(this.id);_80.publish("/dojox/mobile/beforeTransitionIn",[this,this.id]);}if(_d3){this.domNode.style.display="";}else{_7e.forEach(this.getSiblingViews(),function(v){v.domNode.style.display=(v===this)?"":"none";},this);}this.load&&this.load();if(!_d2){if(out){out.onAfterTransitionOut(out.id);_80.publish("/dojox/mobile/afterTransitionOut",[out,out.id]);}this.onAfterTransitionIn(this.id);_80.publish("/dojox/mobile/afterTransitionIn",[this,this.id]);}},hide:function(){this.domNode.style.display="none";}});});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_d4,_d5){return _d4("dijit._Contained",null,{_getSibling:function(_d6){var _d7=this.domNode;do{_d7=_d7[_d6+"Sibling"];}while(_d7&&_d7.nodeType!=1);return _d7&&_d5.byNode(_d7);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_d8,_d9,_da,_db){return _d9("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_dc,_dd){var _de=this.containerNode;if(_dd>0){_de=_de.firstChild;while(_dd>0){if(_de.nodeType==1){_dd--;}_de=_de.nextSibling;}if(_de){_dd="before";}else{_de=this.containerNode;_dd="last";}}_da.place(_dc.domNode,_de,_dd);if(this._started&&!_dc._started){_dc.startup();}},removeChild:function(_df){if(typeof _df=="number"){_df=this.getChildren()[_df];}if(_df){var _e0=_df.domNode;if(_e0&&_e0.parentNode){_e0.parentNode.removeChild(_e0);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_e1,dir){_db.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var _e2=this.getChildren(),idx=_d8.indexOf(_e2,_e1);return _e2[idx+dir];},getIndexOfChild:function(_e3){return _d8.indexOf(this.getChildren(),_e3);}});});},"dijit/_WidgetBase":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(_e4,_e5,_e6,_e7,_e8,_e9,dom,_ea,_eb,_ec,_ed,_ee,has,_ef,_f0,on,_f1,_f2,_f3,win,_f4,_f5,_f6){has.add("dijit-legacy-requires",!_ef.isAsync);has.add("dojo-bidi",false);if(has("dijit-legacy-requires")){_f1(0,function(){var _f7=["dijit/_base/manager"];_e4(_f7);});}var _f8={};function _f9(obj){var ret={};for(var _fa in obj){ret[_fa.toLowerCase()]=true;}return ret;};function _fb(_fc){return function(val){_ea[val?"set":"remove"](this.domNode,_fc,val);this._set(_fc,val);};};var _fd=_e9("dijit._WidgetBase",[_f2,_f4],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_fb("lang"),dir:"",_setDirAttr:_fb("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_e7.blankGif||_e4.toUrl("dojo/resources/blank.gif"),_introspect:function(){var _fe=this.constructor;if(!_fe._setterAttrs){var _ff=_fe.prototype,_100=_fe._setterAttrs=[],_101=(_fe._onMap={});for(var name in _ff.attributeMap){_100.push(name);}for(name in _ff){if(/^on/.test(name)){_101[name.substring(2).toLowerCase()]=name;}if(/^_set[A-Z](.*)Attr$/.test(name)){name=name.charAt(4).toLowerCase()+name.substr(5,name.length-9);if(!_ff.attributeMap||!(name in _ff.attributeMap)){_100.push(name);}}}}},postscript:function(_102,_103){this.create(_102,_103);},create:function(_104,_105){this._introspect();this.srcNodeRef=dom.byId(_105);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_104){this.params=_104;_f0.mixin(this,_104);}this.postMixInProperties();if(!this.id){this.id=_f6.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=win.body(this.ownerDocument);_f6.add(this);this.buildRendering();var _106;if(this.domNode){this._applyAttributes();var _107=this.srcNodeRef;if(_107&&_107.parentNode&&this.domNode!==_107){_107.parentNode.replaceChild(this.domNode,_107);_106=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_106){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _108={};for(var key in this.params||{}){_108[key]=this._get(key);}_e5.forEach(this.constructor._setterAttrs,function(key){if(!(key in _108)){var val=this._get(key);if(val){this.set(key,val);}}},this);for(key in _108){this.set(key,_108[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _109=this.baseClass.split(" ");if(!this.isLeftToRight()){_109=_109.concat(_e5.map(_109,function(name){return name+"Rtl";}));}_eb.add(this.domNode,_109);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_e5.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&_f0.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_10a){this._beingDestroyed=true;this.destroyDescendants(_10a);this.destroy(_10a);},destroy:function(_10b){this._beingDestroyed=true;this.uninitialize();function _10c(w){if(w.destroyRecursive){w.destroyRecursive(_10b);}else{if(w.destroy){w.destroy(_10b);}}};_e5.forEach(this._connects,_f0.hitch(this,"disconnect"));_e5.forEach(this._supportingWidgets,_10c);if(this.domNode){_e5.forEach(_f6.findWidgets(this.domNode,this.containerNode),_10c);}this.destroyRendering(_10b);_f6.remove(this.id);this._destroyed=true;},destroyRendering:function(_10d){if(this.bgIframe){this.bgIframe.destroy(_10d);delete this.bgIframe;}if(this.domNode){if(_10d){_ea.remove(this.domNode,"widgetId");}else{_ec.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_10d){_ec.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_10e){_e5.forEach(this.getChildren(),function(_10f){if(_10f.destroyRecursive){_10f.destroyRecursive(_10e);}});},uninitialize:function(){return false;},_setStyleAttr:function(_110){var _111=this.domNode;if(_f0.isObject(_110)){_ee.set(_111,_110);}else{if(_111.style.cssText){_111.style.cssText+="; "+_110;}else{_111.style.cssText=_110;}}this._set("style",_110);},_attrToDom:function(attr,_112,_113){_113=arguments.length>=3?_113:this.attributeMap[attr];_e5.forEach(_f0.isArray(_113)?_113:[_113],function(_114){var _115=this[_114.node||_114||"domNode"];var type=_114.type||"attribute";switch(type){case "attribute":if(_f0.isFunction(_112)){_112=_f0.hitch(this,_112);}var _116=_114.attribute?_114.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);if(_115.tagName){_ea.set(_115,_116,_112);}else{_115.set(_116,_112);}break;case "innerText":_115.innerHTML="";_115.appendChild(this.ownerDocument.createTextNode(_112));break;case "innerHTML":_115.innerHTML=_112;break;case "class":_eb.replace(_115,_112,this[attr]);break;}},this);},get:function(name){var _117=this._getAttrNames(name);return this[_117.g]?this[_117.g]():this._get(name);},set:function(name,_118){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _119=this._getAttrNames(name),_11a=this[_119.s];if(_f0.isFunction(_11a)){var _11b=_11a.apply(this,Array.prototype.slice.call(arguments,1));}else{var _11c=this.focusNode&&!_f0.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_11c]&&this[_11c].tagName,_11d=tag&&(_f8[tag]||(_f8[tag]=_f9(this[_11c]))),map=name in this.attributeMap?this.attributeMap[name]:_119.s in this?this[_119.s]:((_11d&&_119.l in _11d&&typeof _118!="function")||/^aria-|^data-|^role$/.test(name))?_11c:null;if(map!=null){this._attrToDom(name,_118,map);}this._set(name,_118);}return _11b||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,_11e){var _11f=this[name];this[name]=_11e;if(this._created&&_11e!==_11f){if(this._watchCallbacks){this._watchCallbacks(name,_11f,_11e);}this.emit("attrmodified-"+name,{detail:{prevValue:_11f,newValue:_11e}});}},_get:function(name){return this[name];},emit:function(type,_120,_121){_120=_120||{};if(_120.bubbles===undefined){_120.bubbles=true;}if(_120.cancelable===undefined){_120.cancelable=true;}if(!_120.detail){_120.detail={};}_120.detail.widget=this;var ret,_122=this["on"+type];if(_122){ret=_122.apply(this,_121?_121:[_120]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,type.toLowerCase(),_120);}return ret;},on:function(type,func){var _123=this._onMap(type);if(_123){return _e6.after(this,_123,func,true);}return this.own(on(this.domNode,type,func))[0];},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[typeof type=="string"&&type.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_f6.findWidgets(this.containerNode):[];},getParent:function(){return _f6.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_124,_125){return this.own(_e8.connect(obj,_124,this,_125))[0];},disconnect:function(_126){_126.remove();},subscribe:function(t,_127){return this.own(_f3.subscribe(t,_f0.hitch(this,_127)))[0];},unsubscribe:function(_128){_128.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_ed.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_ee.get(this.domNode,"display")!="none");},placeAt:function(_129,_12a){var _12b=!_129.tagName&&_f6.byId(_129);if(_12b&&_12b.addChild&&(!_12a||typeof _12a==="number")){_12b.addChild(this,_12a);}else{var ref=_12b?(_12b.containerNode&&!/after|before|replace/.test(_12a||"")?_12b.containerNode:_12b.domNode):dom.byId(_129,this.ownerDocument);_ec.place(this.domNode,ref,_12a);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},defer:function(fcn,_12c){var _12d=setTimeout(_f0.hitch(this,function(){if(!_12d){return;}_12d=null;if(!this._destroyed){_f0.hitch(this,fcn)();}}),_12c||0);return {remove:function(){if(_12d){clearTimeout(_12d);_12d=null;}return null;}};}});if(has("dojo-bidi")){_fd.extend(_f5);}return _fd;});},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(_12e,lang,_12f,when){return _12e("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}return (apn[name]={s:"_"+name+"Setter",g:"_"+name+"Getter"});},postscript:function(_130){if(_130){this.set(_130);}},_get:function(name,_131){return typeof this[_131.g]==="function"?this[_131.g]():this[name];},get:function(name){return this._get(name,this._getAttrNames(name));},set:function(name,_132){if(typeof name==="object"){for(var x in name){if(name.hasOwnProperty(x)&&x!="_watchCallbacks"){this.set(x,name[x]);}}return this;}var _133=this._getAttrNames(name),_134=this._get(name,_133),_135=this[_133.s],_136;if(typeof _135==="function"){_136=_135.apply(this,Array.prototype.slice.call(arguments,1));}else{this[name]=_132;}if(this._watchCallbacks){var self=this;when(_136,function(){self._watchCallbacks(name,_134,_132);});}return this;},_changeAttrValue:function(name,_137){var _138=this.get(name);this[name]=_137;if(this._watchCallbacks){this._watchCallbacks(name,_138,_137);}return this;},watch:function(name,_139){var _13a=this._watchCallbacks;if(!_13a){var self=this;_13a=this._watchCallbacks=function(name,_13b,_13c,_13d){var _13e=function(_13f){if(_13f){_13f=_13f.slice();for(var i=0,l=_13f.length;i<l;i++){_13f[i].call(self,name,_13b,_13c);}}};_13e(_13a["_"+name]);if(!_13d){_13e(_13a["*"]);}};}if(!_139&&typeof name==="function"){_139=name;name="*";}else{name="_"+name;}var _140=_13a[name];if(typeof _140!=="object"){_140=_13a[name]=[];}_140.push(_139);var _141={};_141.unwatch=_141.remove=function(){var _142=_12f.indexOf(_140,_139);if(_142>-1){_140.splice(_142,1);}};return _141;}});});},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_143,_144,_145){return _145("dijit.Destroyable",null,{destroy:function(_146){this._destroyed=true;},own:function(){_143.forEach(arguments,function(_147){var _148="destroyRecursive" in _147?"destroyRecursive":"destroy" in _147?"destroy":"remove";var odh=_144.before(this,"destroy",function(_149){_147[_148](_149);});var hdh=_144.after(_147,_148,function(){odh.remove();hdh.remove();},true);},this);return arguments;}});});},"dojox/mobile/ViewController":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/on","dojo/ready","dijit/registry","./ProgressIndicator","./TransitionEvent","./viewRegistry"],function(dojo,_14a,_14b,_14c,lang,win,_14d,dom,_14e,_14f,on,_150,_151,_152,_153,_154){var _155=_14c("dojox.mobile.ViewController",null,{dataHandlerClass:"dojox/mobile/dh/DataHandler",dataSourceClass:"dojox/mobile/dh/UrlDataSource",fileTypeMapClass:"dojox/mobile/dh/SuffixFileTypeMap",constructor:function(){this.viewMap={};_150(lang.hitch(this,function(){on(win.body(),"startTransition",lang.hitch(this,"onStartTransition"));}));},findTransitionViews:function(_156){if(!_156){return [];}_156.match(/^#?([^&?]+)(.*)/);var _157=RegExp.$2;var view=_151.byId(RegExp.$1);if(!view){return [];}for(var v=view.getParent();v;v=v.getParent()){if(v.isVisible&&!v.isVisible()){var sv=view.getShowingView();if(sv&&sv.id!==view.id){view.show();}view=v;}}return [view.getShowingView(),view,_157];},openExternalView:function(_158,_159){var d=new _14d();var id=this.viewMap[_158.url];if(id){_158.moveTo=id;if(_158.noTransition){_151.byId(id).hide();}else{new _153(win.body(),_158).dispatch();}d.resolve(true);return d;}var _15a=null;for(var i=_159.childNodes.length-1;i>=0;i--){var c=_159.childNodes[i];if(c.nodeType===1){var _15b=c.getAttribute("fixed")||c.getAttribute("data-mobile-fixed")||(_151.byNode(c)&&_151.byNode(c).fixed);if(_15b==="bottom"){_15a=c;break;}}}var dh=_158.dataHandlerClass||this.dataHandlerClass;var ds=_158.dataSourceClass||this.dataSourceClass;var ft=_158.fileTypeMapClass||this.fileTypeMapClass;require([dh,ds,ft],lang.hitch(this,function(_15c,_15d,_15e){var _15f=new _15c(new _15d(_158.data||_158.url),_159,_15a);var _160=_158.contentType||_15e.getContentType(_158.url)||"html";_15f.processData(_160,lang.hitch(this,function(id){if(id){this.viewMap[_158.url]=_158.moveTo=id;if(_158.noTransition){_151.byId(id).hide();}else{new _153(win.body(),_158).dispatch();}d.resolve(true);}else{d.reject("Failed to load "+_158.url);}}));}));return d;},onStartTransition:function(evt){evt.preventDefault();if(!evt.detail){return;}var _161=evt.detail;if(!_161.moveTo&&!_161.href&&!_161.url&&!_161.scene){return;}if(_161.url&&!_161.moveTo){var _162=_161.urlTarget;var w=_151.byId(_162);var _163=w&&w.containerNode||dom.byId(_162);if(!_163){w=_154.getEnclosingView(evt.target);_163=w&&w.domNode.parentNode||win.body();}this.openExternalView(_161,_163);return;}else{if(_161.href){if(_161.hrefTarget&&_161.hrefTarget!="_self"){win.global.open(_161.href,_161.hrefTarget);}else{var view;for(var v=_154.getEnclosingView(evt.target);v;v=_154.getParentView(v)){view=v;}if(view){view.performTransition(null,_161.transitionDir,_161.transition,evt.target,function(){location.href=_161.href;});}}return;}else{if(_161.scene){_14b.publish("/dojox/mobile/app/pushScene",[_161.scene]);return;}}}var arr=this.findTransitionViews(_161.moveTo),_164=arr[0],_165=arr[1],_166=arr[2];if(!location.hash&&!_161.hashchange){_154.initialView=_164;}if(_161.moveTo&&_165){_161.moveTo=(_161.moveTo.charAt(0)==="#"?"#"+_165.id:_165.id)+_166;}if(!_164||(_161.moveTo&&_164===_151.byId(_161.moveTo.replace(/^#?([^&?]+).*/,"$1")))){return;}var src=_151.getEnclosingWidget(evt.target);if(src&&src.callback){_161.context=src;_161.method=src.callback;}_164.performTransition(_161);}});_155._instance=new _155();_155.getInstance=function(){return _155._instance;};return _155;});},"dojox/mobile/ProgressIndicator":function(){define(["dojo/_base/config","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dijit/_Contained","dijit/_WidgetBase","./_css3"],function(_167,_168,lang,_169,_16a,_16b,_16c,has,_16d,_16e,css3){var cls=_168("dojox.mobile.ProgressIndicator",[_16e,_16d],{interval:100,size:40,removeOnStop:true,startSpinning:false,center:true,colors:null,baseClass:"mblProgressIndicator",constructor:function(){this.colors=[];this._bars=[];},buildRendering:function(){this.inherited(arguments);if(this.center){_169.add(this.domNode,"mblProgressIndicatorCenter");}this.containerNode=_16a.create("div",{className:"mblProgContainer"},this.domNode);this.spinnerNode=_16a.create("div",null,this.containerNode);for(var i=0;i<12;i++){var div=_16a.create("div",{className:"mblProg mblProg"+i},this.spinnerNode);this._bars.push(div);}this.scale(this.size);if(this.startSpinning){this.start();}},scale:function(size){var _16f=size/40;_16c.set(this.containerNode,css3.add({},{transform:"scale("+_16f+")",transformOrigin:"0 0"}));_16b.setMarginBox(this.domNode,{w:size,h:size});_16b.setMarginBox(this.containerNode,{w:size/_16f,h:size/_16f});},start:function(){if(this.imageNode){var img=this.imageNode;var l=Math.round((this.containerNode.offsetWidth-img.offsetWidth)/2);var t=Math.round((this.containerNode.offsetHeight-img.offsetHeight)/2);img.style.margin=t+"px "+l+"px";return;}var cntr=0;var _170=this;var n=12;this.timer=setInterval(function(){cntr--;cntr=cntr<0?n-1:cntr;var c=_170.colors;for(var i=0;i<n;i++){var idx=(cntr+i)%n;if(c[idx]){_170._bars[i].style.backgroundColor=c[idx];}else{_169.replace(_170._bars[i],"mblProg"+idx+"Color","mblProg"+(idx===n-1?0:idx+1)+"Color");}}},this.interval);},stop:function(){if(this.timer){clearInterval(this.timer);}this.timer=null;if(this.removeOnStop&&this.domNode&&this.domNode.parentNode){this.domNode.parentNode.removeChild(this.domNode);}},setImage:function(file){if(file){this.imageNode=_16a.create("img",{src:file},this.containerNode);this.spinnerNode.style.display="none";}else{if(this.imageNode){this.containerNode.removeChild(this.imageNode);this.imageNode=null;}this.spinnerNode.style.display="";}},destroy:function(){this.inherited(arguments);if(this===cls._instance){cls._instance=null;}}});cls._instance=null;cls.getInstance=function(_171){if(!cls._instance){cls._instance=new cls(_171);}return cls._instance;};return cls;});},"dojox/mobile/_css3":function(){define(["dojo/_base/window","dojo/_base/array","dojo/has"],function(win,arr,has){var _172=[],_173=[];var _174=win.doc.createElement("div").style;var _175=["webkit"];has.add("css3-animations",function(_176,_177,_178){var _179=_178.style;return (_179["animation"]!==undefined&&_179["transition"]!==undefined)||arr.some(_175,function(p){return _179[p+"Animation"]!==undefined&&_179[p+"Transition"]!==undefined;});});has.add("t17164",function(_17a,_17b,_17c){return (_17c.style["transition"]!==undefined)&&!("TransitionEvent" in window);});var css3={name:function(p,_17d){var n=(_17d?_173:_172)[p];if(!n){if(/End|Start/.test(p)){var idx=p.length-(p.match(/End/)?3:5);var s=p.substr(0,idx);var pp=this.name(s);if(pp==s){n=p.toLowerCase();}else{n=pp+p.substr(idx);}}else{if(p=="keyframes"){var pk=this.name("animation",_17d);if(pk=="animation"){n=p;}else{if(_17d){n=pk.replace(/animation/,"keyframes");}else{n=pk.replace(/Animation/,"Keyframes");}}}else{var cn=_17d?p.replace(/-(.)/g,function(_17e,p1){return p1.toUpperCase();}):p;if(_174[cn]!==undefined&&!has("t17164")){n=p;}else{cn=cn.charAt(0).toUpperCase()+cn.slice(1);arr.some(_175,function(_17f){if(_174[_17f+cn]!==undefined){if(_17d){n="-"+_17f+"-"+p;}else{n=_17f+cn;}}});}}}if(!n){n=p;}(_17d?_173:_172)[p]=n;}return n;},add:function(_180,_181){for(var p in _181){if(_181.hasOwnProperty(p)){_180[css3.name(p)]=_181[p];}}return _180;}};return css3;});},"dojox/mobile/TransitionEvent":function(){define(["dojo/_base/declare","dojo/on"],function(_182,on){return _182("dojox.mobile.TransitionEvent",null,{constructor:function(_183,_184,_185){this.transitionOptions=_184;this.target=_183;this.triggerEvent=_185||null;},dispatch:function(){var opts={bubbles:true,cancelable:true,detail:this.transitionOptions,triggerEvent:this.triggerEvent};var evt=on.emit(this.target,"startTransition",opts);}});});},"dojox/mobile/viewRegistry":function(){define(["dojo/_base/array","dojo/dom-class","dijit/registry"],function(_186,_187,_188){var _189={length:0,hash:{},initialView:null,add:function(view){this.hash[view.id]=view;this.length++;},remove:function(id){if(this.hash[id]){delete this.hash[id];this.length--;}},getViews:function(){var arr=[];for(var i in this.hash){arr.push(this.hash[i]);}return arr;},getParentView:function(view){for(var v=view.getParent();v;v=v.getParent()){if(_187.contains(v.domNode,"mblView")){return v;}}return null;},getChildViews:function(_18a){return _186.filter(this.getViews(),function(v){return this.getParentView(v)===_18a;},this);},getEnclosingView:function(node){for(var n=node;n&&n.tagName!=="BODY";n=n.parentNode){if(n.nodeType===1&&_187.contains(n,"mblView")){return _188.byNode(n);}}return null;},getEnclosingScrollable:function(node){for(var w=_188.getEnclosingWidget(node);w;w=w.getParent()){if(w.scrollableParams&&w._v){return w;}}return null;}};return _189;});},"dojox/mobile/transition":function(){define(["dojo/_base/Deferred","dojo/_base/config"],function(_18b,_18c){if(_18c.mblCSS3Transition){var _18d=new _18b();require([_18c.mblCSS3Transition],function(_18e){_18d.resolve(_18e);});return _18d;}return null;});},"dojox/mobile/Heading":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./ProgressIndicator","./ToolBarButton","./View","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/Heading"],function(_18f,_190,_191,lang,win,dom,_192,_193,_194,_195,_196,_197,_198,_199,_19a,_19b,View,has,_19c){var dm=lang.getObject("dojox.mobile",true);var _19d=_191(has("dojo-bidi")?"dojox.mobile.NonBidiHeading":"dojox.mobile.Heading",[_199,_198,_197],{back:"",href:"",moveTo:"",transition:"slide",label:"",iconBase:"",tag:"h1",busy:false,progStyle:"mblProgWhite",baseClass:"mblHeading",buildRendering:function(){if(!this.templateString){this.domNode=this.containerNode=this.srcNodeRef||win.doc.createElement(this.tag);}this.inherited(arguments);if(!this.templateString){if(!this.label){_18f.forEach(this.domNode.childNodes,function(n){if(n.nodeType==3){var v=lang.trim(n.nodeValue);if(v){this.label=v;this.labelNode=_193.create("span",{innerHTML:v},n,"replace");}}},this);}if(!this.labelNode){this.labelNode=_193.create("span",null,this.domNode);}this.labelNode.className="mblHeadingSpanTitle";this.labelDivNode=_193.create("div",{className:"mblHeadingDivTitle",innerHTML:this.labelNode.innerHTML},this.domNode);}if(this.labelDivNode){_195.set(this.labelDivNode,"role","heading");_195.set(this.labelDivNode,"aria-level","1");}dom.setSelectable(this.domNode,false);},startup:function(){if(this._started){return;}var _19e=this.getParent&&this.getParent();if(!_19e||!_19e.resize){var _19f=this;_19f.defer(function(){_19f.resize();});}this.inherited(arguments);},resize:function(){if(this.labelNode){var _1a0,_1a1;var _1a2=this.containerNode.childNodes;for(var i=_1a2.length-1;i>=0;i--){var c=_1a2[i];if(c.nodeType===1&&_194.get(c,"display")!=="none"){if(!_1a1&&_194.get(c,"float")==="right"){_1a1=c;}if(!_1a0&&_194.get(c,"float")==="left"){_1a0=c;}}}if(!this.labelNodeLen&&this.label){this.labelNode.style.display="inline";this.labelNodeLen=this.labelNode.offsetWidth;this.labelNode.style.display="";}var bw=this.domNode.offsetWidth;var rw=_1a1?bw-_1a1.offsetLeft+5:0;var lw=_1a0?_1a0.offsetLeft+_1a0.offsetWidth+5:0;var tw=this.labelNodeLen||0;_192[bw-Math.max(rw,lw)*2>tw?"add":"remove"](this.domNode,"mblHeadingCenterTitle");}_18f.forEach(this.getChildren(),function(_1a3){if(_1a3.resize){_1a3.resize();}});},_setBackAttr:function(back){this._set("back",back);if(!this.backButton){this.backButton=new _19b({arrow:"left",label:back,moveTo:this.moveTo,back:!this.moveTo&&!this.href,href:this.href,transition:this.transition,transitionDir:-1,dir:this.isLeftToRight()?"ltr":"rtl"});this.backButton.placeAt(this.domNode,"first");}else{this.backButton.set("label",back);}this.resize();},_setMoveToAttr:function(_1a4){this._set("moveTo",_1a4);if(this.backButton){this.backButton.set("moveTo",_1a4);this.backButton.set("back",!_1a4&&!this.href);}},_setHrefAttr:function(href){this._set("href",href);if(this.backButton){this.backButton.set("href",href);this.backButton.set("back",!this.moveTo&&!href);}},_setTransitionAttr:function(_1a5){this._set("transition",_1a5);if(this.backButton){this.backButton.set("transition",_1a5);}},_setLabelAttr:function(_1a6){this._set("label",_1a6);this.labelNode.innerHTML=this.labelDivNode.innerHTML=this._cv?this._cv(_1a6):_1a6;},_setBusyAttr:function(busy){var prog=this._prog;if(busy){if(!prog){prog=this._prog=new _19a({size:30,center:false});_192.add(prog.domNode,this.progStyle);}_193.place(prog.domNode,this.domNode,"first");prog.start();}else{if(prog){prog.stop();}}this._set("busy",busy);}});return has("dojo-bidi")?_191("dojox.mobile.Heading",[_19d,_19c]):_19d;});},"dojox/mobile/ToolBarButton":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","./sniff","./_ItemBase","dojo/has!dojo-bidi?dojox/mobile/bidi/ToolBarButton"],function(_1a7,lang,win,_1a8,_1a9,_1aa,_1ab,has,_1ac,_1ad){var _1ae=_1a7(has("dojo-bidi")?"dojox.mobile.NonBidiToolBarButton":"dojox.mobile.ToolBarButton",_1ac,{selected:false,arrow:"",light:true,defaultColor:"mblColorDefault",selColor:"mblColorDefaultSel",baseClass:"mblToolBarButton",_selStartMethod:"touch",_selEndMethod:"touch",buildRendering:function(){if(!this.label&&this.srcNodeRef){this.label=this.srcNodeRef.innerHTML;}this.label=lang.trim(this.label);this.domNode=(this.srcNodeRef&&this.srcNodeRef.tagName==="SPAN")?this.srcNodeRef:_1a9.create("span");_1ab.set(this.domNode,"role","button");this.inherited(arguments);if(this.light&&!this.arrow&&(!this.icon||!this.label)){this.labelNode=this.tableNode=this.bodyNode=this.iconParentNode=this.domNode;_1a8.add(this.domNode,this.defaultColor+" mblToolBarButtonBody"+(this.icon?" mblToolBarButtonLightIcon":" mblToolBarButtonLightText"));return;}this.domNode.innerHTML="";if(this.arrow==="left"||this.arrow==="right"){this.arrowNode=_1a9.create("span",{className:"mblToolBarButtonArrow mblToolBarButton"+(this.arrow==="left"?"Left":"Right")+"Arrow "+(has("ie")<10?"":(this.defaultColor+" "+this.defaultColor+"45"))},this.domNode);_1a8.add(this.domNode,"mblToolBarButtonHas"+(this.arrow==="left"?"Left":"Right")+"Arrow");}this.bodyNode=_1a9.create("span",{className:"mblToolBarButtonBody"},this.domNode);this.tableNode=_1a9.create("table",{cellPadding:"0",cellSpacing:"0",border:"0",role:"presentation"},this.bodyNode);if(!this.label&&this.arrow){this.tableNode.className="mblToolBarButtonText";}var row=this.tableNode.insertRow(-1);this.iconParentNode=row.insertCell(-1);this.labelNode=row.insertCell(-1);this.iconParentNode.className="mblToolBarButtonIcon";this.labelNode.className="mblToolBarButtonLabel";if(this.icon&&this.icon!=="none"&&this.label){_1a8.add(this.domNode,"mblToolBarButtonHasIcon");_1a8.add(this.bodyNode,"mblToolBarButtonLabeledIcon");}_1a8.add(this.bodyNode,this.defaultColor);},startup:function(){if(this._started){return;}this.connect(this.domNode,"onkeydown","_onClick");this.inherited(arguments);if(!this._isOnLine){this._isOnLine=true;this.set("icon",this._pendingIcon!==undefined?this._pendingIcon:this.icon);delete this._pendingIcon;}},_onClick:function(e){if(e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}this.defaultClickAction(e);},onClick:function(){},_setLabelAttr:function(text){this.inherited(arguments);_1a8.toggle(this.tableNode,"mblToolBarButtonText",text||this.arrow);},_setSelectedAttr:function(_1af){var _1b0=function(node,a,b){_1a8.replace(node,a+" "+a+"45",b+" "+b+"45");};this.inherited(arguments);if(_1af){_1a8.replace(this.bodyNode,this.selColor,this.defaultColor);if(!(has("ie")<10)&&this.arrowNode){_1b0(this.arrowNode,this.selColor,this.defaultColor);}}else{_1a8.replace(this.bodyNode,this.defaultColor,this.selColor);if(!(has("ie")<10)&&this.arrowNode){_1b0(this.arrowNode,this.defaultColor,this.selColor);}}_1a8.toggle(this.domNode,"mblToolBarButtonSelected",_1af);_1a8.toggle(this.bodyNode,"mblToolBarButtonBodySelected",_1af);}});return has("dojo-bidi")?_1a7("dojox.mobile.ToolBarButton",[_1ae,_1ad]):_1ae;});},"dojox/mobile/_ItemBase":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/touch","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./TransitionEvent","./iconUtils","./sniff","dojo/has!dojo-bidi?dojox/mobile/bidi/_ItemBase"],function(_1b1,_1b2,lang,win,_1b3,_1b4,_1b5,_1b6,_1b7,_1b8,_1b9,_1ba,has,_1bb){var _1bc=_1b2(has("dojo-bidi")?"dojox.mobile._NonBidiItemBase":"dojox.mobile._ItemBase",[_1b8,_1b7,_1b6],{icon:"",iconPos:"",alt:"",href:"",hrefTarget:"",moveTo:"",scene:"",clickable:false,url:"",urlTarget:"",back:false,transition:"",transitionDir:1,transitionOptions:null,callback:null,label:"",toggle:false,selected:false,tabIndex:"0",_setTabIndexAttr:"",paramsToInherit:"transition,icon",_selStartMethod:"none",_selEndMethod:"none",_delayedSelection:false,_duration:800,_handleClick:true,buildRendering:function(){this.inherited(arguments);this._isOnLine=this.inheritParams();},startup:function(){if(this._started){return;}if(!this._isOnLine){this.inheritParams();}this._updateHandles();this.inherited(arguments);},inheritParams:function(){var _1bd=this.getParent();if(_1bd){_1b1.forEach(this.paramsToInherit.split(/,/),function(p){if(p.match(/icon/i)){var base=p+"Base",pos=p+"Pos";if(this[p]&&_1bd[base]&&_1bd[base].charAt(_1bd[base].length-1)==="/"){this[p]=_1bd[base]+this[p];}if(!this[p]){this[p]=_1bd[base];}if(!this[pos]){this[pos]=_1bd[pos];}}if(!this[p]){this[p]=_1bd[p];}},this);}return !!_1bd;},_updateHandles:function(){if(this._handleClick&&this._selStartMethod==="touch"){if(!this._onTouchStartHandle){this._onTouchStartHandle=this.connect(this.domNode,_1b4.press,"_onTouchStart");}}else{if(this._onTouchStartHandle){this.disconnect(this._onTouchStartHandle);this._onTouchStartHandle=null;}}},getTransOpts:function(){var opts=this.transitionOptions||{};_1b1.forEach(["moveTo","href","hrefTarget","url","target","urlTarget","scene","transition","transitionDir"],function(p){opts[p]=opts[p]||this[p];},this);return opts;},userClickAction:function(){},defaultClickAction:function(e){this.handleSelection(e);if(this.userClickAction(e)===false){return;}this.makeTransition(e);},handleSelection:function(e){if(this._delayedSelection){this.set("selected",true);}if(this._onTouchEndHandle){this.disconnect(this._onTouchEndHandle);this._onTouchEndHandle=null;}var p=this.getParent();if(this.toggle){this.set("selected",!this._currentSel);}else{if(p&&p.selectOne){this.set("selected",true);}else{if(this._selEndMethod==="touch"){this.set("selected",false);}else{if(this._selEndMethod==="timer"){this.defer(function(){this.set("selected",false);},this._duration);}}}}},makeTransition:function(e){if(this.back&&history){history.back();return;}if(this.href&&this.hrefTarget&&this.hrefTarget!="_self"){win.global.open(this.href,this.hrefTarget||"_blank");this._onNewWindowOpened(e);return;}var opts=this.getTransOpts();var _1be=!!(opts.moveTo||opts.href||opts.url||opts.target||opts.scene);if(this._prepareForTransition(e,_1be?opts:null)===false){return;}if(_1be){this.setTransitionPos(e);new _1b9(this.domNode,opts,e).dispatch();}},_onNewWindowOpened:function(){},_prepareForTransition:function(e,_1bf){},_onTouchStart:function(e){if(this.getParent().isEditing||this.onTouchStart(e)===false){return;}if(!this._onTouchEndHandle&&this._selStartMethod==="touch"){this._onTouchMoveHandle=this.connect(win.body(),_1b4.move,"_onTouchMove");this._onTouchEndHandle=this.connect(win.body(),_1b4.release,"_onTouchEnd");}this.touchStartX=e.touches?e.touches[0].pageX:e.clientX;this.touchStartY=e.touches?e.touches[0].pageY:e.clientY;this._currentSel=this.selected;if(this._delayedSelection){this._selTimer=this.defer(function(){this.set("selected",true);},100);}else{this.set("selected",true);}},onTouchStart:function(){},_onTouchMove:function(e){var x=e.touches?e.touches[0].pageX:e.clientX;var y=e.touches?e.touches[0].pageY:e.clientY;if(Math.abs(x-this.touchStartX)>=4||Math.abs(y-this.touchStartY)>=4){this.cancel();var p=this.getParent();if(p&&p.selectOne){this._prevSel&&this._prevSel.set("selected",true);}else{this.set("selected",false);}}},_disconnect:function(){this.disconnect(this._onTouchMoveHandle);this.disconnect(this._onTouchEndHandle);this._onTouchMoveHandle=this._onTouchEndHandle=null;},cancel:function(){if(this._selTimer){this._selTimer.remove();this._selTimer=null;}this._disconnect();},_onTouchEnd:function(e){if(!this._selTimer&&this._delayedSelection){return;}this.cancel();this._onClick(e);},setTransitionPos:function(e){var w=this;while(true){w=w.getParent();if(!w||_1b3.contains(w.domNode,"mblView")){break;}}if(w){w.clickedPosX=e.clientX;w.clickedPosY=e.clientY;}},transitionTo:function(_1c0,href,url,_1c1){var opts=(_1c0&&typeof (_1c0)==="object")?_1c0:{moveTo:_1c0,href:href,url:url,scene:_1c1,transition:this.transition,transitionDir:this.transitionDir};new _1b9(this.domNode,opts).dispatch();},_setIconAttr:function(icon){if(!this._isOnLine){this._pendingIcon=icon;return;}this._set("icon",icon);this.iconNode=_1ba.setIcon(icon,this.iconPos,this.iconNode,this.alt,this.iconParentNode,this.refNode,this.position);},_setLabelAttr:function(text){this._set("label",text);this.labelNode.innerHTML=this._cv?this._cv(text):text;},_setSelectedAttr:function(_1c2){if(_1c2){var p=this.getParent();if(p&&p.selectOne){var arr=_1b1.filter(p.getChildren(),function(w){return w.selected;});_1b1.forEach(arr,function(c){this._prevSel=c;c.set("selected",false);},this);}}this._set("selected",_1c2);}});return has("dojo-bidi")?_1b2("dojox.mobile._ItemBase",[_1bc,_1bb]):_1bc;});},"dojox/mobile/iconUtils":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","./sniff"],function(_1c3,_1c4,_1c5,_1c6,lang,win,_1c7,_1c8,_1c9,has){var dm=lang.getObject("dojox.mobile",true);var _1ca=function(){this.setupSpriteIcon=function(_1cb,_1cc){if(_1cb&&_1cc){var arr=_1c3.map(_1cc.split(/[ ,]/),function(item){return item-0;});var t=arr[0];var r=arr[1]+arr[2];var b=arr[0]+arr[3];var l=arr[1];_1c9.set(_1cb,{position:"absolute",clip:"rect("+t+"px "+r+"px "+b+"px "+l+"px)",top:(_1cb.parentNode?_1c9.get(_1cb,"top"):0)-t+"px",left:-l+"px"});_1c7.add(_1cb,"mblSpriteIcon");}};this.createDomButton=function(_1cd,_1ce,_1cf){if(!this._domButtons){if(has("webkit")){var _1d0=function(_1d1,dic){var i,j;if(!_1d1){var _1d2={};var ss=win.doc.styleSheets;for(i=0;i<ss.length;i++){ss[i]&&_1d0(ss[i],_1d2);}return _1d2;}var _1d3=_1d1.cssRules||[];for(i=0;i<_1d3.length;i++){var rule=_1d3[i];if(rule.href&&rule.styleSheet){_1d0(rule.styleSheet,dic);}else{if(rule.selectorText){var sels=rule.selectorText.split(/,/);for(j=0;j<sels.length;j++){var sel=sels[j];var n=sel.split(/>/).length-1;if(sel.match(/(mblDomButton\w+)/)){var cls=RegExp.$1;if(!dic[cls]||n>dic[cls]){dic[cls]=n;}}}}}}return dic;};this._domButtons=_1d0();}else{this._domButtons={};}}var s=_1cd.className;var node=_1cf||_1cd;if(s.match(/(mblDomButton\w+)/)&&s.indexOf("/")===-1){var _1d4=RegExp.$1;var nDiv=4;if(s.match(/(mblDomButton\w+_(\d+))/)){nDiv=RegExp.$2-0;}else{if(this._domButtons[_1d4]!==undefined){nDiv=this._domButtons[_1d4];}}var _1d5=null;if(has("bb")&&_1c4.mblBBBoxShadowWorkaround!==false){_1d5={style:"-webkit-box-shadow:none"};}for(var i=0,p=node;i<nDiv;i++){p=p.firstChild||_1c8.create("div",_1d5,p);}if(_1cf){setTimeout(function(){_1c7.remove(_1cd,_1d4);},0);_1c7.add(_1cf,_1d4);}}else{if(s.indexOf(".")!==-1){_1c8.create("img",{src:s},node);}else{return null;}}_1c7.add(node,"mblDomButton");!!_1ce&&_1c9.set(node,_1ce);return node;};this.createIcon=function(icon,_1d6,node,_1d7,_1d8,_1d9,pos){_1d7=_1d7||"";if(icon&&icon.indexOf("mblDomButton")===0){if(!node){node=_1c8.create("div",null,_1d9||_1d8,pos);}else{if(node.className.match(/(mblDomButton\w+)/)){_1c7.remove(node,RegExp.$1);}}node.title=_1d7;_1c7.add(node,icon);this.createDomButton(node);}else{if(icon&&icon!=="none"){if(!node||node.nodeName!=="IMG"){node=_1c8.create("img",{alt:_1d7},_1d9||_1d8,pos);}node.src=(icon||"").replace("${theme}",dm.currentTheme);this.setupSpriteIcon(node,_1d6);if(_1d6&&_1d8){var arr=_1d6.split(/[ ,]/);_1c9.set(_1d8,{position:"relative",width:arr[2]+"px",height:arr[3]+"px"});_1c7.add(_1d8,"mblSpriteIconParent");}_1c5.connect(node,"ondragstart",_1c6,"stop");}}return node;};this.iconWrapper=false;this.setIcon=function(icon,_1da,_1db,alt,_1dc,_1dd,pos){if(!_1dc||!icon&&!_1db){return null;}if(icon&&icon!=="none"){if(!this.iconWrapper&&icon.indexOf("mblDomButton")!==0&&!_1da){if(_1db&&_1db.tagName==="DIV"){_1c8.destroy(_1db);_1db=null;}_1db=this.createIcon(icon,null,_1db,alt,_1dc,_1dd,pos);_1c7.add(_1db,"mblImageIcon");}else{if(_1db&&_1db.tagName==="IMG"){_1c8.destroy(_1db);_1db=null;}_1db&&_1c8.empty(_1db);if(!_1db){_1db=_1c8.create("div",null,_1dd||_1dc,pos);}this.createIcon(icon,_1da,null,null,_1db);if(alt){_1db.title=alt;}}_1c7.remove(_1dc,"mblNoIcon");return _1db;}else{_1c8.destroy(_1db);_1c7.add(_1dc,"mblNoIcon");return null;}};};return new _1ca();});},"dojox/mobile/RoundRect":function(){define(["dojo/_base/declare","dojo/dom-class","./Container"],function(_1de,_1df,_1e0){return _1de("dojox.mobile.RoundRect",_1e0,{shadow:false,baseClass:"mblRoundRect",buildRendering:function(){this.inherited(arguments);if(this.shadow){_1df.add(this.domNode,"mblShadow");}}});});},"dojox/mobile/Container":function(){define(["dojo/_base/declare","dijit/_Container","./Pane"],function(_1e1,_1e2,Pane){return _1e1("dojox.mobile.Container",[Pane,_1e2],{baseClass:"mblContainer"});});},"dojox/mobile/Pane":function(){define(["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_WidgetBase"],function(_1e3,_1e4,_1e5,_1e6){return _1e4("dojox.mobile.Pane",[_1e6,_1e5],{baseClass:"mblPane",buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},resize:function(){_1e3.forEach(this.getChildren(),function(_1e7){if(_1e7.resize){_1e7.resize();}});}});});},"dojox/mobile/RoundRectCategory":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-construct","dijit/_Contained","dijit/_WidgetBase","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/RoundRectCategory"],function(_1e8,win,_1e9,_1ea,_1eb,has,_1ec){var _1ed=_1e8(has("dojo-bidi")?"dojox.mobile.NonBidiRoundRectCategory":"dojox.mobile.RoundRectCategory",[_1eb,_1ea],{label:"",tag:"h2",baseClass:"mblRoundRectCategory",buildRendering:function(){var _1ee=this.domNode=this.containerNode=this.srcNodeRef||_1e9.create(this.tag);this.inherited(arguments);if(!this.label&&_1ee.childNodes.length===1&&_1ee.firstChild.nodeType===3){this.label=_1ee.firstChild.nodeValue;}},_setLabelAttr:function(_1ef){this.label=_1ef;this.domNode.innerHTML=this._cv?this._cv(_1ef):_1ef;}});return has("dojo-bidi")?_1e8("dojox.mobile.RoundRectCategory",[_1ed,_1ec]):_1ed;});},"dojox/mobile/EdgeToEdgeCategory":function(){define(["dojo/_base/declare","./RoundRectCategory"],function(_1f0,_1f1){return _1f0("dojox.mobile.EdgeToEdgeCategory",_1f1,{buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeCategory";if(this.type&&this.type=="long"){this.domNode.className+=" mblEdgeToEdgeCategoryLong";}}});});},"dojox/mobile/RoundRectList":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-construct","dojo/dom-attr","dijit/_Contained","dijit/_Container","dijit/_WidgetBase"],function(_1f2,_1f3,_1f4,lang,win,_1f5,_1f6,_1f7,_1f8,_1f9){return _1f3("dojox.mobile.RoundRectList",[_1f9,_1f8,_1f7],{transition:"slide",iconBase:"",iconPos:"",select:"",stateful:false,syncWithViews:false,editable:false,tag:"ul",editableMixinClass:"dojox/mobile/_EditableListMixin",baseClass:"mblRoundRectList",filterBoxClass:"mblFilteredRoundRectListSearchBox",buildRendering:function(){this.domNode=this.srcNodeRef||_1f5.create(this.tag);if(this.select){_1f6.set(this.domNode,"role","listbox");if(this.select==="multiple"){_1f6.set(this.domNode,"aria-multiselectable","true");}}this.inherited(arguments);},postCreate:function(){if(this.editable){require([this.editableMixinClass],lang.hitch(this,function(_1fa){_1f3.safeMixin(this,new _1fa());}));}this.connect(this.domNode,"onselectstart",_1f4.stop);if(this.syncWithViews){var f=function(view,_1fb,dir,_1fc,_1fd,_1fe){var _1ff=_1f2.filter(this.getChildren(),function(w){return w.moveTo==="#"+view.id||w.moveTo===view.id;})[0];if(_1ff){_1ff.set("selected",true);}};this.subscribe("/dojox/mobile/afterTransitionIn",f);this.subscribe("/dojox/mobile/startView",f);}},resize:function(){_1f2.forEach(this.getChildren(),function(_200){if(_200.resize){_200.resize();}});},onCheckStateChanged:function(){},_setStatefulAttr:function(_201){this._set("stateful",_201);this.selectOne=_201;_1f2.forEach(this.getChildren(),function(_202){_202.setArrow&&_202.setArrow();});},deselectItem:function(item){item.set("selected",false);},deselectAll:function(){_1f2.forEach(this.getChildren(),function(_203){_203.set("selected",false);});},selectItem:function(item){item.set("selected",true);}});});},"dojox/mobile/EdgeToEdgeList":function(){define(["dojo/_base/declare","./RoundRectList"],function(_204,_205){return _204("dojox.mobile.EdgeToEdgeList",_205,{filterBoxClass:"mblFilteredEdgeToEdgeListSearchBox",buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeList";}});});},"dojox/mobile/ListItem":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dijit/registry","dijit/_WidgetBase","./iconUtils","./_ItemBase","./ProgressIndicator","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/ListItem"],function(_206,_207,lang,_208,_209,_20a,_20b,_20c,_20d,_20e,_20f,_210,has,_211){var _212=_207(has("dojo-bidi")?"dojox.mobile.NonBidiListItem":"dojox.mobile.ListItem",_20f,{rightText:"",rightIcon:"",rightIcon2:"",deleteIcon:"",anchorLabel:false,noArrow:false,checked:false,arrowClass:"",checkClass:"",uncheckClass:"",variableHeight:false,rightIconTitle:"",rightIcon2Title:"",header:false,tag:"li",busy:false,progStyle:"",paramsToInherit:"variableHeight,transition,deleteIcon,icon,rightIcon,rightIcon2,uncheckIcon,arrowClass,checkClass,uncheckClass,deleteIconTitle,deleteIconRole",baseClass:"mblListItem",_selStartMethod:"touch",_selEndMethod:"timer",_delayedSelection:true,_selClass:"mblListItemSelected",buildRendering:function(){this._templated=!!this.templateString;if(!this._templated){this.domNode=this.containerNode=this.srcNodeRef||_209.create(this.tag);}this.inherited(arguments);if(this.selected){_208.add(this.domNode,this._selClass);}if(this.header){_208.replace(this.domNode,"mblEdgeToEdgeCategory",this.baseClass);}if(!this._templated){this.labelNode=_209.create("div",{className:"mblListItemLabel"});var ref=this.srcNodeRef;if(ref&&ref.childNodes.length===1&&ref.firstChild.nodeType===3){this.labelNode.appendChild(ref.firstChild);}this.domNode.appendChild(this.labelNode);}this._layoutChildren=[];},startup:function(){if(this._started){return;}var _213=this.getParent();var opts=this.getTransOpts();if((!this._templated||this.labelNode)&&this.anchorLabel){this.labelNode.style.display="inline";this.labelNode.style.cursor="pointer";this.connect(this.labelNode,"onclick","_onClick");this.onTouchStart=function(e){return (e.target!==this.labelNode);};}if(opts.moveTo||opts.href||opts.url||this.clickable||(_213&&_213.select)){this.connect(this.domNode,"onkeydown","_onClick");}else{this._handleClick=false;}this.inherited(arguments);if(_208.contains(this.domNode,"mblVariableHeight")){this.variableHeight=true;}if(this.variableHeight){_208.add(this.domNode,"mblVariableHeight");this.defer("layoutVariableHeight");}if(!this._isOnLine){this._isOnLine=true;this.set({icon:this._pending_icon!==undefined?this._pending_icon:this.icon,deleteIcon:this._pending_deleteIcon!==undefined?this._pending_deleteIcon:this.deleteIcon,rightIcon:this._pending_rightIcon!==undefined?this._pending_rightIcon:this.rightIcon,rightIcon2:this._pending_rightIcon2!==undefined?this._pending_rightIcon2:this.rightIcon2,uncheckIcon:this._pending_uncheckIcon!==undefined?this._pending_uncheckIcon:this.uncheckIcon});delete this._pending_icon;delete this._pending_deleteIcon;delete this._pending_rightIcon;delete this._pending_rightIcon2;delete this._pending_uncheckIcon;}if(_213&&_213.select){this.set("checked",this._pendingChecked!==undefined?this._pendingChecked:this.checked);_20b.set(this.domNode,"role","option");if(this._pendingChecked||this.checked){_20b.set(this.domNode,"aria-selected","true");}delete this._pendingChecked;}this.setArrow();this.layoutChildren();},_updateHandles:function(){var _214=this.getParent();var opts=this.getTransOpts();if(opts.moveTo||opts.href||opts.url||this.clickable||(_214&&_214.select)){if(!this._keydownHandle){this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick");}this._handleClick=true;}else{if(this._keydownHandle){this.disconnect(this._keydownHandle);this._keydownHandle=null;}this._handleClick=false;}this.inherited(arguments);},layoutChildren:function(){var _215;_206.forEach(this.domNode.childNodes,function(n){if(n.nodeType!==1){return;}var _216=n.getAttribute("layout")||n.getAttribute("data-mobile-layout")||(_20c.byNode(n)||{}).layout;if(_216){_208.add(n,"mblListItemLayout"+_216.charAt(0).toUpperCase()+_216.substring(1));this._layoutChildren.push(n);if(_216==="center"){_215=n;}}},this);if(_215){this.domNode.insertBefore(_215,this.domNode.firstChild);}},resize:function(){if(this.variableHeight){this.layoutVariableHeight();}if(!this._templated||this.labelNode){this.labelNode.style.display=this.labelNode.firstChild?"block":"inline";}},_onTouchStart:function(e){if(e.target.getAttribute("preventTouch")||e.target.getAttribute("data-mobile-prevent-touch")||(_20c.getEnclosingWidget(e.target)||{}).preventTouch){return;}this.inherited(arguments);},_onClick:function(e){if(this.getParent().isEditing||e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}var n=this.labelNode;if((this._templated||n)&&this.anchorLabel&&e.currentTarget===n){_208.add(n,"mblListItemLabelSelected");this.defer(function(){_208.remove(n,"mblListItemLabelSelected");},this._duration);this.onAnchorLabelClicked(e);return;}var _217=this.getParent();if(_217.select){if(_217.select==="single"){if(!this.checked){this.set("checked",true);}}else{if(_217.select==="multiple"){this.set("checked",!this.checked);}}}this.defaultClickAction(e);},onClick:function(){},onAnchorLabelClicked:function(e){},layoutVariableHeight:function(){var h=this.domNode.offsetHeight;if(h===this.domNodeHeight){return;}this.domNodeHeight=h;_206.forEach(this._layoutChildren.concat([this.rightTextNode,this.rightIcon2Node,this.rightIconNode,this.uncheckIconNode,this.iconNode,this.deleteIconNode,this.knobIconNode]),function(n){if(n){var _218=this.domNode;var f=function(){var t=Math.round((_218.offsetHeight-n.offsetHeight)/2)-_20a.get(_218,"paddingTop");n.style.marginTop=t+"px";};if(n.offsetHeight===0&&n.tagName==="IMG"){n.onload=f;}else{f();}}},this);},setArrow:function(){if(this.checked){return;}var c="";var _219=this.getParent();var opts=this.getTransOpts();if(opts.moveTo||opts.href||opts.url||this.clickable){if(!this.noArrow&&!(_219&&_219.selectOne)){c=this.arrowClass||"mblDomButtonArrow";_20b.set(this.domNode,"role","button");}}if(c){this._setRightIconAttr(c);}},_findRef:function(type){var i,node,list=["deleteIcon","icon","rightIcon","uncheckIcon","rightIcon2","rightText"];for(i=_206.indexOf(list,type)+1;i<list.length;i++){node=this[list[i]+"Node"];if(node){return node;}}for(i=list.length-1;i>=0;i--){node=this[list[i]+"Node"];if(node){return node.nextSibling;}}return this.domNode.firstChild;},_setIcon:function(icon,type){if(!this._isOnLine){this["_pending_"+type]=icon;return;}this._set(type,icon);this[type+"Node"]=_20e.setIcon(icon,this[type+"Pos"],this[type+"Node"],this[type+"Title"]||this.alt,this.domNode,this._findRef(type),"before");if(this[type+"Node"]){var cap=type.charAt(0).toUpperCase()+type.substring(1);_208.add(this[type+"Node"],"mblListItem"+cap);}var role=this[type+"Role"];if(role){this[type+"Node"].setAttribute("role",role);}},_setDeleteIconAttr:function(icon){this._setIcon(icon,"deleteIcon");},_setIconAttr:function(icon){this._setIcon(icon,"icon");},_setRightTextAttr:function(text){if(!this._templated&&!this.rightTextNode){this.rightTextNode=_209.create("div",{className:"mblListItemRightText"},this.labelNode,"before");}this.rightText=text;this.rightTextNode.innerHTML=this._cv?this._cv(text):text;},_setRightIconAttr:function(icon){this._setIcon(icon,"rightIcon");},_setUncheckIconAttr:function(icon){this._setIcon(icon,"uncheckIcon");},_setRightIcon2Attr:function(icon){this._setIcon(icon,"rightIcon2");},_setCheckedAttr:function(_21a){if(!this._isOnLine){this._pendingChecked=_21a;return;}var _21b=this.getParent();if(_21b&&_21b.select==="single"&&_21a){_206.forEach(_21b.getChildren(),function(_21c){_21c!==this&&_21c.checked&&_21c.set("checked",false)&&_20b.set(_21c.domNode,"aria-selected","false");},this);}this._setRightIconAttr(this.checkClass||"mblDomButtonCheck");this._setUncheckIconAttr(this.uncheckClass);_208.toggle(this.domNode,"mblListItemChecked",_21a);_208.toggle(this.domNode,"mblListItemUnchecked",!_21a);_208.toggle(this.domNode,"mblListItemHasUncheck",!!this.uncheckIconNode);this.rightIconNode.style.position=(this.uncheckIconNode&&!_21a)?"absolute":"";if(_21b&&this.checked!==_21a){_21b.onCheckStateChanged(this,_21a);}this._set("checked",_21a);_20b.set(this.domNode,"aria-selected",_21a?"true":"false");},_setBusyAttr:function(busy){var prog=this._prog;if(busy){if(!this._progNode){this._progNode=_209.create("div",{className:"mblListItemIcon"});prog=this._prog=new _210({size:25,center:false,removeOnStop:false});_208.add(prog.domNode,this.progStyle);this._progNode.appendChild(prog.domNode);}if(this.iconNode){this.domNode.replaceChild(this._progNode,this.iconNode);}else{_209.place(this._progNode,this._findRef("icon"),"before");}prog.start();}else{if(this._progNode){if(this.iconNode){this.domNode.replaceChild(this.iconNode,this._progNode);}else{this.domNode.removeChild(this._progNode);}prog.stop();}}this._set("busy",busy);},_setSelectedAttr:function(_21d){this.inherited(arguments);_208.toggle(this.domNode,this._selClass,_21d);},_setClickableAttr:function(_21e){this._set("clickable",_21e);this._updateHandles();},_setMoveToAttr:function(_21f){this._set("moveTo",_21f);this._updateHandles();},_setHrefAttr:function(href){this._set("href",href);this._updateHandles();},_setUrlAttr:function(url){this._set("url",url);this._updateHandles();}});_212.ChildWidgetProperties={layout:"",preventTouch:false};lang.extend(_20d,_212.ChildWidgetProperties);return has("dojo-bidi")?_207("dojox.mobile.ListItem",[_212,_211]):_212;});},"dojox/mobile/Switch":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/event","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dojo/touch","dijit/_Contained","dijit/_WidgetBase","./sniff","./_maskUtils","./common","dojo/has!dojo-bidi?dojox/mobile/bidi/Switch"],function(_220,_221,_222,_223,win,_224,_225,_226,_227,_228,_229,_22a,has,_22b,dm,_22c){var _22d=_222(has("dojo-bidi")?"dojox.mobile.NonBidiSwitch":"dojox.mobile.Switch",[_22a,_229],{value:"on",name:"",leftLabel:"ON",rightLabel:"OFF",shape:"mblSwDefaultShape",tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSwitch",role:"",buildRendering:function(){if(!this.templateString){this.domNode=(this.srcNodeRef&&this.srcNodeRef.tagName==="SPAN")?this.srcNodeRef:_225.create("span");}if(typeof this.domNode.style.msTouchAction!="undefined"){this.domNode.style.msTouchAction="none";}this.inherited(arguments);if(!this.templateString){var c=(this.srcNodeRef&&this.srcNodeRef.className)||this.className||this["class"];if((c=c.match(/mblSw.*Shape\d*/))){this.shape=c;}_224.add(this.domNode,this.shape);var _22e=this.name?" name=\""+this.name+"\"":"";this.domNode.innerHTML="<div class=\"mblSwitchInner\">"+"<div class=\"mblSwitchBg mblSwitchBgLeft\">"+"<div class=\"mblSwitchText mblSwitchTextLeft\"></div>"+"</div>"+"<div class=\"mblSwitchBg mblSwitchBgRight\">"+"<div class=\"mblSwitchText mblSwitchTextRight\"></div>"+"</div>"+"<div class=\"mblSwitchKnob\"></div>"+"<input type=\"hidden\""+_22e+"></div>"+"</div>";var n=this.inner=this.domNode.firstChild;this.left=n.childNodes[0];this.right=n.childNodes[1];this.knob=n.childNodes[2];this.input=n.childNodes[3];}_227.set(this.domNode,"role","checkbox");_227.set(this.domNode,"aria-checked",(this.value==="on")?"true":"false");this.switchNode=this.domNode;if(has("windows-theme")){var _22f=_225.create("div",{className:"mblSwitchContainer"});this.labelNode=_225.create("label",{"class":"mblSwitchLabel","for":this.id},_22f);_22f.appendChild(this.domNode.cloneNode(true));this.domNode=_22f;this.focusNode=_22f.childNodes[1];this.labelNode.innerHTML=(this.value=="off")?this.rightLabel:this.leftLabel;this.switchNode=this.domNode.childNodes[1];var _230=this.inner=this.domNode.childNodes[1].firstChild;this.left=_230.childNodes[0];this.right=_230.childNodes[1];this.knob=_230.childNodes[2];this.input=_230.childNodes[3];}},postCreate:function(){this.connect(this.switchNode,"onclick","_onClick");this.connect(this.switchNode,"onkeydown","_onClick");this._startHandle=this.connect(this.switchNode,_228.press,"onTouchStart");this._initialValue=this.value;},_changeState:function(_231,anim){var on=(_231==="on");this.left.style.display="";this.right.style.display="";this.inner.style.left="";if(anim){_224.add(this.switchNode,"mblSwitchAnimation");}_224.remove(this.switchNode,on?"mblSwitchOff":"mblSwitchOn");_224.add(this.switchNode,on?"mblSwitchOn":"mblSwitchOff");_227.set(this.switchNode,"aria-checked",on?"true":"false");var _232=this;_232.defer(function(){_232.left.style.display=on?"":"none";_232.right.style.display=!on?"":"none";_224.remove(_232.switchNode,"mblSwitchAnimation");},anim?300:0);},_createMaskImage:function(){if(this._timer){this._timer.remove();delete this._timer;}if(this._hasMaskImage){return;}this._width=this.switchNode.offsetWidth-this.knob.offsetWidth;this._hasMaskImage=true;if(!(has("webkit")||has("svg"))){return;}var rDef=_226.get(this.left,"borderTopLeftRadius");if(rDef=="0px"){return;}var _233=rDef.split(" ");var rx=parseFloat(_233[0]),ry=(_233.length==1)?rx:parseFloat(_233[1]);var w=this.switchNode.offsetWidth,h=this.switchNode.offsetHeight;var id=(this.shape+"Mask"+w+h+rx+ry).replace(/\./,"_");_22b.createRoundMask(this.switchNode,0,0,0,0,w,h,rx,ry,1);},_onClick:function(e){if(e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}if(this._moved){return;}this._set("value",this.input.value=(this.value=="on")?"off":"on");this._changeState(this.value,true);this.onStateChanged(this.value);},onClick:function(){},onTouchStart:function(e){this._moved=false;this.innerStartX=this.inner.offsetLeft;if(!this._conn){this._conn=[this.connect(this.inner,_228.move,"onTouchMove"),this.connect(win.doc,_228.release,"onTouchEnd")];if(has("windows-theme")){this._conn.push(this.connect(win.doc,"MSPointerCancel","onTouchEnd"));}}this.touchStartX=e.touches?e.touches[0].pageX:e.clientX;this.left.style.display="";this.right.style.display="";_223.stop(e);this._createMaskImage();},onTouchMove:function(e){e.preventDefault();var dx;if(e.targetTouches){if(e.targetTouches.length!=1){return;}dx=e.targetTouches[0].clientX-this.touchStartX;}else{dx=e.clientX-this.touchStartX;}var pos=this.innerStartX+dx;var d=10;if(pos<=-(this._width-d)){pos=-this._width;}if(pos>=-d){pos=0;}this.inner.style.left=pos+"px";if(Math.abs(dx)>d){this._moved=true;}},onTouchEnd:function(e){_220.forEach(this._conn,_221.disconnect);this._conn=null;if(this.innerStartX==this.inner.offsetLeft){if(has("touch")&&has("clicks-prevented")){dm._sendClick(this.inner,e);}return;}var _234=(this.inner.offsetLeft<-(this._width/2))?"off":"on";_234=this._newState(_234);this._changeState(_234,true);if(_234!=this.value){this._set("value",this.input.value=_234);this.onStateChanged(_234);}},_newState:function(_235){return _235;},onStateChanged:function(_236){if(this.labelNode){this.labelNode.innerHTML=_236=="off"?this.rightLabel:this.leftLabel;}},_setValueAttr:function(_237){this._changeState(_237,false);if(this.value!=_237){this._set("value",this.input.value=_237);this.onStateChanged(_237);}},_setLeftLabelAttr:function(_238){this.leftLabel=_238;this.left.firstChild.innerHTML=this._cv?this._cv(_238):_238;},_setRightLabelAttr:function(_239){this.rightLabel=_239;this.right.firstChild.innerHTML=this._cv?this._cv(_239):_239;},reset:function(){this.set("value",this._initialValue);}});return has("dojo-bidi")?_222("dojox.mobile.Switch",[_22d,_22c]):_22d;});},"dojox/mobile/_maskUtils":function(){define(["dojo/_base/window","dojo/dom-style","./sniff"],function(win,_23a,has){var _23b={};return {createRoundMask:function(node,x,y,r,b,w,h,rx,ry,e){var tw=x+w+r;var th=y+h+b;if(has("webkit")){var id=("DojoMobileMask"+x+y+w+h+rx+ry).replace(/\./g,"_");if(!_23b[id]){_23b[id]=1;var ctx=win.doc.getCSSCanvasContext("2d",id,tw,th);ctx.beginPath();if(rx==ry){if(rx==2&&w==5){ctx.fillStyle="rgba(0,0,0,0.5)";ctx.fillRect(1,0,3,2);ctx.fillRect(0,1,5,1);ctx.fillRect(0,h-2,5,1);ctx.fillRect(1,h-1,3,2);ctx.fillStyle="rgb(0,0,0)";ctx.fillRect(0,2,5,h-4);}else{if(rx==2&&h==5){ctx.fillStyle="rgba(0,0,0,0.5)";ctx.fillRect(0,1,2,3);ctx.fillRect(1,0,1,5);ctx.fillRect(w-2,0,1,5);ctx.fillRect(w-1,1,2,3);ctx.fillStyle="rgb(0,0,0)";ctx.fillRect(2,0,w-4,5);}else{ctx.fillStyle="#000000";ctx.moveTo(x+rx,y);ctx.arcTo(x,y,x,y+rx,rx);ctx.lineTo(x,y+h-rx);ctx.arcTo(x,y+h,x+rx,y+h,rx);ctx.lineTo(x+w-rx,y+h);ctx.arcTo(x+w,y+h,x+w,y+rx,rx);ctx.lineTo(x+w,y+rx);ctx.arcTo(x+w,y,x+w-rx,y,rx);}}}else{var pi=Math.PI;ctx.scale(1,ry/rx);ctx.moveTo(x+rx,y);ctx.arc(x+rx,y+rx,rx,1.5*pi,0.5*pi,true);ctx.lineTo(x+w-rx,y+2*rx);ctx.arc(x+w-rx,y+rx,rx,0.5*pi,1.5*pi,true);}ctx.closePath();ctx.fill();}node.style.webkitMaskImage="-webkit-canvas("+id+")";}else{if(has("svg")){if(node._svgMask){node.removeChild(node._svgMask);}var bg=null;for(var p=node.parentNode;p;p=p.parentNode){bg=_23a.getComputedStyle(p).backgroundColor;if(bg&&bg!="transparent"&&!bg.match(/rgba\(.*,\s*0\s*\)/)){break;}}var _23c="http://www.w3.org/2000/svg";var svg=win.doc.createElementNS(_23c,"svg");svg.setAttribute("width",tw);svg.setAttribute("height",th);svg.style.position="absolute";svg.style.pointerEvents="none";svg.style.opacity="1";svg.style.zIndex="2147483647";var path=win.doc.createElementNS(_23c,"path");e=e||0;rx+=e;ry+=e;var d=" M"+(x+rx-e)+","+(y-e)+" a"+rx+","+ry+" 0 0,0 "+(-rx)+","+ry+" v"+(-ry)+" h"+rx+" Z"+" M"+(x-e)+","+(y+h-ry+e)+" a"+rx+","+ry+" 0 0,0 "+rx+","+ry+" h"+(-rx)+" v"+(-ry)+" z"+" M"+(x+w-rx+e)+","+(y+h+e)+" a"+rx+","+ry+" 0 0,0 "+rx+","+(-ry)+" v"+ry+" h"+(-rx)+" z"+" M"+(x+w+e)+","+(y+ry-e)+" a"+rx+","+ry+" 0 0,0 "+(-rx)+","+(-ry)+" h"+rx+" v"+ry+" z";if(y>0){d+=" M0,0 h"+tw+" v"+y+" h"+(-tw)+" z";}if(b>0){d+=" M0,"+(y+h)+" h"+tw+" v"+b+" h"+(-tw)+" z";}path.setAttribute("d",d);path.setAttribute("fill",bg);path.setAttribute("stroke",bg);path.style.opacity="1";svg.appendChild(path);node._svgMask=svg;node.appendChild(svg);}}}};});},"dojox/mobile/parser":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/config","dojo/_base/lang","dojo/_base/window","dojo/ready"],function(dojo,_23d,_23e,lang,win,_23f){var dm=lang.getObject("dojox.mobile",true);var _240=function(){var _241={};var _242=function(type,_243){if(typeof (_243)==="string"){var t=type+":"+_243.replace(/ /g,"");return _241[t]||(_241[t]=_242(type).createSubclass(_23d.map(_243.split(/, */),_242)));}return _241[type]||(_241[type]=lang.getObject(type)||require(type));};var _244=function(js){return eval(js);};this.instantiate=function(_245,_246,_247){_246=_246||{};_247=_247||{};var i,ws=[];if(_245){for(i=0;i<_245.length;i++){var n=_245[i],type=n._type,ctor=_242(type,n.getAttribute("data-dojo-mixins")),_248=ctor.prototype,_249={},prop,v,t;lang.mixin(_249,_244.call(_247.propsThis,"({"+(n.getAttribute("data-dojo-props")||"")+"})"));lang.mixin(_249,_247.defaults);lang.mixin(_249,_246);for(prop in _248){v=n.getAttributeNode(prop);v=v&&v.nodeValue;t=typeof _248[prop];if(!v&&(t!=="boolean"||v!=="")){continue;}if(lang.isArray(_248[prop])){_249[prop]=v.split(/\s*,\s*/);}else{if(t==="string"){_249[prop]=v;}else{if(t==="number"){_249[prop]=v-0;}else{if(t==="boolean"){_249[prop]=(v!=="false");}else{if(t==="object"){_249[prop]=eval("("+v+")");}else{if(t==="function"){_249[prop]=lang.getObject(v,false)||new Function(v);n.removeAttribute(prop);}}}}}}}_249["class"]=n.className;if(!_249.style){_249.style=n.style.cssText;}v=n.getAttribute("data-dojo-attach-point");if(v){_249.dojoAttachPoint=v;}v=n.getAttribute("data-dojo-attach-event");if(v){_249.dojoAttachEvent=v;}var _24a=new ctor(_249,n);ws.push(_24a);var jsId=n.getAttribute("jsId")||n.getAttribute("data-dojo-id");if(jsId){lang.setObject(jsId,_24a);}}for(i=0;i<ws.length;i++){var w=ws[i];!_247.noStart&&w.startup&&!w._started&&w.startup();}}return ws;};this.parse=function(_24b,_24c){if(!_24b){_24b=win.body();}else{if(!_24c&&_24b.rootNode){_24c=_24b;_24b=_24b.rootNode;}}var _24d=_24b.getElementsByTagName("*");var i,j,list=[];for(i=0;i<_24d.length;i++){var n=_24d[i],type=(n._type=n.getAttribute("dojoType")||n.getAttribute("data-dojo-type"));if(type){if(n._skip){n._skip="";continue;}if(_242(type).prototype.stopParser&&!(_24c&&_24c.template)){var arr=n.getElementsByTagName("*");for(j=0;j<arr.length;j++){arr[j]._skip="1";}}list.push(n);}}var _24e=_24c&&_24c.template?{template:true}:null;return this.instantiate(list,_24e,_24c);};};var _24f=new _240();if(_23e.parseOnLoad){_23f(100,function(){try{if(!require("dojo/parser")){_24f.parse();}}catch(e){_24f.parse();}});}dm.parser=_24f;dojo.parser=dojo.parser||_24f;return _24f;});},"dojox/mobile/compat":function(){define(["dojo/_base/lang","dojo/sniff"],function(lang,has){var dm=lang.getObject("dojox.mobile",true);if(!(has("webkit")||has("ie")>=10)){var s="dojox/mobile/_compat";require([s]);}return dm;});},"dojox/mobile/deviceTheme":function(){(typeof define==="undefined"?function(deps,def){def();}:define)(["dojo/_base/config","dojo/_base/lang","dojo/_base/window","require"],function(_250,lang,win,_251){var dm=lang&&lang.getObject("dojox.mobile",true)||{};var _252=function(){if(!win){win=window;win.doc=document;win._no_dojo_dm=dm;}_250=_250||win.mblConfig||{};var _253=win.doc.getElementsByTagName("script");for(var i=0;i<_253.length;i++){var n=_253[i];var src=n.getAttribute("src")||"";if(src.match(/\/deviceTheme\.js/i)){_250.baseUrl=src.replace("deviceTheme.js","../../dojo/");var conf=(n.getAttribute("data-dojo-config")||n.getAttribute("djConfig"));if(conf){var obj=eval("({ "+conf+" })");for(var key in obj){_250[key]=obj[key];}}break;}else{if(src.match(/\/dojo\.js/i)){_250.baseUrl=src.replace("dojo.js","");break;}}}this.loadCssFile=function(file){var link=win.doc.createElement("link");link.href=file;link.type="text/css";link.rel="stylesheet";var head=win.doc.getElementsByTagName("head")[0];head.insertBefore(link,head.firstChild);dm.loadedCssFiles.push(link);};this.toUrl=function(path){return _251?_251.toUrl(path):_250.baseUrl+"../"+path;};this.setDm=function(_254){dm=_254;};this.themeMap=_250.themeMap||[["Holodark","holodark",[]],["Android 3","holodark",[]],["Android 4","holodark",[]],["Android","android",[]],["BlackBerry","blackberry",[]],["BB10","blackberry",[]],["iPhone","iphone",[]],["iPad","iphone",[this.toUrl("dojox/mobile/themes/iphone/ipad.css")]],["WindowsPhone","windows",[]],["MSIE [6-9]","iphone",[]],["Trident","windows",[]],["Custom","custom",[]],[".*","iphone",[]]];dm.loadedCssFiles=[];this.loadDeviceTheme=function(_255){var t=_250.mblThemeFiles||dm.themeFiles||["@theme"];var i,j;var m=this.themeMap;var ua=_255||_250.mblUserAgent||(location.search.match(/theme=(\w+)/)?RegExp.$1:navigator.userAgent);for(i=0;i<m.length;i++){if(ua.match(new RegExp(m[i][0]))){var _256=m[i][1];if(_256=="windows"&&_250.mblDisableWindowsTheme){continue;}var cls=win.doc.documentElement.className;cls=cls.replace(new RegExp(" *"+dm.currentTheme+"_theme"),"")+" "+_256+"_theme";win.doc.documentElement.className=cls;dm.currentTheme=_256;var _257=[].concat(m[i][2]);for(j=0;j<t.length;j++){var _258=(t[j] instanceof Array||typeof t[j]=="array");var path;if(!_258&&t[j].indexOf("/")!==-1){path=t[j];}else{var pkg=_258?(t[j][0]||"").replace(/\./g,"/"):"dojox/mobile";var name=(_258?t[j][1]:t[j]).replace(/\./g,"/");var f="themes/"+_256+"/"+(name==="@theme"?_256:name)+".css";path=pkg+"/"+f;}_257.unshift(this.toUrl(path));}for(var k=0;k<dm.loadedCssFiles.length;k++){var n=dm.loadedCssFiles[k];n.parentNode.removeChild(n);}dm.loadedCssFiles=[];for(j=0;j<_257.length;j++){var _259=_257[j].toString();if(_250["dojo-bidi"]==true&&_259.indexOf("_rtl")==-1){var _25a="android.css blackberry.css custom.css iphone.css holodark.css base.css Carousel.css ComboBox.css IconContainer.css IconMenu.css ListItem.css RoundRectCategory.css SpinWheel.css Switch.css TabBar.css ToggleButton.css ToolBarButton.css";var _25b=_259.substr(_259.lastIndexOf("/")+1);if(_25a.indexOf(_25b)!=-1){this.loadCssFile(_259.replace(".css","_rtl.css"));}}this.loadCssFile(_257[j].toString());}if(_255&&dm.loadCompatCssFiles){dm.loadCompatCssFiles();}break;}}};};var _25c=new _252();_25c.loadDeviceTheme();window.deviceTheme=dm.deviceTheme=_25c;return _25c;});},"dojox/data/FileStore":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel","dojo/_base/json","dojo/_base/xhr"],function(_25d,lang,_25e,_25f,xhr){return _25d("dojox.data.FileStore",null,{constructor:function(args){if(args&&args.label){this.label=args.label;}if(args&&args.url){this.url=args.url;}if(args&&args.options){if(lang.isArray(args.options)){this.options=args.options;}else{if(lang.isString(args.options)){this.options=args.options.split(",");}}}if(args&&args.pathAsQueryParam){this.pathAsQueryParam=true;}if(args&&"urlPreventCache" in args){this.urlPreventCache=args.urlPreventCache?true:false;}},url:"",_storeRef:"_S",label:"name",_identifier:"path",_attributes:["children","directory","name","path","modified","size","parentDir"],pathSeparator:"/",options:[],failOk:false,urlPreventCache:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojox.data.FileStore: a function was passed an item argument that was not an item");}},_assertIsAttribute:function(_260){if(typeof _260!=="string"){throw new Error("dojox.data.FileStore: a function was passed an attribute argument that was not an attribute name string");}},pathAsQueryParam:false,getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},getValue:function(item,_261,_262){var _263=this.getValues(item,_261);if(_263&&_263.length>0){return _263[0];}return _262;},getAttributes:function(item){return this._attributes;},hasAttribute:function(item,_264){this._assertIsItem(item);this._assertIsAttribute(_264);return (_264 in item);},getIdentity:function(item){return this.getValue(item,this._identifier);},getIdentityAttributes:function(item){return [this._identifier];},isItemLoaded:function(item){var _265=this.isItem(item);if(_265&&typeof item._loaded=="boolean"&&!item._loaded){_265=false;}return _265;},loadItem:function(_266){var item=_266.item;var self=this;var _267=_266.scope||_25e.global;var _268={};if(this.options.length>0){_268.options=_25f.toJson(this.options);}if(this.pathAsQueryParam){_268.path=item.parentPath+this.pathSeparator+item.name;}var _269={url:this.pathAsQueryParam?this.url:this.url+"/"+item.parentPath+"/"+item.name,handleAs:"json-comment-optional",content:_268,preventCache:this.urlPreventCache,failOk:this.failOk};var _26a=xhr.get(_269);_26a.addErrback(function(_26b){if(_266.onError){_266.onError.call(_267,_26b);}});_26a.addCallback(function(data){delete item.parentPath;delete item._loaded;lang.mixin(item,data);self._processItem(item);if(_266.onItem){_266.onItem.call(_267,item);}});},getLabel:function(item){return this.getValue(item,this.label);},getLabelAttributes:function(item){return [this.label];},containsValue:function(item,_26c,_26d){var _26e=this.getValues(item,_26c);for(var i=0;i<_26e.length;i++){if(_26e[i]==_26d){return true;}}return false;},getValues:function(item,_26f){this._assertIsItem(item);this._assertIsAttribute(_26f);var _270=item[_26f];if(typeof _270!=="undefined"&&!lang.isArray(_270)){_270=[_270];}else{if(typeof _270==="undefined"){_270=[];}}return _270;},isItem:function(item){if(item&&item[this._storeRef]===this){return true;}return false;},close:function(_271){},fetch:function(_272){_272=_272||{};if(!_272.store){_272.store=this;}var self=this;var _273=_272.scope||_25e.global;var _274={};if(_272.query){_274.query=_25f.toJson(_272.query);}if(_272.sort){_274.sort=_25f.toJson(_272.sort);}if(_272.queryOptions){_274.queryOptions=_25f.toJson(_272.queryOptions);}if(typeof _272.start=="number"){_274.start=""+_272.start;}if(typeof _272.count=="number"){_274.count=""+_272.count;}if(this.options.length>0){_274.options=_25f.toJson(this.options);}var _275={url:this.url,preventCache:this.urlPreventCache,failOk:this.failOk,handleAs:"json-comment-optional",content:_274};var _276=xhr.get(_275);_276.addCallback(function(data){self._processResult(data,_272);});_276.addErrback(function(_277){if(_272.onError){_272.onError.call(_273,_277,_272);}});},fetchItemByIdentity:function(_278){var path=_278.identity;var self=this;var _279=_278.scope||_25e.global;var _27a={};if(this.options.length>0){_27a.options=_25f.toJson(this.options);}if(this.pathAsQueryParam){_27a.path=path;}var _27b={url:this.pathAsQueryParam?this.url:this.url+"/"+path,handleAs:"json-comment-optional",content:_27a,preventCache:this.urlPreventCache,failOk:this.failOk};var _27c=xhr.get(_27b);_27c.addErrback(function(_27d){if(_278.onError){_278.onError.call(_279,_27d);}});_27c.addCallback(function(data){var item=self._processItem(data);if(_278.onItem){_278.onItem.call(_279,item);}});},_processResult:function(data,_27e){var _27f=_27e.scope||_25e.global;try{if(data.pathSeparator){this.pathSeparator=data.pathSeparator;}if(_27e.onBegin){_27e.onBegin.call(_27f,data.total,_27e);}var _280=this._processItemArray(data.items);if(_27e.onItem){var i;for(i=0;i<_280.length;i++){_27e.onItem.call(_27f,_280[i],_27e);}_280=null;}if(_27e.onComplete){_27e.onComplete.call(_27f,_280,_27e);}}catch(e){if(_27e.onError){_27e.onError.call(_27f,e,_27e);}else{}}},_processItemArray:function(_281){var i;for(i=0;i<_281.length;i++){this._processItem(_281[i]);}return _281;},_processItem:function(item){if(!item){return null;}item[this._storeRef]=this;if(item.children&&item.directory){if(lang.isArray(item.children)){var _282=item.children;var i;for(i=0;i<_282.length;i++){var name=_282[i];if(lang.isObject(name)){_282[i]=this._processItem(name);}else{_282[i]={name:name,_loaded:false,parentPath:item.path};_282[i][this._storeRef]=this;}}}else{delete item.children;}}return item;}});});},"dojo/_base/query":function(){define(["../query","./NodeList"],function(_283){return _283;});},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(_284,_285,_286,lang,_287){return _285("dijit.tree.ForestStoreModel",_287,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_288){this.root={store:this,root:true,id:_288.rootId,label:_288.rootLabel,children:_288.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_289,_28a,_28b){if(_289===this.root){if(this.root.children){_28a(this.root.children);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_28c){this.root.children=_28c;_28a(_28c);}),onError:_28b});}}else{this.inherited(arguments);}},isItem:function(_28d){return (_28d===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function(_28e){if(_28e.identity==this.root.id){var _28f=_28e.scope||_286.global;if(_28e.onItem){_28e.onItem.call(_28f,this.root);}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_290,_291){if(_290===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(){},pasteItem:function(_292,_293,_294,_295,_296){if(_293===this.root){if(!_295){this.onLeaveRoot(_292);}}this.inherited(arguments,[_292,_293===this.root?null:_293,_294===this.root?null:_294,_295,_296]);if(_294===this.root){this.onAddToRoot(_292);}},onAddToRoot:function(item){},onLeaveRoot:function(item){},_requeryTop:function(){var _297=this.root.children||[];this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_298){this.root.children=_298;if(_297.length!=_298.length||_284.some(_297,function(item,idx){return _298[idx]!=item;})){this.onChildrenChange(this.root,_298);}})});},onNewItem:function(item,_299){this._requeryTop();this.inherited(arguments);},onDeleteItem:function(item){if(_284.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);},onSetItem:function(item,_29a,_29b,_29c){this._requeryTop();this.inherited(arguments);}});});},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(_29d,_29e,_29f,lang){return _29f("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){lang.mixin(this,args);this.connects=[];var _2a0=this.store;if(!_2a0.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");}if(_2a0.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([_29e.after(_2a0,"onNew",lang.hitch(this,"onNewItem"),true),_29e.after(_2a0,"onDelete",lang.hitch(this,"onDeleteItem"),true),_29e.after(_2a0,"onSet",lang.hitch(this,"onSetItem"),true)]);}},destroy:function(){var h;while(h=this.connects.pop()){h.remove();}},getRoot:function(_2a1,_2a2){if(this.root){_2a1(this.root);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_2a3){if(_2a3.length!=1){throw new Error("dijit.tree.TreeStoreModel: root query returned "+_2a3.length+" items, but must return exactly one");}this.root=_2a3[0];_2a1(this.root);}),onError:_2a2});}},mayHaveChildren:function(item){return _29d.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function(_2a4,_2a5,_2a6){var _2a7=this.store;if(!_2a7.isItemLoaded(_2a4)){var _2a8=lang.hitch(this,arguments.callee);_2a7.loadItem({item:_2a4,onItem:function(_2a9){_2a8(_2a9,_2a5,_2a6);},onError:_2a6});return;}var _2aa=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_2a7.getValues(_2a4,this.childrenAttrs[i]);_2aa=_2aa.concat(vals);}var _2ab=0;if(!this.deferItemLoadingUntilExpand){_29d.forEach(_2aa,function(item){if(!_2a7.isItemLoaded(item)){_2ab++;}});}if(_2ab==0){_2a5(_2aa);}else{_29d.forEach(_2aa,function(item,idx){if(!_2a7.isItemLoaded(item)){_2a7.loadItem({item:item,onItem:function(item){_2aa[idx]=item;if(--_2ab==0){_2a5(_2aa);}},onError:_2a6});}});}},isItem:function(_2ac){return this.store.isItem(_2ac);},fetchItemByIdentity:function(_2ad){this.store.fetchItemByIdentity(_2ad);},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function(args,_2ae,_2af){var _2b0={parent:_2ae,attribute:this.childrenAttrs[0]},_2b1;if(this.newItemIdAttr&&args[this.newItemIdAttr]){this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){if(item){this.pasteItem(item,null,_2ae,true,_2af);}else{_2b1=this.store.newItem(args,_2b0);if(_2b1&&(_2af!=undefined)){this.pasteItem(_2b1,_2ae,_2ae,false,_2af);}}}});}else{_2b1=this.store.newItem(args,_2b0);if(_2b1&&(_2af!=undefined)){this.pasteItem(_2b1,_2ae,_2ae,false,_2af);}}},pasteItem:function(_2b2,_2b3,_2b4,_2b5,_2b6){var _2b7=this.store,_2b8=this.childrenAttrs[0];if(_2b3){_29d.forEach(this.childrenAttrs,function(attr){if(_2b7.containsValue(_2b3,attr,_2b2)){if(!_2b5){var _2b9=_29d.filter(_2b7.getValues(_2b3,attr),function(x){return x!=_2b2;});_2b7.setValues(_2b3,attr,_2b9);}_2b8=attr;}});}if(_2b4){if(typeof _2b6=="number"){var _2ba=_2b7.getValues(_2b4,_2b8).slice();_2ba.splice(_2b6,0,_2b2);_2b7.setValues(_2b4,_2b8,_2ba);}else{_2b7.setValues(_2b4,_2b8,_2b7.getValues(_2b4,_2b8).concat(_2b2));}}},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(item,_2bb){if(!_2bb){return;}this.getChildren(_2bb.item,lang.hitch(this,function(_2bc){this.onChildrenChange(_2bb.item,_2bc);}));},onDeleteItem:function(item){this.onDelete(item);},onSetItem:function(item,_2bd){if(_29d.indexOf(this.childrenAttrs,_2bd)!=-1){this.getChildren(item,lang.hitch(this,function(_2be){this.onChildrenChange(item,_2be);}));}else{this.onChange(item);}}});});},"dojox/mobile/_ScrollableMixin":function(){define(["dojo/_base/kernel","dojo/_base/config","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom","dojo/dom-class","dijit/registry","./scrollable"],function(dojo,_2bf,_2c0,lang,win,dom,_2c1,_2c2,_2c3){var cls=_2c0("dojox.mobile._ScrollableMixin",_2c3,{fixedHeader:"",fixedFooter:"",_fixedAppFooter:"",scrollableParams:null,allowNestedScrolls:true,appBars:true,constructor:function(){this.scrollableParams={};},destroy:function(){this.cleanup();this.inherited(arguments);},startup:function(){if(this._started){return;}if(this._fixedAppFooter){this._fixedAppFooter=dom.byId(this._fixedAppFooter);}this.findAppBars();var node,_2c4=this.scrollableParams;if(this.fixedHeader){node=dom.byId(this.fixedHeader);if(node.parentNode==this.domNode){this.isLocalHeader=true;}_2c4.fixedHeaderHeight=node.offsetHeight;}if(this.fixedFooter){node=dom.byId(this.fixedFooter);if(node.parentNode==this.domNode){this.isLocalFooter=true;node.style.bottom="0px";}_2c4.fixedFooterHeight=node.offsetHeight;}this.scrollType=this.scrollType||_2bf.mblScrollableScrollType||0;this.init(_2c4);if(this.allowNestedScrolls){for(var p=this.getParent();p;p=p.getParent()){if(p&&p.scrollableParams){this.dirLock=true;p.dirLock=true;break;}}}this._resizeHandle=this.subscribe("/dojox/mobile/afterResizeAll",function(){if(this.domNode.style.display==="none"){return;}var elem=win.doc.activeElement;if(this.isFormElement(elem)&&dom.isDescendant(elem,this.containerNode)){this.scrollIntoView(elem);}});this.inherited(arguments);},findAppBars:function(){if(!this.appBars){return;}var i,len,c;for(i=0,len=win.body().childNodes.length;i<len;i++){c=win.body().childNodes[i];this.checkFixedBar(c,false);}if(this.domNode.parentNode){for(i=0,len=this.domNode.parentNode.childNodes.length;i<len;i++){c=this.domNode.parentNode.childNodes[i];this.checkFixedBar(c,false);}}this.fixedFooterHeight=this.fixedFooter?this.fixedFooter.offsetHeight:0;},checkFixedBar:function(node,_2c5){if(node.nodeType===1){var _2c6=node.getAttribute("fixed")||node.getAttribute("data-mobile-fixed")||(_2c2.byNode(node)&&_2c2.byNode(node).fixed);if(_2c6==="top"){_2c1.add(node,"mblFixedHeaderBar");if(_2c5){node.style.top="0px";this.fixedHeader=node;}return _2c6;}else{if(_2c6==="bottom"){_2c1.add(node,"mblFixedBottomBar");if(_2c5){this.fixedFooter=node;}else{this._fixedAppFooter=node;}return _2c6;}}}return null;}});return cls;});},"dojox/mobile/scrollable":function(){define(["dojo/_base/kernel","dojo/_base/connect","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-geometry","dojo/touch","./sniff","./_css3","./_maskUtils"],function(dojo,_2c7,_2c8,lang,win,_2c9,_2ca,_2cb,_2cc,_2cd,has,css3,_2ce){var dm=lang.getObject("dojox.mobile",true);has.add("translate3d",function(){if(has("css3-animations")){var elem=win.doc.createElement("div");elem.style[css3.name("transform")]="translate3d(0px,1px,0px)";win.doc.documentElement.appendChild(elem);var v=win.doc.defaultView.getComputedStyle(elem,"")[css3.name("transform",true)];var _2cf=v&&v.indexOf("matrix")===0;win.doc.documentElement.removeChild(elem);return _2cf;}});var _2d0=function(){};lang.extend(_2d0,{fixedHeaderHeight:0,fixedFooterHeight:0,isLocalFooter:false,scrollBar:true,scrollDir:"v",weight:0.6,fadeScrollBar:true,disableFlashScrollBar:false,threshold:4,constraint:true,touchNode:null,propagatable:true,dirLock:false,height:"",scrollType:0,_parentPadBorderExtentsBottom:0,_moved:false,init:function(_2d1){if(_2d1){for(var p in _2d1){if(_2d1.hasOwnProperty(p)){this[p]=((p=="domNode"||p=="containerNode")&&typeof _2d1[p]=="string")?win.doc.getElementById(_2d1[p]):_2d1[p];}}}if(typeof this.domNode.style.msTouchAction!="undefined"){this.domNode.style.msTouchAction="none";}this.touchNode=this.touchNode||this.containerNode;this._v=(this.scrollDir.indexOf("v")!=-1);this._h=(this.scrollDir.indexOf("h")!=-1);this._f=(this.scrollDir=="f");this._ch=[];this._ch.push(_2c7.connect(this.touchNode,_2cd.press,this,"onTouchStart"));if(has("css3-animations")){this._useTopLeft=this.scrollType?this.scrollType===2:false;if(!this._useTopLeft){this._useTransformTransition=this.scrollType?this.scrollType===3:has("ios")>=6||has("android")||has("bb");}if(!this._useTopLeft){if(this._useTransformTransition){this._ch.push(_2c7.connect(this.domNode,css3.name("transitionEnd"),this,"onFlickAnimationEnd"));this._ch.push(_2c7.connect(this.domNode,css3.name("transitionStart"),this,"onFlickAnimationStart"));}else{this._ch.push(_2c7.connect(this.domNode,css3.name("animationEnd"),this,"onFlickAnimationEnd"));this._ch.push(_2c7.connect(this.domNode,css3.name("animationStart"),this,"onFlickAnimationStart"));for(var i=0;i<3;i++){this.setKeyframes(null,null,i);}}if(has("translate3d")){_2cb.set(this.containerNode,css3.name("transform"),"translate3d(0,0,0)");}}else{this._ch.push(_2c7.connect(this.domNode,css3.name("transitionEnd"),this,"onFlickAnimationEnd"));this._ch.push(_2c7.connect(this.domNode,css3.name("transitionStart"),this,"onFlickAnimationStart"));}}this._speed={x:0,y:0};this._appFooterHeight=0;if(this.isTopLevel()&&!this.noResize){this.resize();}var _2d2=this;setTimeout(function(){_2d2.flashScrollBar();},600);if(win.global.addEventListener){this._onScroll=function(e){if(!_2d2.domNode||_2d2.domNode.style.display==="none"){return;}var _2d3=_2d2.domNode.scrollTop;var _2d4=_2d2.domNode.scrollLeft;var pos;if(_2d3>0||_2d4>0){pos=_2d2.getPos();_2d2.domNode.scrollLeft=0;_2d2.domNode.scrollTop=0;_2d2.scrollTo({x:pos.x-_2d4,y:pos.y-_2d3});}};win.global.addEventListener("scroll",this._onScroll,true);}if(!this.disableTouchScroll&&this.domNode.addEventListener){this._onFocusScroll=function(e){if(!_2d2.domNode||_2d2.domNode.style.display==="none"){return;}var node=win.doc.activeElement;var _2d5,_2d6;if(node){_2d5=node.getBoundingClientRect();_2d6=_2d2.domNode.getBoundingClientRect();if(_2d5.height<_2d2.getDim().d.h){if(_2d5.top<(_2d6.top+_2d2.fixedHeaderHeight)){_2d2.scrollIntoView(node,true);}else{if((_2d5.top+_2d5.height)>(_2d6.top+_2d6.height-_2d2.fixedFooterHeight)){_2d2.scrollIntoView(node,false);}}}}};this.domNode.addEventListener("focus",this._onFocusScroll,true);}},isTopLevel:function(){return true;},cleanup:function(){if(this._ch){for(var i=0;i<this._ch.length;i++){_2c7.disconnect(this._ch[i]);}this._ch=null;}if(this._onScroll&&win.global.removeEventListener){win.global.removeEventListener("scroll",this._onScroll,true);this._onScroll=null;}if(this._onFocusScroll&&this.domNode.removeEventListener){this.domNode.removeEventListener("focus",this._onFocusScroll,true);this._onFocusScroll=null;}},findDisp:function(node){if(!node.parentNode){return null;}if(node.nodeType===1&&_2c9.contains(node,"mblSwapView")&&node.style.display!=="none"){return node;}var _2d7=node.parentNode.childNodes;for(var i=0;i<_2d7.length;i++){var n=_2d7[i];if(n.nodeType===1&&_2c9.contains(n,"mblView")&&n.style.display!=="none"){return n;}}return node;},getScreenSize:function(){return {h:win.global.innerHeight||win.doc.documentElement.clientHeight||win.doc.documentElement.offsetHeight,w:win.global.innerWidth||win.doc.documentElement.clientWidth||win.doc.documentElement.offsetWidth};},resize:function(e){this._appFooterHeight=(this._fixedAppFooter)?this._fixedAppFooter.offsetHeight:0;if(this.isLocalHeader){this.containerNode.style.marginTop=this.fixedHeaderHeight+"px";}var top=0;for(var n=this.domNode;n&&n.tagName!="BODY";n=n.offsetParent){n=this.findDisp(n);if(!n){break;}top+=n.offsetTop+_2cc.getBorderExtents(n).h;}var h,_2d8=this.getScreenSize().h,dh=_2d8-top-this._appFooterHeight;if(this.height==="inherit"){if(this.domNode.offsetParent){h=_2cc.getContentBox(this.domNode.offsetParent).h-_2cc.getBorderExtents(this.domNode).h+"px";}}else{if(this.height==="auto"){var _2d9=this.domNode.offsetParent;if(_2d9){this.domNode.style.height="0px";var _2da=_2d9.getBoundingClientRect(),_2db=this.domNode.getBoundingClientRect(),_2dc=_2da.bottom-this._appFooterHeight-this._parentPadBorderExtentsBottom;if(_2db.bottom>=_2dc){dh=_2d8-(_2db.top-_2da.top)-this._appFooterHeight-this._parentPadBorderExtentsBottom;}else{dh=_2dc-_2db.bottom;}}var _2dd=Math.max(this.domNode.scrollHeight,this.containerNode.scrollHeight);h=(_2dd?Math.min(_2dd,dh):dh)+"px";}else{if(this.height){h=this.height;}}}if(!h){h=dh+"px";}if(h.charAt(0)!=="-"&&h!=="default"){this.domNode.style.height=h;}if(!this._conn){this.onTouchEnd();}},onFlickAnimationStart:function(e){_2c8.stop(e);},onFlickAnimationEnd:function(e){if(has("ios")){this._keepInputCaretInActiveElement();}if(e){var an=e.animationName;if(an&&an.indexOf("scrollableViewScroll2")===-1){if(an.indexOf("scrollableViewScroll0")!==-1){if(this._scrollBarNodeV){_2c9.remove(this._scrollBarNodeV,"mblScrollableScrollTo0");}}else{if(an.indexOf("scrollableViewScroll1")!==-1){if(this._scrollBarNodeH){_2c9.remove(this._scrollBarNodeH,"mblScrollableScrollTo1");}}else{if(this._scrollBarNodeV){this._scrollBarNodeV.className="";}if(this._scrollBarNodeH){this._scrollBarNodeH.className="";}}}return;}if(this._useTransformTransition||this._useTopLeft){var n=e.target;if(n===this._scrollBarV||n===this._scrollBarH){var cls="mblScrollableScrollTo"+(n===this._scrollBarV?"0":"1");if(_2c9.contains(n,cls)){_2c9.remove(n,cls);}else{n.className="";}return;}}if(e.srcElement){_2c8.stop(e);}}this.stopAnimation();if(this._bounce){var _2de=this;var _2df=_2de._bounce;setTimeout(function(){_2de.slideTo(_2df,0.3,"ease-out");},0);_2de._bounce=undefined;}else{this.hideScrollBar();this.removeCover();}},isFormElement:function(node){if(node&&node.nodeType!==1){node=node.parentNode;}if(!node||node.nodeType!==1){return false;}var t=node.tagName;return (t==="SELECT"||t==="INPUT"||t==="TEXTAREA"||t==="BUTTON");},onTouchStart:function(e){if(this.disableTouchScroll){return;}if(this._conn&&(new Date()).getTime()-this.startTime<500){return;}if(!this._conn){this._conn=[];this._conn.push(_2c7.connect(win.doc,_2cd.move,this,"onTouchMove"));this._conn.push(_2c7.connect(win.doc,_2cd.release,this,"onTouchEnd"));}this._aborted=false;if(_2c9.contains(this.containerNode,"mblScrollableScrollTo2")){this.abort();}else{if(this._scrollBarNodeV){this._scrollBarNodeV.className="";}if(this._scrollBarNodeH){this._scrollBarNodeH.className="";}}this.touchStartX=e.touches?e.touches[0].pageX:e.clientX;this.touchStartY=e.touches?e.touches[0].pageY:e.clientY;this.startTime=(new Date()).getTime();this.startPos=this.getPos();this._dim=this.getDim();this._time=[0];this._posX=[this.touchStartX];this._posY=[this.touchStartY];this._locked=false;this._moved=false;if(!this.isFormElement(e.target)){this.propagatable?e.preventDefault():_2c8.stop(e);}},onTouchMove:function(e){if(this._locked){return;}var x=e.touches?e.touches[0].pageX:e.clientX;var y=e.touches?e.touches[0].pageY:e.clientY;var dx=x-this.touchStartX;var dy=y-this.touchStartY;var to={x:this.startPos.x+dx,y:this.startPos.y+dy};var dim=this._dim;dx=Math.abs(dx);dy=Math.abs(dy);if(this._time.length==1){if(this.dirLock){if(this._v&&!this._h&&dx>=this.threshold&&dx>=dy||(this._h||this._f)&&!this._v&&dy>=this.threshold&&dy>=dx){this._locked=true;return;}}if(this._v&&this._h){if(dy<this.threshold&&dx<this.threshold){return;}}else{if(this._v&&dy<this.threshold||(this._h||this._f)&&dx<this.threshold){return;}}this._moved=true;this.addCover();this.showScrollBar();}var _2e0=this.weight;if(this._v&&this.constraint){if(to.y>0){to.y=Math.round(to.y*_2e0);}else{if(to.y<-dim.o.h){if(dim.c.h<dim.d.h){to.y=Math.round(to.y*_2e0);}else{to.y=-dim.o.h-Math.round((-dim.o.h-to.y)*_2e0);}}}}if((this._h||this._f)&&this.constraint){if(to.x>0){to.x=Math.round(to.x*_2e0);}else{if(to.x<-dim.o.w){if(dim.c.w<dim.d.w){to.x=Math.round(to.x*_2e0);}else{to.x=-dim.o.w-Math.round((-dim.o.w-to.x)*_2e0);}}}}this.scrollTo(to);var max=10;var n=this._time.length;if(n>=2){this._moved=true;var d0,d1;if(this._v&&!this._h){d0=this._posY[n-1]-this._posY[n-2];d1=y-this._posY[n-1];}else{if(!this._v&&this._h){d0=this._posX[n-1]-this._posX[n-2];d1=x-this._posX[n-1];}}if(d0*d1<0){this._time=[this._time[n-1]];this._posX=[this._posX[n-1]];this._posY=[this._posY[n-1]];n=1;}}if(n==max){this._time.shift();this._posX.shift();this._posY.shift();}this._time.push((new Date()).getTime()-this.startTime);this._posX.push(x);this._posY.push(y);},_keepInputCaretInActiveElement:function(){var _2e1=win.doc.activeElement;var _2e2;if(_2e1&&(_2e1.tagName=="INPUT"||_2e1.tagName=="TEXTAREA")){_2e2=_2e1.value;if(_2e1.type=="number"||_2e1.type=="week"){if(_2e2){_2e1.value=_2e1.value+1;}else{_2e1.value=(_2e1.type=="week")?"2013-W10":1;}_2e1.value=_2e2;}else{_2e1.value=_2e1.value+" ";_2e1.value=_2e2;}}},onTouchEnd:function(e){if(this._locked){return;}var _2e3=this._speed={x:0,y:0};var dim=this._dim;var pos=this.getPos();var to={};if(e){if(!this._conn){return;}for(var i=0;i<this._conn.length;i++){_2c7.disconnect(this._conn[i]);}this._conn=null;var _2e4=false;if(!this._aborted&&!this._moved){_2e4=true;}if(_2e4){this.hideScrollBar();this.removeCover();if(has("touch")&&has("clicks-prevented")&&!this.isFormElement(e.target)){var elem=e.target;if(elem.nodeType!=1){elem=elem.parentNode;}setTimeout(function(){dm._sendClick(elem,e);});}return;}_2e3=this._speed=this.getSpeed();}else{if(pos.x==0&&pos.y==0){return;}dim=this.getDim();}if(this._v){to.y=pos.y+_2e3.y;}if(this._h||this._f){to.x=pos.x+_2e3.x;}if(this.adjustDestination(to,pos,dim)===false){return;}if(this.constraint){if(this.scrollDir=="v"&&dim.c.h<dim.d.h){this.slideTo({y:0},0.3,"ease-out");return;}else{if(this.scrollDir=="h"&&dim.c.w<dim.d.w){this.slideTo({x:0},0.3,"ease-out");return;}else{if(this._v&&this._h&&dim.c.h<dim.d.h&&dim.c.w<dim.d.w){this.slideTo({x:0,y:0},0.3,"ease-out");return;}}}}var _2e5,_2e6="ease-out";var _2e7={};if(this._v&&this.constraint){if(to.y>0){if(pos.y>0){_2e5=0.3;to.y=0;}else{to.y=Math.min(to.y,20);_2e6="linear";_2e7.y=0;}}else{if(-_2e3.y>dim.o.h-(-pos.y)){if(pos.y<-dim.o.h){_2e5=0.3;to.y=dim.c.h<=dim.d.h?0:-dim.o.h;}else{to.y=Math.max(to.y,-dim.o.h-20);_2e6="linear";_2e7.y=-dim.o.h;}}}}if((this._h||this._f)&&this.constraint){if(to.x>0){if(pos.x>0){_2e5=0.3;to.x=0;}else{to.x=Math.min(to.x,20);_2e6="linear";_2e7.x=0;}}else{if(-_2e3.x>dim.o.w-(-pos.x)){if(pos.x<-dim.o.w){_2e5=0.3;to.x=dim.c.w<=dim.d.w?0:-dim.o.w;}else{to.x=Math.max(to.x,-dim.o.w-20);_2e6="linear";_2e7.x=-dim.o.w;}}}}this._bounce=(_2e7.x!==undefined||_2e7.y!==undefined)?_2e7:undefined;if(_2e5===undefined){var _2e8,_2e9;if(this._v&&this._h){_2e9=Math.sqrt(_2e3.x*_2e3.x+_2e3.y*_2e3.y);_2e8=Math.sqrt(Math.pow(to.y-pos.y,2)+Math.pow(to.x-pos.x,2));}else{if(this._v){_2e9=_2e3.y;_2e8=to.y-pos.y;}else{if(this._h){_2e9=_2e3.x;_2e8=to.x-pos.x;}}}if(_2e8===0&&!e){return;}_2e5=_2e9!==0?Math.abs(_2e8/_2e9):0.01;}this.slideTo(to,_2e5,_2e6);},adjustDestination:function(to,pos,dim){return true;},abort:function(){this._aborted=true;this.scrollTo(this.getPos());this.stopAnimation();},stopAnimation:function(){_2c9.remove(this.containerNode,"mblScrollableScrollTo2");if(this._scrollBarV){this._scrollBarV.className="";}if(this._scrollBarH){this._scrollBarH.className="";}if(this._useTransformTransition||this._useTopLeft){this.containerNode.style[css3.name("transition")]="";if(this._scrollBarV){this._scrollBarV.style[css3.name("transition")]="";}if(this._scrollBarH){this._scrollBarH.style[css3.name("transition")]="";}}},scrollIntoView:function(node,_2ea,_2eb){if(!this._v){return;}var c=this.containerNode,h=this.getDim().d.h,top=0;for(var n=node;n!==c;n=n.offsetParent){if(!n||n.tagName==="BODY"){return;}top+=n.offsetTop;}var y=_2ea?Math.max(h-c.offsetHeight,-top):Math.min(0,h-top-node.offsetHeight);(_2eb&&typeof _2eb==="number")?this.slideTo({y:y},_2eb,"ease-out"):this.scrollTo({y:y});},getSpeed:function(){var x=0,y=0,n=this._time.length;if(n>=2&&(new Date()).getTime()-this.startTime-this._time[n-1]<500){var dy=this._posY[n-(n>3?2:1)]-this._posY[(n-6)>=0?n-6:0];var dx=this._posX[n-(n>3?2:1)]-this._posX[(n-6)>=0?n-6:0];var dt=this._time[n-(n>3?2:1)]-this._time[(n-6)>=0?n-6:0];y=this.calcSpeed(dy,dt);x=this.calcSpeed(dx,dt);}return {x:x,y:y};},calcSpeed:function(_2ec,time){return Math.round(_2ec/time*100)*4;},scrollTo:function(to,_2ed,node){var _2ee,_2ef,_2f0;var _2f1=true;if(!this._aborted&&this._conn){if(!this._dim){this._dim=this.getDim();}_2ef=(to.y>0)?to.y:0;_2f0=(this._dim.o.h+to.y<0)?-1*(this._dim.o.h+to.y):0;_2ee={bubbles:false,cancelable:false,x:to.x,y:to.y,beforeTop:_2ef>0,beforeTopHeight:_2ef,afterBottom:_2f0>0,afterBottomHeight:_2f0};_2f1=this.onBeforeScroll(_2ee);}if(_2f1){var s=(node||this.containerNode).style;if(has("css3-animations")){if(!this._useTopLeft){if(this._useTransformTransition){s[css3.name("transition")]="";}s[css3.name("transform")]=this.makeTranslateStr(to);}else{s[css3.name("transition")]="";if(this._v){s.top=to.y+"px";}if(this._h||this._f){s.left=to.x+"px";}}}else{if(this._v){s.top=to.y+"px";}if(this._h||this._f){s.left=to.x+"px";}}if(has("ios")){this._keepInputCaretInActiveElement();}if(!_2ed){this.scrollScrollBarTo(this.calcScrollBarPos(to));}if(_2ee){this.onAfterScroll(_2ee);}}},onBeforeScroll:function(e){return true;},onAfterScroll:function(e){},slideTo:function(to,_2f2,_2f3){this._runSlideAnimation(this.getPos(),to,_2f2,_2f3,this.containerNode,2);this.slideScrollBarTo(to,_2f2,_2f3);},makeTranslateStr:function(to){var y=this._v&&typeof to.y=="number"?to.y+"px":"0px";var x=(this._h||this._f)&&typeof to.x=="number"?to.x+"px":"0px";return has("translate3d")?"translate3d("+x+","+y+",0px)":"translate("+x+","+y+")";},getPos:function(){if(has("css3-animations")){var s=win.doc.defaultView.getComputedStyle(this.containerNode,"");if(!this._useTopLeft){var m=s[css3.name("transform")];if(m&&m.indexOf("matrix")===0){var arr=m.split(/[,\s\)]+/);var i=m.indexOf("matrix3d")===0?12:4;return {y:arr[i+1]-0,x:arr[i]-0};}return {x:0,y:0};}else{return {x:parseInt(s.left)||0,y:parseInt(s.top)||0};}}else{var y=parseInt(this.containerNode.style.top)||0;return {y:y,x:this.containerNode.offsetLeft};}},getDim:function(){var d={};d.c={h:this.containerNode.offsetHeight,w:this.containerNode.offsetWidth};d.v={h:this.domNode.offsetHeight+this._appFooterHeight,w:this.domNode.offsetWidth};d.d={h:d.v.h-this.fixedHeaderHeight-this.fixedFooterHeight-this._appFooterHeight,w:d.v.w};d.o={h:d.c.h-d.v.h+this.fixedHeaderHeight+this.fixedFooterHeight+this._appFooterHeight,w:d.c.w-d.v.w};return d;},showScrollBar:function(){if(!this.scrollBar){return;}var dim=this._dim;if(this.scrollDir=="v"&&dim.c.h<=dim.d.h){return;}if(this.scrollDir=="h"&&dim.c.w<=dim.d.w){return;}if(this._v&&this._h&&dim.c.h<=dim.d.h&&dim.c.w<=dim.d.w){return;}var _2f4=function(self,dir){var bar=self["_scrollBarNode"+dir];if(!bar){var _2f5=_2ca.create("div",null,self.domNode);var _2f6={position:"absolute",overflow:"hidden"};if(dir=="V"){_2f6.right="2px";_2f6.width="5px";}else{_2f6.bottom=(self.isLocalFooter?self.fixedFooterHeight:0)+2+"px";_2f6.height="5px";}_2cb.set(_2f5,_2f6);_2f5.className="mblScrollBarWrapper";self["_scrollBarWrapper"+dir]=_2f5;bar=_2ca.create("div",null,_2f5);_2cb.set(bar,css3.add({opacity:0.6,position:"absolute",backgroundColor:"#606060",fontSize:"1px",MozBorderRadius:"2px",zIndex:2147483647},{borderRadius:"2px",transformOrigin:"0 0"}));_2cb.set(bar,dir=="V"?{width:"5px"}:{height:"5px"});self["_scrollBarNode"+dir]=bar;}return bar;};if(this._v&&!this._scrollBarV){this._scrollBarV=_2f4(this,"V");}if(this._h&&!this._scrollBarH){this._scrollBarH=_2f4(this,"H");}this.resetScrollBar();},hideScrollBar:function(){if(this.fadeScrollBar&&has("css3-animations")){if(!dm._fadeRule){var node=_2ca.create("style",null,win.doc.getElementsByTagName("head")[0]);node.textContent=".mblScrollableFadeScrollBar{"+"  "+css3.name("animation-duration",true)+": 1s;"+"  "+css3.name("animation-name",true)+": scrollableViewFadeScrollBar;}"+"@"+css3.name("keyframes",true)+" scrollableViewFadeScrollBar{"+"  from { opacity: 0.6; }"+"  to { opacity: 0; }}";dm._fadeRule=node.sheet.cssRules[1];}}if(!this.scrollBar){return;}var f=function(bar,self){_2cb.set(bar,css3.add({opacity:0},{animationDuration:""}));if(!(self._useTopLeft&&has("android"))){bar.className="mblScrollableFadeScrollBar";}};if(this._scrollBarV){f(this._scrollBarV,this);this._scrollBarV=null;}if(this._scrollBarH){f(this._scrollBarH,this);this._scrollBarH=null;}},calcScrollBarPos:function(to){var pos={};var dim=this._dim;var f=function(_2f7,barH,t,d,c){var y=Math.round((d-barH-8)/(d-c)*t);if(y<-barH+5){y=-barH+5;}if(y>_2f7-5){y=_2f7-5;}return y;};if(typeof to.y=="number"&&this._scrollBarV){pos.y=f(this._scrollBarWrapperV.offsetHeight,this._scrollBarV.offsetHeight,to.y,dim.d.h,dim.c.h);}if(typeof to.x=="number"&&this._scrollBarH){pos.x=f(this._scrollBarWrapperH.offsetWidth,this._scrollBarH.offsetWidth,to.x,dim.d.w,dim.c.w);}return pos;},scrollScrollBarTo:function(to){if(!this.scrollBar){return;}if(this._v&&this._scrollBarV&&typeof to.y=="number"){if(has("css3-animations")){if(!this._useTopLeft){if(this._useTransformTransition){this._scrollBarV.style[css3.name("transition")]="";}this._scrollBarV.style[css3.name("transform")]=this.makeTranslateStr({y:to.y});}else{_2cb.set(this._scrollBarV,css3.add({top:to.y+"px"},{transition:""}));}}else{this._scrollBarV.style.top=to.y+"px";}}if(this._h&&this._scrollBarH&&typeof to.x=="number"){if(has("css3-animations")){if(!this._useTopLeft){if(this._useTransformTransition){this._scrollBarH.style[css3.name("transition")]="";}this._scrollBarH.style[css3.name("transform")]=this.makeTranslateStr({x:to.x});}else{_2cb.set(this._scrollBarH,css3.add({left:to.x+"px"},{transition:""}));}}else{this._scrollBarH.style.left=to.x+"px";}}},slideScrollBarTo:function(to,_2f8,_2f9){if(!this.scrollBar){return;}var _2fa=this.calcScrollBarPos(this.getPos());var _2fb=this.calcScrollBarPos(to);if(this._v&&this._scrollBarV){this._runSlideAnimation({y:_2fa.y},{y:_2fb.y},_2f8,_2f9,this._scrollBarV,0);}if(this._h&&this._scrollBarH){this._runSlideAnimation({x:_2fa.x},{x:_2fb.x},_2f8,_2f9,this._scrollBarH,1);}},_runSlideAnimation:function(from,to,_2fc,_2fd,node,idx){if(has("css3-animations")){if(!this._useTopLeft){if(this._useTransformTransition){if(to.x===undefined){to.x=from.x;}if(to.y===undefined){to.y=from.y;}if(to.x!==from.x||to.y!==from.y){_2cb.set(node,css3.add({},{transitionProperty:css3.name("transform"),transitionDuration:_2fc+"s",transitionTimingFunction:_2fd}));var t=this.makeTranslateStr(to);setTimeout(function(){_2cb.set(node,css3.add({},{transform:t}));},0);_2c9.add(node,"mblScrollableScrollTo"+idx);}else{this.hideScrollBar();this.removeCover();}}else{this.setKeyframes(from,to,idx);_2cb.set(node,css3.add({},{animationDuration:_2fc+"s",animationTimingFunction:_2fd}));_2c9.add(node,"mblScrollableScrollTo"+idx);if(idx==2){this.scrollTo(to,true,node);}else{this.scrollScrollBarTo(to);}}}else{_2cb.set(node,css3.add({},{transitionProperty:"top, left",transitionDuration:_2fc+"s",transitionTimingFunction:_2fd}));setTimeout(function(){_2cb.set(node,{top:(to.y||0)+"px",left:(to.x||0)+"px"});},0);_2c9.add(node,"mblScrollableScrollTo"+idx);}}else{if(dojo.fx&&dojo.fx.easing&&_2fc){var s=dojo.fx.slideTo({node:node,duration:_2fc*1000,left:to.x,top:to.y,easing:(_2fd=="ease-out")?dojo.fx.easing.quadOut:dojo.fx.easing.linear}).play();if(idx==2){_2c7.connect(s,"onEnd",this,"onFlickAnimationEnd");}}else{if(idx==2){this.scrollTo(to,false,node);this.onFlickAnimationEnd();}else{this.scrollScrollBarTo(to);}}}},resetScrollBar:function(){var f=function(_2fe,bar,d,c,hd,v){if(!bar){return;}var _2ff={};_2ff[v?"top":"left"]=hd+4+"px";var t=(d-8)<=0?1:d-8;_2ff[v?"height":"width"]=t+"px";_2cb.set(_2fe,_2ff);var l=Math.round(d*d/c);l=Math.min(Math.max(l-8,5),t);bar.style[v?"height":"width"]=l+"px";_2cb.set(bar,{"opacity":0.6});};var dim=this.getDim();f(this._scrollBarWrapperV,this._scrollBarV,dim.d.h,dim.c.h,this.fixedHeaderHeight,true);f(this._scrollBarWrapperH,this._scrollBarH,dim.d.w,dim.c.w,0);this.createMask();},createMask:function(){if(!(has("webkit")||has("svg"))){return;}if(this._scrollBarWrapperV){var h=this._scrollBarWrapperV.offsetHeight;_2ce.createRoundMask(this._scrollBarWrapperV,0,0,0,0,5,h,2,2,0.5);}if(this._scrollBarWrapperH){var w=this._scrollBarWrapperH.offsetWidth;_2ce.createRoundMask(this._scrollBarWrapperH,0,0,0,0,w,5,2,2,0.5);}},flashScrollBar:function(){if(this.disableFlashScrollBar||!this.domNode){return;}this._dim=this.getDim();if(this._dim.d.h<=0){return;}this.showScrollBar();var _300=this;setTimeout(function(){_300.hideScrollBar();},300);},addCover:function(){if(!has("touch")&&!this.noCover){if(!dm._cover){dm._cover=_2ca.create("div",null,win.doc.body);dm._cover.className="mblScrollableCover";_2cb.set(dm._cover,{backgroundColor:"#ffff00",opacity:0,position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",zIndex:2147483647});this._ch.push(_2c7.connect(dm._cover,_2cd.press,this,"onTouchEnd"));}else{dm._cover.style.display="";}this.setSelectable(dm._cover,false);this.setSelectable(this.domNode,false);}},removeCover:function(){if(!has("touch")&&dm._cover){dm._cover.style.display="none";this.setSelectable(dm._cover,true);this.setSelectable(this.domNode,true);}},setKeyframes:function(from,to,idx){if(!dm._rule){dm._rule=[];}if(!dm._rule[idx]){var node=_2ca.create("style",null,win.doc.getElementsByTagName("head")[0]);node.textContent=".mblScrollableScrollTo"+idx+"{"+css3.name("animation-name",true)+": scrollableViewScroll"+idx+";}"+"@"+css3.name("keyframes",true)+" scrollableViewScroll"+idx+"{}";dm._rule[idx]=node.sheet.cssRules[1];}var rule=dm._rule[idx];if(rule){if(from){rule.deleteRule(has("webkit")?"from":0);(rule.insertRule||rule.appendRule).call(rule,"from { "+css3.name("transform",true)+": "+this.makeTranslateStr(from)+"; }");}if(to){if(to.x===undefined){to.x=from.x;}if(to.y===undefined){to.y=from.y;}rule.deleteRule(has("webkit")?"to":1);(rule.insertRule||rule.appendRule).call(rule,"to { "+css3.name("transform",true)+": "+this.makeTranslateStr(to)+"; }");}}},setSelectable:function(node,_301){node.style.KhtmlUserSelect=_301?"auto":"none";node.style.MozUserSelect=_301?"":"none";node.onselectstart=_301?null:function(){return false;};if(has("ie")){node.unselectable=_301?"":"on";var _302=node.getElementsByTagName("*");for(var i=0;i<_302.length;i++){_302[i].unselectable=_301?"":"on";}}}});lang.setObject("dojox.mobile.scrollable",_2d0);return _2d0;});},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(_303,lang,_304){var _305=_303.NodeList;lang.extend(_305,{_buildArrayFromCallback:function(_306){var ary=[];for(var i=0;i<this.length;i++){var _307=_306.call(this[i],this[i],ary);if(_307){ary=ary.concat(_307);}}return ary;},_getUniqueAsNodeList:function(_308){var ary=[];for(var i=0,node;node=_308[i];i++){if(node.nodeType==1&&_304.indexOf(ary,node)==-1){ary.push(node);}}return this._wrap(ary,null,this._NodeListCtor);},_getUniqueNodeListWithParent:function(_309,_30a){var ary=this._getUniqueAsNodeList(_309);ary=(_30a?_303._filterResult(ary,_30a):ary);return ary._stash(this);},_getRelatedUniqueNodes:function(_30b,_30c){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(_30c),_30b);},children:function(_30d){return this._getRelatedUniqueNodes(_30d,function(node,ary){return lang._toArray(node.childNodes);});},closest:function(_30e,root){return this._getRelatedUniqueNodes(null,function(node,ary){do{if(_303._filterResult([node],_30e,root).length){return node;}}while(node!=root&&(node=node.parentNode)&&node.nodeType==1);return null;});},parent:function(_30f){return this._getRelatedUniqueNodes(_30f,function(node,ary){return node.parentNode;});},parents:function(_310){return this._getRelatedUniqueNodes(_310,function(node,ary){var pary=[];while(node.parentNode){node=node.parentNode;pary.push(node);}return pary;});},siblings:function(_311){return this._getRelatedUniqueNodes(_311,function(node,ary){var pary=[];var _312=(node.parentNode&&node.parentNode.childNodes);for(var i=0;i<_312.length;i++){if(_312[i]!=node){pary.push(_312[i]);}}return pary;});},next:function(_313){return this._getRelatedUniqueNodes(_313,function(node,ary){var next=node.nextSibling;while(next&&next.nodeType!=1){next=next.nextSibling;}return next;});},nextAll:function(_314){return this._getRelatedUniqueNodes(_314,function(node,ary){var pary=[];var next=node;while((next=next.nextSibling)){if(next.nodeType==1){pary.push(next);}}return pary;});},prev:function(_315){return this._getRelatedUniqueNodes(_315,function(node,ary){var prev=node.previousSibling;while(prev&&prev.nodeType!=1){prev=prev.previousSibling;}return prev;});},prevAll:function(_316){return this._getRelatedUniqueNodes(_316,function(node,ary){var pary=[];var prev=node;while((prev=prev.previousSibling)){if(prev.nodeType==1){pary.push(prev);}}return pary;});},andSelf:function(){return this.concat(this._parent);},first:function(){return this._wrap(((this[0]&&[this[0]])||[]),this);},last:function(){return this._wrap((this.length?[this[this.length-1]]:[]),this);},even:function(){return this.filter(function(item,i){return i%2!=0;});},odd:function(){return this.filter(function(item,i){return i%2==0;});}});return _305;});}}});require(["dojox/mobile","dojox/mobile/parser","dojox/mobile/compat","dojox/mobile/deviceTheme","dojox/data/FileStore","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/_base/config","dojo/_base/query","dojo/_base/window","dojo/ready","dojo/dom","dojo/dom-construct","dijit/registry","dijit/tree/ForestStoreModel","dojox/mobile/Heading","dojox/mobile/View","dojox/mobile/ListItem","dojox/mobile/RoundRectList","dojox/mobile/ProgressIndicator","dojox/mobile/_ScrollableMixin","dojo/NodeList-traverse","dojo/domReady!"],function(_317,_318,_319,_31a,_31b,_31c,lang,_31d,_31e,$,_31f,_320,dom,_321,_322,_323,_324,View,_325,_326,_327,_328){_320(function(){var _329=new _31b({url:"../../dojox/data/demos/stores/filestore_dojotree.php",id:"theStore",label:"name",pathAsQueryParam:true});var _32a=new _323({store:_329,rootLabel:"Files",childrenAttrs:["children"],newItemIdAttr:"path"});_31d("TreeView",[View,_328],{postCreate:function(){this._load();this.inherited(arguments);},_load:function(){this.model.getRoot(lang.hitch(this,function(item){var _32b=this;var list=new _326();var node={};var _32c=new _325({label:_32b.model.rootLabel,moveTo:"#",onClick:function(){_32b.handleClick(this);},id:"modelRoot",item:item});list.addChild(_32c);this.addChild(list);}));},handleClick:function(li){var _32d="view_";if(li.item[this.model.newItemIdAttr]){_32d+=li.item[this.model.newItemIdAttr];}else{_32d+="rootView";}_32d=_32d.replace("/","_");if(_322.byId(_32d)){_322.byNode(li.domNode).transitionTo(_32d);return;}var prog=_327.getInstance();_31f.body().appendChild(prog.domNode);prog.start();this.model.getChildren(li.item,lang.hitch(this,function(_32e){var _32f=this;var list=new _326();_31c.forEach(_32e,function(item,i){var _330={item:item,label:item[_32f.model.store.label],transition:"slide"};if(_32f.model.mayHaveChildren(item)){_330.moveTo="#";_330.onClick=function(){_32f.handleClick(this);};}var _331=new _325(_330);list.addChild(_331);});var _332=$("#"+li.id).parent();var _333=$("#"+_332[0].id).parent();var _334={label:"Dynamic View",back:"Back",moveTo:_333[0].id};var _335=new _324(_334);var _336=View({id:_32d,selected:true},_321.create("DIV",null,_31f.body()));_336.addChild(_335);_336.addChild(list);_336.startup();prog.stop();_322.byNode(li.domNode).transitionTo(_336.id);}));}});new TreeView({model:_32a,selected:true},dom.byId("treeView")).startup();});});