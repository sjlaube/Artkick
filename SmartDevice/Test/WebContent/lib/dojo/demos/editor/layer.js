/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dijit/layout/BorderContainer":function(){define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./LayoutContainer","./utils"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,on,_a,_b,_c,_d,_e,_f){var _10=_3("dijit.layout._Splitter",[_c,_d],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){this._handlers=[];},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);_4.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _11=_2(this._cookieName);if(_11){this.child.domNode.style[this.horizontal?"height":"width"]=_11;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_12=_6.getMarginBox(this.child.domNode)[dim],_13=_1.filter(this.container.getChildren(),function(_14){return _14.region=="center";})[0];var _15=_6.getContentBox(_13.domNode)[dim]-10;return Math.min(this.child.maxSize,_12+_15);},_startDrag:function(e){if(!this.cover){this.cover=_5.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");}_4.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_5.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_4.add(this.domNode,"dijitSplitterShadow");_5.place(this.fake,this.domNode,"after");}_4.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_4.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _16=this._factor,_17=this.horizontal,_18=_17?"pageY":"pageX",_19=e[_18],_1a=this.domNode.style,dim=_17?"h":"w",_1b=_7.getComputedStyle(this.child.domNode),_1c=_6.getMarginBox(this.child.domNode,_1b)[dim],max=this._computeMaxSize(),min=Math.max(this.child.minSize,_6.getPadBorderExtents(this.child.domNode,_1b)[dim]+10),_1d=this.region,_1e=_1d=="top"||_1d=="bottom"?"top":"left",_1f=parseInt(_1a[_1e],10),_20=this._resize,_21=_9.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;this._handlers=this._handlers.concat([on(de,_a.move,this._drag=function(e,_22){var _23=e[_18]-_19,_24=_16*_23+_1c,_25=Math.max(Math.min(_24,max),min);if(_20||_22){_21(_25);}_1a[_1e]=_23+_1f+_16*(_25-_24)+"px";}),on(de,"dragstart",function(e){e.stopPropagation();e.preventDefault();}),on(this.ownerDocumentBody,"selectstart",function(e){e.stopPropagation();e.preventDefault();}),on(de,_a.release,_9.hitch(this,"_stopDrag"))]);e.stopPropagation();e.preventDefault();},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_4.toggle(this.domNode,"dijitSplitterHover",o);_4.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_4.remove(this.cover,"dijitSplitterCoverActive");}if(this.fake){_5.destroy(this.fake);}_4.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_2(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},_onKeyDown:function(e){this._resize=true;var _26=this.horizontal;var _27=1;switch(e.keyCode){case _26?_8.UP_ARROW:_8.LEFT_ARROW:_27*=-1;case _26?_8.DOWN_ARROW:_8.RIGHT_ARROW:break;default:return;}var _28=_6.getMarginSize(this.child.domNode)[_26?"h":"w"]+this._factor*_27;this.container._layoutChildren(this.child.id,Math.max(Math.min(_28,this._computeMaxSize()),this.child.minSize));e.stopPropagation();e.preventDefault();},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});var _29=_3("dijit.layout._Gutter",[_c,_d],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);_4.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});var _2a=_3("dijit.layout.BorderContainer",_e,{gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_10,postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},_setupChild:function(_2b){this.inherited(arguments);var _2c=_2b.region,ltr=_2b.isLeftToRight();if(_2c=="leading"){_2c=ltr?"left":"right";}if(_2c=="trailing"){_2c=ltr?"right":"left";}if(_2c){if(_2c!="center"&&(_2b.splitter||this.gutters)&&!_2b._splitterWidget){var _2d=_2b.splitter?this._splitterClass:_29;if(_9.isString(_2d)){_2d=_9.getObject(_2d);}var _2e=new _2d({id:_2b.id+"_splitter",container:this,child:_2b,region:_2c,live:this.liveSplitters});_2e.isSplitter=true;_2b._splitterWidget=_2e;var _2f=_2c=="bottom"||_2c==(this.isLeftToRight()?"right":"left");_5.place(_2e.domNode,_2b.domNode,_2f?"before":"after");_2e.startup();}}},layout:function(){this._layoutChildren();},removeChild:function(_30){var _31=_30._splitterWidget;if(_31){_31.destroy();delete _30._splitterWidget;}this.inherited(arguments);},getChildren:function(){return _1.filter(this.inherited(arguments),function(_32){return !_32.isSplitter;});},getSplitter:function(_33){return _1.filter(this.getChildren(),function(_34){return _34.region==_33;})[0]._splitterWidget;},resize:function(_35,_36){if(!this.cs||!this.pe){var _37=this.domNode;this.cs=_7.getComputedStyle(_37);this.pe=_6.getPadExtents(_37,this.cs);this.pe.r=_7.toPixelValue(_37,this.cs.paddingRight);this.pe.b=_7.toPixelValue(_37,this.cs.paddingBottom);_7.set(_37,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_38,_39){if(!this._borderBox||!this._borderBox.h){return;}var _3a=[];_1.forEach(this._getOrderedChildren(),function(_3b){_3a.push(_3b);if(_3b._splitterWidget){_3a.push(_3b._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};_f.layoutChildren(this.domNode,dim,_3a,_38,_39);},destroyRecursive:function(){_1.forEach(this.getChildren(),function(_3c){var _3d=_3c._splitterWidget;if(_3d){_3d.destroy();}delete _3c._splitterWidget;});this.inherited(arguments);}});_2a.ChildWidgetProperties={splitter:false,minSize:0,maxSize:Infinity};_9.mixin(_2a.ChildWidgetProperties,_e.ChildWidgetProperties);_9.extend(_b,_2a.ChildWidgetProperties);_2a._Splitter=_10;_2a._Gutter=_29;return _2a;});},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(_3e,_3f){_3e.cookie=function(_40,_41,_42){var c=document.cookie,ret;if(arguments.length==1){var _43=c.match(new RegExp("(?:^|; )"+_3f.escapeString(_40)+"=([^;]*)"));ret=_43?decodeURIComponent(_43[1]):undefined;}else{_42=_42||{};var exp=_42.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_42.expires=d;}if(exp&&exp.toUTCString){_42.expires=exp.toUTCString();}_41=encodeURIComponent(_41);var _44=_40+"="+_41,_45;for(_45 in _42){_44+="; "+_45;var _46=_42[_45];if(_46!==true){_44+="="+_46;}}document.cookie=_44;}return ret;};_3e.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return _3e.cookie;});},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(_47,_48){var _49={};_48.setObject("dojo.regexp",_49);_49.escapeString=function(str,_4a){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_4a&&_4a.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};_49.buildGroupRE=function(arr,re,_4b){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return _49.group(b.join("|"),_4b);};_49.group=function(_4c,_4d){return "("+(_4d?"?:":"")+_4c+")";};return _49;});},"dojo/touch":function(){define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(_4e,_4f,dom,_50,_51,on,has,_52,_53,win){var _54=has("touch");var _55=has("ios")<5;var _56=navigator.msPointerEnabled;var _57,_58,_59,_5a,_5b,_5c,_5d,_5e;var _5f;function _60(_61,_62,_63){if(_56&&_63){return function(_64,_65){return on(_64,_63,_65);};}else{if(_54){return function(_66,_67){var _68=on(_66,_62,_67),_69=on(_66,_61,function(evt){if(!_5f||(new Date()).getTime()>_5f+1000){_67.call(this,evt);}});return {remove:function(){_68.remove();_69.remove();}};};}else{return function(_6a,_6b){return on(_6a,_61,_6b);};}}};function _6c(_6d){do{if(_6d.dojoClick){return _6d;}}while(_6d=_6d.parentNode);};function _6e(e,_6f,_70){var _71=_6c(e.target);_58=!e.target.disabled&&_71&&_71.dojoClick;if(_58){var _72=(_58=="useTarget");_59=(_72?_71:e.target);if(_72){e.preventDefault();}_5a=e.touches?e.touches[0].pageX:e.clientX;_5b=e.touches?e.touches[0].pageY:e.clientY;_5c=(typeof _58=="object"?_58.x:(typeof _58=="number"?_58:0))||4;_5d=(typeof _58=="object"?_58.y:(typeof _58=="number"?_58:0))||4;if(!_57){_57=true;function _73(e){if(_72){_58=dom.isDescendant(win.doc.elementFromPoint((e.changedTouches?e.changedTouches[0].pageX:e.clientX),(e.changedTouches?e.changedTouches[0].pageY:e.clientY)),_59);}else{_58=_58&&e.target==_59&&Math.abs((e.changedTouches?e.changedTouches[0].pageX:e.clientX)-_5a)<=_5c&&Math.abs((e.changedTouches?e.changedTouches[0].pageY:e.clientY)-_5b)<=_5d;}};win.doc.addEventListener(_6f,function(e){_73(e);if(_72){e.preventDefault();}},true);win.doc.addEventListener(_70,function(e){_73(e);if(_58){_5e=(new Date()).getTime();var _74=(_72?_59:e.target);if(_74.tagName==="LABEL"){_74=dom.byId(_74.getAttribute("for"))||_74;}setTimeout(function(){on.emit(_74,"click",{bubbles:true,cancelable:true,_dojo_click:true});},0);}},true);function _75(_76){win.doc.addEventListener(_76,function(e){if(!e._dojo_click&&(new Date()).getTime()<=_5e+1000&&!(e.target.tagName=="INPUT"&&_50.contains(e.target,"dijitOffScreen"))){e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();if(_76=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){e.preventDefault();}}},true);};_75("click");_75("mousedown");_75("mouseup");}}};var _77;if(_54){if(_56){_53(function(){win.doc.addEventListener("MSPointerDown",function(evt){_6e(evt,"MSPointerMove","MSPointerUp");},true);});}else{_53(function(){_77=win.body();win.doc.addEventListener("touchstart",function(evt){_5f=(new Date()).getTime();var _78=_77;_77=evt.target;on.emit(_78,"dojotouchout",{relatedTarget:_77,bubbles:true});on.emit(_77,"dojotouchover",{relatedTarget:_78,bubbles:true});_6e(evt,"touchmove","touchend");},true);function _79(evt){var _7a=_51.delegate(evt,{bubbles:true});if(has("ios")>=6){_7a.touches=evt.touches;_7a.altKey=evt.altKey;_7a.changedTouches=evt.changedTouches;_7a.ctrlKey=evt.ctrlKey;_7a.metaKey=evt.metaKey;_7a.shiftKey=evt.shiftKey;_7a.targetTouches=evt.targetTouches;}return _7a;};on(win.doc,"touchmove",function(evt){_5f=(new Date()).getTime();var _7b=win.doc.elementFromPoint(evt.pageX-(_55?0:win.global.pageXOffset),evt.pageY-(_55?0:win.global.pageYOffset));if(_7b){if(_77!==_7b){on.emit(_77,"dojotouchout",{relatedTarget:_7b,bubbles:true});on.emit(_7b,"dojotouchover",{relatedTarget:_77,bubbles:true});_77=_7b;}if(!on.emit(_7b,"dojotouchmove",_79(evt))){evt.preventDefault();}}});on(win.doc,"touchend",function(evt){_5f=(new Date()).getTime();var _7c=win.doc.elementFromPoint(evt.pageX-(_55?0:win.global.pageXOffset),evt.pageY-(_55?0:win.global.pageYOffset))||win.body();on.emit(_7c,"dojotouchend",_79(evt));});});}}var _7d={press:_60("mousedown","touchstart","MSPointerDown"),move:_60("mousemove","dojotouchmove","MSPointerMove"),release:_60("mouseup","dojotouchend","MSPointerUp"),cancel:_60(_52.leave,"touchcancel",_54?"MSPointerCancel":null),over:_60("mouseover","dojotouchover","MSPointerOver"),out:_60("mouseout","dojotouchout","MSPointerOut"),enter:_52._eventHandler(_60("mouseover","dojotouchover","MSPointerOver")),leave:_52._eventHandler(_60("mouseout","dojotouchout","MSPointerOut"))};1&&(_4e.touch=_7d);return _7d;});},"dijit/_WidgetBase":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(_7e,_7f,_80,_81,_82,_83,dom,_84,_85,_86,_87,_88,has,_89,_8a,on,_8b,_8c,_8d,win,_8e,_8f,_90){has.add("dijit-legacy-requires",!_89.isAsync);has.add("dojo-bidi",false);if(has("dijit-legacy-requires")){_8b(0,function(){var _91=["dijit/_base/manager"];_7e(_91);});}var _92={};function _93(obj){var ret={};for(var _94 in obj){ret[_94.toLowerCase()]=true;}return ret;};function _95(_96){return function(val){_84[val?"set":"remove"](this.domNode,_96,val);this._set(_96,val);};};var _97=_83("dijit._WidgetBase",[_8c,_8e],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_95("lang"),dir:"",_setDirAttr:_95("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_81.blankGif||_7e.toUrl("dojo/resources/blank.gif"),_introspect:function(){var _98=this.constructor;if(!_98._setterAttrs){var _99=_98.prototype,_9a=_98._setterAttrs=[],_9b=(_98._onMap={});for(var _9c in _99.attributeMap){_9a.push(_9c);}for(_9c in _99){if(/^on/.test(_9c)){_9b[_9c.substring(2).toLowerCase()]=_9c;}if(/^_set[A-Z](.*)Attr$/.test(_9c)){_9c=_9c.charAt(4).toLowerCase()+_9c.substr(5,_9c.length-9);if(!_99.attributeMap||!(_9c in _99.attributeMap)){_9a.push(_9c);}}}}},postscript:function(_9d,_9e){this.create(_9d,_9e);},create:function(_9f,_a0){this._introspect();this.srcNodeRef=dom.byId(_a0);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_9f){this.params=_9f;_8a.mixin(this,_9f);}this.postMixInProperties();if(!this.id){this.id=_90.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=win.body(this.ownerDocument);_90.add(this);this.buildRendering();var _a1;if(this.domNode){this._applyAttributes();var _a2=this.srcNodeRef;if(_a2&&_a2.parentNode&&this.domNode!==_a2){_a2.parentNode.replaceChild(this.domNode,_a2);_a1=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_a1){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _a3={};for(var key in this.params||{}){_a3[key]=this._get(key);}_7f.forEach(this.constructor._setterAttrs,function(key){if(!(key in _a3)){var val=this._get(key);if(val){this.set(key,val);}}},this);for(key in _a3){this.set(key,_a3[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _a4=this.baseClass.split(" ");if(!this.isLeftToRight()){_a4=_a4.concat(_7f.map(_a4,function(_a5){return _a5+"Rtl";}));}_85.add(this.domNode,_a4);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_7f.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&_8a.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_a6){this._beingDestroyed=true;this.destroyDescendants(_a6);this.destroy(_a6);},destroy:function(_a7){this._beingDestroyed=true;this.uninitialize();function _a8(w){if(w.destroyRecursive){w.destroyRecursive(_a7);}else{if(w.destroy){w.destroy(_a7);}}};_7f.forEach(this._connects,_8a.hitch(this,"disconnect"));_7f.forEach(this._supportingWidgets,_a8);if(this.domNode){_7f.forEach(_90.findWidgets(this.domNode,this.containerNode),_a8);}this.destroyRendering(_a7);_90.remove(this.id);this._destroyed=true;},destroyRendering:function(_a9){if(this.bgIframe){this.bgIframe.destroy(_a9);delete this.bgIframe;}if(this.domNode){if(_a9){_84.remove(this.domNode,"widgetId");}else{_86.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_a9){_86.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_aa){_7f.forEach(this.getChildren(),function(_ab){if(_ab.destroyRecursive){_ab.destroyRecursive(_aa);}});},uninitialize:function(){return false;},_setStyleAttr:function(_ac){var _ad=this.domNode;if(_8a.isObject(_ac)){_88.set(_ad,_ac);}else{if(_ad.style.cssText){_ad.style.cssText+="; "+_ac;}else{_ad.style.cssText=_ac;}}this._set("style",_ac);},_attrToDom:function(_ae,_af,_b0){_b0=arguments.length>=3?_b0:this.attributeMap[_ae];_7f.forEach(_8a.isArray(_b0)?_b0:[_b0],function(_b1){var _b2=this[_b1.node||_b1||"domNode"];var _b3=_b1.type||"attribute";switch(_b3){case "attribute":if(_8a.isFunction(_af)){_af=_8a.hitch(this,_af);}var _b4=_b1.attribute?_b1.attribute:(/^on[A-Z][a-zA-Z]*$/.test(_ae)?_ae.toLowerCase():_ae);if(_b2.tagName){_84.set(_b2,_b4,_af);}else{_b2.set(_b4,_af);}break;case "innerText":_b2.innerHTML="";_b2.appendChild(this.ownerDocument.createTextNode(_af));break;case "innerHTML":_b2.innerHTML=_af;break;case "class":_85.replace(_b2,_af,this[_ae]);break;}},this);},get:function(_b5){var _b6=this._getAttrNames(_b5);return this[_b6.g]?this[_b6.g]():this._get(_b5);},set:function(_b7,_b8){if(typeof _b7==="object"){for(var x in _b7){this.set(x,_b7[x]);}return this;}var _b9=this._getAttrNames(_b7),_ba=this[_b9.s];if(_8a.isFunction(_ba)){var _bb=_ba.apply(this,Array.prototype.slice.call(arguments,1));}else{var _bc=this.focusNode&&!_8a.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_bc]&&this[_bc].tagName,_bd=tag&&(_92[tag]||(_92[tag]=_93(this[_bc]))),map=_b7 in this.attributeMap?this.attributeMap[_b7]:_b9.s in this?this[_b9.s]:((_bd&&_b9.l in _bd&&typeof _b8!="function")||/^aria-|^data-|^role$/.test(_b7))?_bc:null;if(map!=null){this._attrToDom(_b7,_b8,map);}this._set(_b7,_b8);}return _bb||this;},_attrPairNames:{},_getAttrNames:function(_be){var apn=this._attrPairNames;if(apn[_be]){return apn[_be];}var uc=_be.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[_be]={n:_be+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(_bf,_c0){var _c1=this[_bf];this[_bf]=_c0;if(this._created&&_c0!==_c1){if(this._watchCallbacks){this._watchCallbacks(_bf,_c1,_c0);}this.emit("attrmodified-"+_bf,{detail:{prevValue:_c1,newValue:_c0}});}},_get:function(_c2){return this[_c2];},emit:function(_c3,_c4,_c5){_c4=_c4||{};if(_c4.bubbles===undefined){_c4.bubbles=true;}if(_c4.cancelable===undefined){_c4.cancelable=true;}if(!_c4.detail){_c4.detail={};}_c4.detail.widget=this;var ret,_c6=this["on"+_c3];if(_c6){ret=_c6.apply(this,_c5?_c5:[_c4]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,_c3.toLowerCase(),_c4);}return ret;},on:function(_c7,_c8){var _c9=this._onMap(_c7);if(_c9){return _80.after(this,_c9,_c8,true);}return this.own(on(this.domNode,_c7,_c8))[0];},_onMap:function(_ca){var _cb=this.constructor,map=_cb._onMap;if(!map){map=(_cb._onMap={});for(var _cc in _cb.prototype){if(/^on/.test(_cc)){map[_cc.replace(/^on/,"").toLowerCase()]=_cc;}}}return map[typeof _ca=="string"&&_ca.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_90.findWidgets(this.containerNode):[];},getParent:function(){return _90.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_cd,_ce){return this.own(_82.connect(obj,_cd,this,_ce))[0];},disconnect:function(_cf){_cf.remove();},subscribe:function(t,_d0){return this.own(_8d.subscribe(t,_8a.hitch(this,_d0)))[0];},unsubscribe:function(_d1){_d1.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_87.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_88.get(this.domNode,"display")!="none");},placeAt:function(_d2,_d3){var _d4=!_d2.tagName&&_90.byId(_d2);if(_d4&&_d4.addChild&&(!_d3||typeof _d3==="number")){_d4.addChild(this,_d3);}else{var ref=_d4?(_d4.containerNode&&!/after|before|replace/.test(_d3||"")?_d4.containerNode:_d4.domNode):dom.byId(_d2,this.ownerDocument);_86.place(this.domNode,ref,_d3);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},defer:function(fcn,_d5){var _d6=setTimeout(_8a.hitch(this,function(){if(!_d6){return;}_d6=null;if(!this._destroyed){_8a.hitch(this,fcn)();}}),_d5||0);return {remove:function(){if(_d6){clearTimeout(_d6);_d6=null;}return null;}};}});if(has("dojo-bidi")){_97.extend(_8f);}return _97;});},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(_d7,_d8,_d9,_da){return _d7("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(_db){var apn=this._attrPairNames;if(apn[_db]){return apn[_db];}return (apn[_db]={s:"_"+_db+"Setter",g:"_"+_db+"Getter"});},postscript:function(_dc){if(_dc){this.set(_dc);}},_get:function(_dd,_de){return typeof this[_de.g]==="function"?this[_de.g]():this[_dd];},get:function(_df){return this._get(_df,this._getAttrNames(_df));},set:function(_e0,_e1){if(typeof _e0==="object"){for(var x in _e0){if(_e0.hasOwnProperty(x)&&x!="_watchCallbacks"){this.set(x,_e0[x]);}}return this;}var _e2=this._getAttrNames(_e0),_e3=this._get(_e0,_e2),_e4=this[_e2.s],_e5;if(typeof _e4==="function"){_e5=_e4.apply(this,Array.prototype.slice.call(arguments,1));}else{this[_e0]=_e1;}if(this._watchCallbacks){var _e6=this;_da(_e5,function(){_e6._watchCallbacks(_e0,_e3,_e1);});}return this;},_changeAttrValue:function(_e7,_e8){var _e9=this.get(_e7);this[_e7]=_e8;if(this._watchCallbacks){this._watchCallbacks(_e7,_e9,_e8);}return this;},watch:function(_ea,_eb){var _ec=this._watchCallbacks;if(!_ec){var _ed=this;_ec=this._watchCallbacks=function(_ee,_ef,_f0,_f1){var _f2=function(_f3){if(_f3){_f3=_f3.slice();for(var i=0,l=_f3.length;i<l;i++){_f3[i].call(_ed,_ee,_ef,_f0);}}};_f2(_ec["_"+_ee]);if(!_f1){_f2(_ec["*"]);}};}if(!_eb&&typeof _ea==="function"){_eb=_ea;_ea="*";}else{_ea="_"+_ea;}var _f4=_ec[_ea];if(typeof _f4!=="object"){_f4=_ec[_ea]=[];}_f4.push(_eb);var _f5={};_f5.unwatch=_f5.remove=function(){var _f6=_d9.indexOf(_f4,_eb);if(_f6>-1){_f4.splice(_f6,1);}};return _f5;}});});},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_f7,_f8,_f9){return _f9("dijit.Destroyable",null,{destroy:function(_fa){this._destroyed=true;},own:function(){_f7.forEach(arguments,function(_fb){var _fc="destroyRecursive" in _fb?"destroyRecursive":"destroy" in _fb?"destroy":"remove";var odh=_f8.before(this,"destroy",function(_fd){_fb[_fc](_fd);});var hdh=_f8.after(_fb,_fc,function(){odh.remove();hdh.remove();},true);},this);return arguments;}});});},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(_fe,win,_ff){var _100={},hash={};var _101={length:0,add:function(_102){if(hash[_102.id]){throw new Error("Tried to register widget with id=="+_102.id+" but that id is already registered");}hash[_102.id]=_102;this.length++;},remove:function(id){if(hash[id]){delete hash[id];this.length--;}},byId:function(id){return typeof id=="string"?hash[id]:id;},byNode:function(node){return hash[node.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in hash){ar.push(hash[id]);}return ar;},getUniqueId:function(_103){var id;do{id=_103+"_"+(_103 in _100?++_100[_103]:_100[_103]=0);}while(hash[id]);return _ff._scopeName=="dijit"?id:_ff._scopeName+"_"+id;},findWidgets:function(root,_104){var _105=[];function _106(root){for(var node=root.firstChild;node;node=node.nextSibling){if(node.nodeType==1){var _107=node.getAttribute("widgetId");if(_107){var _108=hash[_107];if(_108){_105.push(_108);}}else{if(node!==_104){_106(node);}}}}};_106(root);return _105;},_destroyAll:function(){_ff._curFocus=null;_ff._prevFocus=null;_ff._activeStack=[];_fe.forEach(_101.findWidgets(win.body()),function(_109){if(!_109._destroyed){if(_109.destroyRecursive){_109.destroyRecursive();}else{if(_109.destroy){_109.destroy();}}}});},getEnclosingWidget:function(node){while(node){var id=node.nodeType==1&&node.getAttribute("widgetId");if(id){return hash[id];}node=node.parentNode;}return null;},_hash:hash};_ff.registry=_101;return _101;});},"dijit/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dijit;});},"dijit/_Widget":function(){define(["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_10a,_10b,_10c,_10d,has,_10e,lang,_10f,_110,_111,_112,_113,_114){function _115(){};function _116(_117){return function(obj,_118,_119,_11a){if(obj&&typeof _118=="string"&&obj[_118]==_115){return obj.on(_118.substring(2).toLowerCase(),lang.hitch(_119,_11a));}return _117.apply(_10c,arguments);};};_10a.around(_10c,"connect",_116);if(_10e.connect){_10a.around(_10e,"connect",_116);}var _11b=_10d("dijit._Widget",[_112,_113,_114],{onClick:_115,onDblClick:_115,onKeyDown:_115,onKeyPress:_115,onKeyUp:_115,onMouseDown:_115,onMouseMove:_115,onMouseOut:_115,onMouseOver:_115,onMouseLeave:_115,onMouseEnter:_115,onMouseUp:_115,constructor:function(_11c){this._toConnect={};for(var name in _11c){if(this[name]===_115){this._toConnect[name.replace(/^on/,"").toLowerCase()]=_11c[name];delete _11c[name];}}},postCreate:function(){this.inherited(arguments);for(var name in this._toConnect){this.on(name,this._toConnect[name]);}delete this._toConnect;},on:function(type,func){if(this[this._onMap(type)]===_115){return _10c.connect(this.domNode,type.toLowerCase(),this,func);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(attr,_11d){_10e.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_11d);},attr:function(name,_11e){var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},getDescendants:function(){_10e.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_10f("[widgetId]",this.containerNode).map(_111.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_110(0,function(){var _11f=["dijit/_base"];require(_11f);});}return _11b;});},"dijit/_OnDijitClickMixin":function(){define(["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(on,_120,keys,_121,has,_122){var ret=_121("dijit._OnDijitClickMixin",null,{connect:function(obj,_123,_124){return this.inherited(arguments,[obj,_123=="ondijitclick"?_122:_123,_124]);}});ret.a11yclick=_122;return ret;});},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(keys,_125,on,_126){function _127(e){if((e.keyCode===keys.ENTER||e.keyCode===keys.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName)){for(var node=e.target;node;node=node.parentNode){if(node.dojoClick){return true;}}}};var _128;on(document,"keydown",function(e){if(_127(e)){_128=e.target;e.preventDefault();}else{_128=null;}});on(document,"keyup",function(e){if(_127(e)&&e.target==_128){_128=null;on.emit(e.target,"click",{cancelable:true,bubbles:true,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type});}});var _129=function(node,_12a){node.dojoClick=true;return on(node,"click",_12a);};_129.click=_129;_129.press=function(node,_12b){var _12c=on(node,_126.press,function(evt){if(evt.type=="mousedown"&&!_125.isLeft(evt)){return;}_12b(evt);}),_12d=on(node,"keydown",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_12b(evt);}});return {remove:function(){_12c.remove();_12d.remove();}};};_129.release=function(node,_12e){var _12f=on(node,_126.release,function(evt){if(evt.type=="mouseup"&&!_125.isLeft(evt)){return;}_12e(evt);}),_130=on(node,"keyup",function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){_12e(evt);}});return {remove:function(){_12f.remove();_130.remove();}};};_129.move=_126.move;return _129;});},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_131,_132,_133,lang){lang.extend(_132,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _133("dijit._FocusMixin",null,{_focusManager:_131});});},"dijit/focus":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_134,_135,dom,_136,_137,_138,_139,lang,on,_13a,has,_13b,win,_13c,a11y,_13d,_13e){var _13f;var _140=_135([_13b,_139],{curNode:null,activeStack:[],constructor:function(){var _141=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_134.before(_138,"empty",_141);_134.before(_138,"destroy",_141);},registerIframe:function(_142){return this.registerWin(_142.contentWindow,_142);},registerWin:function(_143,_144){var _145=this,body=_143.document&&_143.document.body;if(body){var mdh=on(_143.document,"mousedown, touchstart",function(evt){_145._justMouseDowned=true;setTimeout(function(){_145._justMouseDowned=false;},0);if(evt&&evt.target&&evt.target.parentNode==null){return;}_145._onTouchNode(_144||evt.target,"mouse");});var fih=on(body,"focusin",function(evt){_13f=(new Date()).getTime();if(!evt.target.tagName){return;}var tag=evt.target.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isFocusable(evt.target)){_145._onFocusNode(_144||evt.target);}else{_145._onTouchNode(_144||evt.target);}});var foh=on(body,"focusout",function(evt){if((new Date()).getTime()<_13f+100){return;}_145._onBlurNode(_144||evt.target);});return {remove:function(){mdh.remove();fih.remove();foh.remove();mdh=fih=foh=null;body=null;}};}},_onBlurNode:function(node){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(lang.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(node,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}if(_137.contains(node,"dijitPopup")){node=node.firstChild;}var _146=[];try{while(node){var _147=_136.get(node,"dijitPopupParent");if(_147){node=_13d.byId(_147).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_13c.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_148=id&&_13d.byId(id);if(_148&&!(by=="mouse"&&_148.get("disabled"))){_146.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_146,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",node);},_setStack:function(_149,by){var _14a=this.activeStack,_14b=_14a.length-1,_14c=_149.length-1;if(_149[_14c]==_14a[_14b]){return;}this.set("activeStack",_149);var _14d,i;for(i=_14b;i>=0&&_14a[i]!=_149[i];i--){_14d=_13d.byId(_14a[i]);if(_14d){_14d._hasBeenBlurred=true;_14d.set("focused",false);if(_14d._focusManager==this){_14d._onBlur(by);}this.emit("widget-blur",_14d,by);}}for(i++;i<=_14c;i++){_14d=_13d.byId(_149[i]);if(_14d){_14d.set("focused",true);if(_14d._focusManager==this){_14d._onFocus(by);}this.emit("widget-focus",_14d,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _14e=new _140();_13a(function(){var _14f=_14e.registerWin(_13c.get(document));if(has("ie")){on(window,"unload",function(){if(_14f){_14f.remove();_14f=null;}});}});_13e.focus=function(node){_14e.focus(node);};for(var attr in _14e){if(!/^_/.test(attr)){_13e.focus[attr]=typeof _14e[attr]=="function"?lang.hitch(_14e,attr):_14e[attr];}}_14e.watch(function(attr,_150,_151){_13e.focus[attr]=_151;});return _14e;});},"dojo/window":function(){define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(lang,has,_152,dom,geom,_153,_154){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var body=_152.body(doc),_155=_154.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_154.create("div",{style:{overflow:"hidden",direction:"ltr"}},_155,"last"),ret=geom.position(div).x!=0;_155.removeChild(div);body.removeChild(_155);return ret;});has.add("position-fixed-support",function(win,doc){var body=_152.body(doc),_156=_154.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_157=_154.create("span",{style:{position:"fixed",left:"0",top:"0"}},_156,"last"),ret=geom.position(_157).x!=geom.position(_156).x;_156.removeChild(_157);body.removeChild(_156);return ret;});var _158={getBox:function(doc){doc=doc||_152.doc;var _159=(doc.compatMode=="BackCompat")?_152.body(doc):doc.documentElement,_15a=geom.docScroll(doc),w,h;if(has("touch")){var _15b=_158.get(doc);w=_15b.innerWidth||_159.clientWidth;h=_15b.innerHeight||_159.clientHeight;}else{w=_159.clientWidth;h=_159.clientHeight;}return {l:_15a.x,t:_15a.y,w:w,h:h};},get:function(doc){if(has("ie")<9&&_158!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_152.doc,body=_152.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if(node==body||node==html){return;}if(!(has("mozilla")||isIE||isWK||has("opera"))&&("scrollIntoView" in node)){node.scrollIntoView(false);return;}var _15c=doc.compatMode=="BackCompat",_15d=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_15e=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_15f=(isWK||_15c)?body:html,_160=pos||geom.position(node),el=node.parentNode,_161=function(el){return (isIE<=6||(isIE==7&&_15c))?false:(has("position-fixed-support")&&(_153.get(el,"position").toLowerCase()=="fixed"));};if(_161(node)){return;}while(el){if(el==body){el=_15f;}var _162=geom.position(el),_163=_161(el),rtl=_153.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_15f){_162.w=_15d;_162.h=_15e;if(_15f==html&&isIE&&rtl){_162.x+=_15f.offsetWidth-_162.w;}if(_162.x<0||!isIE||isIE>=9){_162.x=0;}if(_162.y<0||!isIE||isIE>=9){_162.y=0;}}else{var pb=geom.getPadBorderExtents(el);_162.w-=pb.w;_162.h-=pb.h;_162.x+=pb.l;_162.y+=pb.t;var _164=el.clientWidth,_165=_162.w-_164;if(_164>0&&_165>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_162.x+=_165;}_162.w=_164;}_164=el.clientHeight;_165=_162.h-_164;if(_164>0&&_165>0){_162.h=_164;}}if(_163){if(_162.y<0){_162.h+=_162.y;_162.y=0;}if(_162.x<0){_162.w+=_162.x;_162.x=0;}if(_162.y+_162.h>_15e){_162.h=_15e-_162.y;}if(_162.x+_162.w>_15d){_162.w=_15d-_162.x;}}var l=_160.x-_162.x,t=_160.y-_162.y,r=l+_160.w-_162.w,bot=t+_160.h-_162.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_15f||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_15c)||isIE>=9)){s=-s;}old=el.scrollLeft;el.scrollLeft+=s;s=el.scrollLeft-old;_160.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_15f||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;el.scrollTop+=s;s=el.scrollTop-old;_160.y-=s;}el=(el!=_15f)&&!_163&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_158);return _158;});},"dijit/a11y":function(){define(["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_166,dom,_167,_168,lang,has,_169){var _16a;var a11y={_isElementShown:function(elem){var s=_168.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_167.get(elem,"type")!="hidden");},hasDefaultTabStop:function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _167.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _16b=elem.contentDocument;if("designMode" in _16b&&_16b.designMode=="on"){return true;}body=_16b.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}},effectiveTabIndex:function(elem){if(_167.get(elem,"disabled")){return _16a;}else{if(_167.has(elem,"tabIndex")){return +_167.get(elem,"tabIndex");}else{return a11y.hasDefaultTabStop(elem)?0:_16a;}}},isTabNavigable:function(elem){return a11y.effectiveTabIndex(elem)>=0;},isFocusable:function(elem){return a11y.effectiveTabIndex(elem)>=-1;},_getTabNavigable:function(root){var _16c,last,_16d,_16e,_16f,_170,_171={};function _172(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _173=a11y._isElementShown,_174=a11y.effectiveTabIndex;var _175=function(_176){for(var _177=_176.firstChild;_177;_177=_177.nextSibling){if(_177.nodeType!=1||(has("ie")<=9&&_177.scopeName!=="HTML")||!_173(_177)){continue;}var _178=_174(_177);if(_178>=0){if(_178==0){if(!_16c){_16c=_177;}last=_177;}else{if(_178>0){if(!_16d||_178<_16e){_16e=_178;_16d=_177;}if(!_16f||_178>=_170){_170=_178;_16f=_177;}}}var rn=_172(_177);if(_167.get(_177,"checked")&&rn){_171[rn]=_177;}}if(_177.nodeName.toUpperCase()!="SELECT"){_175(_177);}}};if(_173(root)){_175(root);}function rs(node){return _171[_172(node)]||node;};return {first:rs(_16c),last:rs(last),lowest:rs(_16d),highest:rs(_16f)};},getFirstInTabbingOrder:function(root,doc){var _179=a11y._getTabNavigable(dom.byId(root,doc));return _179.lowest?_179.lowest:_179.first;},getLastInTabbingOrder:function(root,doc){var _17a=a11y._getTabNavigable(dom.byId(root,doc));return _17a.last?_17a.last:_17a.highest;}};1&&lang.mixin(_169,a11y);return a11y;});},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(_17b,lang,_17c,has,_17d){var html=_17d.doc.documentElement,ie=has("ie"),_17e=has("opera"),maj=Math.floor,ff=has("ff"),_17f=_17b.boxModel.replace(/-/,""),_180={"dj_quirks":has("quirks"),"dj_opera":_17e,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ios":has("ios"),"dj_android":has("android")};if(ie){_180["dj_ie"]=true;_180["dj_ie"+maj(ie)]=true;_180["dj_iequirks"]=has("quirks");}if(ff){_180["dj_ff"+maj(ff)]=true;}_180["dj_"+_17f]=true;var _181="";for(var clz in _180){if(_180[clz]){_181+=clz+" ";}}html.className=lang.trim(html.className+" "+_181);_17c(function(){if(!_17b.isBodyLtr()){var _182="dj_rtl dijitRtl "+_181.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_182+"dj_rtl dijitRtl "+_181.replace(/ /g,"-rtl "));}});return has;});},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(_183,has,_184,win){_184(function(){if(has("highcontrast")){_183.add(win.body(),"dijit_a11y");}});return has;});},"dojo/hccss":function(){define(["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(_185,_186,_187,_188,has,_189,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url(\""+(_186.blankGif||_185.toUrl("./resources/blank.gif"))+"\");";win.body().appendChild(div);var cs=_188.getComputedStyle(div),_18a=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_18a&&(_18a=="none"||_18a=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_189(function(){if(has("highcontrast")){_187.add(win.body(),"dj_a11y");}});return has;});},"dijit/_TemplatedMixin":function(){define(["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(_18b,_18c,_18d,lang,on,has,_18e,_18f){var _190=_18c("dijit._TemplatedMixin",_18f,{templateString:null,templatePath:null,_skipNodeCache:false,searchContainerNode:true,_stringRepl:function(tmpl){var _191=this.declaredClass,_192=this;return _18e.substitute(tmpl,this,function(_193,key){if(key.charAt(0)=="!"){_193=lang.getObject(key.substr(1),false,_192);}if(typeof _193=="undefined"){throw new Error(_191+" template:"+key);}if(_193==null){return "";}return key.charAt(0)=="!"?_193:this._escapeValue(""+_193);},this);},_escapeValue:function(val){return val.replace(/["'<>&]/g,function(val){return {"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#x27;"}[val];});},buildRendering:function(){if(!this._rendered){if(!this.templateString){this.templateString=_18b(this.templatePath,{sanitize:true});}var _194=_190.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_194)){node=_18d.toDom(this._stringRepl(_194),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_194);}}else{node=_194.cloneNode(true);}this.domNode=node;}this.inherited(arguments);if(!this._rendered){this._fillContent(this.srcNodeRef);}this._rendered=true;},_fillContent:function(_195){var dest=this.containerNode;if(_195&&dest){while(_195.hasChildNodes()){dest.appendChild(_195.firstChild);}}}});_190._templateCache={};_190.getCachedTemplate=function(_196,_197,doc){var _198=_190._templateCache;var key=_196;var _199=_198[key];if(_199){try{if(!_199.ownerDocument||_199.ownerDocument==(doc||document)){return _199;}}catch(e){}_18d.destroy(_199);}_196=_18e.trim(_196);if(_197||_196.match(/\$\{([^\}]+)\}/g)){return (_198[key]=_196);}else{var node=_18d.toDom(_196,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_196);}return (_198[key]=node);}};if(has("ie")){on(window,"unload",function(){var _19a=_190._templateCache;for(var key in _19a){var _19b=_19a[key];if(typeof _19b=="object"){_18d.destroy(_19b);}delete _19a[key];}});}return _190;});},"dojo/cache":function(){define(["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(dojo,_19c,has,_19d){var _19e;if(1){_19e=function(url,sync,load){_19d(url,{sync:!!sync}).then(load);};}else{if(_19c.getText){_19e=_19c.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _19f={},_1a0=function(text){if(text){text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _1a1=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_1a1){text=_1a1[1];}}else{text="";}return text;},_1a2={},_1a3={};dojo.cache=function(_1a4,url,_1a5){var key;if(typeof _1a4=="string"){if(/\//.test(_1a4)){key=_1a4;_1a5=url;}else{key=_19c.toUrl(_1a4.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_1a4+"";_1a5=url;}var val=(_1a5!=undefined&&typeof _1a5!="string")?_1a5.value:_1a5,_1a6=_1a5&&_1a5.sanitize;if(typeof val=="string"){_19f[key]=val;return _1a6?_1a0(val):val;}else{if(val===null){delete _19f[key];return null;}else{if(!(key in _19f)){_19e(key,true,function(text){_19f[key]=text;});}return _1a6?_1a0(_19f[key]):_19f[key];}}};return {dynamic:true,normalize:function(id,_1a7){var _1a8=id.split("!"),url=_1a8[0];return (/^\./.test(url)?_1a7(url):url)+(_1a8[1]?"!"+_1a8[1]:"");},load:function(id,_1a9,load){var _1aa=id.split("!"),_1ab=_1aa.length>1,_1ac=_1aa[0],url=_1a9.toUrl(_1aa[0]),_1ad="url:"+url,text=_1a2,_1ae=function(text){load(_1ab?_1a0(text):text);};if(_1ac in _19f){text=_19f[_1ac];}else{if(_1a9.cache&&_1ad in _1a9.cache){text=_1a9.cache[_1ad];}else{if(url in _19f){text=_19f[url];}}}if(text===_1a2){if(_1a3[url]){_1a3[url].push(_1ae);}else{var _1af=_1a3[url]=[_1ae];_19e(url,!_1a9.async,function(text){_19f[_1ac]=_19f[url]=text;for(var i=0;i<_1af.length;){_1af[i++](text);}delete _1a3[url];});}}else{_1ae(text);}}};});},"dojo/request":function(){define(["./request/default!"],function(_1b0){return _1b0;});},"dojo/request/default":function(){define(["exports","require","../has"],function(_1b1,_1b2,has){var _1b3=has("config-requestProvider"),_1b4;if(1){_1b4="./xhr";}else{if(0){_1b4="./node";}}if(!_1b3){_1b3=_1b4;}_1b1.getPlatformDefaultId=function(){return _1b4;};_1b1.load=function(id,_1b5,_1b6,_1b7){_1b2([id=="platform"?_1b4:_1b3],function(_1b8){_1b6(_1b8);});};});},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(_1b9,lang){var _1ba={};lang.setObject("dojo.string",_1ba);_1ba.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};_1ba.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=_1ba.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};_1ba.substitute=function(_1bb,map,_1bc,_1bd){_1bd=_1bd||_1b9.global;_1bc=_1bc?lang.hitch(_1bd,_1bc):function(v){return v;};return _1bb.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_1be,key,_1bf){var _1c0=lang.getObject(key,false,map);if(_1bf){_1c0=lang.getObject(_1bf,false,_1bd).call(_1bd,_1c0,key);}return _1bc(_1c0,key).toString();});};_1ba.trim=String.prototype.trim?lang.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};return _1ba;});},"dijit/_AttachMixin":function(){define(["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(_1c1,_1c2,_1c3,_1c4,lang,_1c5,on,_1c6,_1c7){var _1c8=lang.delegate(_1c6,{"mouseenter":_1c5.enter,"mouseleave":_1c5.leave,"keypress":_1c3._keypress});var _1c9;var _1ca=_1c4("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[];},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent();},_beforeFillContent:function(){},_attachTemplateNodes:function(_1cb){var node=_1cb;while(true){if(node.nodeType==1&&(this._processTemplateNode(node,function(n,p){return n.getAttribute(p);},this._attach)||this.searchContainerNode)&&node.firstChild){node=node.firstChild;}else{if(node==_1cb){return;}while(!node.nextSibling){node=node.parentNode;if(node==_1cb){return;}}node=node.nextSibling;}}},_processTemplateNode:function(_1cc,_1cd,_1ce){var ret=true;var _1cf=this.attachScope||this,_1d0=_1cd(_1cc,"dojoAttachPoint")||_1cd(_1cc,"data-dojo-attach-point");if(_1d0){var _1d1,_1d2=_1d0.split(/\s*,\s*/);while((_1d1=_1d2.shift())){if(lang.isArray(_1cf[_1d1])){_1cf[_1d1].push(_1cc);}else{_1cf[_1d1]=_1cc;}ret=(_1d1!="containerNode");this._attachPoints.push(_1d1);}}var _1d3=_1cd(_1cc,"dojoAttachEvent")||_1cd(_1cc,"data-dojo-attach-event");if(_1d3){var _1d4,_1d5=_1d3.split(/\s*,\s*/);var trim=lang.trim;while((_1d4=_1d5.shift())){if(_1d4){var _1d6=null;if(_1d4.indexOf(":")!=-1){var _1d7=_1d4.split(":");_1d4=trim(_1d7[0]);_1d6=trim(_1d7[1]);}else{_1d4=trim(_1d4);}if(!_1d6){_1d6=_1d4;}this._attachEvents.push(_1ce(_1cc,_1d4,lang.hitch(_1cf,_1d6)));}}}return ret;},_attach:function(node,type,func){type=type.replace(/^on/,"").toLowerCase();if(type=="dijitclick"){type=_1c9||(_1c9=_1c1("./a11yclick"));}else{type=_1c8[type]||type;}return on(node,type,func);},_detachTemplateNodes:function(){var _1d8=this.attachScope||this;_1c2.forEach(this._attachPoints,function(_1d9){delete _1d8[_1d9];});this._attachPoints=[];_1c2.forEach(this._attachEvents,function(_1da){_1da.remove();});this._attachEvents=[];},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments);}});lang.extend(_1c7,{dojoAttachEvent:"",dojoAttachPoint:""});return _1ca;});},"dijit/layout/LayoutContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/_base/lang","../_WidgetBase","./_LayoutWidget","./utils"],function(_1db,_1dc,_1dd,_1de,lang,_1df,_1e0,_1e1){var _1e2=_1dc("dijit.layout.LayoutContainer",_1e0,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){if(this._started){return;}_1db.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(_1e3){this.inherited(arguments);var _1e4=_1e3.region;if(_1e4){_1dd.add(_1e3.domNode,this.baseClass+"Pane");}},_getOrderedChildren:function(){var _1e5=_1db.map(this.getChildren(),function(_1e6,idx){return {pane:_1e6,weight:[_1e6.region=="center"?Infinity:0,_1e6.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(_1e6.region)?1:-1),idx]};},this);_1e5.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});return _1db.map(_1e5,function(w){return w.pane;});},layout:function(){_1e1.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren());},addChild:function(_1e7,_1e8){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(_1e9){this.inherited(arguments);if(this._started){this.layout();}_1dd.remove(_1e9.domNode,this.baseClass+"Pane");_1de.set(_1e9.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});_1de.set(_1e9.domNode,/top|bottom/.test(_1e9.region)?"width":"height","auto");}});_1e2.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};lang.extend(_1df,_1e2.ChildWidgetProperties);return _1e2;});},"dijit/layout/_LayoutWidget":function(){define(["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_1ea,_1eb,_1ec,_1ed,_1ee,_1ef,_1f0,_1f1){return _1ee("dijit.layout._LayoutWidget",[_1ea,_1eb,_1ec],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);_1ef.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _1f2=this.getParent&&this.getParent();if(!(_1f2&&_1f2.isLayoutContainer)){this.resize();this.own(_1ed.on("resize",lang.hitch(this,"resize")));}},resize:function(_1f3,_1f4){var node=this.domNode;if(_1f3){_1f0.setMarginBox(node,_1f3);}var mb=_1f4||{};lang.mixin(mb,_1f3||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_1f0.getMarginBox(node),mb);}var cs=_1f1.getComputedStyle(node);var me=_1f0.getMarginExtents(node,cs);var be=_1f0.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_1f0.getPadExtents(node,cs);this._contentBox={l:_1f1.toPixelValue(node,cs.paddingLeft),t:_1f1.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_1f5){var cls=this.baseClass+"-child "+(_1f5.baseClass?this.baseClass+"-"+_1f5.baseClass:"");_1ef.add(_1f5.domNode,cls);},addChild:function(_1f6,_1f7){this.inherited(arguments);if(this._started){this._setupChild(_1f6);}},removeChild:function(_1f8){var cls=this.baseClass+"-child"+(_1f8.baseClass?" "+this.baseClass+"-"+_1f8.baseClass:"");_1ef.remove(_1f8.domNode,cls);this.inherited(arguments);}});});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_1f9,_1fa,_1fb,_1fc){return _1fa("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_1fd,_1fe){var _1ff=this.containerNode;if(_1fe>0){_1ff=_1ff.firstChild;while(_1fe>0){if(_1ff.nodeType==1){_1fe--;}_1ff=_1ff.nextSibling;}if(_1ff){_1fe="before";}else{_1ff=this.containerNode;_1fe="last";}}_1fb.place(_1fd.domNode,_1ff,_1fe);if(this._started&&!_1fd._started){_1fd.startup();}},removeChild:function(_200){if(typeof _200=="number"){_200=this.getChildren()[_200];}if(_200){var node=_200.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_201,dir){_1fc.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var _202=this.getChildren(),idx=_1f9.indexOf(_202,_201);return _202[idx+dir];},getIndexOfChild:function(_203){return _1f9.indexOf(this.getChildren(),_203);}});});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_204,_205){return _204("dijit._Contained",null,{_getSibling:function(_206){var node=this.domNode;do{node=node[_206+"Sibling"];}while(node&&node.nodeType!=1);return node&&_205.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(_207,on,_208,has,_209){var _20a=new _207();var _20b;_208(function(){var _20c=_209.getBox();_20a._rlh=on(window,"resize",function(){var _20d=_209.getBox();if(_20c.h==_20d.h&&_20c.w==_20d.w){return;}_20c=_20d;_20a.emit("resize");});if(has("ie")==8){var _20e=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_20e){_20e=screen.deviceXDPI;_20a.emit("resize");}},500);}if(has("ios")){on(document,"focusin",function(evt){_20b=evt.target;});on(document,"focusout",function(evt){_20b=null;});}});_20a.getEffectiveBox=function(doc){var box=_209.getBox(doc);var tag=_20b&&_20b.tagName&&_20b.tagName.toLowerCase();if(has("ios")&&_20b&&!_20b.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_20b.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var rect=_20b.getBoundingClientRect();box.h=Math.max(box.h,rect.top+rect.height);}return box;};return _20a;});},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(_20f,_210,_211,_212,lang){function _213(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_214,dim){var _215=_214.resize?_214.resize(dim):_211.setMarginBox(_214.domNode,dim);if(_215){lang.mixin(_214,_215);}else{lang.mixin(_214,_211.getMarginBox(_214.domNode));lang.mixin(_214,dim);}};var _216={marginBox2contentBox:function(node,mb){var cs=_212.getComputedStyle(node);var me=_211.getMarginExtents(node,cs);var pb=_211.getPadBorderExtents(node,cs);return {l:_212.toPixelValue(node,cs.paddingLeft),t:_212.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};},layoutChildren:function(_217,dim,_218,_219,_21a){dim=lang.mixin({},dim);_210.add(_217,"dijitLayoutContainer");_218=_20f.filter(_218,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(_20f.filter(_218,function(item){return item.region=="center"||item.layoutAlign=="client";}));_20f.forEach(_218,function(_21b){var elm=_21b.domNode,pos=(_21b.region||_21b.layoutAlign);if(!pos){throw new Error("No region setting for "+_21b.id);}var _21c=elm.style;_21c.left=dim.l+"px";_21c.top=dim.t+"px";_21c.position="absolute";_210.add(elm,"dijitAlign"+_213(pos));var _21d={};if(_219&&_219==_21b.id){_21d[_21b.region=="top"||_21b.region=="bottom"?"h":"w"]=_21a;}if(pos=="leading"){pos=_21b.isLeftToRight()?"left":"right";}if(pos=="trailing"){pos=_21b.isLeftToRight()?"right":"left";}if(pos=="top"||pos=="bottom"){_21d.w=dim.w;size(_21b,_21d);dim.h-=_21b.h;if(pos=="top"){dim.t+=_21b.h;}else{_21c.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_21d.h=dim.h;size(_21b,_21d);dim.w-=_21b.w;if(pos=="left"){dim.l+=_21b.w;}else{_21c.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_21b,dim);}}}});}};lang.setObject("dijit.layout.utils",_216);return _216;});},"dijit/layout/ContentPane":function(){define(["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_21e,lang,_21f,_220,_221,_222,html,_223,_224,_225,_226,dom,_227,_228,xhr,i18n,when){return _225("dijit.layout.ContentPane",[_21f,_220,_221],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_21e._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,markupFactory:function(_229,node,ctor){var self=new ctor(_229,node);return !self.href&&self._contentSetter&&self._contentSetter.parseDeferred&&!self._contentSetter.parseDeferred.isFulfilled()?self._contentSetter.parseDeferred.then(function(){return self;}):self;},create:function(_22a,_22b){if((!_22a||!_22a.template)&&_22b&&!("href" in _22a)&&!("content" in _22a)){_22b=dom.byId(_22b);var df=_22b.ownerDocument.createDocumentFragment();while(_22b.firstChild){df.appendChild(_22b.firstChild);}_22a=lang.delegate(_22a,{content:df});}this.inherited(arguments,[_22a,_22b]);},postMixInProperties:function(){this.inherited(arguments);var _22c=i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_222.substitute(this.loadingMessage,_22c);this.errorMessage=_222.substitute(this.errorMessage,_22c);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.removeAttribute("title");},startup:function(){this.inherited(arguments);if(this._contentSetter){_224.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){_224.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){_224.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){_21e.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new _226(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){_21e.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new _226(lang.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(lang.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_22d){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _226(lang.hitch(this,"cancel"));this.onLoadDeferred.then(lang.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _22e={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(lang.isObject(this.ioArgs)){lang.mixin(_22e,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_22e)),_22f;hand.then(function(html){_22f=html;try{self._isDownloaded=true;return self._setContent(html,false);}catch(err){self._onError("Content",err);}},function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;}).then(function(){self.onDownloadEnd();delete self._xhrDfd;return _22f;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(_230){if(this.isLoaded){this._onUnloadHandler();}var _231=this._contentSetter;_224.forEach(this.getChildren(),function(_232){if(_232.destroyRecursive){_232.destroyRecursive(_230);}else{if(_232.destroy){_232.destroy(_230);}}_232._destroyed=true;});if(_231){_224.forEach(_231.parseResults,function(_233){if(!_233._destroyed){if(_233.destroyRecursive){_233.destroyRecursive(_230);}else{if(_233.destroy){_233.destroy(_230);}}_233._destroyed=true;}});delete _231.parseResults;}if(!_230){_228.empty(this.containerNode);}delete this._singleChild;},_setContent:function(cont,_234){this.destroyDescendants();var _235=this._contentSetter;if(!(_235&&_235 instanceof html._ContentSetter)){_235=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _236=this.onContentError(e);try{this.containerNode.innerHTML=_236;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _237=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_235.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_237);var self=this;return when(p&&p.then?p:_235.parseDeferred,function(){delete self._contentSetterParams;if(!_234){if(self._started){self._startChildren();self._scheduleLayout();}self._onLoadHandler(cont);}});},_onError:function(type,err,_238){this.onLoadDeferred.reject(err);var _239=this["on"+type+"Error"].call(this,err);if(_238){console.error(_238,err);}else{if(_239){this._setContent(_239,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"dijit/layout/_ContentPaneResizeMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","../registry","../Viewport","./utils"],function(_23a,_23b,_23c,_23d,_23e,lang,_23f,_240,_241,_242){return _23b("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _243=this.getParent();this._childOfLayoutWidget=_243&&_243.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_241.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){if(!this.doLayout){return;}var _244=[],_245=false;_23f("> *",this.containerNode).some(function(node){var _246=_240.byNode(node);if(_246&&_246.resize){_244.push(_246);}else{if(!/script|link|style/i.test(node.nodeName)&&node.offsetHeight){_245=true;}}});this._singleChild=_244.length==1&&!_245?_244[0]:null;_23c.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_247,_248){this._resizeCalled=true;this._scheduleLayout(_247,_248);},_scheduleLayout:function(_249,_24a){if(this._isShown()){this._layout(_249,_24a);}else{this._needLayout=true;this._changeSize=_249;this._resultSize=_24a;}},_layout:function(_24b,_24c){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_24b){_23d.setMarginBox(this.domNode,_24b);}var cn=this.containerNode;if(cn===this.domNode){var mb=_24c||{};lang.mixin(mb,_24b||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_23d.getMarginBox(cn),mb);}this._contentBox=_242.marginBox2contentBox(cn,mb);}else{this._contentBox=_23d.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_23d.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{var _24d=this.getChildren(),_24e,i=0;while(_24e=_24d[i++]){if(_24e.resize){_24e.resize();}}}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_24f=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_23c.contains(node,"dijitHidden")&&_24f&&_24f.style&&(_24f.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"dojo/html":function(){define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_250,lang,_251,_252,dom,_253,_254){var html={};lang.setObject("dojo.html",html);var _255=0;html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};html._emptyNode=_253.empty;html._setNodeContent=function(node,cont){_253.empty(node);if(cont){if(typeof cont=="string"){cont=_253.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _256=cont.length,i=0;i<cont.length;i=_256==cont.length?i+1:0){_253.place(cont[i],node,"last");}}else{_253.place(cont,node,"last");}}return node;};html._ContentSetter=_252("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_250._scopeName,startup:true,constructor:function(_257,node){lang.mixin(this,_257||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_255++].join("_");}},set:function(cont,_258){if(undefined!==cont){this.content=cont;}if(_258){this._mixin(_258);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _259=this.onContentError(e);try{node.innerHTML=_259;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_251.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_253.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var _25a=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_25a){cont=_25a[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_25b){var _25c={},key;for(key in _25b){if(key in _25c){continue;}this[key]=_25b[key];}},_parse:function(){var _25d=this.node;try{var _25e={};_251.forEach(["dir","lang","textDir"],function(name){if(this[name]){_25e[name]=this[name];}},this);var self=this;this.parseDeferred=_254.parse({rootNode:_25d,noStart:!this.startup,inherited:_25e,scope:this.parserScope}).then(function(_25f){return self.parseResults=_25f;},function(e){self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_260){var _261=this["on"+type+"Error"].call(this,err);if(_260){console.error(_260,err);}else{if(_261){html._setNodeContent(this.node,_261,true);}}}});html.set=function(node,cont,_262){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_262){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_262,{content:cont,node:node}));return op.set();}};return html;});},"dojo/parser":function(){define(["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_263,dojo,_264,_265,_266,dom,_267,_268,_269,all,_26a,_26b,has,_26c,don,_26d){new Date("X");function _26e(text){return eval("("+text+")");};var _26f=0;_269.after(_264,"extend",function(){_26f++;},true);function _270(ctor){var map=ctor._nameCaseMap,_271=ctor.prototype;if(!map||map._extendCnt<_26f){map=ctor._nameCaseMap={};for(var name in _271){if(name.charAt(0)==="_"){continue;}map[name.toLowerCase()]=name;}map._extendCnt=_26f;}return map;};var _272={};function _273(_274,_275){var ts=_274.join();if(!_272[ts]){var _276=[];for(var i=0,l=_274.length;i<l;i++){var t=_274[i];_276[_276.length]=(_272[t]=_272[t]||(_264.getObject(t)||(~t.indexOf("/")&&(_275?_275(t):_263(t)))));}var ctor=_276.shift();_272[ts]=_276.length?(ctor.createSubclass?ctor.createSubclass(_276):ctor.extend.apply(ctor,_276)):ctor;}return _272[ts];};var _277={_clearCache:function(){_26f++;_272={};},_functionFromScript:function(_278,_279){var _27a="",_27b="",_27c=(_278.getAttribute(_279+"args")||_278.getAttribute("args")),_27d=_278.getAttribute("with");var _27e=(_27c||"").split(/\s*,\s*/);if(_27d&&_27d.length){_265.forEach(_27d.split(/\s*,\s*/),function(part){_27a+="with("+part+"){";_27b+="}";});}return new Function(_27e,_27a+_278.innerHTML+_27b);},instantiate:function(_27f,_280,_281){_280=_280||{};_281=_281||{};var _282=(_281.scope||dojo._scopeName)+"Type",_283="data-"+(_281.scope||dojo._scopeName)+"-",_284=_283+"type",_285=_283+"mixins";var list=[];_265.forEach(_27f,function(node){var type=_282 in _280?_280[_282]:node.getAttribute(_284)||node.getAttribute(_282);if(type){var _286=node.getAttribute(_285),_287=_286?[type].concat(_286.split(/\s*,\s*/)):[type];list.push({node:node,types:_287});}});return this._instantiate(list,_280,_281);},_instantiate:function(_288,_289,_28a,_28b){var _28c=_265.map(_288,function(obj){var ctor=obj.ctor||_273(obj.types,_28a.contextRequire);if(!ctor){throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");}return this.construct(ctor,obj.node,_289,_28a,obj.scripts,obj.inherited);},this);function _28d(_28e){if(!_289._started&&!_28a.noStart){_265.forEach(_28e,function(_28f){if(typeof _28f.startup==="function"&&!_28f._started){_28f.startup();}});}return _28e;};if(_28b){return all(_28c).then(_28d);}else{return _28d(_28c);}},construct:function(ctor,node,_290,_291,_292,_293){var _294=ctor&&ctor.prototype;_291=_291||{};var _295={};if(_291.defaults){_264.mixin(_295,_291.defaults);}if(_293){_264.mixin(_295,_293);}var _296;if(has("dom-attributes-explicit")){_296=node.attributes;}else{if(has("dom-attributes-specified-flag")){_296=_265.filter(node.attributes,function(a){return a.specified;});}else{var _297=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),_298=_297.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");_296=_265.map(_298.split(/\s+/),function(name){var _299=name.toLowerCase();return {name:name,value:(node.nodeName=="LI"&&name=="value")||_299=="enctype"?node.getAttribute(_299):node.getAttributeNode(_299).value};});}}var _29a=_291.scope||dojo._scopeName,_29b="data-"+_29a+"-",hash={};if(_29a!=="dojo"){hash[_29b+"props"]="data-dojo-props";hash[_29b+"type"]="data-dojo-type";hash[_29b+"mixins"]="data-dojo-mixins";hash[_29a+"type"]="dojoType";hash[_29b+"id"]="data-dojo-id";}var i=0,item,_29c=[],_29d,_29e;while(item=_296[i++]){var name=item.name,_29f=name.toLowerCase(),_2a0=item.value;switch(hash[_29f]||_29f){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":_29e=_2a0;break;case "data-dojo-id":case "jsid":_29d=_2a0;break;case "data-dojo-attach-point":case "dojoattachpoint":_295.dojoAttachPoint=_2a0;break;case "data-dojo-attach-event":case "dojoattachevent":_295.dojoAttachEvent=_2a0;break;case "class":_295["class"]=node.className;break;case "style":_295["style"]=node.style&&node.style.cssText;break;default:if(!(name in _294)){var map=_270(ctor);name=map[_29f]||name;}if(name in _294){switch(typeof _294[name]){case "string":_295[name]=_2a0;break;case "number":_295[name]=_2a0.length?Number(_2a0):NaN;break;case "boolean":_295[name]=_2a0.toLowerCase()!="false";break;case "function":if(_2a0===""||_2a0.search(/[^\w\.]+/i)!=-1){_295[name]=new Function(_2a0);}else{_295[name]=_264.getObject(_2a0,false)||new Function(_2a0);}_29c.push(name);break;default:var pVal=_294[name];_295[name]=(pVal&&"length" in pVal)?(_2a0?_2a0.split(/\s*,\s*/):[]):(pVal instanceof Date)?(_2a0==""?new Date(""):_2a0=="now"?new Date():_26a.fromISOString(_2a0)):(pVal instanceof _268)?(dojo.baseUrl+_2a0):_26e(_2a0);}}else{_295[name]=_2a0;}}}for(var j=0;j<_29c.length;j++){var _2a1=_29c[j].toLowerCase();node.removeAttribute(_2a1);node[_2a1]=null;}if(_29e){try{_29e=_26e.call(_291.propsThis,"{"+_29e+"}");_264.mixin(_295,_29e);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_29e+"'");}}_264.mixin(_295,_290);if(!_292){_292=(ctor&&(ctor._noScript||_294._noScript)?[]:_26c("> script[type^='dojo/']",node));}var _2a2=[],_2a3=[],_2a4=[],ons=[];if(_292){for(i=0;i<_292.length;i++){var _2a5=_292[i];node.removeChild(_2a5);var _2a6=(_2a5.getAttribute(_29b+"event")||_2a5.getAttribute("event")),prop=_2a5.getAttribute(_29b+"prop"),_2a7=_2a5.getAttribute(_29b+"method"),_2a8=_2a5.getAttribute(_29b+"advice"),_2a9=_2a5.getAttribute("type"),nf=this._functionFromScript(_2a5,_29b);if(_2a6){if(_2a9=="dojo/connect"){_2a2.push({method:_2a6,func:nf});}else{if(_2a9=="dojo/on"){ons.push({event:_2a6,func:nf});}else{_295[_2a6]=nf;}}}else{if(_2a9=="dojo/aspect"){_2a2.push({method:_2a7,advice:_2a8,func:nf});}else{if(_2a9=="dojo/watch"){_2a4.push({prop:prop,func:nf});}else{_2a3.push(nf);}}}}}var _2aa=ctor.markupFactory||_294.markupFactory;var _2ab=_2aa?_2aa(_295,node,ctor):new ctor(_295,node);function _2ac(_2ad){if(_29d){_264.setObject(_29d,_2ad);}for(i=0;i<_2a2.length;i++){_269[_2a2[i].advice||"after"](_2ad,_2a2[i].method,_264.hitch(_2ad,_2a2[i].func),true);}for(i=0;i<_2a3.length;i++){_2a3[i].call(_2ad);}for(i=0;i<_2a4.length;i++){_2ad.watch(_2a4[i].prop,_2a4[i].func);}for(i=0;i<ons.length;i++){don(_2ad,ons[i].event,ons[i].func);}return _2ad;};if(_2ab.then){return _2ab.then(_2ac);}else{return _2ac(_2ab);}},scan:function(root,_2ae){var list=[],mids=[],_2af={};var _2b0=(_2ae.scope||dojo._scopeName)+"Type",_2b1="data-"+(_2ae.scope||dojo._scopeName)+"-",_2b2=_2b1+"type",_2b3=_2b1+"textdir",_2b4=_2b1+"mixins";var node=root.firstChild;var _2b5=_2ae.inherited;if(!_2b5){function _2b6(node,attr){return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_2b6(node.parentNode,attr));};_2b5={dir:_2b6(root,"dir"),lang:_2b6(root,"lang"),textDir:_2b6(root,_2b3)};for(var key in _2b5){if(!_2b5[key]){delete _2b5[key];}}}var _2b7={inherited:_2b5};var _2b8;var _2b9;function _2ba(_2bb){if(!_2bb.inherited){_2bb.inherited={};var node=_2bb.node,_2bc=_2ba(_2bb.parent);var _2bd={dir:node.getAttribute("dir")||_2bc.dir,lang:node.getAttribute("lang")||_2bc.lang,textDir:node.getAttribute(_2b3)||_2bc.textDir};for(var key in _2bd){if(_2bd[key]){_2bb.inherited[key]=_2bd[key];}}}return _2bb.inherited;};while(true){if(!node){if(!_2b7||!_2b7.node){break;}node=_2b7.node.nextSibling;_2b9=false;_2b7=_2b7.parent;_2b8=_2b7.scripts;continue;}if(node.nodeType!=1){node=node.nextSibling;continue;}if(_2b8&&node.nodeName.toLowerCase()=="script"){type=node.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_2b8.push(node);}node=node.nextSibling;continue;}if(_2b9){node=node.nextSibling;continue;}var type=node.getAttribute(_2b2)||node.getAttribute(_2b0);var _2be=node.firstChild;if(!type&&(!_2be||(_2be.nodeType==3&&!_2be.nextSibling))){node=node.nextSibling;continue;}var _2bf;var ctor=null;if(type){var _2c0=node.getAttribute(_2b4),_2c1=_2c0?[type].concat(_2c0.split(/\s*,\s*/)):[type];try{ctor=_273(_2c1,_2ae.contextRequire);}catch(e){}if(!ctor){_265.forEach(_2c1,function(t){if(~t.indexOf("/")&&!_2af[t]){_2af[t]=true;mids[mids.length]=t;}});}var _2c2=ctor&&!ctor.prototype._noScript?[]:null;_2bf={types:_2c1,ctor:ctor,parent:_2b7,node:node,scripts:_2c2};_2bf.inherited=_2ba(_2bf);list.push(_2bf);}else{_2bf={node:node,scripts:_2b8,parent:_2b7};}_2b8=_2c2;_2b9=node.stopParser||(ctor&&ctor.prototype.stopParser&&!(_2ae.template));_2b7=_2bf;node=_2be;}var d=new _26b();if(mids.length){if(has("dojo-debug-messages")){console.warn("WARNING: Modules being Auto-Required: "+mids.join(", "));}var r=_2ae.contextRequire||_263;r(mids,function(){d.resolve(_265.filter(list,function(_2c3){if(!_2c3.ctor){try{_2c3.ctor=_273(_2c3.types,_2ae.contextRequire);}catch(e){}}var _2c4=_2c3.parent;while(_2c4&&!_2c4.types){_2c4=_2c4.parent;}var _2c5=_2c3.ctor&&_2c3.ctor.prototype;_2c3.instantiateChildren=!(_2c5&&_2c5.stopParser&&!(_2ae.template));_2c3.instantiate=!_2c4||(_2c4.instantiate&&_2c4.instantiateChildren);return _2c3.instantiate;}));});}else{d.resolve(list);}return d.promise;},_require:function(_2c6,_2c7){var hash=_26e("{"+_2c6.innerHTML+"}"),vars=[],mids=[],d=new _26b();var _2c8=(_2c7&&_2c7.contextRequire)||_263;for(var name in hash){vars.push(name);mids.push(hash[name]);}_2c8(mids,function(){for(var i=0;i<vars.length;i++){_264.setObject(vars[i],arguments[i]);}d.resolve(arguments);});return d.promise;},_scanAmd:function(root,_2c9){var _2ca=new _26b(),_2cb=_2ca.promise;_2ca.resolve(true);var self=this;_26c("script[type='dojo/require']",root).forEach(function(node){_2cb=_2cb.then(function(){return self._require(node,_2c9);});node.parentNode.removeChild(node);});return _2cb;},parse:function(_2cc,_2cd){var root;if(!_2cd&&_2cc&&_2cc.rootNode){_2cd=_2cc;root=_2cd.rootNode;}else{if(_2cc&&_264.isObject(_2cc)&&!("nodeType" in _2cc)){_2cd=_2cc;}else{root=_2cc;}}root=root?dom.byId(root):_267.body();_2cd=_2cd||{};var _2ce=_2cd.template?{template:true}:{},_2cf=[],self=this;var p=this._scanAmd(root,_2cd).then(function(){return self.scan(root,_2cd);}).then(function(_2d0){return self._instantiate(_2d0,_2ce,_2cd,true);}).then(function(_2d1){return _2cf=_2cf.concat(_2d1);}).otherwise(function(e){console.error("dojo/parser::parse() error",e);throw e;});_264.mixin(_2cf,p);return _2cf;}};if(1){dojo.parser=_277;}if(_266.parseOnLoad){_26d(100,_277,"parse");}return _277;});},"dojo/_base/url":function(){define(["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_2d2=function(){var n=null,_2d3=arguments,uri=[_2d3[0]];for(var i=1;i<_2d3.length;i++){if(!_2d3[i]){continue;}var _2d4=new _2d2(_2d3[i]+""),_2d5=new _2d2(uri[0]+"");if(_2d4.path==""&&!_2d4.scheme&&!_2d4.authority&&!_2d4.query){if(_2d4.fragment!=n){_2d5.fragment=_2d4.fragment;}_2d4=_2d5;}else{if(!_2d4.scheme){_2d4.scheme=_2d5.scheme;if(!_2d4.authority){_2d4.authority=_2d5.authority;if(_2d4.path.charAt(0)!="/"){var path=_2d5.path.substring(0,_2d5.path.lastIndexOf("/")+1)+_2d4.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_2d4.path=segs.join("/");}}}}uri=[];if(_2d4.scheme){uri.push(_2d4.scheme,":");}if(_2d4.authority){uri.push("//",_2d4.authority);}uri.push(_2d4.path);if(_2d4.query){uri.push("?",_2d4.query);}if(_2d4.fragment){uri.push("#",_2d4.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_2d2.prototype.toString=function(){return this.uri;};return dojo._Url=_2d2;});},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(_2d6,_2d7,when){"use strict";var some=_2d6.some;return function all(_2d8){var _2d9,_2d6;if(_2d8 instanceof Array){_2d6=_2d8;}else{if(_2d8&&typeof _2d8==="object"){_2d9=_2d8;}}var _2da;var _2db=[];if(_2d9){_2d6=[];for(var key in _2d9){if(Object.hasOwnProperty.call(_2d9,key)){_2db.push(key);_2d6.push(_2d9[key]);}}_2da={};}else{if(_2d6){_2da=[];}}if(!_2d6||!_2d6.length){return new _2d7().resolve(_2da);}var _2dc=new _2d7();_2dc.promise.always(function(){_2da=_2db=null;});var _2dd=_2d6.length;some(_2d6,function(_2de,_2df){if(!_2d9){_2db.push(_2df);}when(_2de,function(_2e0){if(!_2dc.isFulfilled()){_2da[_2db[_2df]]=_2e0;if(--_2dd===0){_2dc.resolve(_2da);}}},_2dc.reject);return _2dc.isFulfilled();});return _2dc.promise;};});},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(lang,_2e1){var _2e2={};lang.setObject("dojo.date.stamp",_2e2);_2e2.fromISOString=function(_2e3,_2e4){if(!_2e2._isoRegExp){_2e2._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _2e5=_2e2._isoRegExp.exec(_2e3),_2e6=null;if(_2e5){_2e5.shift();if(_2e5[1]){_2e5[1]--;}if(_2e5[6]){_2e5[6]*=1000;}if(_2e4){_2e4=new Date(_2e4);_2e1.forEach(_2e1.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _2e4["get"+prop]();}),function(_2e7,_2e8){_2e5[_2e8]=_2e5[_2e8]||_2e7;});}_2e6=new Date(_2e5[0]||1970,_2e5[1]||0,_2e5[2]||1,_2e5[3]||0,_2e5[4]||0,_2e5[5]||0,_2e5[6]||0);if(_2e5[0]<100){_2e6.setFullYear(_2e5[0]||1970);}var _2e9=0,_2ea=_2e5[7]&&_2e5[7].charAt(0);if(_2ea!="Z"){_2e9=((_2e5[8]||0)*60)+(Number(_2e5[9])||0);if(_2ea!="-"){_2e9*=-1;}}if(_2ea){_2e9-=_2e6.getTimezoneOffset();}if(_2e9){_2e6.setTime(_2e6.getTime()+_2e9*60000);}}return _2e6;};_2e2.toISOString=function(_2eb,_2ec){var _2ed=function(n){return (n<10)?"0"+n:n;};_2ec=_2ec||{};var _2ee=[],_2ef=_2ec.zulu?"getUTC":"get",date="";if(_2ec.selector!="time"){var year=_2eb[_2ef+"FullYear"]();date=["0000".substr((year+"").length)+year,_2ed(_2eb[_2ef+"Month"]()+1),_2ed(_2eb[_2ef+"Date"]())].join("-");}_2ee.push(date);if(_2ec.selector!="date"){var time=[_2ed(_2eb[_2ef+"Hours"]()),_2ed(_2eb[_2ef+"Minutes"]()),_2ed(_2eb[_2ef+"Seconds"]())].join(":");var _2f0=_2eb[_2ef+"Milliseconds"]();if(_2ec.milliseconds){time+="."+(_2f0<100?"0":"")+_2ed(_2f0);}if(_2ec.zulu){time+="Z";}else{if(_2ec.selector!="time"){var _2f1=_2eb.getTimezoneOffset();var _2f2=Math.abs(_2f1);time+=(_2f1>0?"-":"+")+_2ed(Math.floor(_2f2/60))+":"+_2ed(_2f2%60);}}_2ee.push(time);}return _2ee.join("T");};return _2e2;});},"dojo/i18n":function(){define(["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(dojo,_2f3,has,_2f4,_2f5,lang,xhr,json,_2f6){has.add("dojo-preload-i18n-Api",1);1||has.add("dojo-v1x-i18n-Api",1);var _2f7=dojo.i18n={},_2f8=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,_2f9=function(root,_2fa,_2fb,_2fc){for(var _2fd=[_2fb+_2fc],_2fe=_2fa.split("-"),_2ff="",i=0;i<_2fe.length;i++){_2ff+=(_2ff?"-":"")+_2fe[i];if(!root||root[_2ff]){_2fd.push(_2fb+_2ff+"/"+_2fc);_2fd.specificity=_2ff;}}return _2fd;},_300={},_301=function(_302,_303,_304){_304=_304?_304.toLowerCase():dojo.locale;_302=_302.replace(/\./g,"/");_303=_303.replace(/\./g,"/");return (/root/i.test(_304))?(_302+"/nls/"+_303):(_302+"/nls/"+_304+"/"+_303);},_305=dojo.getL10nName=function(_306,_307,_308){return _306=_2f6.id+"!"+_301(_306,_307,_308);},_309=function(_30a,_30b,_30c,_30d,_30e,load){_30a([_30b],function(root){var _30f=lang.clone(root.root),_310=_2f9(!root._v1x&&root,_30e,_30c,_30d);_30a(_310,function(){for(var i=1;i<_310.length;i++){_30f=lang.mixin(lang.clone(_30f),arguments[i]);}var _311=_30b+"/"+_30e;_300[_311]=_30f;_30f.$locale=_310.specificity;load();});});},_312=function(id,_313){return /^\./.test(id)?_313(id):id;},_314=function(_315){var list=_2f5.extraLocale||[];list=lang.isArray(list)?list:[list];list.push(_315);return list;},load=function(id,_316,load){if(has("dojo-preload-i18n-Api")){var _317=id.split("*"),_318=_317[1]=="preload";if(_318){if(!_300[id]){_300[id]=1;_319(_317[2],json.parse(_317[3]),1,_316);}load(1);}if(_318||_31a(id,_316,load)){return;}}var _31b=_2f8.exec(id),_31c=_31b[1]+"/",_31d=_31b[5]||_31b[4],_31e=_31c+_31d,_31f=(_31b[5]&&_31b[4]),_320=_31f||dojo.locale||"",_321=_31e+"/"+_320,_322=_31f?[_320]:_314(_320),_323=_322.length,_324=function(){if(!--_323){load(lang.delegate(_300[_321]));}};_2f4.forEach(_322,function(_325){var _326=_31e+"/"+_325;if(has("dojo-preload-i18n-Api")){_327(_326);}if(!_300[_326]){_309(_316,_31e,_31c,_31d,_325,_324);}else{_324();}});};if(has("dojo-unit-tests")){var _328=_2f7.unitTests=[];}if(has("dojo-preload-i18n-Api")||1){var _329=_2f7.normalizeLocale=function(_32a){var _32b=_32a?_32a.toLowerCase():dojo.locale;return _32b=="root"?"ROOT":_32b;},isXd=function(mid,_32c){return (1&&1)?_32c.isXdUrl(_2f3.toUrl(mid+".js")):true;},_32d=0,_32e=[],_319=_2f7._preloadLocalizations=function(_32f,_330,_331,_332){_332=_332||_2f3;function _333(mid,_334){if(isXd(mid,_332)||_331){_332([mid],_334);}else{_33e([mid],_334,_332);}};function _335(_336,func){var _337=_336.split("-");while(_337.length){if(func(_337.join("-"))){return;}_337.pop();}func("ROOT");};function _338(_339){_339=_329(_339);_335(_339,function(loc){if(_2f4.indexOf(_330,loc)>=0){var mid=_32f.replace(/\./g,"/")+"_"+loc;_32d++;_333(mid,function(_33a){for(var p in _33a){_300[_2f3.toAbsMid(p)+"/"+loc]=_33a[p];}--_32d;while(!_32d&&_32e.length){load.apply(null,_32e.shift());}});return true;}return false;});};_338();_2f4.forEach(dojo.config.extraLocale,_338);},_31a=function(id,_33b,load){if(_32d){_32e.push([id,_33b,load]);}return _32d;},_327=function(){};}if(1){var _33c={},_33d=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},"+"\t   require = function(){define.called = 1;};"+"try{"+"define.called = 0;"+"eval(__bundle);"+"if(define.called==1)"+"return __amdValue;"+"if((__checkForLegacyModules = __checkForLegacyModules(__mid)))"+"return __checkForLegacyModules;"+"}catch(e){}"+"try{"+"return eval('('+__bundle+')');"+"}catch(e){"+"return e;"+"}"),_33e=function(deps,_33f,_340){var _341=[];_2f4.forEach(deps,function(mid){var url=_340.toUrl(mid+".js");function load(text){var _342=_33d(text,_327,mid,_33c);if(_342===_33c){_341.push(_300[url]=_33c.result);}else{if(_342 instanceof Error){console.error("failed to evaluate i18n bundle; url="+url,_342);_342={};}_341.push(_300[url]=(/nls\/[^\/]+\/[^\/]+$/.test(url)?_342:{root:_342,_v1x:1}));}};if(_300[url]){_341.push(_300[url]);}else{var _343=_340.syncLoadNls(mid);if(_343){_341.push(_343);}else{if(!xhr){try{_340.getText(url,true,load);}catch(e){_341.push(_300[url]={});}}else{xhr.get({url:url,sync:true,load:load,error:function(){_341.push(_300[url]={});}});}}}});_33f&&_33f.apply(null,_341);};_327=function(_344){for(var _345,_346=_344.split("/"),_347=dojo.global[_346[0]],i=1;_347&&i<_346.length-1;_347=_347[_346[i++]]){}if(_347){_345=_347[_346[i]];if(!_345){_345=_347[_346[i].replace(/-/g,"_")];}if(_345){_300[_344]=_345;}}return _345;};_2f7.getLocalization=function(_348,_349,_34a){var _34b,_34c=_301(_348,_349,_34a);load(_34c,(!isXd(_34c,_2f3)?function(deps,_34d){_33e(deps,_34d,_2f3);}:_2f3),function(_34e){_34b=_34e;});return _34b;};if(has("dojo-unit-tests")){_328.push(function(doh){doh.register("tests.i18n.unit",function(t){var _34f;_34f=_33d("{prop:1}",_327,"nonsense",_33c);t.is({prop:1},_34f);t.is(undefined,_34f[1]);_34f=_33d("({prop:1})",_327,"nonsense",_33c);t.is({prop:1},_34f);t.is(undefined,_34f[1]);_34f=_33d("{'prop-x':1}",_327,"nonsense",_33c);t.is({"prop-x":1},_34f);t.is(undefined,_34f[1]);_34f=_33d("({'prop-x':1})",_327,"nonsense",_33c);t.is({"prop-x":1},_34f);t.is(undefined,_34f[1]);_34f=_33d("define({'prop-x':1})",_327,"nonsense",_33c);t.is(_33c,_34f);t.is({"prop-x":1},_33c.result);_34f=_33d("define('some/module', {'prop-x':1})",_327,"nonsense",_33c);t.is(_33c,_34f);t.is({"prop-x":1},_33c.result);_34f=_33d("this is total nonsense and should throw an error",_327,"nonsense",_33c);t.is(_34f instanceof Error,true);});});}}return lang.mixin(_2f7,{dynamic:true,normalize:_312,load:load,cache:_300,getL10nName:_305});});},"dijit/layout/AccordionContainer":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/topic","../focus","../_base/manager","dojo/ready","../_Widget","../_Container","../_TemplatedMixin","../_CssStateMixin","./StackContainer","./ContentPane","dojo/text!./templates/AccordionButton.html","../a11yclick"],function(_350,_351,_352,fx,dom,_353,_354,_355,_356,keys,lang,has,_357,_358,_359,_35a,_35b,_35c,_35d,_35e,_35f,_360,_361){var _362=_352("dijit.layout._AccordionButton",[_35b,_35d,_35e],{templateString:_361,label:"",_setLabelAttr:{node:"titleTextNode",type:"innerHTML"},title:"",_setTitleAttr:{node:"titleTextNode",type:"attribute",attribute:"title"},iconClassAttr:"",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitAccordionTitle",getParent:function(){return this.parent;},buildRendering:function(){this.inherited(arguments);var _363=this.id.replace(" ","_");_353.set(this.titleTextNode,"id",_363+"_title");this.focusNode.setAttribute("aria-labelledby",_353.get(this.titleTextNode,"id"));dom.setSelectable(this.domNode,false);},getTitleHeight:function(){return _356.getMarginSize(this.domNode).h;},_onTitleClick:function(){var _364=this.getParent();_364.selectChild(this.contentWidget,true);_358.focus(this.focusNode);},_onTitleKeyDown:function(evt){return this.getParent()._onKeyDown(evt,this.contentWidget);},_setSelectedAttr:function(_365){this._set("selected",_365);this.focusNode.setAttribute("aria-expanded",_365?"true":"false");this.focusNode.setAttribute("aria-selected",_365?"true":"false");this.focusNode.setAttribute("tabIndex",_365?"0":"-1");}});if(has("dojo-bidi")){_362.extend({_setLabelAttr:function(_366){this._set("label",_366);_353.set(this.titleTextNode,"innerHTML",_366);this.applyTextDir(this.titleTextNode);},_setTitleAttr:function(_367){this._set("title",_367);_353.set(this.titleTextNode,"title",_367);this.applyTextDir(this.titleTextNode);}});}var _368=_352("dijit.layout._AccordionInnerContainer"+(has("dojo-bidi")?"_NoBidi":""),[_35b,_35e],{baseClass:"dijitAccordionInnerContainer",isLayoutContainer:true,buildRendering:function(){this.domNode=_355.place("<div class='"+this.baseClass+"' role='presentation'>",this.contentWidget.domNode,"after");var _369=this.contentWidget,cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;this.button=_369._buttonWidget=(new cls({contentWidget:_369,label:_369.title,title:_369.tooltip,dir:_369.dir,lang:_369.lang,textDir:_369.textDir||this.textDir,iconClass:_369.iconClass,id:_369.id+"_button",parent:this.parent})).placeAt(this.domNode);this.containerNode=_355.place("<div class='dijitAccordionChildWrapper' role='tabpanel' style='display:none'>",this.domNode);this.containerNode.setAttribute("aria-labelledby",this.button.id);_355.place(this.contentWidget.domNode,this.containerNode);},postCreate:function(){this.inherited(arguments);var _36a=this.button,cw=this.contentWidget;this._contentWidgetWatches=[cw.watch("title",lang.hitch(this,function(name,_36b,_36c){_36a.set("label",_36c);})),cw.watch("tooltip",lang.hitch(this,function(name,_36d,_36e){_36a.set("title",_36e);})),cw.watch("iconClass",lang.hitch(this,function(name,_36f,_370){_36a.set("iconClass",_370);}))];},_setSelectedAttr:function(_371){this._set("selected",_371);this.button.set("selected",_371);if(_371){var cw=this.contentWidget;if(cw.onSelected){cw.onSelected();}}},startup:function(){this.contentWidget.startup();},destroy:function(){this.button.destroyRecursive();_351.forEach(this._contentWidgetWatches||[],function(w){w.unwatch();});delete this.contentWidget._buttonWidget;delete this.contentWidget._wrapperWidget;this.inherited(arguments);},destroyDescendants:function(_372){this.contentWidget.destroyRecursive(_372);}});if(has("dojo-bidi")){_368=_352("dijit.layout._AccordionInnerContainer",_368,{postCreate:function(){this.inherited(arguments);var _373=this.button;this._contentWidgetWatches.push(this.contentWidget.watch("textDir",function(name,_374,_375){_373.set("textDir",_375);}));}});}var _376=_352("dijit.layout.AccordionContainer",_35f,{duration:_359.defaultDuration,buttonWidget:_362,baseClass:"dijitAccordionContainer",buildRendering:function(){this.inherited(arguments);this.domNode.style.overflow="hidden";this.domNode.setAttribute("role","tablist");},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.selectedChildWidget){this.selectedChildWidget._wrapperWidget.set("selected",true);}},layout:function(){var _377=this.selectedChildWidget;if(!_377){return;}var _378=_377._wrapperWidget.domNode,_379=_356.getMarginExtents(_378),_37a=_356.getPadBorderExtents(_378),_37b=_377._wrapperWidget.containerNode,_37c=_356.getMarginExtents(_37b),_37d=_356.getPadBorderExtents(_37b),_37e=this._contentBox;var _37f=0;_351.forEach(this.getChildren(),function(_380){if(_380!=_377){_37f+=_356.getMarginSize(_380._wrapperWidget.domNode).h;}});this._verticalSpace=_37e.h-_37f-_379.h-_37a.h-_37c.h-_37d.h-_377._buttonWidget.getTitleHeight();this._containerContentBox={h:this._verticalSpace,w:this._contentBox.w-_379.w-_37a.w-_37c.w-_37d.w};if(_377){_377.resize(this._containerContentBox);}},_setupChild:function(_381){_381._wrapperWidget=_368({contentWidget:_381,buttonWidget:this.buttonWidget,id:_381.id+"_wrapper",dir:_381.dir,lang:_381.lang,textDir:_381.textDir||this.textDir,parent:this});this.inherited(arguments);_355.place(_381.domNode,_381._wrapper,"replace");},removeChild:function(_382){if(_382._wrapperWidget){_355.place(_382.domNode,_382._wrapperWidget.domNode,"after");_382._wrapperWidget.destroy();delete _382._wrapperWidget;}_354.remove(_382.domNode,"dijitHidden");this.inherited(arguments);},getChildren:function(){return _351.map(this.inherited(arguments),function(_383){return _383.declaredClass=="dijit.layout._AccordionInnerContainer"?_383.contentWidget:_383;},this);},destroy:function(){if(this._animation){this._animation.stop();}_351.forEach(this.getChildren(),function(_384){if(_384._wrapperWidget){_384._wrapperWidget.destroy();}else{_384.destroyRecursive();}});this.inherited(arguments);},_showChild:function(_385){_385._wrapperWidget.containerNode.style.display="block";return this.inherited(arguments);},_hideChild:function(_386){_386._wrapperWidget.containerNode.style.display="none";this.inherited(arguments);},_transition:function(_387,_388,_389){if(has("ie")<8){_389=false;}if(this._animation){this._animation.stop(true);delete this._animation;}var self=this;if(_387){_387._wrapperWidget.set("selected",true);var d=this._showChild(_387);if(this.doLayout&&_387.resize){_387.resize(this._containerContentBox);}}if(_388){_388._wrapperWidget.set("selected",false);if(!_389){this._hideChild(_388);}}if(_389){var _38a=_387._wrapperWidget.containerNode,_38b=_388._wrapperWidget.containerNode;var _38c=_387._wrapperWidget.containerNode,_38d=_356.getMarginExtents(_38c),_38e=_356.getPadBorderExtents(_38c),_38f=_38d.h+_38e.h;_38b.style.height=(self._verticalSpace-_38f)+"px";this._animation=new fx.Animation({node:_38a,duration:this.duration,curve:[1,this._verticalSpace-_38f-1],onAnimate:function(_390){_390=Math.floor(_390);_38a.style.height=_390+"px";_38b.style.height=(self._verticalSpace-_38f-_390)+"px";},onEnd:function(){delete self._animation;_38a.style.height="auto";_388._wrapperWidget.containerNode.style.display="none";_38b.style.height="auto";self._hideChild(_388);}});this._animation.onStop=this._animation.onEnd;this._animation.play();}return d;},_onKeyDown:function(e,_391){if(this.disabled||e.altKey||!(_391||e.ctrlKey)){return;}var c=e.keyCode;if((_391&&(c==keys.LEFT_ARROW||c==keys.UP_ARROW))||(e.ctrlKey&&c==keys.PAGE_UP)){this._adjacent(false)._buttonWidget._onTitleClick();e.stopPropagation();e.preventDefault();}else{if((_391&&(c==keys.RIGHT_ARROW||c==keys.DOWN_ARROW))||(e.ctrlKey&&(c==keys.PAGE_DOWN||c==keys.TAB))){this._adjacent(true)._buttonWidget._onTitleClick();e.stopPropagation();e.preventDefault();}}}});if(has("dijit-legacy-requires")){_35a(0,function(){var _392=["dijit/layout/AccordionPane"];_350(_392);});}_376._InnerContainer=_368;_376._Button=_362;return _376;});},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_393,_394,lang,_395,_396){var _397={};_393.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_397[name]=_395[name];});lang.mixin(_397,{defaultDuration:_394["defaultDuration"]||200});lang.mixin(_396,_397);return _396;});},"dijit/_CssStateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(_398,_399,dom,_39a,has,lang,on,_39b,_39c,win,_39d,_39e){var _39f=_399("dijit._CssStateMixin",[],{hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_398.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes||{}){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(_3a0){if(!this.disabled){switch(_3a0.type){case "mouseover":case "MSPointerOver":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "keydown":this._set("active",true);break;case "mouseup":case "dojotouchend":case "keyup":this._set("active",false);break;}}},_setStateClass:function(){var _3a1=this.baseClass.split(" ");function _3a2(_3a3){_3a1=_3a1.concat(_398.map(_3a1,function(c){return c+_3a3;}),"dijit"+_3a3);};if(!this.isLeftToRight()){_3a2("Rtl");}var _3a4=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_3a2(_3a4);}if(this.state){_3a2(this.state);}if(this.selected){_3a2("Selected");}if(this._opened){_3a2("Opened");}if(this.disabled){_3a2("Disabled");}else{if(this.readOnly){_3a2("ReadOnly");}else{if(this.active){_3a2("Active");}else{if(this.hovering){_3a2("Hover");}}}}if(this.focused){_3a2("Focused");}var tn=this.stateNode||this.domNode,_3a5={};_398.forEach(tn.className.split(" "),function(c){_3a5[c]=true;});if("_stateClasses" in this){_398.forEach(this._stateClasses,function(c){delete _3a5[c];});}_398.forEach(_3a1,function(c){_3a5[c]=true;});var _3a6=[];for(var c in _3a5){_3a6.push(c);}tn.className=_3a6.join(" ");this._stateClasses=_3a1;},_subnodeCssMouseEvent:function(node,_3a7,evt){if(this.disabled||this.readOnly){return;}function _3a8(_3a9){_39a.toggle(node,_3a7+"Hover",_3a9);};function _3aa(_3ab){_39a.toggle(node,_3a7+"Active",_3ab);};function _3ac(_3ad){_39a.toggle(node,_3a7+"Focused",_3ad);};switch(evt.type){case "mouseover":case "MSPointerOver":_3a8(true);break;case "mouseout":case "MSPointerOut":_3a8(false);_3aa(false);break;case "mousedown":case "touchstart":case "MSPointerDown":case "keydown":_3aa(true);break;case "mouseup":case "MSPointerUp":case "dojotouchend":case "keyup":_3aa(false);break;case "focus":case "focusin":_3ac(true);break;case "blur":case "focusout":_3ac(false);break;}},_trackMouseState:function(node,_3ae){node._cssState=_3ae;}});_39b(function(){function _3af(evt,_3b0,_3b1){if(_3b1&&dom.isDescendant(_3b1,_3b0)){return;}for(var node=_3b0;node&&node!=_3b1;node=node.parentNode){if(node._cssState){var _3b2=_39e.getEnclosingWidget(node);if(_3b2){if(node==_3b2.domNode){_3b2._cssMouseEvent(evt);}else{_3b2._subnodeCssMouseEvent(node,node._cssState,evt);}}}}};var body=win.body(),_3b3;on(body,_39c.over,function(evt){_3af(evt,evt.target,evt.relatedTarget);});on(body,_39c.out,function(evt){_3af(evt,evt.target,evt.relatedTarget);});on(body,_39d.press,function(evt){_3b3=evt.target;_3af(evt,_3b3);});on(body,_39d.release,function(evt){_3af(evt,_3b3);_3b3=null;});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _3b4=_39e.getEnclosingWidget(node);if(_3b4){_3b4._subnodeCssMouseEvent(node,node._cssState,evt);}}});});return _39f;});},"dijit/layout/StackContainer":function(){define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/topic","dojo/when","../registry","../_WidgetBase","./_LayoutWidget"],function(_3b5,_3b6,_3b7,_3b8,_3b9,has,lang,on,_3ba,_3bb,when,_3bc,_3bd,_3be){if(has("dijit-legacy-requires")){_3ba(0,function(){var _3bf=["dijit/layout/StackController"];require(_3bf);});}var _3c0=_3b7("dijit.layout.StackContainer",_3be,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);_3b8.add(this.domNode,"dijitLayoutContainer");},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));},startup:function(){if(this._started){return;}var _3c1=this.getChildren();_3b5.forEach(_3c1,this._setupChild,this);if(this.persist){this.selectedChildWidget=_3bc.byId(_3b6(this.id+"_selectedChild"));}else{_3b5.some(_3c1,function(_3c2){if(_3c2.selected){this.selectedChildWidget=_3c2;}return _3c2.selected;},this);}var _3c3=this.selectedChildWidget;if(!_3c3&&_3c1[0]){_3c3=this.selectedChildWidget=_3c1[0];_3c3.selected=true;}_3bb.publish(this.id+"-startup",{children:_3c1,selected:_3c3,textDir:this.textDir});this.inherited(arguments);},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=true;var _3c4=this.selectedChildWidget;if(_3c4){this._showChild(_3c4);}}this.inherited(arguments);},_setupChild:function(_3c5){var _3c6=_3c5.domNode,_3c7=_3b9.place("<div role='tabpanel' class='"+this.baseClass+"ChildWrapper dijitHidden'>",_3c5.domNode,"replace"),_3c8=_3c5["aria-label"]||_3c5.title||_3c5.label;if(_3c8){_3c7.setAttribute("aria-label",_3c8);}_3b9.place(_3c6,_3c7);_3c5._wrapper=_3c7;this.inherited(arguments);if(_3c6.style.display=="none"){_3c6.style.display="block";}_3c5.domNode.title="";},addChild:function(_3c9,_3ca){this.inherited(arguments);if(this._started){_3bb.publish(this.id+"-addChild",_3c9,_3ca);this.layout();if(!this.selectedChildWidget){this.selectChild(_3c9);}}},removeChild:function(page){var idx=_3b5.indexOf(this.getChildren(),page);this.inherited(arguments);_3b9.destroy(page._wrapper);delete page._wrapper;if(this._started){_3bb.publish(this.id+"-removeChild",page);}if(this._descendantsBeingDestroyed){return;}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _3cb=this.getChildren();if(_3cb.length){this.selectChild(_3cb[Math.max(idx-1,0)]);}}}if(this._started){this.layout();}},selectChild:function(page,_3cc){var d;page=_3bc.byId(page);if(this.selectedChildWidget!=page){d=this._transition(page,this.selectedChildWidget,_3cc);this._set("selectedChildWidget",page);_3bb.publish(this.id+"-selectChild",page);if(this.persist){_3b6(this.id+"_selectedChild",this.selectedChildWidget.id);}}return when(d||true);},_transition:function(_3cd,_3ce){if(_3ce){this._hideChild(_3ce);}var d=this._showChild(_3cd);if(_3cd.resize){if(this.doLayout){_3cd.resize(this._containerContentBox||this._contentBox);}else{_3cd.resize();}}return d;},_adjacent:function(_3cf){var _3d0=this.getChildren();var _3d1=_3b5.indexOf(_3d0,this.selectedChildWidget);_3d1+=_3cf?1:_3d0.length-1;return _3d0[_3d1%_3d0.length];},forward:function(){return this.selectChild(this._adjacent(true),true);},back:function(){return this.selectChild(this._adjacent(false),true);},_onKeyDown:function(e){_3bb.publish(this.id+"-containerKeyDown",{e:e,page:this});},layout:function(){var _3d2=this.selectedChildWidget;if(_3d2&&_3d2.resize){if(this.doLayout){_3d2.resize(this._containerContentBox||this._contentBox);}else{_3d2.resize();}}},_showChild:function(page){var _3d3=this.getChildren();page.isFirstChild=(page==_3d3[0]);page.isLastChild=(page==_3d3[_3d3.length-1]);page._set("selected",true);if(page._wrapper){_3b8.replace(page._wrapper,"dijitVisible","dijitHidden");}return (page._onShow&&page._onShow())||true;},_hideChild:function(page){page._set("selected",false);if(page._wrapper){_3b8.replace(page._wrapper,"dijitHidden","dijitVisible");}page.onHide&&page.onHide();},closeChild:function(page){var _3d4=page.onClose&&page.onClose(this,page);if(_3d4){this.removeChild(page);page.destroyRecursive();}},destroyDescendants:function(_3d5){this._descendantsBeingDestroyed=true;this.selectedChildWidget=undefined;_3b5.forEach(this.getChildren(),function(_3d6){if(!_3d5){this.removeChild(_3d6);}_3d6.destroyRecursive(_3d5);},this);this._descendantsBeingDestroyed=false;}});_3c0.ChildWidgetProperties={selected:false,disabled:false,closable:false,iconClass:"dijitNoIcon",showTitle:true};lang.extend(_3bd,_3c0.ChildWidgetProperties);return _3c0;});},"dojox/fx/text":function(){define(["dojo/_base/lang","./_base","dojo/_base/fx","dojo/fx","dojo/fx/easing","dojo/dom","dojo/dom-style","dojo/_base/html","dojo/_base/connect"],function(lang,_3d7,_3d8,_3d9,_3da,dom,_3db,_3dc,_3dd){var _3de=lang.getObject("dojox.fx.text",true);_3de._split=function(args){var node=args.node=dom.byId(args.node),s=node.style,cs=_3db.getComputedStyle(node),_3df=_3dc.coords(node,true);args.duration=args.duration||1000;args.words=args.words||false;var _3e0=(args.text&&typeof (args.text)=="string")?args.text:node.innerHTML,_3e1=s.height,_3e2=s.width,_3e3=[];_3db.set(node,{height:cs.height,width:cs.width});var _3e4=/(<\/?\w+((\s+\w+(\s*=\s*(?:".*?"|'.*?'|[^'">\s]+))?)+\s*|\s*)\/?>)/g;var reg=(args.words?/(<\/?\w+((\s+\w+(\s*=\s*(?:".*?"|'.*?'|[^'">\s]+))?)+\s*|\s*)\/?>)\s*|([^\s<]+\s*)/g:/(<\/?\w+((\s+\w+(\s*=\s*(?:".*?"|'.*?'|[^'">\s]+))?)+\s*|\s*)\/?>)\s*|([^\s<]\s*)/g);var _3e5=(typeof args.text=="string")?args.text.match(reg):node.innerHTML.match(reg);var html="";var _3e6=0;var _3e7=0;for(var i=0;i<_3e5.length;i++){var _3e8=_3e5[i];if(!_3e8.match(_3e4)){html+="<span>"+_3e8+"</span>";_3e6++;}else{html+=_3e8;}}node.innerHTML=html;function _3e9(_3ea){var next=_3ea.nextSibling;if(_3ea.tagName=="SPAN"&&_3ea.childNodes.length==1&&_3ea.firstChild.nodeType==3){var _3eb=_3dc.coords(_3ea,true);_3e7++;_3db.set(_3ea,{padding:0,margin:0,top:(args.crop?"0px":_3eb.t+"px"),left:(args.crop?"0px":_3eb.l+"px"),display:"inline"});var _3ec=args.pieceAnimation(_3ea,_3eb,_3df,_3e7,_3e6);if(lang.isArray(_3ec)){_3e3=_3e3.concat(_3ec);}else{_3e3[_3e3.length]=_3ec;}}else{if(_3ea.firstChild){_3e9(_3ea.firstChild);}}if(next){_3e9(next);}};_3e9(node.firstChild);var anim=_3d9.combine(_3e3);_3dd.connect(anim,"onEnd",anim,function(){node.innerHTML=_3e0;_3db.set(node,{height:_3e1,width:_3e2});});if(args.onPlay){_3dd.connect(anim,"onPlay",anim,args.onPlay);}if(args.onEnd){_3dd.connect(anim,"onEnd",anim,args.onEnd);}return anim;};_3de.explode=function(args){var node=args.node=dom.byId(args.node);var s=node.style;args.distance=args.distance||1;args.duration=args.duration||1000;args.random=args.random||0;if(typeof (args.fade)=="undefined"){args.fade=true;}if(typeof (args.sync)=="undefined"){args.sync=true;}args.random=Math.abs(args.random);args.pieceAnimation=function(_3ed,_3ee,_3ef,_3f0,_3f1){var _3f2=_3ee.h;var _3f3=_3ee.w;var _3f4=args.distance*2;var _3f5=args.duration;var _3f6=parseFloat(_3ed.style.top);var _3f7=parseFloat(_3ed.style.left);var _3f8=0;var _3f9=0;var _3fa=0;if(args.random){var seed=(Math.random()*args.random)+Math.max(1-args.random,0);_3f4*=seed;_3f5*=seed;_3f8=((args.unhide&&args.sync)||(!args.unhide&&!args.sync))?(args.duration-_3f5):0;_3f9=Math.random()-0.5;_3fa=Math.random()-0.5;}var _3fb=((_3ef.h-_3f2)/2-(_3ee.y-_3ef.y));var _3fc=((_3ef.w-_3f3)/2-(_3ee.x-_3ef.x));var _3fd=Math.sqrt(Math.pow(_3fc,2)+Math.pow(_3fb,2));var _3fe=_3f6-_3fb*_3f4+_3fd*_3fa;var _3ff=_3f7-_3fc*_3f4+_3fd*_3f9;var _400=_3d8.animateProperty({node:_3ed,duration:_3f5,delay:_3f8,easing:(args.easing||(args.unhide?_3da.sinOut:_3da.circOut)),beforeBegin:(args.unhide?function(){if(args.fade){_3db.set(_3ed,"opacity",0);}_3ed.style.position=args.crop?"relative":"absolute";_3ed.style.top=_3fe+"px";_3ed.style.left=_3ff+"px";}:function(){_3ed.style.position=args.crop?"relative":"absolute";}),properties:{top:(args.unhide?{start:_3fe,end:_3f6}:{start:_3f6,end:_3fe}),left:(args.unhide?{start:_3ff,end:_3f7}:{start:_3f7,end:_3ff})}});if(args.fade){var _401=_3d8.animateProperty({node:_3ed,duration:_3f5,delay:_3f8,easing:(args.fadeEasing||_3da.quadOut),properties:{opacity:(args.unhide?{start:0,end:1}:{end:0})}});return (args.unhide?[_401,_400]:[_400,_401]);}else{return _400;}};var anim=_3de._split(args);return anim;};_3de.converge=function(args){args.unhide=true;return _3de.explode(args);};_3de.disintegrate=function(args){var node=args.node=dom.byId(args.node);var s=node.style;args.duration=args.duration||1500;args.distance=args.distance||1.5;args.random=args.random||0;if(!args.fade){args.fade=true;}var _402=Math.abs(args.random);args.pieceAnimation=function(_403,_404,_405,_406,_407){var _408=_404.h;var _409=_404.w;var _40a=args.interval||(args.duration/(1.5*_407));var _40b=(args.duration-_407*_40a);var _40c=Math.random()*_407*_40a;var _40d=(args.reverseOrder||args.distance<0)?(_406*_40a):((_407-_406)*_40a);var _40e=_40c*_402+Math.max(1-_402,0)*_40d;var _40f={};if(args.unhide){_40f.top={start:(parseFloat(_403.style.top)-_405.h*args.distance),end:parseFloat(_403.style.top)};if(args.fade){_40f.opacity={start:0,end:1};}}else{_40f.top={end:(parseFloat(_403.style.top)+_405.h*args.distance)};if(args.fade){_40f.opacity={end:0};}}var _410=_3d8.animateProperty({node:_403,duration:_40b,delay:_40e,easing:(args.easing||(args.unhide?_3da.sinIn:_3da.circIn)),properties:_40f,beforeBegin:(args.unhide?function(){if(args.fade){_3db.set(_403,"opacity",0);}_403.style.position=args.crop?"relative":"absolute";_403.style.top=_40f.top.start+"px";}:function(){_403.style.position=args.crop?"relative":"absolute";})});return _410;};var anim=_3de._split(args);return anim;};_3de.build=function(args){args.unhide=true;return _3de.disintegrate(args);};_3de.blockFadeOut=function(args){var node=args.node=dom.byId(args.node);var s=node.style;args.duration=args.duration||1000;args.random=args.random||0;var _411=Math.abs(args.random);args.pieceAnimation=function(_412,_413,_414,_415,_416){var _417=args.interval||(args.duration/(1.5*_416));var _418=(args.duration-_416*_417);var _419=Math.random()*_416*_417;var _41a=(args.reverseOrder)?((_416-_415)*_417):(_415*_417);var _41b=_419*_411+Math.max(1-_411,0)*_41a;var _41c=_3d8.animateProperty({node:_412,duration:_418,delay:_41b,easing:(args.easing||_3da.sinInOut),properties:{opacity:(args.unhide?{start:0,end:1}:{end:0})},beforeBegin:(args.unhide?function(){_3db.set(_412,"opacity",0);}:undefined)});return _41c;};var anim=_3de._split(args);return anim;};_3de.blockFadeIn=function(args){args.unhide=true;return _3de.blockFadeOut(args);};_3de.backspace=function(args){var node=args.node=dom.byId(args.node);var s=node.style;args.words=false;args.duration=args.duration||2000;args.random=args.random||0;var _41d=Math.abs(args.random);var _41e=10;args.pieceAnimation=function(_41f,_420,_421,_422,_423){var _424=args.interval||(args.duration/(1.5*_423)),text=("textContent" in _41f)?_41f.textContent:_41f.innerText,_425=text.match(/\s/g);if(typeof (args.wordDelay)=="undefined"){args.wordDelay=_424*2;}if(!args.unhide){_41e=(_423-_422-1)*_424;}var _426,_427;if(args.fixed){if(args.unhide){var _426=function(){_3db.set(_41f,"opacity",0);};}}else{if(args.unhide){var _426=function(){_41f.style.display="none";};var _427=function(){_41f.style.display="inline";};}else{var _427=function(){_41f.style.display="none";};}}var _428=_3d8.animateProperty({node:_41f,duration:1,delay:_41e,easing:(args.easing||_3da.sinInOut),properties:{opacity:(args.unhide?{start:0,end:1}:{end:0})},beforeBegin:_426,onEnd:_427});if(args.unhide){var _429=Math.random()*text.length*_424;var _42a=_429*_41d/2+Math.max(1-_41d/2,0)*args.wordDelay;_41e+=_429*_41d+Math.max(1-_41d,0)*_424*text.length+(_42a*(_425&&text.lastIndexOf(_425[_425.length-1])==text.length-1));}return _428;};var anim=_3de._split(args);return anim;};_3de.type=function(args){args.unhide=true;return _3de.backspace(args);};return _3de;});},"dojox/fx/_base":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/fx","dojo/fx","dojo/dom","dojo/dom-style","dojo/dom-geometry","dojo/_base/connect","dojo/_base/html"],function(_42b,lang,_42c,_42d,dom,_42e,_42f,_430,_431){var _432=lang.getObject("dojox.fx",true);lang.mixin(_432,{anim:_42c.anim,animateProperty:_42c.animateProperty,fadeTo:_42c._fade,fadeIn:_42c.fadeIn,fadeOut:_42c.fadeOut,combine:_42d.combine,chain:_42d.chain,slideTo:_42d.slideTo,wipeIn:_42d.wipeIn,wipeOut:_42d.wipeOut});_432.sizeTo=function(args){var node=args.node=dom.byId(args.node),abs="absolute";var _433=args.method||"chain";if(!args.duration){args.duration=500;}if(_433=="chain"){args.duration=Math.floor(args.duration/2);}var top,_434,left,_435,_436,_437=null;var init=(function(n){return function(){var cs=_42e.getComputedStyle(n),pos=cs.position,w=cs.width,h=cs.height;top=(pos==abs?n.offsetTop:parseInt(cs.top)||0);left=(pos==abs?n.offsetLeft:parseInt(cs.left)||0);_436=(w=="auto"?0:parseInt(w));_437=(h=="auto"?0:parseInt(h));_435=left-Math.floor((args.width-_436)/2);_434=top-Math.floor((args.height-_437)/2);if(pos!=abs&&pos!="relative"){var ret=_42e.coords(n,true);top=ret.y;left=ret.x;n.style.position=abs;n.style.top=top+"px";n.style.left=left+"px";}};})(node);var _438=_42c.animateProperty(lang.mixin({properties:{height:function(){init();return {end:args.height||0,start:_437};},top:function(){return {start:top,end:_434};}}},args));var _439=_42c.animateProperty(lang.mixin({properties:{width:function(){return {start:_436,end:args.width||0};},left:function(){return {start:left,end:_435};}}},args));var anim=_42d[(args.method=="combine"?"combine":"chain")]([_438,_439]);return anim;};_432.slideBy=function(args){var node=args.node=dom.byId(args.node),top,left;var init=(function(n){return function(){var cs=_42e.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=_42f.coords(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var _43a=_42c.animateProperty(lang.mixin({properties:{top:top+(args.top||0),left:left+(args.left||0)}},args));_430.connect(_43a,"beforeBegin",_43a,init);return _43a;};_432.crossFade=function(args){var _43b=args.nodes[0]=dom.byId(args.nodes[0]),op1=_431.style(_43b,"opacity"),_43c=args.nodes[1]=dom.byId(args.nodes[1]),op2=_431.style(_43c,"opacity");var _43d=_42d.combine([_42c[(op1==0?"fadeIn":"fadeOut")](lang.mixin({node:_43b},args)),_42c[(op1==0?"fadeOut":"fadeIn")](lang.mixin({node:_43c},args))]);return _43d;};_432.highlight=function(args){var node=args.node=dom.byId(args.node);args.duration=args.duration||400;var _43e=args.color||"#ffff99",_43f=_431.style(node,"backgroundColor");if(_43f=="rgba(0, 0, 0, 0)"){_43f="transparent";}var anim=_42c.animateProperty(lang.mixin({properties:{backgroundColor:{start:_43e,end:_43f}}},args));if(_43f=="transparent"){_430.connect(anim,"onEnd",anim,function(){node.style.backgroundColor=_43f;});}return anim;};_432.wipeTo=function(args){args.node=dom.byId(args.node);var node=args.node,s=node.style;var dir=(args.width?"width":"height"),_440=args[dir],_441={};_441[dir]={start:function(){s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s[dir]="1px";s.display="";s.visibility="";return 1;}else{var now=_431.style(node,dir);return Math.max(now,1);}},end:_440};var anim=_42c.animateProperty(lang.mixin({properties:_441},args));return anim;};return _432;});},"dojo/fx":function(){define(["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_442,dojo,_443,_444,_445,dom,_446,geom,_447,_448){if(!dojo.isAsync){_447(0,function(){var _449=["./fx/Toggler"];_448(_449);});}var _44a=dojo.fx={};var _44b={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _44c=function(_44d){this._index=-1;this._animations=_44d||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_443.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_44c.prototype=new _442();lang.extend(_44c,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_444.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);this._onEndCtx=_444.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play(0,true);}},play:function(_44e,_44f){if(!this._current){this._current=this._animations[this._index=0];}if(!_44f&&this._current.status()=="playing"){return this;}var _450=_444.after(this._current,"beforeBegin",lang.hitch(this,function(){this._fire("beforeBegin");}),true),_451=_444.after(this._current,"onBegin",lang.hitch(this,function(arg){this._fire("onBegin",arguments);}),true),_452=_444.after(this._current,"onPlay",lang.hitch(this,function(arg){this._fire("onPlay",arguments);_450.remove();_451.remove();_452.remove();}));if(this._onAnimateCtx){this._onAnimateCtx.remove();}this._onAnimateCtx=_444.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);if(this._onEndCtx){this._onEndCtx.remove();}this._onEndCtx=_444.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_444.after(this._current,"onPause",lang.hitch(this,function(arg){this._fire("onPause",arguments);e.remove();}),true);this._current.pause();}return this;},gotoPercent:function(_453,_454){this.pause();var _455=this.duration*_453;this._current=null;_443.some(this._animations,function(a){if(a.duration<=_455){this._current=a;return true;}_455-=a.duration;return false;});if(this._current){this._current.gotoPercent(_455/this._current.duration,_454);}return this;},stop:function(_456){if(this._current){if(_456){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_444.after(this._current,"onStop",lang.hitch(this,function(arg){this._fire("onStop",arguments);e.remove();}),true);this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){this._onAnimateCtx.remove();}if(this._onEndCtx){this._onEndCtx.remove();}}});lang.extend(_44c,_44b);_44a.chain=function(_457){return new _44c(_457);};var _458=function(_459){this._animations=_459||[];this._connects=[];this._finished=0;this.duration=0;_443.forEach(_459,function(a){var _45a=a.duration;if(a.delay){_45a+=a.delay;}if(this.duration<_45a){this.duration=_45a;}this._connects.push(_444.after(a,"onEnd",lang.hitch(this,"_onEnd"),true));},this);this._pseudoAnimation=new _445.Animation({curve:[0,1],duration:this.duration});var self=this;_443.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_444.after(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);},true));});};lang.extend(_458,{_doAction:function(_45b,args){_443.forEach(this._animations,function(a){a[_45b].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_45c,args){var t=this._pseudoAnimation;t[_45c].apply(t,args);},play:function(_45d,_45e){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_45f,_460){var ms=this.duration*_45f;_443.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_460);});this._call("gotoPercent",arguments);return this;},stop:function(_461){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){_443.forEach(this._connects,function(_462){_462.remove();});}});lang.extend(_458,_44b);_44a.combine=function(_463){return new _458(_463);};_44a.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_445.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _464=_446.get(node,"height");return Math.max(_464,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_444.after(anim,"onStop",fini,true);_444.after(anim,"onEnd",fini,true);return anim;};_44a.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_445.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_444.after(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";},true);var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_444.after(anim,"onStop",fini,true);_444.after(anim,"onEnd",fini,true);return anim;};_44a.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_446.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_445.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_444.after(anim,"beforeBegin",init,true);return anim;};return _44a;});},"dojo/fx/easing":function(){define(["../_base/lang"],function(lang){var _465={linear:function(n){return n;},quadIn:function(n){return Math.pow(n,2);},quadOut:function(n){return n*(n-2)*-1;},quadInOut:function(n){n=n*2;if(n<1){return Math.pow(n,2)/2;}return -1*((--n)*(n-2)-1)/2;},cubicIn:function(n){return Math.pow(n,3);},cubicOut:function(n){return Math.pow(n-1,3)+1;},cubicInOut:function(n){n=n*2;if(n<1){return Math.pow(n,3)/2;}n-=2;return (Math.pow(n,3)+2)/2;},quartIn:function(n){return Math.pow(n,4);},quartOut:function(n){return -1*(Math.pow(n-1,4)-1);},quartInOut:function(n){n=n*2;if(n<1){return Math.pow(n,4)/2;}n-=2;return -1/2*(Math.pow(n,4)-2);},quintIn:function(n){return Math.pow(n,5);},quintOut:function(n){return Math.pow(n-1,5)+1;},quintInOut:function(n){n=n*2;if(n<1){return Math.pow(n,5)/2;}n-=2;return (Math.pow(n,5)+2)/2;},sineIn:function(n){return -1*Math.cos(n*(Math.PI/2))+1;},sineOut:function(n){return Math.sin(n*(Math.PI/2));},sineInOut:function(n){return -1*(Math.cos(Math.PI*n)-1)/2;},expoIn:function(n){return (n==0)?0:Math.pow(2,10*(n-1));},expoOut:function(n){return (n==1)?1:(-1*Math.pow(2,-10*n)+1);},expoInOut:function(n){if(n==0){return 0;}if(n==1){return 1;}n=n*2;if(n<1){return Math.pow(2,10*(n-1))/2;}--n;return (-1*Math.pow(2,-10*n)+2)/2;},circIn:function(n){return -1*(Math.sqrt(1-Math.pow(n,2))-1);},circOut:function(n){n=n-1;return Math.sqrt(1-Math.pow(n,2));},circInOut:function(n){n=n*2;if(n<1){return -1/2*(Math.sqrt(1-Math.pow(n,2))-1);}n-=2;return 1/2*(Math.sqrt(1-Math.pow(n,2))+1);},backIn:function(n){var s=1.70158;return Math.pow(n,2)*((s+1)*n-s);},backOut:function(n){n=n-1;var s=1.70158;return Math.pow(n,2)*((s+1)*n+s)+1;},backInOut:function(n){var s=1.70158*1.525;n=n*2;if(n<1){return (Math.pow(n,2)*((s+1)*n-s))/2;}n-=2;return (Math.pow(n,2)*((s+1)*n+s)+2)/2;},elasticIn:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;n=n-1;return -1*Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p);},elasticOut:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;return Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p)+1;},elasticInOut:function(n){if(n==0){return 0;}n=n*2;if(n==2){return 1;}var p=0.3*1.5;var s=p/4;if(n<1){n-=1;return -0.5*(Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p));}n-=1;return 0.5*(Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p))+1;},bounceIn:function(n){return (1-_465.bounceOut(1-n));},bounceOut:function(n){var s=7.5625;var p=2.75;var l;if(n<(1/p)){l=s*Math.pow(n,2);}else{if(n<(2/p)){n-=(1.5/p);l=s*Math.pow(n,2)+0.75;}else{if(n<(2.5/p)){n-=(2.25/p);l=s*Math.pow(n,2)+0.9375;}else{n-=(2.625/p);l=s*Math.pow(n,2)+0.984375;}}}return l;},bounceInOut:function(n){if(n<0.5){return _465.bounceIn(n*2)/2;}return (_465.bounceOut(n*2-1)/2)+0.5;}};lang.setObject("dojo.fx.easing",_465);return _465;});},"dijit/Editor":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/Deferred","dojo/i18n","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/string","dojo/topic","./_Container","./Toolbar","./ToolbarSeparator","./layout/_LayoutWidget","./form/ToggleButton","./_editor/_Plugin","./_editor/plugins/EnterKeyHandling","./_editor/html","./_editor/range","./_editor/RichText","./main","dojo/i18n!./_editor/nls/commands"],function(_466,_467,_468,_469,i18n,_46a,_46b,_46c,_46d,keys,lang,has,_46e,_46f,_470,_471,_472,_473,_474,_475,_476,html,_477,_478,_479){var _47a=_468("dijit.Editor",_478,{plugins:null,extraPlugins:null,constructor:function(){if(!lang.isArray(this.plugins)){this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull",_476];}this._plugins=[];this._editInterval=this.editActionInterval*1000;if(has("ie")){this.events.push("onBeforeDeactivate");this.events.push("onBeforeActivate");}},postMixInProperties:function(){this.setValueDeferred=new _469();this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._steps=this._steps.slice(0);this._undoedSteps=this._undoedSteps.slice(0);if(lang.isArray(this.extraPlugins)){this.plugins=this.plugins.concat(this.extraPlugins);}this.commands=i18n.getLocalization("dijit._editor","commands",this.lang);if(has("webkit")){_46d.set(this.domNode,"KhtmlUserSelect","none");}},startup:function(){this.inherited(arguments);if(!this.toolbar){this.toolbar=new _471({ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,"aria-label":this.id});this.header.appendChild(this.toolbar.domNode);}_467.forEach(this.plugins,this.addPlugin,this);this.setValueDeferred.resolve(true);_46b.add(this.iframe.parentNode,"dijitEditorIFrameContainer");_46b.add(this.iframe,"dijitEditorIFrame");_46a.set(this.iframe,"allowTransparency",true);this.toolbar.startup();this.onNormalizedDisplayChanged();},destroy:function(){_467.forEach(this._plugins,function(p){if(p&&p.destroy){p.destroy();}});this._plugins=[];this.toolbar.destroyRecursive();delete this.toolbar;this.inherited(arguments);},addPlugin:function(_47b,_47c){var args=lang.isString(_47b)?{name:_47b}:lang.isFunction(_47b)?{ctor:_47b}:_47b;if(!args.setEditor){var o={"args":args,"plugin":null,"editor":this};if(args.name){if(_475.registry[args.name]){o.plugin=_475.registry[args.name](args);}else{_46f.publish(_479._scopeName+".Editor.getPlugin",o);}}if(!o.plugin){try{var pc=args.ctor||lang.getObject(args.name)||_466(args.name);if(pc){o.plugin=new pc(args);}}catch(e){throw new Error(this.id+": cannot find plugin ["+args.name+"]");}}if(!o.plugin){throw new Error(this.id+": cannot find plugin ["+args.name+"]");}_47b=o.plugin;}if(arguments.length>1){this._plugins[_47c]=_47b;}else{this._plugins.push(_47b);}_47b.setEditor(this);if(lang.isFunction(_47b.setToolbar)){_47b.setToolbar(this.toolbar);}},resize:function(size){if(size){_473.prototype.resize.apply(this,arguments);}},layout:function(){var _47d=(this._contentBox.h-(this.getHeaderHeight()+this.getFooterHeight()+_46c.getPadBorderExtents(this.iframe.parentNode).h+_46c.getMarginExtents(this.iframe.parentNode).h));this.editingArea.style.height=_47d+"px";if(this.iframe){this.iframe.style.height="100%";}this._layoutMode=true;},_onIEMouseDown:function(e){var _47e;var b=this.document.body;var _47f=b.clientWidth;var _480=b.clientHeight;var _481=b.clientLeft;var _482=b.offsetWidth;var _483=b.offsetHeight;var _484=b.offsetLeft;if(/^rtl$/i.test(b.dir||"")){if(_47f<_482&&e.x>_47f&&e.x<_482){_47e=true;}}else{if(e.x<_481&&e.x>_484){_47e=true;}}if(!_47e){if(_480<_483&&e.y>_480&&e.y<_483){_47e=true;}}if(!_47e){delete this._cursorToStart;delete this._savedSelection;if(e.target.tagName=="BODY"){this.defer("placeCursorAtEnd");}this.inherited(arguments);}},onBeforeActivate:function(){this._restoreSelection();},onBeforeDeactivate:function(e){if(this.customUndo){this.endEditing(true);}if(e.target.tagName!="BODY"){this._saveSelection();}},customUndo:true,editActionInterval:3,beginEditing:function(cmd){if(!this._inEditing){this._inEditing=true;this._beginEditing(cmd);}if(this.editActionInterval>0){if(this._editTimer){this._editTimer.remove();}this._editTimer=this.defer("endEditing",this._editInterval);}},_steps:[],_undoedSteps:[],execCommand:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return this[cmd]();}else{if(this.customUndo){this.endEditing();this._beginEditing();}var r=this.inherited(arguments);if(this.customUndo){this._endEditing();}return r;}},_pasteImpl:function(){return this._clipboardCommand("paste");},_cutImpl:function(){return this._clipboardCommand("cut");},_copyImpl:function(){return this._clipboardCommand("copy");},_clipboardCommand:function(cmd){var r;try{r=this.document.execCommand(cmd,false,null);if(has("webkit")&&!r){throw {code:1011};}}catch(e){if(e.code==1011||(e.code==9&&has("opera"))){var sub=_46e.substitute,_485={cut:"X",copy:"C",paste:"V"};alert(sub(this.commands.systemShortcut,[this.commands[cmd],sub(this.commands[has("mac")?"appleKey":"ctrlKey"],[_485[cmd]])]));}r=false;}return r;},queryCommandEnabled:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return cmd=="undo"?(this._steps.length>1):(this._undoedSteps.length>0);}else{return this.inherited(arguments);}},_moveToBookmark:function(b){var _486=b.mark;var mark=b.mark;var col=b.isCollapsed;var r,_487,_488,sel;if(mark){if(has("ie")<9||(has("ie")===9&&has("quirks"))){if(lang.isArray(mark)){_486=[];_467.forEach(mark,function(n){_486.push(_477.getNode(n,this.editNode));},this);this.selection.moveToBookmark({mark:_486,isCollapsed:col});}else{if(mark.startContainer&&mark.endContainer){sel=_477.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=_477.create(this.window);_487=_477.getNode(mark.startContainer,this.editNode);_488=_477.getNode(mark.endContainer,this.editNode);if(_487&&_488){r.setStart(_487,mark.startOffset);r.setEnd(_488,mark.endOffset);sel.addRange(r);}}}}}else{sel=_477.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=_477.create(this.window);_487=_477.getNode(mark.startContainer,this.editNode);_488=_477.getNode(mark.endContainer,this.editNode);if(_487&&_488){r.setStart(_487,mark.startOffset);r.setEnd(_488,mark.endOffset);sel.addRange(r);}}}}},_changeToStep:function(from,to){this.setValue(to.text);var b=to.bookmark;if(!b){return;}this._moveToBookmark(b);},undo:function(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._steps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(s,this._steps[this._steps.length-1]);this._undoedSteps.push(s);this.onDisplayChanged();delete this._undoRedoActive;ret=true;}delete this._undoRedoActive;}return ret;},redo:function(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._undoedSteps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(this._steps[this._steps.length-1],s);this._steps.push(s);this.onDisplayChanged();ret=true;}delete this._undoRedoActive;}return ret;},endEditing:function(_489){if(this._editTimer){this._editTimer=this._editTimer.remove();}if(this._inEditing){this._endEditing(_489);this._inEditing=false;}},_getBookmark:function(){var b=this.selection.getBookmark();var tmp=[];if(b&&b.mark){var mark=b.mark;if(has("ie")<9||(has("ie")===9&&has("quirks"))){var sel=_477.getSelection(this.window);if(!lang.isArray(mark)){if(sel){var _48a;if(sel.rangeCount){_48a=sel.getRangeAt(0);}if(_48a){b.mark=_48a.cloneRange();}else{b.mark=this.selection.getBookmark();}}}else{_467.forEach(b.mark,function(n){tmp.push(_477.getIndex(n,this.editNode).o);},this);b.mark=tmp;}}try{if(b.mark&&b.mark.startContainer){tmp=_477.getIndex(b.mark.startContainer,this.editNode).o;b.mark={startContainer:tmp,startOffset:b.mark.startOffset,endContainer:b.mark.endContainer===b.mark.startContainer?tmp:_477.getIndex(b.mark.endContainer,this.editNode).o,endOffset:b.mark.endOffset};}}catch(e){b.mark=null;}}return b;},_beginEditing:function(){if(this._steps.length===0){this._steps.push({"text":html.getChildrenHtml(this.editNode),"bookmark":this._getBookmark()});}},_endEditing:function(){var v=html.getChildrenHtml(this.editNode);this._undoedSteps=[];this._steps.push({text:v,bookmark:this._getBookmark()});},onKeyDown:function(e){if(!has("ie")&&!this.iframe&&e.keyCode==keys.TAB&&!this.tabIndent){this._saveSelection();}if(!this.customUndo){this.inherited(arguments);return;}var k=e.keyCode;if(e.ctrlKey&&!e.shiftKey&&!e.altKey){if(k==90||k==122){e.stopPropagation();e.preventDefault();this.undo();return;}else{if(k==89||k==121){e.stopPropagation();e.preventDefault();this.redo();return;}}}this.inherited(arguments);switch(k){case keys.ENTER:case keys.BACKSPACE:case keys.DELETE:this.beginEditing();break;case 88:case 86:if(e.ctrlKey&&!e.altKey&&!e.metaKey){this.endEditing();if(e.keyCode==88){this.beginEditing("cut");}else{this.beginEditing("paste");}this.defer("endEditing",1);break;}default:if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode<keys.F1||e.keyCode>keys.F15)){this.beginEditing();break;}case keys.ALT:this.endEditing();break;case keys.UP_ARROW:case keys.DOWN_ARROW:case keys.LEFT_ARROW:case keys.RIGHT_ARROW:case keys.HOME:case keys.END:case keys.PAGE_UP:case keys.PAGE_DOWN:this.endEditing(true);break;case keys.CTRL:case keys.SHIFT:case keys.TAB:break;}},_onBlur:function(){this.inherited(arguments);this.endEditing(true);},_saveSelection:function(){try{this._savedSelection=this._getBookmark();}catch(e){}},_restoreSelection:function(){if(this._savedSelection){delete this._cursorToStart;if(this.selection.isCollapsed()){this._moveToBookmark(this._savedSelection);}delete this._savedSelection;}},onClick:function(){this.endEditing(true);this.inherited(arguments);},replaceValue:function(html){if(!this.customUndo){this.inherited(arguments);}else{if(this.isClosed){this.setValue(html);}else{this.beginEditing();if(!html){html="&#160;";}this.setValue(html);this.endEditing();}}},_setDisabledAttr:function(_48b){this.setValueDeferred.then(lang.hitch(this,function(){if((!this.disabled&&_48b)||(!this._buttonEnabledPlugins&&_48b)){_467.forEach(this._plugins,function(p){p.set("disabled",true);});}else{if(this.disabled&&!_48b){_467.forEach(this._plugins,function(p){p.set("disabled",false);});}}}));this.inherited(arguments);},_setStateClass:function(){try{this.inherited(arguments);if(this.document&&this.document.body){_46d.set(this.document.body,"color",_46d.get(this.iframe,"color"));}}catch(e){}}});function _48c(args){return new _475({command:args.name});};function _48d(args){return new _475({buttonClass:_474,command:args.name});};lang.mixin(_475.registry,{"undo":_48c,"redo":_48c,"cut":_48c,"copy":_48c,"paste":_48c,"insertOrderedList":_48c,"insertUnorderedList":_48c,"indent":_48c,"outdent":_48c,"justifyCenter":_48c,"justifyFull":_48c,"justifyLeft":_48c,"justifyRight":_48c,"delete":_48c,"selectAll":_48c,"removeFormat":_48c,"unlink":_48c,"insertHorizontalRule":_48c,"bold":_48d,"italic":_48d,"underline":_48d,"strikethrough":_48d,"subscript":_48d,"superscript":_48d,"|":function(){return new _475({setEditor:function(_48e){this.editor=_48e;this.button=new _472({ownerDocument:_48e.ownerDocument});}});}});return _47a;});},"dijit/Toolbar":function(){define(["require","dojo/_base/declare","dojo/has","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_48f,_490,has,keys,_491,_492,_493,_494){if(has("dijit-legacy-requires")){_491(0,function(){var _495=["dijit/ToolbarSeparator"];_48f(_495);});}return _490("dijit.Toolbar",[_492,_494,_493],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" data-dojo-attach-point=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",_onLeftArrow:function(){this.focusPrev();},_onRightArrow:function(){this.focusNext();}});});},"dijit/_KeyNavContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/keys","dojo/_base/lang","./registry","./_Container","./_FocusMixin","./_KeyNavMixin"],function(_496,_497,_498,_499,keys,lang,_49a,_49b,_49c,_49d){return _497("dijit._KeyNavContainer",[_49c,_49d,_49b],{connectKeyNavHandlers:function(_49e,_49f){var _4a0=(this._keyNavCodes={});var prev=lang.hitch(this,"focusPrev");var next=lang.hitch(this,"focusNext");_496.forEach(_49e,function(code){_4a0[code]=prev;});_496.forEach(_49f,function(code){_4a0[code]=next;});_4a0[keys.HOME]=lang.hitch(this,"focusFirstChild");_4a0[keys.END]=lang.hitch(this,"focusLastChild");},startupKeyNavChildren:function(){_499.deprecated("startupKeyNavChildren() call no longer needed","","2.0");},startup:function(){this.inherited(arguments);_496.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));},addChild:function(_4a1,_4a2){this.inherited(arguments);this._startupChild(_4a1);},_startupChild:function(_4a3){_4a3.set("tabIndex","-1");},_getFirst:function(){var _4a4=this.getChildren();return _4a4.length?_4a4[0]:null;},_getLast:function(){var _4a5=this.getChildren();return _4a5.length?_4a5[_4a5.length-1]:null;},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);},childSelector:function(node){var node=_49a.byNode(node);return node&&node.getParent()==this;}});});},"dijit/_KeyNavMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dijit/registry","dijit/_FocusMixin"],function(_4a6,_4a7,_4a8,keys,lang,on,_4a9,_4aa){return _4a7("dijit._KeyNavMixin",_4aa,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);_4a8.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var _4ab=this._keyNavCodes={};_4ab[keys.HOME]=lang.hitch(this,"focusFirstChild");_4ab[keys.END]=lang.hitch(this,"focusLastChild");_4ab[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]=lang.hitch(this,"_onLeftArrow");_4ab[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]=lang.hitch(this,"_onRightArrow");_4ab[keys.UP_ARROW]=lang.hitch(this,"_onUpArrow");_4ab[keys.DOWN_ARROW]=lang.hitch(this,"_onDownArrow");}var self=this,_4ac=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.domNode,"keypress",lang.hitch(this,"_onContainerKeypress")),on(this.domNode,"keydown",lang.hitch(this,"_onContainerKeydown")),on(this.domNode,"focus",lang.hitch(this,"_onContainerFocus")),on(this.containerNode,on.selector(_4ac,"focusin"),function(evt){self._onChildFocus(_4a9.getEnclosingWidget(this),evt);}));},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild();},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());},focusChild:function(_4ad,last){if(!_4ad){return;}if(this.focusedChild&&_4ad!==this.focusedChild){this._onChildBlur(this.focusedChild);}_4ad.set("tabIndex",this.tabIndex);_4ad.focus(last?"end":"start");},_onContainerFocus:function(evt){if(evt.target!==this.domNode||this.focusedChild){return;}this.focus();},_onFocus:function(){_4a8.set(this.domNode,"tabIndex","-1");this.inherited(arguments);},_onBlur:function(evt){_4a8.set(this.domNode,"tabIndex",this.tabIndex);if(this.focusedChild){this.focusedChild.set("tabIndex","-1");this.lastFocusedChild=this.focusedChild;this._set("focusedChild",null);}this.inherited(arguments);},_onChildFocus:function(_4ae){if(_4ae&&_4ae!=this.focusedChild){if(this.focusedChild&&!this.focusedChild._destroyed){this.focusedChild.set("tabIndex","-1");}_4ae.set("tabIndex",this.tabIndex);this.lastFocused=_4ae;this._set("focusedChild",_4ae);}},_searchString:"",multiCharSearchDuration:1000,onKeyboardSearch:function(item,evt,_4af,_4b0){if(item){this.focusChild(item);}},_keyboardSearchCompare:function(item,_4b1){var _4b2=item.domNode,text=item.label||(_4b2.focusNode?_4b2.focusNode.label:"")||_4b2.innerText||_4b2.textContent||"",_4b3=text.replace(/^\s+/,"").substr(0,_4b1.length).toLowerCase();return (!!_4b1.length&&_4b3==_4b1)?-1:0;},_onContainerKeydown:function(evt){var func=this._keyNavCodes[evt.keyCode];if(func){func(evt,this.focusedChild);evt.stopPropagation();evt.preventDefault();this._searchString="";}else{if(evt.keyCode==keys.SPACE&&this._searchTimer&&!(evt.ctrlKey||evt.altKey||evt.metaKey)){evt.stopImmediatePropagation();evt.preventDefault();this._keyboardSearch(evt," ");}}},_onContainerKeypress:function(evt){if(evt.charCode<keys.SPACE||evt.ctrlKey||evt.altKey||evt.metaKey||(evt.charCode==keys.SPACE&&this._searchTimer)){return;}evt.preventDefault();evt.stopPropagation();this._keyboardSearch(evt,String.fromCharCode(evt.charCode).toLowerCase());},_keyboardSearch:function(evt,_4b4){var _4b5=null,_4b6,_4b7=0,_4b8=lang.hitch(this,function(){if(this._searchTimer){this._searchTimer.remove();}this._searchString+=_4b4;var _4b9=/^(.)\1*$/.test(this._searchString);var _4ba=_4b9?1:this._searchString.length;_4b6=this._searchString.substr(0,_4ba);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString="";},this.multiCharSearchDuration);var _4bb=this.focusedChild||null;if(_4ba==1||!_4bb){_4bb=this._getNextFocusableChild(_4bb,1);if(!_4bb){return;}}var stop=_4bb;do{var rc=this._keyboardSearchCompare(_4bb,_4b6);if(!!rc&&_4b7++==0){_4b5=_4bb;}if(rc==-1){_4b7=-1;break;}_4bb=this._getNextFocusableChild(_4bb,1);}while(_4bb!=stop);});_4b8();this.onKeyboardSearch(_4b5,evt,_4b6,_4b7);},_onChildBlur:function(){},_getNextFocusableChild:function(_4bc,dir){var _4bd=_4bc;do{if(!_4bc){_4bc=this[dir>0?"_getFirst":"_getLast"]();if(!_4bc){break;}}else{_4bc=this._getNext(_4bc,dir);}if(_4bc!=null&&_4bc!=_4bd&&_4bc.isFocusable()){return _4bc;}}while(_4bc!=_4bd);return null;},_getFirst:function(){return null;},_getLast:function(){return null;},_getNext:function(_4be,dir){if(_4be){_4be=_4be.domNode;while(_4be){_4be=_4be[dir<0?"previousSibling":"nextSibling"];if(_4be&&"getAttribute" in _4be){var w=_4a9.byNode(_4be);if(w){return w;}}}}return null;}});});},"dijit/ToolbarSeparator":function(){define(["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(_4bf,dom,_4c0,_4c1){return _4bf("dijit.ToolbarSeparator",[_4c0,_4c1],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\" role=\"presentation\"></div>",buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_4c2,_4c3,_4c4,_4c5){return _4c2("dijit.form.ToggleButton",[_4c4,_4c5],{baseClass:"dijitToggleButton",setChecked:function(_4c6){_4c3.deprecated("setChecked("+_4c6+") is deprecated. Use set('checked',"+_4c6+") instead.","","2.0");this.set("checked",_4c6);}});});},"dijit/form/Button":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(_4c7,_4c8,_4c9,has,_4ca,lang,_4cb,_4cc,_4cd,_4ce){if(has("dijit-legacy-requires")){_4cb(0,function(){var _4cf=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_4c7(_4cf);});}var _4d0=_4c8("dijit.form.Button"+(has("dojo-bidi")?"_NoBidi":""),[_4cc,_4cd],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_4ce,_setValueAttr:"valueNode",_setNameAttr:function(name){if(this.valueNode){this.valueNode.setAttribute("name",name);}},_fillContent:function(_4d1){if(_4d1&&(!this.params||!("label" in this.params))){var _4d2=lang.trim(_4d1.innerHTML);if(_4d2){this.label=_4d2;}}},_setShowLabelAttr:function(val){if(this.containerNode){_4c9.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_4d3){_4ca.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_4d3);},_setLabelAttr:function(_4d4){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});if(has("dojo-bidi")){_4d0=_4c8("dijit.form.Button",_4d0,{_setLabelAttr:function(_4d5){this.inherited(arguments);if(this.titleNode.title){this.applyTextDir(this.titleNode,this.titleNode.title);}},_setTextDirAttr:function(_4d6){if(this._created&&this.textDir!=_4d6){this._set("textDir",_4d6);this._setLabelAttr(this.label);}}});}return _4d0;});},"dijit/form/_FormWidget":function(){define(["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_4d7,has,_4d8,_4d9,_4da,_4db,_4dc,_4dd){if(has("dijit-legacy-requires")){_4d9(0,function(){var _4de=["dijit/form/_FormValueWidget"];require(_4de);});}return _4d7("dijit.form._FormWidget",[_4da,_4dc,_4db,_4dd],{setDisabled:function(_4df){_4d8.deprecated("setDisabled("+_4df+") is deprecated. Use set('disabled',"+_4df+") instead.","","2.0");this.set("disabled",_4df);},setValue:function(_4e0){_4d8.deprecated("dijit.form._FormWidget:setValue("+_4e0+") is deprecated.  Use set('value',"+_4e0+") instead.","","2.0");this.set("value",_4e0);},getValue:function(){_4d8.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=(this.name&&!has("msapp"))?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);}});});},"dijit/form/_FormWidgetMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(_4e1,_4e2,_4e3,_4e4,lang,_4e5,on,has,_4e6,a11y){return _4e2("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_4e7){this._set("disabled",_4e7);_4e3.set(this.focusNode,"disabled",_4e7);if(this.valueNode){_4e3.set(this.valueNode,"disabled",_4e7);}this.focusNode.setAttribute("aria-disabled",_4e7?"true":"false");if(_4e7){this._set("hovering",false);this._set("active",false);var _4e8="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_4e1.forEach(lang.isArray(_4e8)?_4e8:[_4e8],function(_4e9){var node=this[_4e9];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _4ea=this.own(on(this.focusNode,"focus",function(){_4eb.remove();_4ea.remove();}))[0];var _4eb=this.own(on(this.ownerDocumentBody,"mouseup, touchend",lang.hitch(this,function(evt){_4eb.remove();_4ea.remove();if(this.focused){if(evt.type=="touchend"){this.defer("focus");}else{this.focus();}}})))[0];}if(this.scrollOnFocus){this.defer(function(){_4e6.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_4e4.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_4ec,_4ed){if(this._lastValueReported==undefined&&(_4ed===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_4ec;}this._pendingOnChange=this._pendingOnChange||(typeof _4ec!=typeof this._lastValueReported)||(this.compare(_4ec,this._lastValueReported)!=0);if((this.intermediateChanges||_4ed||_4ed===undefined)&&this._pendingOnChange){this._lastValueReported=_4ec;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_4ec);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_4ee,dom,has,_4ef){var _4f0=_4ee("dijit.form._ButtonMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){e.stopPropagation();e.preventDefault();if(!this.disabled){this.valueNode.click(e);}return false;},_onClick:function(e){if(this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.onClick(e)===false){e.preventDefault();}cancelled=e.defaultPrevented;if(!cancelled&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _4f1=_4ef.byNode(node);if(_4f1&&typeof _4f1._onSubmit=="function"){_4f1._onSubmit(e);e.preventDefault();cancelled=true;break;}}}return !cancelled;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_4f2){this._set("label",_4f2);var _4f3=this.containerNode||this.focusNode;_4f3.innerHTML=_4f2;}});if(has("dojo-bidi")){_4f0=_4ee("dijit.form._ButtonMixin",_4f0,{_setLabelAttr:function(){this.inherited(arguments);var _4f4=this.containerNode||this.focusNode;this.applyTextDir(_4f4);}});}return _4f0;});},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_4f5,_4f6){return _4f5("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _4f7=this.checked;this._set("checked",!_4f7);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_4f7);return ret;},_setCheckedAttr:function(_4f8,_4f9){this._set("checked",_4f8);var node=this.focusNode||this.domNode;if(this._created){if(_4f6.get(node,"checked")!=!!_4f8){_4f6.set(node,"checked",!!_4f8);}}node.setAttribute(this._aria_attr,String(_4f8));this._handleOnChange(_4f8,_4f9);},postCreate:function(){this.inherited(arguments);var node=this.focusNode||this.domNode;if(this.checked){node.setAttribute("checked","checked");}},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"dijit/_editor/_Plugin":function(){define(["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","../Destroyable","../form/Button"],function(_4fa,_4fb,lang,_4fc,_4fd){var _4fe=_4fb("dijit._editor._Plugin",_4fc,{constructor:function(args){this.params=args||{};lang.mixin(this,this.params);this._attrPairNames={};},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,command:"",useDefaultCommand:true,buttonClass:_4fd,disabled:false,getLabel:function(key){return this.editor.commands[key];},_initButton:function(){if(this.command.length){var _4ff=this.getLabel(this.command),_500=this.editor,_501=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){var _502=lang.mixin({label:_4ff,ownerDocument:_500.ownerDocument,dir:_500.dir,lang:_500.lang,showLabel:false,iconClass:_501,dropDown:this.dropDown,tabIndex:"-1"},this.params||{});this.button=new this.buttonClass(_502);}}if(this.get("disabled")&&this.button){this.button.set("disabled",this.get("disabled"));}},destroy:function(){if(this.dropDown){this.dropDown.destroyRecursive();}this.inherited(arguments);},connect:function(o,f,tf){this.own(_4fa.connect(o,f,this,tf));},updateState:function(){var e=this.editor,c=this.command,_503,_504;if(!e||!e.isLoaded||!c.length){return;}var _505=this.get("disabled");if(this.button){try{_504=!_505&&e.queryCommandEnabled(c);if(this.enabled!==_504){this.enabled=_504;this.button.set("disabled",!_504);}if(_504){if(typeof this.button.checked=="boolean"){_503=e.queryCommandState(c);if(this.checked!==_503){this.checked=_503;this.button.set("checked",e.queryCommandState(c));}}}}catch(e){}}},setEditor:function(_506){this.editor=_506;this._initButton();if(this.button&&this.useDefaultCommand){if(this.editor.queryCommandAvailable(this.command)){this.own(this.button.on("click",lang.hitch(this.editor,"execCommand",this.command,this.commandArg)));}else{this.button.domNode.style.display="none";}}this.own(this.editor.on("NormalizedDisplayChanged",lang.hitch(this,"updateState")));},setToolbar:function(_507){if(this.button){_507.addChild(this.button);}},set:function(name,_508){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _509=this._getAttrNames(name);if(this[_509.s]){var _50a=this[_509.s].apply(this,Array.prototype.slice.call(arguments,1));}else{this._set(name,_508);}return _50a||this;},get:function(name){var _50b=this._getAttrNames(name);return this[_50b.g]?this[_50b.g]():this[name];},_setDisabledAttr:function(_50c){this._set("disabled",_50c);this.updateState();},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(name,_50d){this[name]=_50d;}});_4fe.registry={};return _4fe;});},"dijit/_editor/plugins/EnterKeyHandling":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","../_Plugin","../RichText","../range"],function(_50e,_50f,keys,lang,on,has,win,_510,_511,_512,_513){return _50e("dijit._editor.plugins.EnterKeyHandling",_511,{blockNodeForEnter:"BR",constructor:function(args){if(args){if("blockNodeForEnter" in args){args.blockNodeForEnter=args.blockNodeForEnter.toUpperCase();}lang.mixin(this,args);}},setEditor:function(_514){if(this.editor===_514){return;}this.editor=_514;if(this.blockNodeForEnter=="BR"){this.editor.customUndo=true;_514.onLoadDeferred.then(lang.hitch(this,function(d){this.own(on(_514.document,"keydown",lang.hitch(this,function(e){if(e.keyCode==keys.ENTER){var ne=lang.mixin({},e);ne.shiftKey=true;if(!this.handleEnterKey(ne)){e.stopPropagation();e.preventDefault();}}})));if(has("ie")>=9){this.own(on(_514.document,"paste",lang.hitch(this,function(e){setTimeout(lang.hitch(this,function(){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();r.move("character",1);r.select();}),0);})));}return d;}));}else{if(this.blockNodeForEnter){var h=lang.hitch(this,"handleEnterKey");_514.addKeyHandler(13,0,0,h);_514.addKeyHandler(13,0,1,h);this.own(this.editor.on("KeyPressed",lang.hitch(this,"onKeyPressed")));}}},onKeyPressed:function(){if(this._checkListLater){if(this.editor.selection.isCollapsed()){var _515=this.editor.selection.getAncestorElement("LI");if(!_515){_512.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);var _516=this.editor.selection.getAncestorElement(this.blockNodeForEnter);if(_516){_516.innerHTML=this.bogusHtmlContent;if(has("ie")<=9){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();}}else{console.error("onKeyPressed: Cannot find the new block node");}}else{if(has("mozilla")){if(_515.parentNode.parentNode.nodeName=="LI"){_515=_515.parentNode.parentNode;}}var fc=_515.firstChild;if(fc&&fc.nodeType==1&&(fc.nodeName=="UL"||fc.nodeName=="OL")){_515.insertBefore(fc.ownerDocument.createTextNode(" "),fc);var _517=_513.create(this.editor.window);_517.setStart(_515.firstChild,0);var _518=_513.getSelection(this.editor.window,true);_518.removeAllRanges();_518.addRange(_517);}}}this._checkListLater=false;}if(this._pressedEnterInBlock){if(this._pressedEnterInBlock.previousSibling){this.removeTrailingBr(this._pressedEnterInBlock.previousSibling);}delete this._pressedEnterInBlock;}},bogusHtmlContent:"&#160;",blockNodes:/^(?:P|H1|H2|H3|H4|H5|H6|LI)$/,handleEnterKey:function(e){var _519,_51a,_51b,_51c,_51d,_51e,doc=this.editor.document,br,rs,txt;if(e.shiftKey){var _51f=this.editor.selection.getParentElement();var _520=_513.getAncestor(_51f,this.blockNodes);if(_520){if(_520.tagName=="LI"){return true;}_519=_513.getSelection(this.editor.window);_51a=_519.getRangeAt(0);if(!_51a.collapsed){_51a.deleteContents();_519=_513.getSelection(this.editor.window);_51a=_519.getRangeAt(0);}if(_513.atBeginningOfContainer(_520,_51a.startContainer,_51a.startOffset)){br=doc.createElement("br");_51b=_513.create(this.editor.window);_520.insertBefore(br,_520.firstChild);_51b.setStartAfter(br);_519.removeAllRanges();_519.addRange(_51b);}else{if(_513.atEndOfContainer(_520,_51a.startContainer,_51a.startOffset)){_51b=_513.create(this.editor.window);br=doc.createElement("br");_520.appendChild(br);_520.appendChild(doc.createTextNode(" "));_51b.setStart(_520.lastChild,0);_519.removeAllRanges();_519.addRange(_51b);}else{rs=_51a.startContainer;if(rs&&rs.nodeType==3){txt=rs.nodeValue;_51c=doc.createTextNode(txt.substring(0,_51a.startOffset));_51d=doc.createTextNode(txt.substring(_51a.startOffset));_51e=doc.createElement("br");if(_51d.nodeValue==""&&has("webkit")){_51d=doc.createTextNode(" ");}_50f.place(_51c,rs,"after");_50f.place(_51e,_51c,"after");_50f.place(_51d,_51e,"after");_50f.destroy(rs);_51b=_513.create(this.editor.window);_51b.setStart(_51d,0);_519.removeAllRanges();_519.addRange(_51b);return false;}return true;}}}else{_519=_513.getSelection(this.editor.window);if(_519.rangeCount){_51a=_519.getRangeAt(0);if(_51a&&_51a.startContainer){if(!_51a.collapsed){_51a.deleteContents();_519=_513.getSelection(this.editor.window);_51a=_519.getRangeAt(0);}rs=_51a.startContainer;if(rs&&rs.nodeType==3){var _521=false;var _522=_51a.startOffset;if(rs.length<_522){ret=this._adjustNodeAndOffset(rs,_522);rs=ret.node;_522=ret.offset;}txt=rs.nodeValue;_51c=doc.createTextNode(txt.substring(0,_522));_51d=doc.createTextNode(txt.substring(_522));_51e=doc.createElement("br");if(!_51d.length){_51d=doc.createTextNode(" ");_521=true;}if(_51c.length){_50f.place(_51c,rs,"after");}else{_51c=rs;}_50f.place(_51e,_51c,"after");_50f.place(_51d,_51e,"after");_50f.destroy(rs);_51b=_513.create(this.editor.window);_51b.setStart(_51d,0);_51b.setEnd(_51d,_51d.length);_519.removeAllRanges();_519.addRange(_51b);if(_521&&!has("webkit")){this.editor.selection.remove();}else{this.editor.selection.collapse(true);}}else{var _523;if(_51a.startOffset>=0){_523=rs.childNodes[_51a.startOffset];}var _51e=doc.createElement("br");var _51d=doc.createTextNode(" ");if(!_523){rs.appendChild(_51e);rs.appendChild(_51d);}else{_50f.place(_51e,_523,"before");_50f.place(_51d,_51e,"after");}_51b=_513.create(this.editor.window);_51b.setStart(_51d,0);_51b.setEnd(_51d,_51d.length);_519.removeAllRanges();_519.addRange(_51b);this.editor.selection.collapse(true);}}}else{_512.prototype.execCommand.call(this.editor,"inserthtml","<br>");}}return false;}var _524=true;_519=_513.getSelection(this.editor.window);_51a=_519.getRangeAt(0);if(!_51a.collapsed){_51a.deleteContents();_519=_513.getSelection(this.editor.window);_51a=_519.getRangeAt(0);}var _525=_513.getBlockAncestor(_51a.endContainer,null,this.editor.editNode);var _526=_525.blockNode;if((this._checkListLater=(_526&&(_526.nodeName=="LI"||_526.parentNode.nodeName=="LI")))){if(has("mozilla")){this._pressedEnterInBlock=_526;}if(/^(\s|&nbsp;|&#160;|\xA0|<span\b[^>]*\bclass=['"]Apple-style-span['"][^>]*>(\s|&nbsp;|&#160;|\xA0)<\/span>)?(<br>)?$/.test(_526.innerHTML)){_526.innerHTML="";if(has("webkit")){_51b=_513.create(this.editor.window);_51b.setStart(_526,0);_519.removeAllRanges();_519.addRange(_51b);}this._checkListLater=false;}return true;}if(!_525.blockNode||_525.blockNode===this.editor.editNode){try{_512.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);}catch(e2){}_525={blockNode:this.editor.selection.getAncestorElement(this.blockNodeForEnter),blockContainer:this.editor.editNode};if(_525.blockNode){if(_525.blockNode!=this.editor.editNode&&(!(_525.blockNode.textContent||_525.blockNode.innerHTML).replace(/^\s+|\s+$/g,"").length)){this.removeTrailingBr(_525.blockNode);return false;}}else{_525.blockNode=this.editor.editNode;}_519=_513.getSelection(this.editor.window);_51a=_519.getRangeAt(0);}var _527=doc.createElement(this.blockNodeForEnter);_527.innerHTML=this.bogusHtmlContent;this.removeTrailingBr(_525.blockNode);var _528=_51a.endOffset;var node=_51a.endContainer;if(node.length<_528){var ret=this._adjustNodeAndOffset(node,_528);node=ret.node;_528=ret.offset;}if(_513.atEndOfContainer(_525.blockNode,node,_528)){if(_525.blockNode===_525.blockContainer){_525.blockNode.appendChild(_527);}else{_50f.place(_527,_525.blockNode,"after");}_524=false;_51b=_513.create(this.editor.window);_51b.setStart(_527,0);_519.removeAllRanges();_519.addRange(_51b);if(this.editor.height){_510.scrollIntoView(_527);}}else{if(_513.atBeginningOfContainer(_525.blockNode,_51a.startContainer,_51a.startOffset)){_50f.place(_527,_525.blockNode,_525.blockNode===_525.blockContainer?"first":"before");if(_527.nextSibling&&this.editor.height){_51b=_513.create(this.editor.window);_51b.setStart(_527.nextSibling,0);_519.removeAllRanges();_519.addRange(_51b);_510.scrollIntoView(_527.nextSibling);}_524=false;}else{if(_525.blockNode===_525.blockContainer){_525.blockNode.appendChild(_527);}else{_50f.place(_527,_525.blockNode,"after");}_524=false;if(_525.blockNode.style){if(_527.style){if(_525.blockNode.style.cssText){_527.style.cssText=_525.blockNode.style.cssText;}}}rs=_51a.startContainer;var _529;if(rs&&rs.nodeType==3){var _52a,_52b;_528=_51a.endOffset;if(rs.length<_528){ret=this._adjustNodeAndOffset(rs,_528);rs=ret.node;_528=ret.offset;}txt=rs.nodeValue;_51c=doc.createTextNode(txt.substring(0,_528));_51d=doc.createTextNode(txt.substring(_528,txt.length));_50f.place(_51c,rs,"before");_50f.place(_51d,rs,"after");_50f.destroy(rs);var _52c=_51c.parentNode;while(_52c!==_525.blockNode){var tg=_52c.tagName;var _52d=doc.createElement(tg);if(_52c.style){if(_52d.style){if(_52c.style.cssText){_52d.style.cssText=_52c.style.cssText;}}}if(_52c.tagName==="FONT"){if(_52c.color){_52d.color=_52c.color;}if(_52c.face){_52d.face=_52c.face;}if(_52c.size){_52d.size=_52c.size;}}_52a=_51d;while(_52a){_52b=_52a.nextSibling;_52d.appendChild(_52a);_52a=_52b;}_50f.place(_52d,_52c,"after");_51c=_52c;_51d=_52d;_52c=_52c.parentNode;}_52a=_51d;if(_52a.nodeType==1||(_52a.nodeType==3&&_52a.nodeValue)){_527.innerHTML="";}_529=_52a;while(_52a){_52b=_52a.nextSibling;_527.appendChild(_52a);_52a=_52b;}}_51b=_513.create(this.editor.window);var _52e;var _52f=_529;if(this.blockNodeForEnter!=="BR"){while(_52f){_52e=_52f;_52b=_52f.firstChild;_52f=_52b;}if(_52e&&_52e.parentNode){_527=_52e.parentNode;_51b.setStart(_527,0);_519.removeAllRanges();_519.addRange(_51b);if(this.editor.height){_510.scrollIntoView(_527);}if(has("mozilla")){this._pressedEnterInBlock=_525.blockNode;}}else{_524=true;}}else{_51b.setStart(_527,0);_519.removeAllRanges();_519.addRange(_51b);if(this.editor.height){_510.scrollIntoView(_527);}if(has("mozilla")){this._pressedEnterInBlock=_525.blockNode;}}}}return _524;},_adjustNodeAndOffset:function(node,_530){while(node.length<_530&&node.nextSibling&&node.nextSibling.nodeType==3){_530=_530-node.length;node=node.nextSibling;}return {"node":node,"offset":_530};},removeTrailingBr:function(_531){var para=/P|DIV|LI/i.test(_531.tagName)?_531:this.editor.selection.getParentOfType(_531,["P","DIV","LI"]);if(!para){return;}if(para.lastChild){if((para.childNodes.length>1&&para.lastChild.nodeType==3&&/^[\s\xAD]*$/.test(para.lastChild.nodeValue))||para.lastChild.tagName=="BR"){_50f.destroy(para.lastChild);}}if(!para.childNodes.length){para.innerHTML=this.bogusHtmlContent;}}});});},"dijit/_editor/RichText":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/query","dojo/domReady","dojo/sniff","dojo/topic","dojo/_base/unload","dojo/_base/url","dojo/window","../_Widget","../_CssStateMixin","../selection","./range","./html","../focus","../main"],function(_532,_533,_534,_535,dom,_536,_537,_538,_539,_53a,_53b,keys,lang,on,_53c,_53d,has,_53e,_53f,_540,_541,_542,_543,_544,_545,_546,_547,_548){var _549=_534("dijit._editor.RichText",[_542,_543],{constructor:function(_54a){this.contentPreFilters=[];this.contentPostFilters=[];this.contentDomPreFilters=[];this.contentDomPostFilters=[];this.editingAreaStyleSheets=[];this.events=[].concat(this.events);this._keyHandlers={};if(_54a&&lang.isString(_54a.value)){this.value=_54a.value;}this.onLoadDeferred=new _535();},baseClass:"dijitEditor",inheritWidth:false,focusOnLoad:false,name:"",styleSheets:"",height:"300px",minHeight:"1em",isClosed:true,isLoaded:false,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",_NAME_CONTENT_SEP:"@@**%%:%%**@@",onLoadDeferred:null,isTabIndent:false,disableSpellCheck:false,postCreate:function(){if("textarea"===this.domNode.tagName.toLowerCase()){console.warn("RichText should not be used with the TEXTAREA tag.  See dijit._editor.RichText docs.");}this.contentPreFilters=[lang.hitch(this,"_preFixUrlAttributes")].concat(this.contentPreFilters);if(has("mozilla")){this.contentPreFilters=[this._normalizeFontStyle].concat(this.contentPreFilters);this.contentPostFilters=[this._removeMozBogus].concat(this.contentPostFilters);}if(has("webkit")){this.contentPreFilters=[this._removeWebkitBogus].concat(this.contentPreFilters);this.contentPostFilters=[this._removeWebkitBogus].concat(this.contentPostFilters);}if(has("ie")){this.contentPostFilters=[this._normalizeFontStyle].concat(this.contentPostFilters);this.contentDomPostFilters=[lang.hitch(this,this._stripBreakerNodes)].concat(this.contentDomPostFilters);}this.inherited(arguments);_53e.publish(_548._scopeName+"._editor.RichText::init",this);},startup:function(){this.inherited(arguments);this.open();this.setupDefaultShortcuts();},setupDefaultShortcuts:function(){var exec=lang.hitch(this,function(cmd,arg){return function(){return !this.execCommand(cmd,arg);};});var _54b={b:exec("bold"),i:exec("italic"),u:exec("underline"),a:exec("selectall"),s:function(){this.save(true);},m:function(){this.isTabIndent=!this.isTabIndent;},"1":exec("formatblock","h1"),"2":exec("formatblock","h2"),"3":exec("formatblock","h3"),"4":exec("formatblock","h4"),"\\":exec("insertunorderedlist")};if(!has("ie")){_54b.Z=exec("redo");}var key;for(key in _54b){this.addKeyHandler(key,true,false,_54b[key]);}},events:["onKeyDown","onKeyUp"],captureEvents:[],_editorCommandsLocalized:false,_localizeEditorCommands:function(){if(_549._editorCommandsLocalized){this._local2NativeFormatNames=_549._local2NativeFormatNames;this._native2LocalFormatNames=_549._native2LocalFormatNames;return;}_549._editorCommandsLocalized=true;_549._local2NativeFormatNames={};_549._native2LocalFormatNames={};this._local2NativeFormatNames=_549._local2NativeFormatNames;this._native2LocalFormatNames=_549._native2LocalFormatNames;var _54c=["div","p","pre","h1","h2","h3","h4","h5","h6","ol","ul","address"];var _54d="",_54e,i=0;while((_54e=_54c[i++])){if(_54e.charAt(1)!=="l"){_54d+="<"+_54e+"><span>content</span></"+_54e+"><br/>";}else{_54d+="<"+_54e+"><li>content</li></"+_54e+"><br/>";}}var _54f={position:"absolute",top:"0px",zIndex:10,opacity:0.01};var div=_538.create("div",{style:_54f,innerHTML:_54d});this.ownerDocumentBody.appendChild(div);var _550=lang.hitch(this,function(){var node=div.firstChild;while(node){try{this.selection.selectElement(node.firstChild);var _551=node.tagName.toLowerCase();this._local2NativeFormatNames[_551]=document.queryCommandValue("formatblock");this._native2LocalFormatNames[this._local2NativeFormatNames[_551]]=_551;node=node.nextSibling.nextSibling;}catch(e){}}_538.destroy(div);});this.defer(_550);},open:function(_552){if(!this.onLoadDeferred||this.onLoadDeferred.fired>=0){this.onLoadDeferred=new _535();}if(!this.isClosed){this.close();}_53e.publish(_548._scopeName+"._editor.RichText::open",this);if(arguments.length===1&&_552.nodeName){this.domNode=_552;}var dn=this.domNode;var html;if(lang.isString(this.value)){html=this.value;delete this.value;dn.innerHTML="";}else{if(dn.nodeName&&dn.nodeName.toLowerCase()=="textarea"){var ta=(this.textarea=dn);this.name=ta.name;html=ta.value;dn=this.domNode=this.ownerDocument.createElement("div");dn.setAttribute("widgetId",this.id);ta.removeAttribute("widgetId");dn.cssText=ta.cssText;dn.className+=" "+ta.className;_538.place(dn,ta,"before");var _553=lang.hitch(this,function(){_53a.set(ta,{display:"block",position:"absolute",top:"-1000px"});if(has("ie")){var s=ta.style;this.__overflow=s.overflow;s.overflow="hidden";}});if(has("ie")){this.defer(_553,10);}else{_553();}if(ta.form){var _554=ta.value;this.reset=function(){var _555=this.getValue();if(_555!==_554){this.replaceValue(_554);}};on(ta.form,"submit",lang.hitch(this,function(){_536.set(ta,"disabled",this.disabled);ta.value=this.getValue();}));}}else{html=_546.getChildrenHtml(dn);dn.innerHTML="";}}this.value=html;if(dn.nodeName&&dn.nodeName==="LI"){dn.innerHTML=" <br>";}this.header=dn.ownerDocument.createElement("div");dn.appendChild(this.header);this.editingArea=dn.ownerDocument.createElement("div");dn.appendChild(this.editingArea);this.footer=dn.ownerDocument.createElement("div");dn.appendChild(this.footer);if(!this.name){this.name=this.id+"_AUTOGEN";}if(this.name!==""&&(!_533["useXDomain"]||_533["allowXdRichTextSave"])){var _556=dom.byId(_548._scopeName+"._editor.RichText.value");if(_556&&_556.value!==""){var _557=_556.value.split(this._SEPARATOR),i=0,dat;while((dat=_557[i++])){var data=dat.split(this._NAME_CONTENT_SEP);if(data[0]===this.name){html=data[1];_557=_557.splice(i,1);_556.value=_557.join(this._SEPARATOR);break;}}}if(!_549._globalSaveHandler){_549._globalSaveHandler={};_53f.addOnUnload(function(){var id;for(id in _549._globalSaveHandler){var f=_549._globalSaveHandler[id];if(lang.isFunction(f)){f();}}});}_549._globalSaveHandler[this.id]=lang.hitch(this,"_saveContent");}this.isClosed=false;var ifr=(this.editorObject=this.iframe=this.ownerDocument.createElement("iframe"));ifr.id=this.id+"_iframe";ifr.style.border="none";ifr.style.width="100%";if(this._layoutMode){ifr.style.height="100%";}else{if(has("ie")>=7){if(this.height){ifr.style.height=this.height;}if(this.minHeight){ifr.style.minHeight=this.minHeight;}}else{ifr.style.height=this.height?this.height:this.minHeight;}}ifr.frameBorder=0;ifr._loadFunc=lang.hitch(this,function(w){this.window=w;this.document=this.window.document;this.selection=new _544.SelectionManager(w);if(has("ie")){this._localizeEditorCommands();}this.onLoad(html);});var src=this._getIframeDocTxt(),s="javascript: '"+src.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'";if(has("ie")>=9){this.editingArea.appendChild(ifr);ifr.src=s;}else{ifr.setAttribute("src",s);this.editingArea.appendChild(ifr);}if(dn.nodeName==="LI"){dn.lastChild.style.marginTop="-1.2em";}_537.add(this.domNode,this.baseClass);},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_getIframeDocTxt:function(){var _558=_53a.getComputedStyle(this.domNode);var html="";var _559=true;if(has("ie")||has("webkit")||(!this.height&&!has("mozilla"))){html="<div id='dijitEditorBody'></div>";_559=false;}else{if(has("mozilla")){this._cursorToStart=true;html="&#160;";}}var font=[_558.fontWeight,_558.fontSize,_558.fontFamily].join(" ");var _55a=_558.lineHeight;if(_55a.indexOf("px")>=0){_55a=parseFloat(_55a)/parseFloat(_558.fontSize);}else{if(_55a.indexOf("em")>=0){_55a=parseFloat(_55a);}else{_55a="normal";}}var _55b="";var self=this;this.style.replace(/(^|;)\s*(line-|font-?)[^;]+/ig,function(_55c){_55c=_55c.replace(/^;/ig,"")+";";var s=_55c.split(":")[0];if(s){s=lang.trim(s);s=s.toLowerCase();var i;var sC="";for(i=0;i<s.length;i++){var c=s.charAt(i);switch(c){case "-":i++;c=s.charAt(i).toUpperCase();default:sC+=c;}}_53a.set(self.domNode,sC,"");}_55b+=_55c+";";});var _55d=_53c("label[for=\""+this.id+"\"]");var _55e="";if(_55d.length){_55e=_55d[0].innerHTML;}else{if(this["aria-label"]){_55e=this["aria-label"];}else{if(this["aria-labelledby"]){_55e=dom.byId(this["aria-labelledby"]).innerHTML;}}}this.iframe.setAttribute("title",_55e);return ["<!DOCTYPE html>",this.isLeftToRight()?"<html lang='"+this.lang+"'>\n<head>\n":"<html dir='rtl' lang='"+this.lang+"'>\n<head>\n",_55e?"<title>"+_55e+"</title>":"","<meta http-equiv='Content-Type' content='text/html'>\n","<style>\n","\tbody,html {\n","\t\tbackground:transparent;\n","\t\tpadding: 1px 0 0 0;\n","\t\tmargin: -1px 0 0 0;\n","\t}\n","\tbody,html, #dijitEditorBody{ outline: none; }","html { height: 100%; width: 100%; overflow: hidden; }\n",this.height?"\tbody { height: 100%; width: 100%; overflow: auto; }\n":"\tbody { min-height: "+this.minHeight+"; width: 100%; overflow-x: auto; overflow-y: hidden; }\n","\tbody{\n","\t\ttop:0px;\n","\t\tleft:0px;\n","\t\tright:0px;\n","\t\tfont:",font,";\n",((this.height||has("opera"))?"":"\t\tposition: fixed;\n"),"\t\tline-height:",_55a,";\n","\t}\n","\tp{ margin: 1em 0; }\n","\tli > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; }\n",(!has("ie")?"\tli{ min-height:1.2em; }\n":""),"</style>\n",this._applyEditingAreaStyleSheets(),"\n","</head>\n<body role='main' ",(_559?"id='dijitEditorBody' ":""),"onload='frameElement && frameElement._loadFunc(window,document)' ","style='"+_55b+"'>",html,"</body>\n</html>"].join("");},_applyEditingAreaStyleSheets:function(){var _55f=[];if(this.styleSheets){_55f=this.styleSheets.split(";");this.styleSheets="";}_55f=_55f.concat(this.editingAreaStyleSheets);this.editingAreaStyleSheets=[];var text="",i=0,url,_560=_541.get(this.ownerDocument);while((url=_55f[i++])){var _561=(new _540(_560.location,url)).toString();this.editingAreaStyleSheets.push(_561);text+="<link rel=\"stylesheet\" type=\"text/css\" href=\""+_561+"\"/>";}return text;},addStyleSheet:function(uri){var url=uri.toString(),_562=_541.get(this.ownerDocument);if(url.charAt(0)==="."||(url.charAt(0)!=="/"&&!uri.host)){url=(new _540(_562.location,url)).toString();}if(_532.indexOf(this.editingAreaStyleSheets,url)>-1){return;}this.editingAreaStyleSheets.push(url);this.onLoadDeferred.then(lang.hitch(this,function(){if(this.document.createStyleSheet){this.document.createStyleSheet(url);}else{var head=this.document.getElementsByTagName("head")[0];var _563=this.document.createElement("link");_563.rel="stylesheet";_563.type="text/css";_563.href=url;head.appendChild(_563);}}));},removeStyleSheet:function(uri){var url=uri.toString(),_564=_541.get(this.ownerDocument);if(url.charAt(0)==="."||(url.charAt(0)!=="/"&&!uri.host)){url=(new _540(_564.location,url)).toString();}var _565=_532.indexOf(this.editingAreaStyleSheets,url);if(_565===-1){return;}delete this.editingAreaStyleSheets[_565];_53c("link[href=\""+url+"\"]",this.window.document).orphan();},disabled:false,_mozSettingProps:{"styleWithCSS":false},_setDisabledAttr:function(_566){_566=!!_566;this._set("disabled",_566);if(!this.isLoaded){return;}if(has("ie")||has("webkit")||has("opera")){var _567=has("ie")&&(this.isLoaded||!this.focusOnLoad);if(_567){this.editNode.unselectable="on";}this.editNode.contentEditable=!_566;if(_567){this.defer(function(){if(this.editNode){this.editNode.unselectable="off";}});}}else{try{this.document.designMode=(_566?"off":"on");}catch(e){return;}if(!_566&&this._mozSettingProps){var ps=this._mozSettingProps;var n;for(n in ps){if(ps.hasOwnProperty(n)){try{this.document.execCommand(n,false,ps[n]);}catch(e2){}}}}}this._disabledOK=true;},onLoad:function(html){if(!this.window.__registeredWindow){this.window.__registeredWindow=true;this._iframeRegHandle=_547.registerIframe(this.iframe);}if(!has("ie")&&!has("webkit")&&(this.height||has("mozilla"))){this.editNode=this.document.body;}else{this.editNode=this.document.body.firstChild;var _568=this;if(has("ie")){this.tabStop=_538.create("div",{tabIndex:-1},this.editingArea);this.iframe.onfocus=function(){_568.editNode.setActive();};}}this.focusNode=this.editNode;var _569=this.events.concat(this.captureEvents);var ap=this.iframe?this.document:this.editNode;this.own(_532.map(_569,function(item){var type=item.toLowerCase().replace(/^on/,"");on(ap,type,lang.hitch(this,item));},this));this.own(on(ap,"mouseup",lang.hitch(this,"onClick")));if(has("ie")){this.own(on(this.document,"mousedown",lang.hitch(this,"_onIEMouseDown")));this.editNode.style.zoom=1;}else{this.own(on(this.document,"mousedown",lang.hitch(this,function(){delete this._cursorToStart;})));}if(has("webkit")){this._webkitListener=this.own(on(this.document,"mouseup",lang.hitch(this,"onDisplayChanged")))[0];this.own(on(this.document,"mousedown",lang.hitch(this,function(e){var t=e.target;if(t&&(t===this.document.body||t===this.document)){this.defer("placeCursorAtEnd");}})));}if(has("ie")){try{this.document.execCommand("RespectVisibilityInDesign",true,null);}catch(e){}}this.isLoaded=true;this.set("disabled",this.disabled);var _56a=lang.hitch(this,function(){this.setValue(html);if(this.onLoadDeferred){this.onLoadDeferred.resolve(true);}this.onDisplayChanged();if(this.focusOnLoad){_53d(lang.hitch(this,"defer","focus",this.updateInterval));}this.value=this.getValue(true);});if(this.setValueDeferred){this.setValueDeferred.then(_56a);}else{_56a();}},onKeyDown:function(e){if(e.keyCode===keys.TAB&&this.isTabIndent){e.stopPropagation();e.preventDefault();if(this.queryCommandEnabled((e.shiftKey?"outdent":"indent"))){this.execCommand((e.shiftKey?"outdent":"indent"));}}if(has("ie")){if(e.keyCode==keys.TAB&&!this.isTabIndent){if(e.shiftKey&&!e.ctrlKey&&!e.altKey){this.iframe.focus();}else{if(!e.shiftKey&&!e.ctrlKey&&!e.altKey){this.tabStop.focus();}}}else{if(e.keyCode===keys.BACKSPACE&&this.document.selection.type==="Control"){e.stopPropagation();e.preventDefault();this.execCommand("delete");}}}if(has("ff")){if(e.keyCode===keys.PAGE_UP||e.keyCode===keys.PAGE_DOWN){if(this.editNode.clientHeight>=this.editNode.scrollHeight){e.preventDefault();}}}var _56b=this._keyHandlers[e.keyCode],args=arguments;if(_56b&&!e.altKey){_532.some(_56b,function(h){if(!(h.shift^e.shiftKey)&&!(h.ctrl^(e.ctrlKey||e.metaKey))){if(!h.handler.apply(this,args)){e.preventDefault();}return true;}},this);}this.defer("onKeyPressed",1);return true;},onKeyUp:function(){},setDisabled:function(_56c){_53b.deprecated("dijit.Editor::setDisabled is deprecated","use dijit.Editor::attr(\"disabled\",boolean) instead",2);this.set("disabled",_56c);},_setValueAttr:function(_56d){this.setValue(_56d);},_setDisableSpellCheckAttr:function(_56e){if(this.document){_536.set(this.document.body,"spellcheck",!_56e);}else{this.onLoadDeferred.then(lang.hitch(this,function(){_536.set(this.document.body,"spellcheck",!_56e);}));}this._set("disableSpellCheck",_56e);},addKeyHandler:function(key,ctrl,_56f,_570){if(typeof key=="string"){key=key.toUpperCase().charCodeAt(0);}if(!lang.isArray(this._keyHandlers[key])){this._keyHandlers[key]=[];}this._keyHandlers[key].push({shift:_56f||false,ctrl:ctrl||false,handler:_570});},onKeyPressed:function(){this.onDisplayChanged();},onClick:function(e){this.onDisplayChanged(e);},_onIEMouseDown:function(){if(!this.focused&&!this.disabled){this.focus();}},_onBlur:function(e){if(has("ie")>=9){this.defer(function(){if(!_547.curNode){this.ownerDocumentBody.focus();}});}this.inherited(arguments);var _571=this.getValue(true);if(_571!==this.value){this.onChange(_571);}this._set("value",_571);},_onFocus:function(e){if(!this.disabled){if(!this._disabledOK){this.set("disabled",false);}this.inherited(arguments);}},blur:function(){if(!has("ie")&&this.window.document.documentElement&&this.window.document.documentElement.focus){this.window.document.documentElement.focus();}else{if(this.ownerDocumentBody.focus){this.ownerDocumentBody.focus();}}},focus:function(){if(!this.isLoaded){this.focusOnLoad=true;return;}if(this._cursorToStart){delete this._cursorToStart;if(this.editNode.childNodes){this.placeCursorAtStart();return;}}if(!has("ie")){_547.focus(this.iframe);}else{if(this.editNode&&this.editNode.focus){if(has("ie")<9){this.iframe.fireEvent("onfocus",document.createEventObject());}else{var e=document.createEvent("UIEvents");e.initEvent("focus",true,false);this.iframe.dispatchEvent(e);}}}},updateInterval:200,_updateTimer:null,onDisplayChanged:function(){if(this._updateTimer){this._updateTimer.remove();}this._updateTimer=this.defer("onNormalizedDisplayChanged",this.updateInterval);},onNormalizedDisplayChanged:function(){delete this._updateTimer;},onChange:function(){},_normalizeCommand:function(cmd,_572){var _573=cmd.toLowerCase();if(_573==="formatblock"){if(has("safari")&&_572===undefined){_573="heading";}}else{if(_573==="hilitecolor"&&!has("mozilla")){_573="backcolor";}}return _573;},_qcaCache:{},queryCommandAvailable:function(_574){var ca=this._qcaCache[_574];if(ca!==undefined){return ca;}return (this._qcaCache[_574]=this._queryCommandAvailable(_574));},_queryCommandAvailable:function(_575){var ie=1;var _576=1<<1;var _577=1<<2;var _578=1<<3;function _579(_57a){return {ie:Boolean(_57a&ie),mozilla:Boolean(_57a&_576),webkit:Boolean(_57a&_577),opera:Boolean(_57a&_578)};};var _57b=null;switch(_575.toLowerCase()){case "bold":case "italic":case "underline":case "subscript":case "superscript":case "fontname":case "fontsize":case "forecolor":case "hilitecolor":case "justifycenter":case "justifyfull":case "justifyleft":case "justifyright":case "delete":case "selectall":case "toggledir":_57b=_579(_576|ie|_577|_578);break;case "createlink":case "unlink":case "removeformat":case "inserthorizontalrule":case "insertimage":case "insertorderedlist":case "insertunorderedlist":case "indent":case "outdent":case "formatblock":case "inserthtml":case "undo":case "redo":case "strikethrough":case "tabindent":_57b=_579(_576|ie|_578|_577);break;case "blockdirltr":case "blockdirrtl":case "dirltr":case "dirrtl":case "inlinedirltr":case "inlinedirrtl":_57b=_579(ie);break;case "cut":case "copy":case "paste":_57b=_579(ie|_576|_577|_578);break;case "inserttable":_57b=_579(_576|ie);break;case "insertcell":case "insertcol":case "insertrow":case "deletecells":case "deletecols":case "deleterows":case "mergecells":case "splitcell":_57b=_579(ie|_576);break;default:return false;}return (has("ie")&&_57b.ie)||(has("mozilla")&&_57b.mozilla)||(has("webkit")&&_57b.webkit)||(has("opera")&&_57b.opera);},execCommand:function(_57c,_57d){var _57e;if(this.focused){this.focus();}_57c=this._normalizeCommand(_57c,_57d);if(_57d!==undefined){if(_57c==="heading"){throw new Error("unimplemented");}else{if((_57c==="formatblock")&&has("ie")){_57d="<"+_57d+">";}}}var _57f="_"+_57c+"Impl";if(this[_57f]){_57e=this[_57f](_57d);}else{_57d=arguments.length>1?_57d:null;if(_57d||_57c!=="createlink"){_57e=this.document.execCommand(_57c,false,_57d);}}this.onDisplayChanged();return _57e;},queryCommandEnabled:function(_580){if(this.disabled||!this._disabledOK){return false;}_580=this._normalizeCommand(_580);var _581="_"+_580+"EnabledImpl";if(this[_581]){return this[_581](_580);}else{return this._browserQueryCommandEnabled(_580);}},queryCommandState:function(_582){if(this.disabled||!this._disabledOK){return false;}_582=this._normalizeCommand(_582);try{return this.document.queryCommandState(_582);}catch(e){return false;}},queryCommandValue:function(_583){if(this.disabled||!this._disabledOK){return false;}var r;_583=this._normalizeCommand(_583);if(has("ie")&&_583==="formatblock"){r=this._native2LocalFormatNames[this.document.queryCommandValue(_583)];}else{if(has("mozilla")&&_583==="hilitecolor"){var _584;try{_584=this.document.queryCommandValue("styleWithCSS");}catch(e){_584=false;}this.document.execCommand("styleWithCSS",false,true);r=this.document.queryCommandValue(_583);this.document.execCommand("styleWithCSS",false,_584);}else{r=this.document.queryCommandValue(_583);}}return r;},_sCall:function(name,args){return this.selection[name].apply(this.selection,args);},placeCursorAtStart:function(){this.focus();var _585=false;if(has("mozilla")){var _586=this.editNode.firstChild;while(_586){if(_586.nodeType===3){if(_586.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_585=true;this.selection.selectElement(_586);break;}}else{if(_586.nodeType===1){_585=true;var tg=_586.tagName?_586.tagName.toLowerCase():"";if(/br|input|img|base|meta|area|basefont|hr|link/.test(tg)){this.selection.selectElement(_586);}else{this.selection.selectElementChildren(_586);}break;}}_586=_586.nextSibling;}}else{_585=true;this.selection.selectElementChildren(this.editNode);}if(_585){this.selection.collapse(true);}},placeCursorAtEnd:function(){this.focus();var _587=false;if(has("mozilla")){var last=this.editNode.lastChild;while(last){if(last.nodeType===3){if(last.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_587=true;this.selection.selectElement(last);break;}}else{if(last.nodeType===1){_587=true;this.selection.selectElement(last.lastChild||last);break;}}last=last.previousSibling;}}else{_587=true;this.selection.selectElementChildren(this.editNode);}if(_587){this.selection.collapse(false);}},getValue:function(_588){if(this.textarea){if(this.isClosed||!this.isLoaded){return this.textarea.value;}}return this._postFilterContent(null,_588);},_getValueAttr:function(){return this.getValue(true);},setValue:function(html){if(!this.isLoaded){this.onLoadDeferred.then(lang.hitch(this,function(){this.setValue(html);}));return;}this._cursorToStart=true;if(this.textarea&&(this.isClosed||!this.isLoaded)){this.textarea.value=html;}else{html=this._preFilterContent(html);var node=this.isClosed?this.domNode:this.editNode;if(html&&has("mozilla")&&html.toLowerCase()==="<p></p>"){html="<p>&#160;</p>";}if(!html&&has("webkit")){html="&#160;";}node.innerHTML=html;this._preDomFilterContent(node);}this.onDisplayChanged();this._set("value",this.getValue(true));},replaceValue:function(html){if(this.isClosed){this.setValue(html);}else{if(this.window&&this.window.getSelection&&!has("mozilla")){this.setValue(html);}else{if(this.window&&this.window.getSelection){html=this._preFilterContent(html);this.execCommand("selectall");if(!html){this._cursorToStart=true;html="&#160;";}this.execCommand("inserthtml",html);this._preDomFilterContent(this.editNode);}else{if(this.document&&this.document.selection){this.setValue(html);}}}}this._set("value",this.getValue(true));},_preFilterContent:function(html){var ec=html;_532.forEach(this.contentPreFilters,function(ef){if(ef){ec=ef(ec);}});return ec;},_preDomFilterContent:function(dom){dom=dom||this.editNode;_532.forEach(this.contentDomPreFilters,function(ef){if(ef&&lang.isFunction(ef)){ef(dom);}},this);},_postFilterContent:function(dom,_589){var ec;if(!lang.isString(dom)){dom=dom||this.editNode;if(this.contentDomPostFilters.length){if(_589){dom=lang.clone(dom);}_532.forEach(this.contentDomPostFilters,function(ef){dom=ef(dom);});}ec=_546.getChildrenHtml(dom);}else{ec=dom;}if(!lang.trim(ec.replace(/^\xA0\xA0*/,"").replace(/\xA0\xA0*$/,"")).length){ec="";}_532.forEach(this.contentPostFilters,function(ef){ec=ef(ec);});return ec;},_saveContent:function(){var _58a=dom.byId(_548._scopeName+"._editor.RichText.value");if(_58a){if(_58a.value){_58a.value+=this._SEPARATOR;}_58a.value+=this.name+this._NAME_CONTENT_SEP+this.getValue(true);}},escapeXml:function(str,_58b){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_58b){str=str.replace(/'/gm,"&#39;");}return str;},getNodeHtml:function(node){_53b.deprecated("dijit.Editor::getNodeHtml is deprecated","use dijit/_editor/html::getNodeHtml instead",2);return _546.getNodeHtml(node);},getNodeChildrenHtml:function(dom){_53b.deprecated("dijit.Editor::getNodeChildrenHtml is deprecated","use dijit/_editor/html::getChildrenHtml instead",2);return _546.getChildrenHtml(dom);},close:function(save){if(this.isClosed){return;}if(!arguments.length){save=true;}if(save){this._set("value",this.getValue(true));}if(this.interval){clearInterval(this.interval);}if(this._webkitListener){this._webkitListener.remove();delete this._webkitListener;}if(has("ie")){this.iframe.onfocus=null;}this.iframe._loadFunc=null;if(this._iframeRegHandle){this._iframeRegHandle.remove();delete this._iframeRegHandle;}if(this.textarea){var s=this.textarea.style;s.position="";s.left=s.top="";if(has("ie")){s.overflow=this.__overflow;this.__overflow=null;}this.textarea.value=this.value;_538.destroy(this.domNode);this.domNode=this.textarea;}else{this.domNode.innerHTML=this.value;}delete this.iframe;_537.remove(this.domNode,this.baseClass);this.isClosed=true;this.isLoaded=false;delete this.editNode;delete this.focusNode;if(this.window&&this.window._frameElement){this.window._frameElement=null;}this.window=null;this.document=null;this.editingArea=null;this.editorObject=null;},destroy:function(){if(!this.isClosed){this.close(false);}if(this._updateTimer){this._updateTimer.remove();}this.inherited(arguments);if(_549._globalSaveHandler){delete _549._globalSaveHandler[this.id];}},_removeMozBogus:function(html){return html.replace(/\stype="_moz"/gi,"").replace(/\s_moz_dirty=""/gi,"").replace(/_moz_resizing="(true|false)"/gi,"");},_removeWebkitBogus:function(html){html=html.replace(/\sclass="webkit-block-placeholder"/gi,"");html=html.replace(/\sclass="apple-style-span"/gi,"");html=html.replace(/<meta charset=\"utf-8\" \/>/gi,"");return html;},_normalizeFontStyle:function(html){return html.replace(/<(\/)?strong([ \>])/gi,"<$1b$2").replace(/<(\/)?em([ \>])/gi,"<$1i$2");},_preFixUrlAttributes:function(html){return html.replace(/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2").replace(/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");},_browserQueryCommandEnabled:function(_58c){if(!_58c){return false;}var elem=has("ie")<9?this.document.selection.createRange():this.document;try{return elem.queryCommandEnabled(_58c);}catch(e){return false;}},_createlinkEnabledImpl:function(){var _58d=true;if(has("opera")){var sel=this.window.getSelection();if(sel.isCollapsed){_58d=true;}else{_58d=this.document.queryCommandEnabled("createlink");}}else{_58d=this._browserQueryCommandEnabled("createlink");}return _58d;},_unlinkEnabledImpl:function(){var _58e=true;if(has("mozilla")||has("webkit")){_58e=this.selection.hasAncestorElement("a");}else{_58e=this._browserQueryCommandEnabled("unlink");}return _58e;},_inserttableEnabledImpl:function(){var _58f=true;if(has("mozilla")||has("webkit")){_58f=true;}else{_58f=this._browserQueryCommandEnabled("inserttable");}return _58f;},_cutEnabledImpl:function(){var _590=true;if(has("webkit")){var sel=this.window.getSelection();if(sel){sel=sel.toString();}_590=!!sel;}else{_590=this._browserQueryCommandEnabled("cut");}return _590;},_copyEnabledImpl:function(){var _591=true;if(has("webkit")){var sel=this.window.getSelection();if(sel){sel=sel.toString();}_591=!!sel;}else{_591=this._browserQueryCommandEnabled("copy");}return _591;},_pasteEnabledImpl:function(){var _592=true;if(has("webkit")){return true;}else{_592=this._browserQueryCommandEnabled("paste");}return _592;},_inserthorizontalruleImpl:function(_593){if(has("ie")){return this._inserthtmlImpl("<hr>");}return this.document.execCommand("inserthorizontalrule",false,_593);},_unlinkImpl:function(_594){if((this.queryCommandEnabled("unlink"))&&(has("mozilla")||has("webkit"))){var a=this.selection.getAncestorElement("a");this.selection.selectElement(a);return this.document.execCommand("unlink",false,null);}return this.document.execCommand("unlink",false,_594);},_hilitecolorImpl:function(_595){var _596;var _597=this._handleTextColorOrProperties("hilitecolor",_595);if(!_597){if(has("mozilla")){this.document.execCommand("styleWithCSS",false,true);_596=this.document.execCommand("hilitecolor",false,_595);this.document.execCommand("styleWithCSS",false,false);}else{_596=this.document.execCommand("hilitecolor",false,_595);}}return _596;},_backcolorImpl:function(_598){if(has("ie")){_598=_598?_598:null;}var _599=this._handleTextColorOrProperties("backcolor",_598);if(!_599){_599=this.document.execCommand("backcolor",false,_598);}return _599;},_forecolorImpl:function(_59a){if(has("ie")){_59a=_59a?_59a:null;}var _59b=false;_59b=this._handleTextColorOrProperties("forecolor",_59a);if(!_59b){_59b=this.document.execCommand("forecolor",false,_59a);}return _59b;},_inserthtmlImpl:function(_59c){_59c=this._preFilterContent(_59c);var rv=true;if(has("ie")){var _59d=this.document.selection.createRange();if(this.document.selection.type.toUpperCase()==="CONTROL"){var n=_59d.item(0);while(_59d.length){_59d.remove(_59d.item(0));}n.outerHTML=_59c;}else{_59d.pasteHTML(_59c);}_59d.select();}else{if(has("mozilla")&&!_59c.length){this.selection.remove();}else{rv=this.document.execCommand("inserthtml",false,_59c);}}return rv;},_boldImpl:function(_59e){var _59f=false;if(has("ie")){this._adaptIESelection();_59f=this._adaptIEFormatAreaAndExec("bold");}if(!_59f){_59f=this.document.execCommand("bold",false,_59e);}return _59f;},_italicImpl:function(_5a0){var _5a1=false;if(has("ie")){this._adaptIESelection();_5a1=this._adaptIEFormatAreaAndExec("italic");}if(!_5a1){_5a1=this.document.execCommand("italic",false,_5a0);}return _5a1;},_underlineImpl:function(_5a2){var _5a3=false;if(has("ie")){this._adaptIESelection();_5a3=this._adaptIEFormatAreaAndExec("underline");}if(!_5a3){_5a3=this.document.execCommand("underline",false,_5a2);}return _5a3;},_strikethroughImpl:function(_5a4){var _5a5=false;if(has("ie")){this._adaptIESelection();_5a5=this._adaptIEFormatAreaAndExec("strikethrough");}if(!_5a5){_5a5=this.document.execCommand("strikethrough",false,_5a4);}return _5a5;},_superscriptImpl:function(_5a6){var _5a7=false;if(has("ie")){this._adaptIESelection();_5a7=this._adaptIEFormatAreaAndExec("superscript");}if(!_5a7){_5a7=this.document.execCommand("superscript",false,_5a6);}return _5a7;},_subscriptImpl:function(_5a8){var _5a9=false;if(has("ie")){this._adaptIESelection();_5a9=this._adaptIEFormatAreaAndExec("subscript");}if(!_5a9){_5a9=this.document.execCommand("subscript",false,_5a8);}return _5a9;},_fontnameImpl:function(_5aa){var _5ab;if(has("ie")){_5ab=this._handleTextColorOrProperties("fontname",_5aa);}if(!_5ab){_5ab=this.document.execCommand("fontname",false,_5aa);}return _5ab;},_fontsizeImpl:function(_5ac){var _5ad;if(has("ie")){_5ad=this._handleTextColorOrProperties("fontsize",_5ac);}if(!_5ad){_5ad=this.document.execCommand("fontsize",false,_5ac);}return _5ad;},_insertorderedlistImpl:function(_5ae){var _5af=false;if(has("ie")){_5af=this._adaptIEList("insertorderedlist",_5ae);}if(!_5af){_5af=this.document.execCommand("insertorderedlist",false,_5ae);}return _5af;},_insertunorderedlistImpl:function(_5b0){var _5b1=false;if(has("ie")){_5b1=this._adaptIEList("insertunorderedlist",_5b0);}if(!_5b1){_5b1=this.document.execCommand("insertunorderedlist",false,_5b0);}return _5b1;},getHeaderHeight:function(){return this._getNodeChildrenHeight(this.header);},getFooterHeight:function(){return this._getNodeChildrenHeight(this.footer);},_getNodeChildrenHeight:function(node){var h=0;if(node&&node.childNodes){var i;for(i=0;i<node.childNodes.length;i++){var size=_539.position(node.childNodes[i]);h+=size.h;}}return h;},_isNodeEmpty:function(node,_5b2){if(node.nodeType===1){if(node.childNodes.length>0){return this._isNodeEmpty(node.childNodes[0],_5b2);}return true;}else{if(node.nodeType===3){return (node.nodeValue.substring(_5b2)==="");}}return false;},_removeStartingRangeFromRange:function(node,_5b3){if(node.nextSibling){_5b3.setStart(node.nextSibling,0);}else{var _5b4=node.parentNode;while(_5b4&&_5b4.nextSibling==null){_5b4=_5b4.parentNode;}if(_5b4){_5b3.setStart(_5b4.nextSibling,0);}}return _5b3;},_adaptIESelection:function(){var _5b5=_545.getSelection(this.window);if(_5b5&&_5b5.rangeCount&&!_5b5.isCollapsed){var _5b6=_5b5.getRangeAt(0);var _5b7=_5b6.startContainer;var _5b8=_5b6.startOffset;while(_5b7.nodeType===3&&_5b8>=_5b7.length&&_5b7.nextSibling){_5b8=_5b8-_5b7.length;_5b7=_5b7.nextSibling;}var _5b9=null;while(this._isNodeEmpty(_5b7,_5b8)&&_5b7!==_5b9){_5b9=_5b7;_5b6=this._removeStartingRangeFromRange(_5b7,_5b6);_5b7=_5b6.startContainer;_5b8=0;}_5b5.removeAllRanges();_5b5.addRange(_5b6);}},_adaptIEFormatAreaAndExec:function(_5ba){var _5bb=_545.getSelection(this.window);var doc=this.document;var rs,ret,_5bc,txt,_5bd,_5be,_5bf,_5c0;if(_5ba&&_5bb&&_5bb.isCollapsed){var _5c1=this.queryCommandValue(_5ba);if(_5c1){var _5c2=this._tagNamesForCommand(_5ba);_5bc=_5bb.getRangeAt(0);var fs=_5bc.startContainer;if(fs.nodeType===3){var _5c3=_5bc.endOffset;if(fs.length<_5c3){ret=this._adjustNodeAndOffset(rs,_5c3);fs=ret.node;_5c3=ret.offset;}}var _5c4;while(fs&&fs!==this.editNode){var _5c5=fs.tagName?fs.tagName.toLowerCase():"";if(_532.indexOf(_5c2,_5c5)>-1){_5c4=fs;break;}fs=fs.parentNode;}if(_5c4){rs=_5bc.startContainer;var _5c6=doc.createElement(_5c4.tagName);_538.place(_5c6,_5c4,"after");if(rs&&rs.nodeType===3){var _5c7,_5c8;var _5c9=_5bc.endOffset;if(rs.length<_5c9){ret=this._adjustNodeAndOffset(rs,_5c9);rs=ret.node;_5c9=ret.offset;}txt=rs.nodeValue;_5bd=doc.createTextNode(txt.substring(0,_5c9));var _5ca=txt.substring(_5c9,txt.length);if(_5ca){_5be=doc.createTextNode(_5ca);}_538.place(_5bd,rs,"before");if(_5be){_5bf=doc.createElement("span");_5bf.className="ieFormatBreakerSpan";_538.place(_5bf,rs,"after");_538.place(_5be,_5bf,"after");_5be=_5bf;}_538.destroy(rs);var _5cb=_5bd.parentNode;var _5cc=[];var _5cd;while(_5cb!==_5c4){var tg=_5cb.tagName;_5cd={tagName:tg};_5cc.push(_5cd);var _5ce=doc.createElement(tg);if(_5cb.style){if(_5ce.style){if(_5cb.style.cssText){_5ce.style.cssText=_5cb.style.cssText;_5cd.cssText=_5cb.style.cssText;}}}if(_5cb.tagName==="FONT"){if(_5cb.color){_5ce.color=_5cb.color;_5cd.color=_5cb.color;}if(_5cb.face){_5ce.face=_5cb.face;_5cd.face=_5cb.face;}if(_5cb.size){_5ce.size=_5cb.size;_5cd.size=_5cb.size;}}if(_5cb.className){_5ce.className=_5cb.className;_5cd.className=_5cb.className;}if(_5be){_5c7=_5be;while(_5c7){_5c8=_5c7.nextSibling;_5ce.appendChild(_5c7);_5c7=_5c8;}}if(_5ce.tagName==_5cb.tagName){_5bf=doc.createElement("span");_5bf.className="ieFormatBreakerSpan";_538.place(_5bf,_5cb,"after");_538.place(_5ce,_5bf,"after");}else{_538.place(_5ce,_5cb,"after");}_5bd=_5cb;_5be=_5ce;_5cb=_5cb.parentNode;}if(_5be){_5c7=_5be;if(_5c7.nodeType===1||(_5c7.nodeType===3&&_5c7.nodeValue)){_5c6.innerHTML="";}while(_5c7){_5c8=_5c7.nextSibling;_5c6.appendChild(_5c7);_5c7=_5c8;}}var _5cf;if(_5cc.length){_5cd=_5cc.pop();var _5d0=doc.createElement(_5cd.tagName);if(_5cd.cssText&&_5d0.style){_5d0.style.cssText=_5cd.cssText;}if(_5cd.className){_5d0.className=_5cd.className;}if(_5cd.tagName==="FONT"){if(_5cd.color){_5d0.color=_5cd.color;}if(_5cd.face){_5d0.face=_5cd.face;}if(_5cd.size){_5d0.size=_5cd.size;}}_538.place(_5d0,_5c6,"before");while(_5cc.length){_5cd=_5cc.pop();var _5d1=doc.createElement(_5cd.tagName);if(_5cd.cssText&&_5d1.style){_5d1.style.cssText=_5cd.cssText;}if(_5cd.className){_5d1.className=_5cd.className;}if(_5cd.tagName==="FONT"){if(_5cd.color){_5d1.color=_5cd.color;}if(_5cd.face){_5d1.face=_5cd.face;}if(_5cd.size){_5d1.size=_5cd.size;}}_5d0.appendChild(_5d1);_5d0=_5d1;}_5c0=doc.createTextNode(".");_5bf.appendChild(_5c0);_5d0.appendChild(_5c0);_5cf=_545.create(this.window);_5cf.setStart(_5c0,0);_5cf.setEnd(_5c0,_5c0.length);_5bb.removeAllRanges();_5bb.addRange(_5cf);this.selection.collapse(false);_5c0.parentNode.innerHTML="";}else{_5bf=doc.createElement("span");_5bf.className="ieFormatBreakerSpan";_5c0=doc.createTextNode(".");_5bf.appendChild(_5c0);_538.place(_5bf,_5c6,"before");_5cf=_545.create(this.window);_5cf.setStart(_5c0,0);_5cf.setEnd(_5c0,_5c0.length);_5bb.removeAllRanges();_5bb.addRange(_5cf);this.selection.collapse(false);_5c0.parentNode.innerHTML="";}if(!_5c6.firstChild){_538.destroy(_5c6);}return true;}}return false;}else{_5bc=_5bb.getRangeAt(0);rs=_5bc.startContainer;if(rs&&rs.nodeType===3){var _5c3=_5bc.startOffset;if(rs.length<_5c3){ret=this._adjustNodeAndOffset(rs,_5c3);rs=ret.node;_5c3=ret.offset;}txt=rs.nodeValue;_5bd=doc.createTextNode(txt.substring(0,_5c3));var _5ca=txt.substring(_5c3);if(_5ca!==""){_5be=doc.createTextNode(txt.substring(_5c3));}_5bf=doc.createElement("span");_5c0=doc.createTextNode(".");_5bf.appendChild(_5c0);if(_5bd.length){_538.place(_5bd,rs,"after");}else{_5bd=rs;}_538.place(_5bf,_5bd,"after");if(_5be){_538.place(_5be,_5bf,"after");}_538.destroy(rs);var _5cf=_545.create(this.window);_5cf.setStart(_5c0,0);_5cf.setEnd(_5c0,_5c0.length);_5bb.removeAllRanges();_5bb.addRange(_5cf);doc.execCommand(_5ba);_538.place(_5bf.firstChild,_5bf,"before");_538.destroy(_5bf);_5cf.setStart(_5c0,0);_5cf.setEnd(_5c0,_5c0.length);_5bb.removeAllRanges();_5bb.addRange(_5cf);this.selection.collapse(false);_5c0.parentNode.innerHTML="";return true;}}}else{return false;}},_adaptIEList:function(_5d2){var _5d3=_545.getSelection(this.window);if(_5d3.isCollapsed){if(_5d3.rangeCount&&!this.queryCommandValue(_5d2)){var _5d4=_5d3.getRangeAt(0);var sc=_5d4.startContainer;if(sc&&sc.nodeType==3){if(!_5d4.startOffset){var _5d5="ul";if(_5d2==="insertorderedlist"){_5d5="ol";}var list=this.document.createElement(_5d5);var li=_538.create("li",null,list);_538.place(list,sc,"before");li.appendChild(sc);_538.create("br",null,list,"after");var _5d6=_545.create(this.window);_5d6.setStart(sc,0);_5d6.setEnd(sc,sc.length);_5d3.removeAllRanges();_5d3.addRange(_5d6);this.selection.collapse(true);return true;}}}}return false;},_handleTextColorOrProperties:function(_5d7,_5d8){var _5d9=_545.getSelection(this.window);var doc=this.document;var rs,ret,_5da,txt,_5db,_5dc,_5dd,_5de;_5d8=_5d8||null;if(_5d7&&_5d9&&_5d9.isCollapsed){if(_5d9.rangeCount){_5da=_5d9.getRangeAt(0);rs=_5da.startContainer;if(rs&&rs.nodeType===3){var _5df=_5da.startOffset;if(rs.length<_5df){ret=this._adjustNodeAndOffset(rs,_5df);rs=ret.node;_5df=ret.offset;}txt=rs.nodeValue;_5db=doc.createTextNode(txt.substring(0,_5df));var _5e0=txt.substring(_5df);if(_5e0!==""){_5dc=doc.createTextNode(txt.substring(_5df));}_5dd=doc.createElement("span");_5de=doc.createTextNode(".");_5dd.appendChild(_5de);var _5e1=doc.createElement("span");_5dd.appendChild(_5e1);if(_5db.length){_538.place(_5db,rs,"after");}else{_5db=rs;}_538.place(_5dd,_5db,"after");if(_5dc){_538.place(_5dc,_5dd,"after");}_538.destroy(rs);var _5e2=_545.create(this.window);_5e2.setStart(_5de,0);_5e2.setEnd(_5de,_5de.length);_5d9.removeAllRanges();_5d9.addRange(_5e2);if(has("webkit")){var _5e3="color";if(_5d7==="hilitecolor"||_5d7==="backcolor"){_5e3="backgroundColor";}_53a.set(_5dd,_5e3,_5d8);this.selection.remove();_538.destroy(_5e1);_5dd.innerHTML="&#160;";this.selection.selectElement(_5dd);this.focus();}else{this.execCommand(_5d7,_5d8);_538.place(_5dd.firstChild,_5dd,"before");_538.destroy(_5dd);_5e2.setStart(_5de,0);_5e2.setEnd(_5de,_5de.length);_5d9.removeAllRanges();_5d9.addRange(_5e2);this.selection.collapse(false);_5de.parentNode.removeChild(_5de);}return true;}}}return false;},_adjustNodeAndOffset:function(node,_5e4){while(node.length<_5e4&&node.nextSibling&&node.nextSibling.nodeType===3){_5e4=_5e4-node.length;node=node.nextSibling;}return {"node":node,"offset":_5e4};},_tagNamesForCommand:function(_5e5){if(_5e5==="bold"){return ["b","strong"];}else{if(_5e5==="italic"){return ["i","em"];}else{if(_5e5==="strikethrough"){return ["s","strike"];}else{if(_5e5==="superscript"){return ["sup"];}else{if(_5e5==="subscript"){return ["sub"];}else{if(_5e5==="underline"){return ["u"];}}}}}}return [];},_stripBreakerNodes:function(node){if(!this.isLoaded){return;}_53c(".ieFormatBreakerSpan",node).forEach(function(b){while(b.firstChild){_538.place(b.firstChild,b,"before");}_538.destroy(b);});return node;}});return _549;});},"dijit/selection":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","dijit/focus"],function(_5e6,dom,lang,has,_5e7,_5e8){var _5e9=function(win){var doc=win.document;this.getType=function(){if(doc.getSelection){var _5ea="text";var oSel;try{oSel=win.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _5eb=oSel.getRangeAt(0);if((_5eb.startContainer==_5eb.endContainer)&&((_5eb.endOffset-_5eb.startOffset)==1)&&(_5eb.startContainer.nodeType!=3)){_5ea="control";}}return _5ea;}else{return doc.selection.type.toLowerCase();}};this.getSelectedText=function(){if(doc.getSelection){var _5ec=win.getSelection();return _5ec?_5ec.toString():"";}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().text;}};this.getSelectedHtml=function(){if(doc.getSelection){var _5ed=win.getSelection();if(_5ed&&_5ed.rangeCount){var i;var html="";for(i=0;i<_5ed.rangeCount;i++){var frag=_5ed.getRangeAt(i).cloneContents();var div=doc.createElement("div");div.appendChild(frag);html+=div.innerHTML;}return html;}return null;}else{if(this.getType()=="control"){return null;}return doc.selection.createRange().htmlText;}};this.getSelectedElement=function(){if(this.getType()=="control"){if(doc.getSelection){var _5ee=win.getSelection();return _5ee.anchorNode.childNodes[_5ee.anchorOffset];}else{var _5ef=doc.selection.createRange();if(_5ef&&_5ef.item){return doc.selection.createRange().item(0);}}}return null;};this.getParentElement=function(){if(this.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(doc.getSelection){var _5f0=doc.getSelection();if(_5f0){var node=_5f0.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}else{var r=doc.selection.createRange();r.collapse(true);return r.parentElement();}}return null;};this.hasAncestorElement=function(_5f1){return this.getAncestorElement.apply(this,arguments)!=null;};this.getAncestorElement=function(_5f2){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);};this.isTag=function(node,tags){if(node&&node.tagName){var _5f3=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _5f4=String(tags[i]).toLowerCase();if(_5f3==_5f4){return _5f4;}}}return "";};this.getParentOfType=function(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;};this.collapse=function(_5f5){if(doc.getSelection){var _5f6=win.getSelection();if(_5f6.removeAllRanges){if(_5f5){_5f6.collapseToStart();}else{_5f6.collapseToEnd();}}else{_5f6.collapse(_5f5);}}else{var _5f7=doc.selection.createRange();_5f7.collapse(_5f5);_5f7.select();}};this.remove=function(){var sel=doc.selection;if(doc.getSelection){sel=win.getSelection();sel.deleteFromDocument();return sel;}else{if(sel.type.toLowerCase()!="none"){sel.clear();}return sel;}};this.selectElementChildren=function(_5f8,_5f9){var _5fa;_5f8=dom.byId(_5f8);if(doc.getSelection){var _5fb=win.getSelection();if(has("opera")){if(_5fb.rangeCount){_5fa=_5fb.getRangeAt(0);}else{_5fa=doc.createRange();}_5fa.setStart(_5f8,0);_5fa.setEnd(_5f8,(_5f8.nodeType==3)?_5f8.length:_5f8.childNodes.length);_5fb.addRange(_5fa);}else{_5fb.selectAllChildren(_5f8);}}else{_5fa=_5f8.ownerDocument.body.createTextRange();_5fa.moveToElementText(_5f8);if(!_5f9){try{_5fa.select();}catch(e){}}}};this.selectElement=function(_5fc,_5fd){var _5fe;_5fc=dom.byId(_5fc);if(doc.getSelection){var _5ff=doc.getSelection();_5fe=doc.createRange();if(_5ff.removeAllRanges){if(has("opera")){if(_5ff.getRangeAt(0)){_5fe=_5ff.getRangeAt(0);}}_5fe.selectNode(_5fc);_5ff.removeAllRanges();_5ff.addRange(_5fe);}}else{try{var tg=_5fc.tagName?_5fc.tagName.toLowerCase():"";if(tg==="img"||tg==="table"){_5fe=_5e7.body(doc).createControlRange();}else{_5fe=_5e7.body(doc).createRange();}_5fe.addElement(_5fc);if(!_5fd){_5fe.select();}}catch(e){this.selectElementChildren(_5fc,_5fd);}}};this.inSelection=function(node){if(node){var _600;var _601;if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.rangeCount>0){_601=sel.getRangeAt(0);}if(_601&&_601.compareBoundaryPoints&&doc.createRange){try{_600=doc.createRange();_600.setStart(node,0);if(_601.compareBoundaryPoints(_601.START_TO_END,_600)===1){return true;}}catch(e){}}}else{_601=doc.selection.createRange();try{_600=node.ownerDocument.body.createTextRange();_600.moveToElementText(node);}catch(e2){}if(_601&&_600){if(_601.compareEndPoints("EndToStart",_600)===1){return true;}}}}return false;};this.getBookmark=function(){var bm,rg,tg,sel=doc.selection,cf=_5e8.curNode;if(doc.getSelection){sel=win.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;};this.moveToBookmark=function(_602){var mark=_602.mark;if(mark){if(doc.getSelection){var sel=win.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(doc.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=doc.body.createControlRange();_5e6.forEach(mark,function(n){rg.addElement(n);});}else{rg=doc.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}};this.isCollapsed=function(){return this.getBookmark().isCollapsed;};};var _603=new _5e9(window);_603.SelectionManager=_5e9;return _603;});},"dijit/_editor/range":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_604,_605,lang){var _606={getIndex:function(node,_607){var ret=[],retR=[];var _608=node;var _609,n;while(node!=_607){var i=0;_609=node.parentNode;while((n=_609.childNodes[i++])){if(n===node){--i;break;}}ret.unshift(i);retR.unshift(i-_609.childNodes.length);node=_609;}if(ret.length>0&&_608.nodeType==3){n=_608.previousSibling;while(n&&n.nodeType==3){ret[ret.length-1]--;n=n.previousSibling;}n=_608.nextSibling;while(n&&n.nodeType==3){retR[retR.length-1]++;n=n.nextSibling;}}return {o:ret,r:retR};},getNode:function(_60a,_60b){if(!lang.isArray(_60a)||_60a.length==0){return _60b;}var node=_60b;_604.every(_60a,function(i){if(i>=0&&i<node.childNodes.length){node=node.childNodes[i];}else{node=null;return false;}return true;});return node;},getCommonAncestor:function(n1,n2,root){root=root||n1.ownerDocument.body;var _60c=function(n){var as=[];while(n){as.unshift(n);if(n!==root){n=n.parentNode;}else{break;}}return as;};var n1as=_60c(n1);var n2as=_60c(n2);var m=Math.min(n1as.length,n2as.length);var com=n1as[0];for(var i=1;i<m;i++){if(n1as[i]===n2as[i]){com=n1as[i];}else{break;}}return com;},getAncestor:function(node,_60d,root){root=root||node.ownerDocument.body;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(_60d.test(name)){return node;}node=node.parentNode;}return null;},BlockTagNames:/^(?:P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DT|DE)$/,getBlockAncestor:function(node,_60e,root){root=root||node.ownerDocument.body;_60e=_60e||_606.BlockTagNames;var _60f=null,_610;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(!_60f&&_60e.test(name)){_60f=node;}if(!_610&&(/^(?:BODY|TD|TH|CAPTION)$/).test(name)){_610=node;}node=node.parentNode;}return {blockNode:_60f,blockContainer:_610||node.ownerDocument.body};},atBeginningOfContainer:function(_611,node,_612){var _613=false;var _614=(_612==0);if(!_614&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(0,_612))){_614=true;}}if(_614){var _615=node;_613=true;while(_615&&_615!==_611){if(_615.previousSibling){_613=false;break;}_615=_615.parentNode;}}return _613;},atEndOfContainer:function(_616,node,_617){var _618=false;var _619=(_617==(node.length||node.childNodes.length));if(!_619&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(_617))){_619=true;}}if(_619){var _61a=node;_618=true;while(_61a&&_61a!==_616){if(_61a.nextSibling){_618=false;break;}_61a=_61a.parentNode;}}return _618;},adjacentNoneTextNode:function(_61b,next){var node=_61b;var len=(0-_61b.length)||0;var prop=next?"nextSibling":"previousSibling";while(node){if(node.nodeType!=3){break;}len+=node.length;node=node[prop];}return [node,len];},create:function(win){win=win||window;if(win.getSelection){return win.document.createRange();}else{return new _61c();}},getSelection:function(_61d,_61e){if(_61d.getSelection){return _61d.getSelection();}else{var s=new ie.selection(_61d);if(!_61e){s._getCurrentSelection();}return s;}}};if(!window.getSelection){var ie=_606.ie={cachedSelection:{},selection:function(_61f){this._ranges=[];this.addRange=function(r,_620){this._ranges.push(r);if(!_620){r._select();}this.rangeCount=this._ranges.length;};this.removeAllRanges=function(){this._ranges=[];this.rangeCount=0;};var _621=function(){var r=_61f.document.selection.createRange();var type=_61f.document.selection.type.toUpperCase();if(type=="CONTROL"){return new _61c(ie.decomposeControlRange(r));}else{return new _61c(ie.decomposeTextRange(r));}};this.getRangeAt=function(i){return this._ranges[i];};this._getCurrentSelection=function(){this.removeAllRanges();var r=_621();if(r){this.addRange(r,true);this.isCollapsed=r.collapsed;}else{this.isCollapsed=true;}};},decomposeControlRange:function(_622){var _623=_622.item(0),_624=_622.item(_622.length-1);var _625=_623.parentNode,_626=_624.parentNode;var _627=_606.getIndex(_623,_625).o[0];var _628=_606.getIndex(_624,_626).o[0]+1;return [_625,_627,_626,_628];},getEndPoint:function(_629,end){var _62a=_629.duplicate();_62a.collapse(!end);var _62b="EndTo"+(end?"End":"Start");var _62c=_62a.parentElement();var _62d,_62e,_62f;if(_62c.childNodes.length>0){_604.every(_62c.childNodes,function(node,i){var _630;if(node.nodeType!=3){_62a.moveToElementText(node);if(_62a.compareEndPoints(_62b,_629)>0){if(_62f&&_62f.nodeType==3){_62d=_62f;_630=true;}else{_62d=_62c;_62e=i;return false;}}else{if(i==_62c.childNodes.length-1){_62d=_62c;_62e=_62c.childNodes.length;return false;}}}else{if(i==_62c.childNodes.length-1){_62d=node;_630=true;}}if(_630&&_62d){var _631=_606.adjacentNoneTextNode(_62d)[0];if(_631){_62d=_631.nextSibling;}else{_62d=_62c.firstChild;}var _632=_606.adjacentNoneTextNode(_62d);_631=_632[0];var _633=_632[1];if(_631){_62a.moveToElementText(_631);_62a.collapse(false);}else{_62a.moveToElementText(_62c);}_62a.setEndPoint(_62b,_629);_62e=_62a.text.length-_633;return false;}_62f=node;return true;});}else{_62d=_62c;_62e=0;}if(!end&&_62d.nodeType==1&&_62e==_62d.childNodes.length){var _634=_62d.nextSibling;if(_634&&_634.nodeType==3){_62d=_634;_62e=0;}}return [_62d,_62e];},setEndPoint:function(_635,_636,_637){var _638=_635.duplicate(),node,len;if(_636.nodeType!=3){if(_637>0){node=_636.childNodes[_637-1];if(node){if(node.nodeType==3){_636=node;_637=node.length;}else{if(node.nextSibling&&node.nextSibling.nodeType==3){_636=node.nextSibling;_637=0;}else{_638.moveToElementText(node.nextSibling?node:_636);var _639=node.parentNode;var _63a=_639.insertBefore(node.ownerDocument.createTextNode(" "),node.nextSibling);_638.collapse(false);_639.removeChild(_63a);}}}}else{_638.moveToElementText(_636);_638.collapse(true);}}if(_636.nodeType==3){var _63b=_606.adjacentNoneTextNode(_636);var _63c=_63b[0];len=_63b[1];if(_63c){_638.moveToElementText(_63c);_638.collapse(false);if(_63c.contentEditable!="inherit"){len++;}}else{_638.moveToElementText(_636.parentNode);_638.collapse(true);_638.move("character",1);_638.move("character",-1);}_637+=len;if(_637>0){if(_638.move("character",_637)!=_637){console.error("Error when moving!");}}}return _638;},decomposeTextRange:function(_63d){var _63e=ie.getEndPoint(_63d);var _63f=_63e[0],_640=_63e[1];var _641=_63e[0],_642=_63e[1];if(_63d.htmlText.length){if(_63d.htmlText==_63d.text){_642=_640+_63d.text.length;}else{_63e=ie.getEndPoint(_63d,true);_641=_63e[0],_642=_63e[1];}}return [_63f,_640,_641,_642];},setRange:function(_643,_644,_645,_646,_647,_648){var _649=ie.setEndPoint(_643,_644,_645);_643.setEndPoint("StartToStart",_649);if(!_648){var end=ie.setEndPoint(_643,_646,_647);}_643.setEndPoint("EndToEnd",end||_649);return _643;}};var _61c=_606.W3CRange=_605(null,{constructor:function(){if(arguments.length>0){this.setStart(arguments[0][0],arguments[0][1]);this.setEnd(arguments[0][2],arguments[0][3]);}else{this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}},_updateInternal:function(){if(this.startContainer!==this.endContainer){this.commonAncestorContainer=_606.getCommonAncestor(this.startContainer,this.endContainer);}else{this.commonAncestorContainer=this.startContainer;}this.collapsed=(this.startContainer===this.endContainer)&&(this.startOffset==this.endOffset);},setStart:function(node,_64a){_64a=parseInt(_64a);if(this.startContainer===node&&this.startOffset==_64a){return;}delete this._cachedBookmark;this.startContainer=node;this.startOffset=_64a;if(!this.endContainer){this.setEnd(node,_64a);}else{this._updateInternal();}},setEnd:function(node,_64b){_64b=parseInt(_64b);if(this.endContainer===node&&this.endOffset==_64b){return;}delete this._cachedBookmark;this.endContainer=node;this.endOffset=_64b;if(!this.startContainer){this.setStart(node,_64b);}else{this._updateInternal();}},setStartAfter:function(node,_64c){this._setPoint("setStart",node,_64c,1);},setStartBefore:function(node,_64d){this._setPoint("setStart",node,_64d,0);},setEndAfter:function(node,_64e){this._setPoint("setEnd",node,_64e,1);},setEndBefore:function(node,_64f){this._setPoint("setEnd",node,_64f,0);},_setPoint:function(what,node,_650,ext){var _651=_606.getIndex(node,node.parentNode).o;this[what](node.parentNode,_651.pop()+ext);},_getIERange:function(){var r=(this._body||this.endContainer.ownerDocument.body).createTextRange();ie.setRange(r,this.startContainer,this.startOffset,this.endContainer,this.endOffset,this.collapsed);return r;},getBookmark:function(){this._getIERange();return this._cachedBookmark;},_select:function(){var r=this._getIERange();r.select();},deleteContents:function(){var s=this.startContainer,r=this._getIERange();if(s.nodeType===3&&!this.startOffset){this.setStartBefore(s);}r.pasteHTML("");this.endContainer=this.startContainer;this.endOffset=this.startOffset;this.collapsed=true;},cloneRange:function(){var r=new _61c([this.startContainer,this.startOffset,this.endContainer,this.endOffset]);r._body=this._body;return r;},detach:function(){this._body=null;this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}});}lang.setObject("dijit.range",_606);return _606;});},"dijit/_editor/html":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/sniff"],function(_652,lang,has){var _653={};lang.setObject("dijit._editor.html",_653);var _654=_653.escapeXml=function(str,_655){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_655){str=str.replace(/'/gm,"&#39;");}return str;};_653.getNodeHtml=function(node){var _656=[];_653.getNodeHtmlHelper(node,_656);return _656.join("");};_653.getNodeHtmlHelper=function(node,_657){switch(node.nodeType){case 1:var _658=node.nodeName.toLowerCase();if(!_658||_658.charAt(0)=="/"){return "";}_657.push("<",_658);var _659=[],_65a={};var attr;if(has("dom-attributes-explicit")||has("dom-attributes-specified-flag")){var i=0;while((attr=node.attributes[i++])){var n=attr.name;if(n.substr(0,3)!=="_dj"&&(!has("dom-attributes-specified-flag")||attr.specified)&&!(n in _65a)){var v=attr.value;if(n=="src"||n=="href"){if(node.getAttribute("_djrealurl")){v=node.getAttribute("_djrealurl");}}if(has("ie")===8&&n==="style"){v=v.replace("HEIGHT:","height:").replace("WIDTH:","width:");}_659.push([n,v]);_65a[n]=v;}}}else{var _65b=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false);var s=_65b.outerHTML;var _65c=/[\w-]+=("[^"]*"|'[^']*'|\S*)/gi;var _65d=s.match(_65c);s=s.substr(0,s.indexOf(">"));_652.forEach(_65d,function(attr){if(attr){var idx=attr.indexOf("=");if(idx>0){var key=attr.substring(0,idx);if(key.substr(0,3)!="_dj"){if(key=="src"||key=="href"){if(node.getAttribute("_djrealurl")){_659.push([key,node.getAttribute("_djrealurl")]);return;}}var val,_65e;switch(key){case "style":val=node.style.cssText.toLowerCase();break;case "class":val=node.className;break;case "width":if(_658==="img"){_65e=/width=(\S+)/i.exec(s);if(_65e){val=_65e[1];}break;}case "height":if(_658==="img"){_65e=/height=(\S+)/i.exec(s);if(_65e){val=_65e[1];}break;}default:val=node.getAttribute(key);}if(val!=null){_659.push([key,val.toString()]);}}}}},this);}_659.sort(function(a,b){return a[0]<b[0]?-1:(a[0]==b[0]?0:1);});var j=0;while((attr=_659[j++])){_657.push(" ",attr[0],"=\"",(typeof attr[1]==="string"?_654(attr[1],true):attr[1]),"\"");}switch(_658){case "br":case "hr":case "img":case "input":case "base":case "meta":case "area":case "basefont":_657.push(" />");break;case "script":_657.push(">",node.innerHTML,"</",_658,">");break;default:_657.push(">");if(node.hasChildNodes()){_653.getChildrenHtmlHelper(node,_657);}_657.push("</",_658,">");}break;case 4:case 3:_657.push(_654(node.nodeValue,true));break;case 8:_657.push("<!--",_654(node.nodeValue,true),"-->");break;default:_657.push("<!-- Element not recognized - Type: ",node.nodeType," Name: ",node.nodeName,"-->");}};_653.getChildrenHtml=function(node){var _65f=[];_653.getChildrenHtmlHelper(node,_65f);return _65f.join("");};_653.getChildrenHtmlHelper=function(dom,_660){if(!dom){return;}var _661=dom["childNodes"]||dom;var _662=!has("ie")||_661!==dom;var node,i=0;while((node=_661[i++])){if(!_662||node.parentNode==dom){_653.getNodeHtmlHelper(node,_660);}}};return _653;});},"dijit/_editor/plugins/FullScreen":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","../../focus","../_Plugin","../../form/ToggleButton","../../registry","dojo/i18n!../nls/commands"],function(_663,_664,_665,_666,_667,i18n,keys,lang,on,has,win,_668,_669,_66a,_66b,_66c){var _66d=_664("dijit._editor.plugins.FullScreen",_66a,{zIndex:500,_origState:null,_origiFrameState:null,_resizeHandle:null,isFullscreen:false,toggle:function(){this.button.set("checked",!this.button.get("checked"));},_initButton:function(){var _66e=i18n.getLocalization("dijit._editor","commands"),_66f=this.editor;this.button=new _66b({label:_66e["fullScreen"],ownerDocument:_66f.ownerDocument,dir:_66f.dir,lang:_66f.lang,showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"FullScreen",tabIndex:"-1",onChange:lang.hitch(this,"_setFullScreen")});},setEditor:function(_670){this.editor=_670;this._initButton();this.editor.addKeyHandler(keys.F11,true,true,lang.hitch(this,function(e){this.toggle();e.stopPropagation();e.preventDefault();this.editor.defer("focus",250);return true;}));this.own(on(this.editor.domNode,"keydown",lang.hitch(this,"_containFocus")));},_containFocus:function(e){if(this.isFullscreen){var ed=this.editor;if(!ed.isTabIndent&&ed._fullscreen_oldOnKeyDown&&e.keyCode===keys.TAB){var f=_669.curNode;var avn=this._getAltViewNode();if(f==ed.iframe||(avn&&f===avn)){setTimeout(lang.hitch(this,function(){ed.toolbar.focus();}),10);}else{if(avn&&_667.get(ed.iframe,"display")==="none"){setTimeout(lang.hitch(this,function(){_669.focus(avn);}),10);}else{setTimeout(lang.hitch(this,function(){ed.focus();}),10);}}event.stopPropagation();event.preventDefault();}else{if(ed._fullscreen_oldOnKeyDown){ed._fullscreen_oldOnKeyDown(e);}}}},_resizeEditor:function(){var vp=_668.getBox(this.editor.ownerDocument);_666.setMarginBox(this.editor.domNode,{w:vp.w,h:vp.h});var _671=this.editor.getHeaderHeight();var _672=this.editor.getFooterHeight();var _673=_666.getPadBorderExtents(this.editor.domNode);var _674=_666.getPadBorderExtents(this.editor.iframe.parentNode);var _675=_666.getMarginExtents(this.editor.iframe.parentNode);var _676=vp.h-(_671+_673.h+_672);_666.setMarginBox(this.editor.iframe.parentNode,{h:_676,w:vp.w});_666.setMarginBox(this.editor.iframe,{h:_676-(_674.h+_675.h)});},_getAltViewNode:function(){},_setFullScreen:function(full){var ed=this.editor;var body=ed.ownerDocumentBody;var _677=ed.domNode.parentNode;var vp=_668.getBox(ed.ownerDocument);this.isFullscreen=full;if(full){while(_677&&_677!==body){_665.add(_677,"dijitForceStatic");_677=_677.parentNode;}this._editorResizeHolder=this.editor.resize;ed.resize=function(){};ed._fullscreen_oldOnKeyDown=ed.onKeyDown;ed.onKeyDown=lang.hitch(this,this._containFocus);this._origState={};this._origiFrameState={};var _678=ed.domNode,_679=_678&&_678.style||{};this._origState={width:_679.width||"",height:_679.height||"",top:_667.get(_678,"top")||"",left:_667.get(_678,"left")||"",position:_667.get(_678,"position")||"static",marginBox:_666.getMarginBox(ed.domNode)};var _67a=ed.iframe,_67b=_67a&&_67a.style||{};var bc=_667.get(ed.iframe,"backgroundColor");this._origiFrameState={backgroundColor:bc||"transparent",width:_67b.width||"auto",height:_67b.height||"auto",zIndex:_67b.zIndex||""};_667.set(ed.domNode,{position:"absolute",top:"0px",left:"0px",zIndex:this.zIndex,width:vp.w+"px",height:vp.h+"px"});_667.set(ed.iframe,{height:"100%",width:"100%",zIndex:this.zIndex,backgroundColor:bc!=="transparent"&&bc!=="rgba(0, 0, 0, 0)"?bc:"white"});_667.set(ed.iframe.parentNode,{height:"95%",width:"100%"});if(body.style&&body.style.overflow){this._oldOverflow=_667.get(body,"overflow");}else{this._oldOverflow="";}if(has("ie")&&!has("quirks")){if(body.parentNode&&body.parentNode.style&&body.parentNode.style.overflow){this._oldBodyParentOverflow=body.parentNode.style.overflow;}else{try{this._oldBodyParentOverflow=_667.get(body.parentNode,"overflow");}catch(e){this._oldBodyParentOverflow="scroll";}}_667.set(body.parentNode,"overflow","hidden");}_667.set(body,"overflow","hidden");var _67c=function(){var vp=_668.getBox(ed.ownerDocument);if("_prevW" in this&&"_prevH" in this){if(vp.w===this._prevW&&vp.h===this._prevH){return;}}else{this._prevW=vp.w;this._prevH=vp.h;}if(this._resizer){clearTimeout(this._resizer);delete this._resizer;}this._resizer=setTimeout(lang.hitch(this,function(){delete this._resizer;this._resizeEditor();}),10);};this._resizeHandle=on(window,"resize",lang.hitch(this,_67c));this._resizeHandle2=_663.after(ed,"onResize",lang.hitch(this,function(){if(this._resizer){clearTimeout(this._resizer);delete this._resizer;}this._resizer=setTimeout(lang.hitch(this,function(){delete this._resizer;this._resizeEditor();}),10);}));this._resizeEditor();var dn=this.editor.toolbar.domNode;setTimeout(function(){_668.scrollIntoView(dn);},250);}else{if(this._resizeHandle){this._resizeHandle.remove();this._resizeHandle=null;}if(this._resizeHandle2){this._resizeHandle2.remove();this._resizeHandle2=null;}if(this._rst){clearTimeout(this._rst);this._rst=null;}while(_677&&_677!==body){_665.remove(_677,"dijitForceStatic");_677=_677.parentNode;}if(this._editorResizeHolder){this.editor.resize=this._editorResizeHolder;}if(!this._origState&&!this._origiFrameState){return;}if(ed._fullscreen_oldOnKeyDown){ed.onKeyDown=ed._fullscreen_oldOnKeyDown;delete ed._fullscreen_oldOnKeyDown;}var self=this;setTimeout(function(){var mb=self._origState.marginBox;var oh=self._origState.height;if(has("ie")&&!has("quirks")){body.parentNode.style.overflow=self._oldBodyParentOverflow;delete self._oldBodyParentOverflow;}_667.set(body,"overflow",self._oldOverflow);delete self._oldOverflow;_667.set(ed.domNode,self._origState);_667.set(ed.iframe.parentNode,{height:"",width:""});_667.set(ed.iframe,self._origiFrameState);delete self._origState;delete self._origiFrameState;var _67d=_66c.getEnclosingWidget(ed.domNode.parentNode);if(_67d&&_67d.resize){_67d.resize();}else{if(!oh||oh.indexOf("%")<0){setTimeout(lang.hitch(this,function(){ed.resize({h:mb.h});}),0);}}_668.scrollIntoView(self.editor.toolbar.domNode);},100);}},updateState:function(){this.button.set("disabled",this.get("disabled"));},destroy:function(){if(this._resizeHandle){this._resizeHandle.remove();this._resizeHandle=null;}if(this._resizeHandle2){this._resizeHandle2.remove();this._resizeHandle2=null;}if(this._resizer){clearTimeout(this._resizer);this._resizer=null;}this.inherited(arguments);}});_66a.registry["fullScreen"]=_66a.registry["fullscreen"]=function(args){return new _66d({zIndex:("zIndex" in args)?args.zIndex:500});};return _66d;});},"dijit/_editor/plugins/LinkDialog":function(){define(["require","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/query","dojo/string","../_Plugin","../../form/DropDownButton","../range"],function(_67e,_67f,_680,keys,lang,on,has,_681,_682,_683,_684,_685){var _686=_67f("dijit._editor.plugins.LinkDialog",_683,{buttonClass:_684,useDefaultCommand:false,urlRegExp:"((https?|ftps?|file)\\://|./|../|/|)(/[a-zA-Z]{1,1}:/|)(((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)*(?:[a-zA-Z](?:[-\\da-zA-Z]{0,80}[\\da-zA-Z])?)\\.?)|(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])|(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]|(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]|(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])|0[xX]0*[\\da-fA-F]{1,8}|([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}|([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])))(\\:\\d+)?(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]{0,}(?:\\?[^?#\\s/]*)?(?:#.*)?)?)?",emailRegExp:"<?(mailto\\:)([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+"+"@"+"((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)|localhost|^[^-][a-zA-Z0-9_-]*>?",htmlTemplate:"<a href=\"${urlInput}\" _djrealurl=\"${urlInput}\""+" target=\"${targetSelect}\""+">${textInput}</a>",tag:"a",_hostRxp:/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,_userAtRxp:/^([!#-'*+\-\/-9=?A-Z^-~]+[.])*[!#-'*+\-\/-9=?A-Z^-~]+@/i,linkDialogTemplate:["<table role='presentation'><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='true' "+"id='${id}_urlInput' name='urlInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='true' id='${id}_textInput' "+"name='textInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_targetSelect'>${target}</label>","</td><td>","<select id='${id}_targetSelect' name='targetSelect' data-dojo-type='dijit.form.Select'>","<option selected='selected' value='_self'>${currentWindow}</option>","<option value='_blank'>${newWindow}</option>","<option value='_top'>${topWindow}</option>","<option value='_parent'>${parentWindow}</option>","</select>","</td></tr><tr><td colspan='2'>","<button data-dojo-type='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button data-dojo-type='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),_initButton:function(){this.inherited(arguments);this.button.loadDropDown=lang.hitch(this,"_loadDropDown");this._connectTagEvents();},_loadDropDown:function(_687){_67e(["dojo/i18n","../../TooltipDialog","../../registry","../../form/Button","../../form/Select","../../form/ValidationTextBox","dojo/i18n!../../nls/common","dojo/i18n!../nls/LinkDialog"],lang.hitch(this,function(i18n,_688,_689){var _68a=this;this.tag=this.command=="insertImage"?"img":"a";var _68b=lang.delegate(i18n.getLocalization("dijit","common",this.lang),i18n.getLocalization("dijit._editor","LinkDialog",this.lang));var _68c=(this.dropDown=this.button.dropDown=new _688({title:_68b[this.command+"Title"],ownerDocument:this.editor.ownerDocument,dir:this.editor.dir,execute:lang.hitch(this,"setValue"),onOpen:function(){_68a._onOpenDialog();_688.prototype.onOpen.apply(this,arguments);},onCancel:function(){setTimeout(lang.hitch(_68a,"_onCloseDialog"),0);}}));_68b.urlRegExp=this.urlRegExp;_68b.id=_689.getUniqueId(this.editor.id);this._uniqueId=_68b.id;this._setContent(_68c.title+"<div style='border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'></div>"+_682.substitute(this.linkDialogTemplate,_68b));_68c.startup();this._urlInput=_689.byId(this._uniqueId+"_urlInput");this._textInput=_689.byId(this._uniqueId+"_textInput");this._setButton=_689.byId(this._uniqueId+"_setButton");this.own(_689.byId(this._uniqueId+"_cancelButton").on("click",lang.hitch(this.dropDown,"onCancel")));if(this._urlInput){this.own(this._urlInput.on("change",lang.hitch(this,"_checkAndFixInput")));}if(this._textInput){this.own(this._textInput.on("change",lang.hitch(this,"_checkAndFixInput")));}this._urlRegExp=new RegExp("^"+this.urlRegExp+"$","i");this._emailRegExp=new RegExp("^"+this.emailRegExp+"$","i");this._urlInput.isValid=lang.hitch(this,function(){var _68d=this._urlInput.get("value");return this._urlRegExp.test(_68d)||this._emailRegExp.test(_68d);});this.own(on(_68c.domNode,"keydown",lang.hitch(this,lang.hitch(this,function(e){if(e&&e.keyCode==keys.ENTER&&!e.shiftKey&&!e.metaKey&&!e.ctrlKey&&!e.altKey){if(!this._setButton.get("disabled")){_68c.onExecute();_68c.execute(_68c.get("value"));}}}))));_687();}));},_checkAndFixInput:function(){var self=this;var url=this._urlInput.get("value");var _68e=function(url){var _68f=false;var _690=false;if(url&&url.length>1){url=lang.trim(url);if(url.indexOf("mailto:")!==0){if(url.indexOf("/")>0){if(url.indexOf("://")===-1){if(url.charAt(0)!=="/"&&url.indexOf("./")&&url.indexOf("../")!==0){if(self._hostRxp.test(url)){_68f=true;}}}}else{if(self._userAtRxp.test(url)){_690=true;}}}}if(_68f){self._urlInput.set("value","http://"+url);}if(_690){self._urlInput.set("value","mailto:"+url);}self._setButton.set("disabled",!self._isValid());};if(this._delayedCheck){clearTimeout(this._delayedCheck);this._delayedCheck=null;}this._delayedCheck=setTimeout(function(){_68e(url);},250);},_connectTagEvents:function(){this.editor.onLoadDeferred.then(lang.hitch(this,function(){this.own(on(this.editor.editNode,"dblclick",lang.hitch(this,"_onDblClick")));}));},_isValid:function(){return this._urlInput.isValid()&&this._textInput.isValid();},_setContent:function(_691){this.dropDown.set({parserScope:"dojo",content:_691});},_checkValues:function(args){if(args&&args.urlInput){args.urlInput=args.urlInput.replace(/"/g,"&quot;");}return args;},setValue:function(args){this._onCloseDialog();if(has("ie")<9){var sel=_685.getSelection(this.editor.window);var _692=sel.getRangeAt(0);var a=_692.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){a=this.editor.selection.getSelectedElement(this.tag);}if(a&&(a.nodeName&&a.nodeName.toLowerCase()===this.tag)){if(this.editor.queryCommandEnabled("unlink")){this.editor.selection.selectElementChildren(a);this.editor.execCommand("unlink");}}}args=this._checkValues(args);this.editor.execCommand("inserthtml",_682.substitute(this.htmlTemplate,args));_681("a",this.editor.document).forEach(function(a){if(!a.innerHTML&&!_680.has(a,"name")){a.parentNode.removeChild(a);}},this);},_onCloseDialog:function(){if(this.editor.focused){this.editor.focus();}},_getCurrentValues:function(a){var url,text,_693;if(a&&a.tagName.toLowerCase()===this.tag){url=a.getAttribute("_djrealurl")||a.getAttribute("href");_693=a.getAttribute("target")||"_self";text=a.textContent||a.innerText;this.editor.selection.selectElement(a,true);}else{text=this.editor.selection.getSelectedText();}return {urlInput:url||"",textInput:text||"",targetSelect:_693||""};},_onOpenDialog:function(){var a,b,fc;if(has("ie")){var sel=_685.getSelection(this.editor.window);if(sel.rangeCount){var _694=sel.getRangeAt(0);a=_694.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){a=this.editor.selection.getSelectedElement(this.tag);}if(!a||(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){b=this.editor.selection.getAncestorElement(this.tag);if(b&&(b.nodeName&&b.nodeName.toLowerCase()==this.tag)){a=b;this.editor.selection.selectElement(a);}else{if(_694.startContainer===_694.endContainer){fc=_694.startContainer.firstChild;if(fc&&(fc.nodeName&&fc.nodeName.toLowerCase()==this.tag)){a=fc;this.editor.selection.selectElement(a);}}}}}}else{a=this.editor.selection.getAncestorElement(this.tag);}this.dropDown.reset();this._setButton.set("disabled",true);this.dropDown.set("value",this._getCurrentValues(a));},_onDblClick:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag&&_680.get(t,"href")){var _695=this.editor;this.editor.selection.selectElement(t);_695.onDisplayChanged();if(_695._updateTimer){_695._updateTimer.remove();delete _695._updateTimer;}_695.onNormalizedDisplayChanged();var _696=this.button;setTimeout(function(){_696.set("disabled",false);_696.loadAndOpenDropDown().then(function(){if(_696.dropDown.focus){_696.dropDown.focus();}});},10);}}}});var _697=_67f("dijit._editor.plugins.ImgLinkDialog",[_686],{linkDialogTemplate:["<table role='presentation'><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' regExp='${urlRegExp}' "+"required='true' id='${id}_urlInput' name='urlInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='false' id='${id}_textInput' "+"name='textInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","</td><td>","</td></tr><tr><td colspan='2'>","<button data-dojo-type='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button data-dojo-type='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),htmlTemplate:"<img src=\"${urlInput}\" _djrealurl=\"${urlInput}\" alt=\"${textInput}\" />",tag:"img",_getCurrentValues:function(img){var url,text;if(img&&img.tagName.toLowerCase()===this.tag){url=img.getAttribute("_djrealurl")||img.getAttribute("src");text=img.getAttribute("alt");this.editor.selection.selectElement(img,true);}else{text=this.editor.selection.getSelectedText();}return {urlInput:url||"",textInput:text||""};},_isValid:function(){return this._urlInput.isValid();},_connectTagEvents:function(){this.inherited(arguments);this.editor.onLoadDeferred.then(lang.hitch(this,function(){this.own(on(this.editor.editNode,"mousedown",lang.hitch(this,"_selectTag")));}));},_selectTag:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag){this.editor.selection.selectElement(t);}}},_checkValues:function(args){if(args&&args.urlInput){args.urlInput=args.urlInput.replace(/"/g,"&quot;");}if(args&&args.textInput){args.textInput=args.textInput.replace(/"/g,"&quot;");}return args;},_onDblClick:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag&&_680.get(t,"src")){var _698=this.editor;this.editor.selection.selectElement(t);_698.onDisplayChanged();if(_698._updateTimer){_698._updateTimer.remove();delete _698._updateTimer;}_698.onNormalizedDisplayChanged();var _699=this.button;setTimeout(function(){_699.set("disabled",false);_699.loadAndOpenDropDown().then(function(){if(_699.dropDown.focus){_699.dropDown.focus();}});},10);}}}});_683.registry["createLink"]=function(){return new _686({command:"createLink"});};_683.registry["insertImage"]=function(){return new _697({command:"insertImage"});};_686.ImgLinkDialog=_697;return _686;});},"dijit/form/DropDownButton":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(_69a,lang,_69b,_69c,_69d,_69e,_69f,_6a0,_6a1){return _69a("dijit.form.DropDownButton",[_69e,_69f,_6a0],{baseClass:"dijitDropDownButton",templateString:_6a1,_fillContent:function(){if(this.srcNodeRef){var _6a2=_69b("*",this.srcNodeRef);this.inherited(arguments,[_6a2[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _6a3=_69b("[widgetId]",this.dropDownContainer)[0];if(_6a3){this.dropDown=_69c.byNode(_6a3);}delete this.dropDownContainer;}if(this.dropDown){_69d.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _6a4=this.dropDown;return (!!_6a4&&(!_6a4.href||_6a4.isLoaded));},loadDropDown:function(_6a5){var _6a6=this.dropDown;var _6a7=_6a6.on("load",lang.hitch(this,function(){_6a7.remove();_6a5();}));_6a6.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/popup":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main"],function(_6a8,_6a9,_6aa,dom,_6ab,_6ac,_6ad,_6ae,has,keys,lang,on,_6af,_6b0,_6b1,_6b2){function _6b3(){if(this._popupWrapper){_6ac.destroy(this._popupWrapper);delete this._popupWrapper;}};var _6b4=_6aa(null,{_stack:[],_beginZIndex:1000,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var _6b5=this._firstAroundPosition,_6b6=_6ad.position(this._firstAroundNode,true),dx=_6b6.x-_6b5.x,dy=_6b6.y-_6b5.y;if(dx||dy){this._firstAroundPosition=_6b6;for(var i=0;i<this._stack.length;i++){var _6b7=this._stack[i].wrapper.style;_6b7.top=(parseInt(_6b7.top,10)+dy)+"px";if(_6b7.right=="auto"){_6b7.left=(parseInt(_6b7.left,10)+dx)+"px";}else{_6b7.right=(parseInt(_6b7.right,10)-dx)+"px";}}}this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),dx||dy?10:50);}},_createWrapper:function(_6b8){var _6b9=_6b8._popupWrapper,node=_6b8.domNode;if(!_6b9){_6b9=_6ac.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_6b8["aria-label"]||_6b8.label||_6b8.name||_6b8.id},_6b8.ownerDocumentBody);_6b9.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_6b8._popupWrapper=_6b9;_6a9.after(_6b8,"destroy",_6b3,true);}return _6b9;},moveOffScreen:function(_6ba){var _6bb=this._createWrapper(_6ba);var ltr=_6ad.isBodyLtr(_6ba.ownerDocument),_6bc={visibility:"hidden",top:"-9999px",display:""};_6bc[ltr?"left":"right"]="-9999px";_6bc[ltr?"right":"left"]="auto";_6ae.set(_6bb,_6bc);return _6bb;},hide:function(_6bd){var _6be=this._createWrapper(_6bd);_6ae.set(_6be,{display:"none",height:"auto",overflow:"visible",border:""});var node=_6bd.domNode;if("_originalStyle" in node){node.style.cssText=node._originalStyle;}},getTopPopup:function(){var _6bf=this._stack;for(var pi=_6bf.length-1;pi>0&&_6bf[pi].parent===_6bf[pi-1].widget;pi--){}return _6bf[pi];},open:function(args){var _6c0=this._stack,_6c1=args.popup,node=_6c1.domNode,_6c2=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_6ad.isBodyLtr(_6c1.ownerDocument),_6c3=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_6c0.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_6c0[_6c0.length-1].widget.domNode))){this.close(_6c0[_6c0.length-1].widget);}var _6c4=this.moveOffScreen(_6c1);if(_6c1.startup&&!_6c1._started){_6c1.startup();}var _6c5,_6c6=_6ad.position(node);if("maxHeight" in args&&args.maxHeight!=-1){_6c5=args.maxHeight||Infinity;}else{var _6c7=_6b1.getEffectiveBox(this.ownerDocument),_6c8=_6c3?_6ad.position(_6c3,false):{y:args.y-(args.padding||0),h:(args.padding||0)*2};_6c5=Math.floor(Math.max(_6c8.y,_6c7.h-(_6c8.y+_6c8.h)));}if(_6c6.h>_6c5){var cs=_6ae.getComputedStyle(node),_6c9=cs.borderLeftWidth+" "+cs.borderLeftStyle+" "+cs.borderLeftColor;_6ae.set(_6c4,{overflowY:"scroll",height:_6c5+"px",border:_6c9});node._originalStyle=node.style.cssText;node.style.border="none";}_6ab.set(_6c4,{id:id,style:{zIndex:this._beginZIndex+_6c0.length},"class":"dijitPopup "+(_6c1.baseClass||_6c1["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(_6c0.length==0&&_6c3){this._firstAroundNode=_6c3;this._firstAroundPosition=_6ad.position(_6c3,true);this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),50);}if(has("config-bgIframe")&&!_6c1.bgIframe){_6c1.bgIframe=new _6b0(_6c4);}var _6ca=_6c1.orient?lang.hitch(_6c1,"orient"):null,best=_6c3?_6af.around(_6c4,_6c3,_6c2,ltr,_6ca):_6af.at(_6c4,args,_6c2=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding,_6ca);_6c4.style.visibility="visible";node.style.visibility="visible";var _6cb=[];_6cb.push(on(_6c4,"keydown",lang.hitch(this,function(evt){if(evt.keyCode==keys.ESCAPE&&args.onCancel){evt.stopPropagation();evt.preventDefault();args.onCancel();}else{if(evt.keyCode==keys.TAB){evt.stopPropagation();evt.preventDefault();var _6cc=this.getTopPopup();if(_6cc&&_6cc.onCancel){_6cc.onCancel();}}}})));if(_6c1.onCancel&&args.onCancel){_6cb.push(_6c1.on("cancel",args.onCancel));}_6cb.push(_6c1.on(_6c1.onExecute?"execute":"change",lang.hitch(this,function(){var _6cd=this.getTopPopup();if(_6cd&&_6cd.onExecute){_6cd.onExecute();}})));_6c0.push({widget:_6c1,wrapper:_6c4,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_6cb});if(_6c1.onOpen){_6c1.onOpen(best);}return best;},close:function(_6ce){var _6cf=this._stack;while((_6ce&&_6a8.some(_6cf,function(elem){return elem.widget==_6ce;}))||(!_6ce&&_6cf.length)){var top=_6cf.pop(),_6d0=top.widget,_6d1=top.onClose;if(_6d0.onClose){_6d0.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_6d0&&_6d0.domNode){this.hide(_6d0);}if(_6d1){_6d1();}}if(_6cf.length==0&&this._aroundMoveListener){clearTimeout(this._aroundMoveListener);this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null;}}});return (_6b2.popup=new _6b4());});},"dijit/place":function(){define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_6d2,_6d3,_6d4,_6d5,win,_6d6,_6d7){function _6d8(node,_6d9,_6da,_6db){var view=_6d6.getEffectiveBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_6d2.some(_6d9,function(_6dc){var _6dd=_6dc.corner;var pos=_6dc.pos;var _6de=0;var _6df={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_6dd.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_6dd.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_6da){var res=_6da(node,_6dc.aroundCorner,_6dd,_6df,_6db);_6de=typeof res=="undefined"?0:res;}var _6e0=node.style;var _6e1=_6e0.display;var _6e2=_6e0.visibility;if(_6e0.display=="none"){_6e0.visibility="hidden";_6e0.display="";}var bb=_6d3.position(node);_6e0.display=_6e1;_6e0.visibility=_6e2;var _6e3={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_6dd.charAt(1)],_6e4={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_6dd.charAt(0)],_6e5=Math.max(view.l,_6e3),_6e6=Math.max(view.t,_6e4),endX=Math.min(view.l+view.w,_6e3+bb.w),endY=Math.min(view.t+view.h,_6e4+bb.h),_6e7=endX-_6e5,_6e8=endY-_6e6;_6de+=(bb.w-_6e7)+(bb.h-_6e8);if(best==null||_6de<best.overflow){best={corner:_6dd,aroundCorner:_6dc.aroundCorner,x:_6e5,y:_6e6,w:_6e7,h:_6e8,overflow:_6de,spaceAvailable:_6df};}return !_6de;});if(best.overflow&&_6da){_6da(node,best.aroundCorner,best.corner,best.spaceAvailable,_6db);}var l=_6d3.isBodyLtr(node.ownerDocument),top=best.y,side=l?best.x:view.w-best.x-best.w;if(/relative|absolute/.test(_6d4.get(win.body(node.ownerDocument),"position"))){top-=_6d4.get(win.body(node.ownerDocument),"marginTop");side-=(l?1:-1)*_6d4.get(win.body(node.ownerDocument),l?"marginLeft":"marginRight");}var s=node.style;s.top=top+"px";s[l?"left":"right"]=side+"px";s[l?"right":"left"]="auto";return best;};var _6e9={"TL":"BR","TR":"BL","BL":"TR","BR":"TL"};var _6ea={at:function(node,pos,_6eb,_6ec,_6ed){var _6ee=_6d2.map(_6eb,function(_6ef){var c={corner:_6ef,aroundCorner:_6e9[_6ef],pos:{x:pos.x,y:pos.y}};if(_6ec){c.pos.x+=_6ef.charAt(1)=="L"?_6ec.x:-_6ec.x;c.pos.y+=_6ef.charAt(0)=="T"?_6ec.y:-_6ec.y;}return c;});return _6d8(node,_6ee,_6ed);},around:function(node,_6f0,_6f1,_6f2,_6f3){var _6f4;if(typeof _6f0=="string"||"offsetWidth" in _6f0){_6f4=_6d3.position(_6f0,true);if(/^(above|below)/.test(_6f1[0])){var _6f5=_6d3.getBorderExtents(_6f0),_6f6=_6f0.firstChild?_6d3.getBorderExtents(_6f0.firstChild):{t:0,l:0,b:0,r:0},_6f7=_6d3.getBorderExtents(node),_6f8=node.firstChild?_6d3.getBorderExtents(node.firstChild):{t:0,l:0,b:0,r:0};_6f4.y+=Math.min(_6f5.t+_6f6.t,_6f7.t+_6f8.t);_6f4.h-=Math.min(_6f5.t+_6f6.t,_6f7.t+_6f8.t)+Math.min(_6f5.b+_6f6.b,_6f7.b+_6f8.b);}}else{_6f4=_6f0;}if(_6f0.parentNode){var _6f9=_6d4.getComputedStyle(_6f0).position=="absolute";var _6fa=_6f0.parentNode;while(_6fa&&_6fa.nodeType==1&&_6fa.nodeName!="BODY"){var _6fb=_6d3.position(_6fa,true),pcs=_6d4.getComputedStyle(_6fa);if(/relative|absolute/.test(pcs.position)){_6f9=false;}if(!_6f9&&/hidden|auto|scroll/.test(pcs.overflow)){var _6fc=Math.min(_6f4.y+_6f4.h,_6fb.y+_6fb.h);var _6fd=Math.min(_6f4.x+_6f4.w,_6fb.x+_6fb.w);_6f4.x=Math.max(_6f4.x,_6fb.x);_6f4.y=Math.max(_6f4.y,_6fb.y);_6f4.h=_6fc-_6f4.y;_6f4.w=_6fd-_6f4.x;}if(pcs.position=="absolute"){_6f9=true;}_6fa=_6fa.parentNode;}}var x=_6f4.x,y=_6f4.y,_6fe="w" in _6f4?_6f4.w:(_6f4.w=_6f4.width),_6ff="h" in _6f4?_6f4.h:(_6d5.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_6f4.height+", width:"+_6fe+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_6f4.height+", w:"+_6fe+" }","","2.0"),_6f4.h=_6f4.height);var _700=[];function push(_701,_702){_700.push({aroundCorner:_701,corner:_702,pos:{x:{"L":x,"R":x+_6fe,"M":x+(_6fe>>1)}[_701.charAt(1)],y:{"T":y,"B":y+_6ff,"M":y+(_6ff>>1)}[_701.charAt(0)]}});};_6d2.forEach(_6f1,function(pos){var ltr=_6f2;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _703=_6d8(node,_700,_6f3,{w:_6fe,h:_6ff});_703.aroundNodePos=_6f4;return _703;}};return _6d7.place=_6ea;});},"dijit/BackgroundIframe":function(){define(["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(_704,_705,_706,_707,_708,lang,on,has){has.add("config-bgIframe",!has("touch"));var _709=new function(){var _70a=[];this.pop=function(){var _70b;if(_70a.length){_70b=_70a.pop();_70b.style.display="";}else{if(has("ie")<9){var burl=_706["dojoBlankHtmlUrl"]||_704.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_70b=document.createElement(html);}else{_70b=_707.create("iframe");_70b.src="javascript:\"\"";_70b.className="dijitBackgroundIframe";_70b.setAttribute("role","presentation");_708.set(_70b,"opacity",0.1);}_70b.tabIndex=-1;}return _70b;};this.push=function(_70c){_70c.style.display="none";_70a.push(_70c);};}();_705.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("config-bgIframe")){var _70d=(this.iframe=_709.pop());node.appendChild(_70d);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,"resize",node));}else{_708.set(_70d,{width:"100%",height:"100%"});}}};lang.extend(_705.BackgroundIframe,{resize:function(node){if(this.iframe){_708.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){_709.push(this.iframe);delete this.iframe;}}});return _705.BackgroundIframe;});},"dijit/_HasDropDown":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(_70e,_70f,dom,_710,_711,_712,_713,has,keys,lang,on,_714,_715,_716,_717,_718){return _70e("dijit._HasDropDown",_718,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}if(e.type!="MSPointerDown"){e.preventDefault();}this._docHandler=this.own(on(this.ownerDocument,_714.release,lang.hitch(this,"_onDropDownMouseUp")))[0];this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this._docHandler.remove();this._docHandler=null;}var _719=this.dropDown,_71a=false;if(e&&this._opened){var c=_712.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_71a){if(_711.contains(t,"dijitPopup")){_71a=true;}else{t=t.parentNode;}}if(_71a){t=e.target;if(_719.onItemClick){var _71b;while(t&&!(_71b=_715.byNode(t))){t=t.parentNode;}if(_71b&&_71b.onClick&&_71b.getParent){_71b.getParent().onItemClick(_71b,e);}}return;}}}if(this._opened){if(_719.focus&&(_719.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){this._focusDropDownTimer=this.defer(function(){_719.focus();delete this._focusDropDownTimer;});}}else{if(this.focus){this.defer("focus");}}},_onDropDownClick:function(e){if(this._stopClickEvents){e.stopPropagation();e.preventDefault();}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _71c={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_711.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_71c+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _71d=this.focusNode||this.domNode;this.own(on(this._buttonNode,_714.press,lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_71d,"keydown",lang.hitch(this,"_onKey")),on(_71d,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this._opened){this.closeDropDown(true);}if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_71e=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){e.stopPropagation();e.preventDefault();return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();e.stopPropagation();e.preventDefault();}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||(e.keyCode==keys.SPACE&&(!this._searchTimer||(e.ctrlKey||e.altKey||e.metaKey))))&&((_71e.tagName||"").toLowerCase()!=="input"||(_71e.type&&_71e.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;e.stopPropagation();e.preventDefault();}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){this.closeDropDown(false);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_71f){_71f();},loadAndOpenDropDown:function(){var d=new _70f(),_720=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_720);}else{_720();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown(true);}},openDropDown:function(){var _721=this.dropDown,_722=_721.domNode,_723=this._aroundNode||this.domNode,self=this;var _724=_717.open({parent:this,popup:_721,around:_723,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_710.set(self._popupStateNode,"popupActive",false);_711.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});if(this.forceWidth||(this.autoWidth&&_723.offsetWidth>_721._popupWrapper.offsetWidth)){var _725={w:_723.offsetWidth-(_721._popupWrapper.offsetWidth-_721.domNode.offsetWidth)};if(lang.isFunction(_721.resize)){_721.resize(_725);}else{_712.setMarginBox(_722,_725);}}_710.set(this._popupStateNode,"popupActive","true");_711.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",_721.id);if(_722.getAttribute("role")!=="presentation"&&!_722.getAttribute("aria-labelledby")){_722.setAttribute("aria-labelledby",this.id);}return _724;},closeDropDown:function(_726){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this._popupStateNode.setAttribute("aria-expanded","false");if(_726&&this.focus){this.focus();}_717.close(this.dropDown);this._opened=false;}}});});},"dijit/_editor/plugins/Print":function(){define(["dojo/_base/declare","dojo/i18n","dojo/_base/lang","dojo/sniff","../../focus","../_Plugin","../../form/Button","dojo/i18n!../nls/commands"],function(_727,i18n,lang,has,_728,_729,_72a){var _72b=_727("dijit._editor.plugins.Print",_729,{_initButton:function(){var _72c=i18n.getLocalization("dijit._editor","commands"),_72d=this.editor;this.button=new _72a({label:_72c["print"],ownerDocument:_72d.ownerDocument,dir:_72d.dir,lang:_72d.lang,showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"Print",tabIndex:"-1",onClick:lang.hitch(this,"_print")});},setEditor:function(_72e){this.editor=_72e;this._initButton();this.editor.onLoadDeferred.then(lang.hitch(this,function(){if(!this.editor.iframe.contentWindow["print"]){this.button.set("disabled",true);}}));},updateState:function(){var _72f=this.get("disabled");if(!this.editor.iframe.contentWindow["print"]){_72f=true;}this.button.set("disabled",_72f);},_print:function(){var _730=this.editor.iframe;if(_730.contentWindow["print"]){if(!has("opera")&&!has("chrome")){_728.focus(_730);_730.contentWindow.print();}else{var _731=this.editor.document;var _732=this.editor.get("value");_732="<html><head><meta http-equiv='Content-Type' "+"content='text/html; charset='UTF-8'></head><body>"+_732+"</body></html>";var win=window.open("javascript: ''","","status=0,menubar=0,location=0,toolbar=0,"+"width=1,height=1,resizable=0,scrollbars=0");win.document.open();win.document.write(_732);win.document.close();var _733=_731.getElementsByTagName("style");if(_733){var i;for(i=0;i<_733.length;i++){var _734=_733[i].innerHTML;var _735=win.document.createElement("style");_735.appendChild(win.document.createTextNode(_734));win.document.getElementsByTagName("head")[0].appendChild(_735);}}win.print();win.close();}}}});_729.registry["print"]=function(){return new _72b({command:"print"});};return _72b;});},"dijit/_editor/plugins/ViewSource":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/window","../../focus","../_Plugin","../../form/ToggleButton","../..","../../registry","dojo/i18n!../nls/commands"],function(_736,_737,_738,_739,_73a,_73b,_73c,i18n,keys,lang,on,has,_73d,_73e,_73f,_740,_741,_742){var _743=_738("dijit._editor.plugins.ViewSource",_73f,{stripScripts:true,stripComments:true,stripIFrames:true,readOnly:false,_fsPlugin:null,toggle:function(){if(has("webkit")){this._vsFocused=true;}this.button.set("checked",!this.button.get("checked"));},_initButton:function(){var _744=i18n.getLocalization("dijit._editor","commands"),_745=this.editor;this.button=new _740({label:_744["viewSource"],ownerDocument:_745.ownerDocument,dir:_745.dir,lang:_745.lang,showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"ViewSource",tabIndex:"-1",onChange:lang.hitch(this,"_showSource")});if(has("ie")==7){this._ieFixNode=_73a.create("div",{style:{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"}},_745.ownerDocumentBody);}this.button.set("readOnly",false);},setEditor:function(_746){this.editor=_746;this._initButton();this.editor.addKeyHandler(keys.F12,true,true,lang.hitch(this,function(e){this.button.focus();this.toggle();e.stopPropagation();e.preventDefault();setTimeout(lang.hitch(this,function(){if(this.editor.focused){this.editor.focus();}}),100);}));},_showSource:function(_747){var ed=this.editor;var _748=ed._plugins;var html;this._sourceShown=_747;var self=this;try{if(!this.sourceArea){this._createSourceView();}if(_747){ed._sourceQueryCommandEnabled=ed.queryCommandEnabled;ed.queryCommandEnabled=function(cmd){return cmd.toLowerCase()==="viewsource";};this.editor.onDisplayChanged();html=ed.get("value");html=this._filter(html);ed.set("value",html);_736.forEach(_748,function(p){if(p&&!(p instanceof _743)&&p.isInstanceOf(_73f)){p.set("disabled",true);}});if(this._fsPlugin){this._fsPlugin._getAltViewNode=function(){return self.sourceArea;};}this.sourceArea.value=html;this.sourceArea.style.height=ed.iframe.style.height;this.sourceArea.style.width=ed.iframe.style.width;_73c.set(ed.iframe,"display","none");_73c.set(this.sourceArea,{display:"block"});var _749=function(){var vp=_73d.getBox(ed.ownerDocument);if("_prevW" in this&&"_prevH" in this){if(vp.w===this._prevW&&vp.h===this._prevH){return;}else{this._prevW=vp.w;this._prevH=vp.h;}}else{this._prevW=vp.w;this._prevH=vp.h;}if(this._resizer){clearTimeout(this._resizer);delete this._resizer;}this._resizer=setTimeout(lang.hitch(this,function(){delete this._resizer;this._resize();}),10);};this._resizeHandle=on(window,"resize",lang.hitch(this,_749));setTimeout(lang.hitch(this,this._resize),100);this.editor.onNormalizedDisplayChanged();this.editor.__oldGetValue=this.editor.getValue;this.editor.getValue=lang.hitch(this,function(){var txt=this.sourceArea.value;txt=this._filter(txt);return txt;});this._setListener=_737.after(this.editor,"setValue",lang.hitch(this,function(_74a){_74a=_74a||"";_74a=this._filter(_74a);this.sourceArea.value=_74a;}),true);}else{if(!ed._sourceQueryCommandEnabled){return;}this._setListener.remove();delete this._setListener;this._resizeHandle.remove();delete this._resizeHandle;if(this.editor.__oldGetValue){this.editor.getValue=this.editor.__oldGetValue;delete this.editor.__oldGetValue;}ed.queryCommandEnabled=ed._sourceQueryCommandEnabled;if(!this._readOnly){html=this.sourceArea.value;html=this._filter(html);ed.beginEditing();ed.set("value",html);ed.endEditing();}_736.forEach(_748,function(p){if(p&&p.isInstanceOf(_73f)){p.set("disabled",false);}});_73c.set(this.sourceArea,"display","none");_73c.set(ed.iframe,"display","block");delete ed._sourceQueryCommandEnabled;this.editor.onDisplayChanged();}setTimeout(lang.hitch(this,function(){var _74b=ed.domNode.parentNode;if(_74b){var _74c=_742.getEnclosingWidget(_74b);if(_74c&&_74c.resize){_74c.resize();}}ed.resize();}),300);}catch(e){}},updateState:function(){this.button.set("disabled",this.get("disabled"));},_resize:function(){var ed=this.editor;var tbH=ed.getHeaderHeight();var fH=ed.getFooterHeight();var eb=_73b.position(ed.domNode);var _74d=_73b.getPadBorderExtents(ed.iframe.parentNode);var _74e=_73b.getMarginExtents(ed.iframe.parentNode);var _74f=_73b.getPadBorderExtents(ed.domNode);var edb={w:eb.w-_74f.w,h:eb.h-(tbH+_74f.h+fH)};if(this._fsPlugin&&this._fsPlugin.isFullscreen){var vp=_73d.getBox(ed.ownerDocument);edb.w=(vp.w-_74f.w);edb.h=(vp.h-(tbH+_74f.h+fH));}if(has("ie")){edb.h-=2;}if(this._ieFixNode){var _750=-this._ieFixNode.offsetTop/1000;edb.w=Math.floor((edb.w+0.9)/_750);edb.h=Math.floor((edb.h+0.9)/_750);}_73b.setMarginBox(this.sourceArea,{w:edb.w-(_74d.w+_74e.w),h:edb.h-(_74d.h+_74e.h)});_73b.setMarginBox(ed.iframe.parentNode,{h:edb.h});},_createSourceView:function(){var ed=this.editor;var _751=ed._plugins;this.sourceArea=_73a.create("textarea");if(this.readOnly){_739.set(this.sourceArea,"readOnly",true);this._readOnly=true;}_73c.set(this.sourceArea,{padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});_739.set(this.sourceArea,"aria-label",this.editor.id);_73a.place(this.sourceArea,ed.iframe,"before");if(has("ie")&&ed.iframe.parentNode.lastChild!==ed.iframe){_73c.set(ed.iframe.parentNode.lastChild,{width:"0px",height:"0px",padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});}ed._viewsource_oldFocus=ed.focus;var self=this;ed.focus=function(){if(self._sourceShown){self.setSourceAreaCaret();}else{try{if(this._vsFocused){delete this._vsFocused;_73e.focus(ed.editNode);}else{ed._viewsource_oldFocus();}}catch(e){}}};var i,p;for(i=0;i<_751.length;i++){p=_751[i];if(p&&(p.declaredClass==="dijit._editor.plugins.FullScreen"||p.declaredClass===(_741._scopeName+"._editor.plugins.FullScreen"))){this._fsPlugin=p;break;}}if(this._fsPlugin){this._fsPlugin._viewsource_getAltViewNode=this._fsPlugin._getAltViewNode;this._fsPlugin._getAltViewNode=function(){return self._sourceShown?self.sourceArea:this._viewsource_getAltViewNode();};}this.own(on(this.sourceArea,"keydown",lang.hitch(this,function(e){if(this._sourceShown&&e.keyCode==keys.F12&&e.ctrlKey&&e.shiftKey){this.button.focus();this.button.set("checked",false);setTimeout(lang.hitch(this,function(){ed.focus();}),100);e.stopPropagation();e.preventDefault();}})));},_stripScripts:function(html){if(html){html=html.replace(/<\s*script[^>]*>((.|\s)*?)<\\?\/\s*script\s*>/ig,"");html=html.replace(/<\s*script\b([^<>]|\s)*>?/ig,"");html=html.replace(/<[^>]*=(\s|)*[("|')]javascript:[^$1][(\s|.)]*[$1][^>]*>/ig,"");}return html;},_stripComments:function(html){if(html){html=html.replace(/<!--(.|\s){1,}?-->/g,"");}return html;},_stripIFrames:function(html){if(html){html=html.replace(/<\s*iframe[^>]*>((.|\s)*?)<\\?\/\s*iframe\s*>/ig,"");}return html;},_filter:function(html){if(html){if(this.stripScripts){html=this._stripScripts(html);}if(this.stripComments){html=this._stripComments(html);}if(this.stripIFrames){html=this._stripIFrames(html);}}return html;},setSourceAreaCaret:function(){var elem=this.sourceArea;_73e.focus(elem);if(this._sourceShown&&!this.readOnly){if(elem.setSelectionRange){elem.setSelectionRange(0,0);}else{if(this.sourceArea.createTextRange){var _752=elem.createTextRange();_752.collapse(true);_752.moveStart("character",-99999);_752.moveStart("character",0);_752.moveEnd("character",0);_752.select();}}}},destroy:function(){if(this._ieFixNode){_73a.destroy(this._ieFixNode);}if(this._resizer){clearTimeout(this._resizer);delete this._resizer;}if(this._resizeHandle){this._resizeHandle.remove();delete this._resizeHandle;}if(this._setListener){this._setListener.remove();delete this._setListener;}this.inherited(arguments);}});_73f.registry["viewSource"]=_73f.registry["viewsource"]=function(args){return new _743({readOnly:("readOnly" in args)?args.readOnly:false,stripComments:("stripComments" in args)?args.stripComments:true,stripScripts:("stripScripts" in args)?args.stripScripts:true,stripIFrames:("stripIFrames" in args)?args.stripIFrames:true});};return _743;});},"dijit/_editor/plugins/FontChoice":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/i18n","dojo/_base/lang","dojo/store/Memory","../../registry","../../_Widget","../../_TemplatedMixin","../../_WidgetsInTemplateMixin","../../form/FilteringSelect","../_Plugin","../range","dojo/i18n!../nls/FontChoice"],function(_753,_754,_755,_756,i18n,lang,_757,_758,_759,_75a,_75b,_75c,_75d,_75e){var _75f=_755("dijit._editor.plugins._FontDropDown",[_759,_75a,_75b],{label:"",plainText:false,templateString:"<span style='white-space: nowrap' class='dijit dijitReset dijitInline'>"+"<label class='dijitLeft dijitInline' for='${selectId}'>${label}</label>"+"<input data-dojo-type='../../form/FilteringSelect' required='false' "+"data-dojo-props='labelType:\"html\", labelAttr:\"label\", searchAttr:\"name\"' "+"class='${comboClass}' "+"tabIndex='-1' id='${selectId}' data-dojo-attach-point='select' value=''/>"+"</span>",contextRequire:_753,postMixInProperties:function(){this.inherited(arguments);this.strings=i18n.getLocalization("dijit._editor","FontChoice");this.label=this.strings[this.command];this.id=_758.getUniqueId(this.declaredClass.replace(/\./g,"_"));this.selectId=this.id+"_select";this.inherited(arguments);},postCreate:function(){this.select.set("store",new _757({idProperty:"value",data:_754.map(this.values,function(_760){var name=this.strings[_760]||_760;return {label:this.getLabel(_760,name),name:name,value:_760};},this)}));this.select.set("value","",false);this.disabled=this.select.get("disabled");},_setValueAttr:function(_761,_762){_762=_762!==false;this.select.set("value",_754.indexOf(this.values,_761)<0?"":_761,_762);if(!_762){this.select._lastValueReported=null;}},_getValueAttr:function(){return this.select.get("value");},focus:function(){this.select.focus();},_setDisabledAttr:function(_763){this._set("disabled",_763);this.select.set("disabled",_763);}});var _764=_755("dijit._editor.plugins._FontNameDropDown",_75f,{generic:false,command:"fontName",comboClass:"dijitFontNameCombo",postMixInProperties:function(){if(!this.values){this.values=this.generic?["serif","sans-serif","monospace","cursive","fantasy"]:["Arial","Times New Roman","Comic Sans MS","Courier New"];}this.inherited(arguments);},getLabel:function(_765,name){if(this.plainText){return name;}else{return "<div style='font-family: "+_765+"'>"+name+"</div>";}},_setValueAttr:function(_766,_767){_767=_767!==false;if(this.generic){var map={"Arial":"sans-serif","Helvetica":"sans-serif","Myriad":"sans-serif","Times":"serif","Times New Roman":"serif","Comic Sans MS":"cursive","Apple Chancery":"cursive","Courier":"monospace","Courier New":"monospace","Papyrus":"fantasy","Estrangelo Edessa":"cursive","Gabriola":"fantasy"};_766=map[_766]||_766;}this.inherited(arguments,[_766,_767]);}});var _768=_755("dijit._editor.plugins._FontSizeDropDown",_75f,{command:"fontSize",comboClass:"dijitFontSizeCombo",values:[1,2,3,4,5,6,7],getLabel:function(_769,name){if(this.plainText){return name;}else{return "<font size="+_769+"'>"+name+"</font>";}},_setValueAttr:function(_76a,_76b){_76b=_76b!==false;if(_76a.indexOf&&_76a.indexOf("px")!=-1){var _76c=parseInt(_76a,10);_76a={10:1,13:2,16:3,18:4,24:5,32:6,48:7}[_76c]||_76a;}this.inherited(arguments,[_76a,_76b]);}});var _76d=_755("dijit._editor.plugins._FormatBlockDropDown",_75f,{command:"formatBlock",comboClass:"dijitFormatBlockCombo",values:["noFormat","p","h1","h2","h3","pre"],postCreate:function(){this.inherited(arguments);this.set("value","noFormat",false);},getLabel:function(_76e,name){if(this.plainText||_76e=="noFormat"){return name;}else{return "<"+_76e+">"+name+"</"+_76e+">";}},_execCommand:function(_76f,_770,_771){if(_771==="noFormat"){var _772;var end;var sel=_75e.getSelection(_76f.window);if(sel&&sel.rangeCount>0){var _773=sel.getRangeAt(0);var node,tag;if(_773){_772=_773.startContainer;end=_773.endContainer;while(_772&&_772!==_76f.editNode&&_772!==_76f.document.body&&_772.nodeType!==1){_772=_772.parentNode;}while(end&&end!==_76f.editNode&&end!==_76f.document.body&&end.nodeType!==1){end=end.parentNode;}var _774=lang.hitch(this,function(node,ary){if(node.childNodes&&node.childNodes.length){var i;for(i=0;i<node.childNodes.length;i++){var c=node.childNodes[i];if(c.nodeType==1){if(_76f.selection.inSelection(c)){var tag=c.tagName?c.tagName.toLowerCase():"";if(_754.indexOf(this.values,tag)!==-1){ary.push(c);}_774(c,ary);}}}}});var _775=lang.hitch(this,function(_776){if(_776&&_776.length){_76f.beginEditing();while(_776.length){this._removeFormat(_76f,_776.pop());}_76f.endEditing();}});var _777=[];if(_772==end){var _778;node=_772;while(node&&node!==_76f.editNode&&node!==_76f.document.body){if(node.nodeType==1){tag=node.tagName?node.tagName.toLowerCase():"";if(_754.indexOf(this.values,tag)!==-1){_778=node;break;}}node=node.parentNode;}_774(_772,_777);if(_778){_777=[_778].concat(_777);}_775(_777);}else{node=_772;while(_76f.selection.inSelection(node)){if(node.nodeType==1){tag=node.tagName?node.tagName.toLowerCase():"";if(_754.indexOf(this.values,tag)!==-1){_777.push(node);}_774(node,_777);}node=node.nextSibling;}_775(_777);}_76f.onDisplayChanged();}}}else{_76f.execCommand(_770,_771);}},_removeFormat:function(_779,node){if(_779.customUndo){while(node.firstChild){_756.place(node.firstChild,node,"before");}node.parentNode.removeChild(node);}else{_779.selection.selectElementChildren(node);var html=_779.selection.getSelectedHtml();_779.selection.selectElement(node);_779.execCommand("inserthtml",html||"");}}});var _77a=_755("dijit._editor.plugins.FontChoice",_75d,{useDefaultCommand:false,_initButton:function(){var _77b={fontName:_764,fontSize:_768,formatBlock:_76d}[this.command],_77c=this.params;if(this.params.custom){_77c.values=this.params.custom;}var _77d=this.editor;this.button=new _77b(lang.delegate({dir:_77d.dir,lang:_77d.lang},_77c));this.own(this.button.select.on("change",lang.hitch(this,function(_77e){if(this.editor.focused){this.editor.focus();}if(this.command=="fontName"&&_77e.indexOf(" ")!=-1){_77e="'"+_77e+"'";}if(this.button._execCommand){this.button._execCommand(this.editor,this.command,_77e);}else{this.editor.execCommand(this.command,_77e);}})));},updateState:function(){var _77f=this.editor;var _780=this.command;if(!_77f||!_77f.isLoaded||!_780.length){return;}if(this.button){var _781=this.get("disabled");this.button.set("disabled",_781);if(_781){return;}var _782;try{_782=_77f.queryCommandValue(_780)||"";}catch(e){_782="";}var _783=lang.isString(_782)&&_782.match(/'([^']*)'/);if(_783){_782=_783[1];}if(_780==="formatBlock"){if(!_782||_782=="p"){_782=null;var elem;var sel=_75e.getSelection(this.editor.window);if(sel&&sel.rangeCount>0){var _784=sel.getRangeAt(0);if(_784){elem=_784.endContainer;}}while(elem&&elem!==_77f.editNode&&elem!==_77f.document){var tg=elem.tagName?elem.tagName.toLowerCase():"";if(tg&&_754.indexOf(this.button.values,tg)>-1){_782=tg;break;}elem=elem.parentNode;}if(!_782){_782="noFormat";}}else{if(_754.indexOf(this.button.values,_782)<0){_782="noFormat";}}}if(_782!==this.button.get("value")){this.button.set("value",_782,false);}}}});_754.forEach(["fontName","fontSize","formatBlock"],function(name){_75d.registry[name]=function(args){return new _77a({command:name,plainText:args.plainText});};});_77a._FontDropDown=_75f;_77a._FontNameDropDown=_764;_77a._FontSizeDropDown=_768;_77a._FormatBlockDropDown=_76d;return _77a;});},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_785,_786,_787){var base=null;return _785("dojo.store.Memory",base,{constructor:function(_788){for(var i in _788){this[i]=_788[i];}this.setData(this.data||[]);},data:null,idProperty:"id",index:null,queryEngine:_787,get:function(id){return this.data[this.index[id]];},getIdentity:function(_789){return _789[this.idProperty];},put:function(_78a,_78b){var data=this.data,_78c=this.index,_78d=this.idProperty;var id=_78a[_78d]=(_78b&&"id" in _78b)?_78b.id:_78d in _78a?_78a[_78d]:Math.random();if(id in _78c){if(_78b&&_78b.overwrite===false){throw new Error("Object already exists");}data[_78c[id]]=_78a;}else{_78c[id]=data.push(_78a)-1;}return id;},add:function(_78e,_78f){(_78f=_78f||{}).overwrite=false;return this.put(_78e,_78f);},remove:function(id){var _790=this.index;var data=this.data;if(id in _790){data.splice(_790[id],1);this.setData(data);return true;}},query:function(_791,_792){return _786(this.queryEngine(_791,_792)(this.data));},setData:function(data){if(data.items){this.idProperty=data.identifier;data=this.data=data.items;}else{this.data=data;}this.index={};for(var i=0,l=data.length;i<l;i++){this.index[data[i][this.idProperty]]=i;}}});});},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(_793,lang,when){var _794=function(_795){if(!_795){return _795;}if(_795.then){_795=lang.delegate(_795);}function _796(_797){if(!_795[_797]){_795[_797]=function(){var args=arguments;return when(_795,function(_798){Array.prototype.unshift.call(args,_798);return _794(_793[_797].apply(_793,args));});};}};_796("forEach");_796("filter");_796("map");if(!_795.total){_795.total=when(_795,function(_799){return _799.length;});}return _795;};lang.setObject("dojo.store.util.QueryResults",_794);return _794;});},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(_79a){return function(_79b,_79c){switch(typeof _79b){default:throw new Error("Can not query with a "+typeof _79b);case "object":case "undefined":var _79d=_79b;_79b=function(_79e){for(var key in _79d){var _79f=_79d[key];if(_79f&&_79f.test){if(!_79f.test(_79e[key],_79e)){return false;}}else{if(_79f!=_79e[key]){return false;}}}return true;};break;case "string":if(!this[_79b]){throw new Error("No filter function "+_79b+" was found in store");}_79b=this[_79b];case "function":}function _7a0(_7a1){var _7a2=_79a.filter(_7a1,_79b);var _7a3=_79c&&_79c.sort;if(_7a3){_7a2.sort(typeof _7a3=="function"?_7a3:function(a,b){for(var sort,i=0;sort=_7a3[i];i++){var _7a4=a[sort.attribute];var _7a5=b[sort.attribute];if(_7a4!=_7a5){return !!sort.descending==(_7a4==null||_7a4>_7a5)?-1:1;}}return 0;});}if(_79c&&(_79c.start||_79c.count)){var _7a6=_7a2.length;_7a2=_7a2.slice(_79c.start||0,(_79c.start||0)+(_79c.count||Infinity));_7a2.total=_7a6;}return _7a2;};_7a0.matches=_79b;return _7a0;};});},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(_7a7,_7a8,_7a9,lang,_7aa){return _7a9("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var node=this.domNode;if(this.containerNode&&!this.searchContainerNode){this.containerNode.stopParser=true;}_7aa.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(lang.hitch(this,function(_7ab){this._startupWidgets=_7ab;for(var i=0;i<_7ab.length;i++){this._processTemplateNode(_7ab[i],function(n,p){return n[p];},function(_7ac,type,_7ad){if(type in _7ac){return _7ac.connect(_7ac,type,_7ad);}else{return _7ac.on(type,_7ad,true);}});}if(this.containerNode&&this.containerNode.stopParser){delete this.containerNode.stopParser;}}));if(!this._startupWidgets){throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}}},_processTemplateNode:function(_7ae,_7af,_7b0){if(_7af(_7ae,"dojoType")||_7af(_7ae,"data-dojo-type")){return true;}return this.inherited(arguments);},startup:function(){_7a7.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this._startupWidgets=null;this.inherited(arguments);}});});},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(_7b1,lang,when,_7b2,_7b3){return _7b1("dijit.form.FilteringSelect",[_7b2,_7b3],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened;},isValid:function(){return !!this.item||(!this.required&&this.get("displayedValue")=="");},_refreshState:function(){if(!this.searchTimer){this.inherited(arguments);}},_callbackSetLabel:function(_7b4,_7b5,_7b6,_7b7){if((_7b5&&_7b5[this.searchAttr]!==this._lastQuery)||(!_7b5&&_7b4.length&&this.store.getIdentity(_7b4[0])!=this._lastQuery)){return;}if(!_7b4.length){this.set("value","",_7b7||(_7b7===undefined&&!this.focused),this.textbox.value,null);}else{this.set("item",_7b4[0],_7b7);}},_openResultList:function(_7b8,_7b9,_7ba){if(_7b9[this.searchAttr]!==this._lastQuery){return;}this.inherited(arguments);if(this.item===undefined){this.validate(true);}},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValueAttr:function(_7bb,_7bc,_7bd,item){if(!this._onChangeActive){_7bc=null;}if(item===undefined){if(_7bb===null||_7bb===""){_7bb="";if(!lang.isString(_7bd)){this._setDisplayedValueAttr(_7bd||"",_7bc);return;}}var self=this;this._lastQuery=_7bb;when(this.store.get(_7bb),function(item){self._callbackSetLabel(item?[item]:[],undefined,undefined,_7bc);});}else{this.valueNode.value=_7bb;this.inherited(arguments);}},_setItemAttr:function(item,_7be,_7bf){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_7c0,_7c1){if(_7c0==null){_7c0="";}if(!this._created){if(!("displayedValue" in this.params)){return;}_7c1=false;}if(this.store){this.closeDropDown();var _7c2=lang.clone(this.query);var qs=this._getDisplayQueryString(_7c0),q;if(this.store._oldAPI){q=qs;}else{q=this._patternToRegExp(qs);q.toString=function(){return qs;};}this._lastQuery=_7c2[this.searchAttr]=q;this.textbox.value=_7c0;this._lastDisplayedValue=_7c0;this._set("displayedValue",_7c0);var _7c3=this;var _7c4={queryOptions:{ignoreCase:this.ignoreCase,deep:true}};lang.mixin(_7c4,this.fetchProperties);this._fetchHandle=this.store.query(_7c2,_7c4);when(this._fetchHandle,function(_7c5){_7c3._fetchHandle=null;_7c3._callbackSetLabel(_7c5||[],_7c2,_7c4,_7c1);},function(err){_7c3._fetchHandle=null;if(!_7c3._cancelingQuery){console.error("dijit.form.FilteringSelect: "+err.toString());}});}},undo:function(){this.set("displayedValue",this._lastDisplayedValue);}});});},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(_7c6,has,_7c7,_7c8){return _7c6("dijit.form.MappedTextBox",_7c8,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},_setNameAttr:"valueNode",serialize:function(val){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=_7c7.place("<input type='hidden'"+((this.name&&!has("msapp"))?" name=\""+this.name.replace(/"/g,"&quot;")+"\"":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});});},"dijit/form/ValidationTextBox":function(){define(["dojo/_base/declare","dojo/_base/kernel","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_7c9,_7ca,i18n,_7cb,_7cc,_7cd){var _7ce;return _7ce=_7c9("dijit.form.ValidationTextBox",_7cb,{templateString:_7cd,required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(attr,_7cf){if(_7cf!=_7ce.prototype[attr]){_7ca.deprecated("ValidationTextBox id="+this.id+", set('"+attr+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0");this.set("pattern",_7cf);}},_setRegExpGenAttr:function(_7d0){this._deprecateRegExp("regExpGen",_7d0);this._set("regExpGen",this._computeRegexp);},_setRegExpAttr:function(_7d1){this._deprecateRegExp("regExp",_7d1);},_setValueAttr:function(){this.inherited(arguments);this._refreshState();},validator:function(_7d2,_7d3){return (new RegExp("^(?:"+this._computeRegexp(_7d3)+")"+(this.required?"":"?")+"$")).test(_7d2)&&(!this.required||!this._isEmpty(_7d2))&&(this._isEmpty(_7d2)||this.parse(_7d2,_7d3)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"));},_isEmpty:function(_7d4){return (this.trim?/^\s*$/:/^$/).test(_7d4);},getErrorMessage:function(){var _7d5=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;var _7d6=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_7d5:this.missingMessage;return (this.required&&this._isEmpty(this.textbox.value))?_7d6:_7d5;},getPromptMessage:function(){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_7d7){var _7d8="";var _7d9=this.disabled||this.isValid(_7d7);if(_7d9){this._maskValidSubsetError=true;}var _7da=this._isEmpty(this.textbox.value);var _7db=!_7d9&&_7d7&&this._isValidSubset();this._set("state",_7d9?"":(((((!this._hasBeenBlurred||_7d7)&&_7da)||_7db)&&(this._maskValidSubsetError||(_7db&&!this._hasBeenBlurred&&_7d7)))?"Incomplete":"Error"));this.focusNode.setAttribute("aria-invalid",_7d9?"false":"true");if(this.state=="Error"){this._maskValidSubsetError=_7d7&&_7db;_7d8=this.getErrorMessage(_7d7);}else{if(this.state=="Incomplete"){_7d8=this.getPromptMessage(_7d7);this._maskValidSubsetError=!this._hasBeenBlurred||_7d7;}else{if(_7da){_7d8=this.getPromptMessage(_7d7);}}}this.set("message",_7d8);return _7d9;},displayMessage:function(_7dc){if(_7dc&&this.focused){_7cc.show(_7dc,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_7cc.hide(this.domNode);}},_refreshState:function(){if(this._created){this.validate(this.focused);}this.inherited(arguments);},constructor:function(_7dd){this.constraints={};this.baseClass+=" dijitValidationTextBox";},startup:function(){this.inherited(arguments);this._refreshState();},_setConstraintsAttr:function(_7de){if(!_7de.locale&&this.lang){_7de.locale=this.lang;}this._set("constraints",_7de);this._refreshState();},_setPatternAttr:function(_7df){this._set("pattern",_7df);},_computeRegexp:function(_7e0){var p=this.pattern;if(typeof p=="function"){p=p.call(this,_7e0);}if(p!=this._lastRegExp){var _7e1="";this._lastRegExp=p;if(p!=".*"){p.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_7e1+=re;break;case ")":_7e1+="|$)";break;default:_7e1+="(?:"+re+"|$)";break;}});}try{"".search(_7e1);}catch(e){_7e1=this.pattern;console.warn("RegExp error in "+this.declaredClass+": "+this.pattern);}this._partialre="^(?:"+_7e1+")$";}return p;},postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_7e2){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_7e3){this._set("required",_7e3);this.focusNode.setAttribute("aria-required",_7e3);this._refreshState();},_setMessageAttr:function(_7e4){this._set("message",_7e4);this.displayMessage(_7e4);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});});},"dijit/form/TextBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(_7e5,_7e6,_7e7,_7e8,lang,on,has,_7e9,_7ea,_7eb,_7ec){var _7ed=_7e5("dijit.form.TextBox"+(has("dojo-bidi")?"_NoBidi":""),[_7e9,_7ea],{templateString:_7eb,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:has("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==this.constructor.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(has("ie")<9){this.defer(function(){try{var s=_7e7.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _7ee=this.domNode.getElementsByTagName("INPUT");if(_7ee){for(var i=0;i<_7ee.length;i++){_7ee[i].style.fontFamily=ff;}}}}}catch(e){}});}},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=_7e6.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");this.own(on(this._phspan,"mousedown",function(evt){evt.preventDefault();}),on(this._phspan,"touchend, MSPointerUp",lang.hitch(this,function(){this.focus();})));}this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));this._updatePlaceHolder();},_onInput:function(evt){this.inherited(arguments);this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this.textbox.value)?"":"none";}},_setValueAttr:function(_7ef,_7f0,_7f1){this.inherited(arguments);this._updatePlaceHolder();},getDisplayedValue:function(){_7e8.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue");},setDisplayedValue:function(_7f2){_7e8.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_7f2);},_onBlur:function(e){if(this.disabled){return;}this.inherited(arguments);this._updatePlaceHolder();if(has("mozilla")){if(this.selectOnClick){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}}},_onFocus:function(by){if(this.disabled||this.readOnly){return;}this.inherited(arguments);this._updatePlaceHolder();}});if(has("ie")<9){_7ed.prototype._isTextSelected=function(){var _7f3=this.ownerDocument.selection.createRange();var _7f4=_7f3.parentElement();return _7f4==this.textbox&&_7f3.text.length>0;};_7ec._setSelectionRange=_7ea._setSelectionRange=function(_7f5,_7f6,stop){if(_7f5.createTextRange){var r=_7f5.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_7f6);r.moveEnd("character",stop-_7f6);r.select();}};}if(has("dojo-bidi")){_7ed=_7e5("dijit.form.TextBox",_7ed,{_setPlaceHolderAttr:function(v){this.inherited(arguments);this.applyTextDir(this._phspan);}});}return _7ed;});},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_7f7,has,_7f8,_7f9){return _7f7("dijit.form._FormValueWidget",[_7f8,_7f9],{_layoutHackIE7:function(){if(has("ie")==7){var _7fa=this.domNode;var _7fb=_7fa.parentNode;var _7fc=_7fa.firstChild||_7fa;var _7fd=_7fc.style.filter;var _7fe=this;while(_7fb&&_7fb.clientHeight==0){(function ping(){var _7ff=_7fe.connect(_7fb,"onscroll",function(){_7fe.disconnect(_7ff);_7fc.style.filter=(new Date()).getMilliseconds();_7fe.defer(function(){_7fc.style.filter=_7fd;});});})();_7fb=_7fb.parentNode;}}}});});},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","./_FormWidgetMixin"],function(_800,_801,keys,lang,on,_802){return _800("dijit.form._FormValueMixin",_802,{readOnly:false,_setReadOnlyAttr:function(_803){_801.set(this.focusNode,"readOnly",_803);this._set("readOnly",_803);},postCreate:function(){this.inherited(arguments);if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_804,_805){this._handleOnChange(_804,_805);},_handleOnChange:function(_806,_807){this._set("value",_806);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);}});});},"dijit/form/_TextBoxMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(_808,_809,dom,has,keys,lang,on,_80a){var _80b=_809("dijit.form._TextBoxMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_80c,_80d,_80e){var _80f;if(_80c!==undefined){_80f=this.filter(_80c);if(typeof _80e!="string"){if(_80f!==null&&((typeof _80f!="number")||!isNaN(_80f))){_80e=this.filter(this.format(_80f,this.constraints));}else{_80e="";}}}if(_80e!=null&&((typeof _80e)!="number"||!isNaN(_80e))&&this.textbox.value!=_80e){this.textbox.value=_80e;this._set("displayedValue",this.get("displayedValue"));}this.inherited(arguments,[_80f,_80d]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_810){if(_810==null){_810="";}else{if(typeof _810!="string"){_810=String(_810);}}this.textbox.value=_810;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));},format:function(_811){return _811==null?"":(_811.toString?_811.toString():_811);},parse:function(_812){return _812;},_refreshState:function(){},onInput:function(){},__skipInputEvent:false,_onInput:function(evt){this._processInput(evt);if(this.intermediateChanges){this.defer(function(){this._handleOnChange(this.get("value"),false);});}},_processInput:function(evt){this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);var _813=function(e){var _814;if(e.type=="keydown"){_814=e.keyCode;switch(_814){case keys.SHIFT:case keys.ALT:case keys.CTRL:case keys.META:case keys.CAPS_LOCK:case keys.NUM_LOCK:case keys.SCROLL_LOCK:return;}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(_814){case keys.NUMPAD_0:case keys.NUMPAD_1:case keys.NUMPAD_2:case keys.NUMPAD_3:case keys.NUMPAD_4:case keys.NUMPAD_5:case keys.NUMPAD_6:case keys.NUMPAD_7:case keys.NUMPAD_8:case keys.NUMPAD_9:case keys.NUMPAD_MULTIPLY:case keys.NUMPAD_PLUS:case keys.NUMPAD_ENTER:case keys.NUMPAD_MINUS:case keys.NUMPAD_PERIOD:case keys.NUMPAD_DIVIDE:return;}if((_814>=65&&_814<=90)||(_814>=48&&_814<=57)||_814==keys.SPACE){return;}var _815=false;for(var i in keys){if(keys[i]===e.keyCode){_815=true;break;}}if(!_815){return;}}}_814=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode;if(!_814){_814=(e.keyCode>=65&&e.keyCode<=90)||(e.keyCode>=48&&e.keyCode<=57)||e.keyCode==keys.SPACE?String.fromCharCode(e.keyCode):e.keyCode;}if(!_814){_814=229;}if(e.type=="keypress"){if(typeof _814!="string"){return;}if((_814>="a"&&_814<="z")||(_814>="A"&&_814<="Z")||(_814>="0"&&_814<="9")||(_814===" ")){if(e.ctrlKey||e.metaKey||e.altKey){return;}}}if(e.type=="input"){if(this.__skipInputEvent){this.__skipInputEvent=false;return;}}else{this.__skipInputEvent=true;}var faux={faux:true},attr;for(attr in e){if(attr!="layerX"&&attr!="layerY"){var v=e[attr];if(typeof v!="function"&&typeof v!="undefined"){faux[attr]=v;}}}lang.mixin(faux,{charOrCode:_814,_wasConsumed:false,preventDefault:function(){faux._wasConsumed=true;e.preventDefault();},stopPropagation:function(){e.stopPropagation();}});if(this.onInput(faux)===false){faux.preventDefault();faux.stopPropagation();}if(faux._wasConsumed){return;}this.defer(function(){this._onInput(faux);});if(e.type=="keypress"){e.stopPropagation();}};this.own(on(this.textbox,"keydown, keypress, paste, cut, input, compositionend",lang.hitch(this,_813)));},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=lang.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd;},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=on.once(this.domNode,"mouseup, touchend",lang.hitch(this,function(evt){if(!this._isTextSelected()){_80b.selectInputText(this.textbox);}}));this.own(this._selectOnClickHandle);this.defer(function(){if(this._selectOnClickHandle){this._selectOnClickHandle.remove();this._selectOnClickHandle=null;}},500);}this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);}});if(has("dojo-bidi")){_80b=_809("dijit.form._TextBoxMixin",_80b,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode);},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode);},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments);}});}_80b._setSelectionRange=_80a._setSelectionRange=function(_816,_817,stop){if(_816.setSelectionRange){_816.setSelectionRange(_817,stop);}};_80b.selectInputText=_80a.selectInputText=function(_818,_819,stop){_818=dom.byId(_818);if(isNaN(_819)){_819=0;}if(isNaN(stop)){stop=_818.value?_818.value.length:0;}try{_818.focus();_80b._setSelectionRange(_818,_819,stop);}catch(e){}};return _80b;});},"dijit/Tooltip":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(_81a,_81b,fx,dom,_81c,_81d,_81e,lang,_81f,on,has,_820,_821,_822,_823,_824,_825,_826){var _827=_81b("dijit._MasterTooltip",[_822,_823],{duration:_820.defaultDuration,templateString:_825,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _824(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_828,_829,_82a,rtl,_82b){if(this.aroundNode&&this.aroundNode===_829&&this.containerNode.innerHTML==_828){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_828;if(_82b){this.set("textDir",_82b);}this.containerNode.align=rtl?"right":"left";var pos=_821.around(this.domNode,_829,_82a&&_82a.length?_82a:_82c.defaultPosition,!rtl,lang.hitch(this,"orient"));var _82d=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_82d.y+((_82d.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_82d.x+((_82d.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_81e.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_829;},orient:function(node,_82e,_82f,_830,_831){this.connectorNode.style.top="";var _832=_830.h,_833=_830.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_82e+"-"+_82f];this.domNode.style.width="auto";var size=_81d.position(this.domNode);if(has("ie")==9){size.w+=2;}var _834=Math.min((Math.max(_833,1)),size.w);_81d.setMarginBox(this.domNode,{w:_834});if(_82f.charAt(0)=="B"&&_82e.charAt(0)=="B"){var bb=_81d.position(node);var _835=this.connectorNode.offsetHeight;if(bb.h>_832){var _836=_832-((_831.h+_835)>>1);this.connectorNode.style.top=_836+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_831.h/2-_835/2,0),bb.h-_835)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_833);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_837){if(this._onDeck&&this._onDeck[1]==_837){this._onDeck=null;}else{if(this.aroundNode===_837){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});if(has("dojo-bidi")){_827.extend({_setAutoTextDir:function(node){this.applyTextDir(node);_81a.forEach(node.children,function(_838){this._setAutoTextDir(_838);},this);},_setTextDirAttr:function(_839){this._set("textDir",_839);if(_839=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});}_826.showTooltip=function(_83a,_83b,_83c,rtl,_83d){if(_83c){_83c=_81a.map(_83c,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_82c._masterTT){_826._masterTT=_82c._masterTT=new _827();}return _82c._masterTT.show(_83a,_83b,_83c,rtl,_83d);};_826.hideTooltip=function(_83e){return _82c._masterTT&&_82c._masterTT.hide(_83e);};var _82c=_81b("dijit.Tooltip",_822,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(_83f){_81a.forEach(this._connections||[],function(_840){_81a.forEach(_840,function(_841){_841.remove();});},this);this._connectIds=_81a.filter(lang.isArrayLike(_83f)?_83f:(_83f?[_83f]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=_81a.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_842=this.selector,_843=_842?function(_844){return on.selector(_842,_844);}:function(_845){return _845;},self=this;return [on(node,_843(_81f.enter),function(){self._onHover(this);}),on(node,_843("focusin"),function(){self._onHover(this);}),on(node,_843(_81f.leave),lang.hitch(self,"_onUnHover")),on(node,_843("focusout"),lang.hitch(self,"_onUnHover"))];},this);this._set("connectId",_83f);},addTarget:function(node){var id=node.id||node;if(_81a.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_81a.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_81c.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_81a.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},_onHover:function(_846){if(!this._showTimer){this._showTimer=this.defer(function(){this.open(_846);},this.showDelay);}},_onUnHover:function(){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}this.close();},open:function(_847){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}var _848=this.getContent(_847);if(!_848){return;}_82c.show(_848,_847,this.position,!this.isLeftToRight(),this.textDir);this._connectNode=_847;this.onShow(_847,this.position);},close:function(){if(this._connectNode){_82c.hide(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}},onShow:function(){},onHide:function(){},destroy:function(){this.close();_81a.forEach(this._connections||[],function(_849){_81a.forEach(_849,function(_84a){_84a.remove();});},this);this.inherited(arguments);}});_82c._MasterTooltip=_827;_82c.show=_826.showTooltip;_82c.hide=_826.hideTooltip;_82c.defaultPosition=["after-centered","before-centered"];return _82c;});},"dijit/form/ComboBoxMixin":function(){define(["dojo/_base/declare","dojo/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(_84b,_84c,_84d,lang,_84e,_84f,_850,_851,_852){return _84b("dijit.form.ComboBoxMixin",[_851,_84f],{dropDownClass:_850,hasDownArrow:true,templateString:_852,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_setHasDownArrowAttr:function(val){this._set("hasDownArrow",val);this._buttonNode.style.display=val?"":"none";},_showResultList:function(){this.displayMessage("");this.inherited(arguments);},_setStoreAttr:function(_853){if(!_853.get){lang.mixin(_853,{_oldAPI:true,get:function(id){var _854=new _84c();this.fetchItemByIdentity({identity:id,onItem:function(_855){_854.resolve(_855);},onError:function(_856){_854.reject(_856);}});return _854.promise;},query:function(_857,_858){var _859=new _84c(function(){_85a.abort&&_85a.abort();});_859.total=new _84c();var _85a=this.fetch(lang.mixin({query:_857,onBegin:function(_85b){_859.total.resolve(_85b);},onComplete:function(_85c){_859.resolve(_85c);},onError:function(_85d){_859.reject(_85d);}},_858));return _84e(_859);}});}this._set("store",_853);},postMixInProperties:function(){var _85e=this.params.store||this.store;if(_85e){this._setStoreAttr(_85e);}this.inherited(arguments);if(!this.params.store&&!this.store._oldAPI){var _85f=this.declaredClass;lang.mixin(this.store,{getValue:function(item,attr){_84d.deprecated(_85f+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return item[attr];},getLabel:function(item){_84d.deprecated(_85f+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return item.name;},fetch:function(args){_84d.deprecated(_85f+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");var shim=["dojo/data/ObjectStore"];require(shim,lang.hitch(this,function(_860){new _860({objectStore:this}).fetch(args);}));}});}}});});},"dijit/form/_AutoCompleterMixin":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","./DataList","./_TextBoxMixin","./_SearchMixin"],function(_861,_862,_863,keys,lang,_864,_865,has,_866,_867,_868){var _869=_862("dijit.form._AutoCompleterMixin",_868,{item:null,autoComplete:true,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_86a){var pos=0;if(typeof (_86a.selectionStart)=="number"){pos=_86a.selectionStart;}else{if(has("ie")){var tr=_86a.ownerDocument.selection.createRange().duplicate();var ntr=_86a.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_86b,_86c){_86c=parseInt(_86c);_867.selectInputText(_86b,_86c,_86c);},_setDisabledAttr:function(_86d){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",_86d?"true":"false");},_onKey:function(evt){if(evt.charCode>=32){return;}var key=evt.charCode||evt.keyCode;if(key==keys.ALT||key==keys.CTRL||key==keys.META||key==keys.SHIFT){return;}var pw=this.dropDown;var _86e=null;this._abortQuery();this.inherited(arguments);if(evt.altKey||evt.ctrlKey||evt.metaKey){return;}if(this._opened){_86e=pw.getHighlightedOption();}switch(key){case keys.PAGE_DOWN:case keys.DOWN_ARROW:case keys.PAGE_UP:case keys.UP_ARROW:if(this._opened){this._announceOption(_86e);}evt.stopPropagation();evt.preventDefault();break;case keys.ENTER:if(_86e){if(_86e==pw.nextButton){this._nextSearch(1);evt.stopPropagation();evt.preventDefault();break;}else{if(_86e==pw.previousButton){this._nextSearch(-1);evt.stopPropagation();evt.preventDefault();break;}}evt.stopPropagation();evt.preventDefault();}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}case keys.TAB:var _86f=this.get("displayedValue");if(pw&&(_86f==pw._messages["previousMessage"]||_86f==pw._messages["nextMessage"])){break;}if(_86e){this._selectOption(_86e);}case keys.ESCAPE:if(this._opened){this._lastQuery=null;this.closeDropDown();}break;}},_autoCompleteText:function(text){var fn=this.focusNode;_867.selectInputText(fn,fn.value.length);var _870=this.ignoreCase?"toLowerCase":"substr";if(text[_870](0).indexOf(this.focusNode.value[_870](0))==0){var cpos=this.autoComplete?this._getCaretPos(fn):fn.value.length;if((cpos+1)>fn.value.length){fn.value=text;_867.selectInputText(fn,cpos);}}else{fn.value=text;_867.selectInputText(fn);}},_openResultList:function(_871,_872,_873){var _874=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();if(!_871.length&&_873.start==0){this.closeDropDown();return;}this._nextSearch=this.dropDown.onPage=lang.hitch(this,function(_875){_871.nextPage(_875!==-1);this.focus();});this.dropDown.createOptions(_871,_873,lang.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if("direction" in _873){if(_873.direction){this.dropDown.highlightFirstOption();}else{if(!_873.direction){this.dropDown.highlightLastOption();}}if(_874){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_872[this.searchAttr].toString())){this._announceOption(this.dropDown.containerNode.firstChild.nextSibling);}}},_showResultList:function(){this.closeDropDown(true);this.openDropDown();this.domNode.setAttribute("aria-expanded","true");},loadDropDown:function(){this._startSearchAll();},isLoaded:function(){return false;},closeDropDown:function(){this._abortQuery();if(this._opened){this.inherited(arguments);this.domNode.setAttribute("aria-expanded","false");}},_setBlurValue:function(){var _876=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_876==pw._messages["previousMessage"]||_876==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_876);}else{if(this.value!=this._lastValueReported){this._handleOnChange(this.value,true);}this._refreshState();}}this.focusNode.removeAttribute("aria-activedescendant");},_setItemAttr:function(item,_877,_878){var _879="";if(item){if(!_878){_878=this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr];}_879=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_878;}this.set("value",_879,_877,_878,item);},_announceOption:function(node){if(!node){return;}var _87a;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_87a=node.innerHTML;this.item=undefined;this.value="";}else{var item=this.dropDown.items[node.getAttribute("item")];_87a=(this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr]).toString();this.set("item",item,false,_87a);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",_863.get(node,"id"));this._autoCompleteText(_87a);},_selectOption:function(_87b){this.closeDropDown();if(_87b){this._announceOption(_87b);}this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,true);this.focusNode.removeAttribute("aria-activedescendant");},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this.item=undefined;this.inherited(arguments);},_startSearch:function(key){if(!this.dropDown){var _87c=this.id+"_popup",_87d=lang.isString(this.dropDownClass)?lang.getObject(this.dropDownClass,false):this.dropDownClass;this.dropDown=new _87d({onChange:lang.hitch(this,this._selectOption),id:_87c,dir:this.dir,textDir:this.textDir});}this._lastInput=key;this.inherited(arguments);},_getValueField:function(){return this.searchAttr;},postMixInProperties:function(){this.inherited(arguments);if(!this.store){var _87e=this.srcNodeRef;this.store=new _866({},_87e);if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _87f=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(item,_87f):item[_87f];}}}},postCreate:function(){var _880=_864("label[for=\""+this.id+"\"]");if(_880.length){if(!_880[0].id){_880[0].id=this.id+"_label";}this.domNode.setAttribute("aria-labelledby",_880[0].id);}this.inherited(arguments);_861.after(this,"onSearch",lang.hitch(this,"_openResultList"),true);},_getMenuLabelFromItem:function(item){var _881=this.labelFunc(item,this.store),_882=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_881=this.doHighlight(_881,this._lastInput);_882="html";}return {html:_882=="html",label:_881};},doHighlight:function(_883,find){var _884=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=_865.escapeString(find);return this._escapeHtml(_883.replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_884),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_885){return (_885._oldAPI?_885.getValue(item,this.labelAttr||this.searchAttr):item[this.labelAttr||this.searchAttr]).toString();},_setValueAttr:function(_886,_887,_888,item){this._set("item",item||null);if(_886==null){_886="";}this.inherited(arguments);}});if(has("dojo-bidi")){_869.extend({_setTextDirAttr:function(_889){this.inherited(arguments);if(this.dropDown){this.dropDown._set("textDir",_889);}}});}return _869;});},"dijit/form/DataList":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(_88a,dom,lang,_88b,_88c,_88d){function _88e(_88f){return {id:_88f.value,value:_88f.value,name:lang.trim(_88f.innerText||_88f.textContent||"")};};return _88a("dijit.form.DataList",_88c,{constructor:function(_890,_891){this.domNode=dom.byId(_891);lang.mixin(this,_890);if(this.id){_88d.add(this);}this.domNode.style.display="none";this.inherited(arguments,[{data:_88b("option",this.domNode).map(_88e)}]);},destroy:function(){_88d.remove(this.id);},fetchSelectedItem:function(){var _892=_88b("> option[selected]",this.domNode)[0]||_88b("> option",this.domNode)[0];return _892&&_88e(_892);}});});},"dijit/form/_SearchMixin":function(){define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/query","dojo/string","dojo/when","../registry"],function(_893,keys,lang,_894,_895,when,_896){return _893("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:true,_patternToRegExp:function(_897){return new RegExp("^"+_897.replace(/(\\.)|(\*)|(\?)|\W/g,function(str,_898,star,_899){return star?".*":_899?".":_898?_898:"\\"+str;})+"$",this.ignoreCase?"mi":"m");},_abortQuery:function(){if(this.searchTimer){this.searchTimer=this.searchTimer.remove();}if(this._queryDeferHandle){this._queryDeferHandle=this._queryDeferHandle.remove();}if(this._fetchHandle){if(this._fetchHandle.abort){this._cancelingQuery=true;this._fetchHandle.abort();this._cancelingQuery=false;}if(this._fetchHandle.cancel){this._cancelingQuery=true;this._fetchHandle.cancel();this._cancelingQuery=false;}this._fetchHandle=null;}},_processInput:function(evt){if(this.disabled||this.readOnly){return;}var key=evt.charOrCode;if("type" in evt&&evt.type.substring(0,3)=="key"&&(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==keys.SHIFT)){return;}var _89a=false;this._prev_key_backspace=false;switch(key){case keys.DELETE:case keys.BACKSPACE:this._prev_key_backspace=true;this._maskValidSubsetError=true;_89a=true;break;default:_89a=typeof key=="string"||key==229;}if(_89a){if(!this.store){this.onSearch();}else{this.searchTimer=this.defer("_startSearchFromInput",1);}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value);},_startSearch:function(text){this._abortQuery();var _89b=this,_894=lang.clone(this.query),_89c={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:true}},qs=_895.substitute(this.queryExpr,[text.replace(/([\\\*\?])/g,"\\$1")]),q,_89d=function(){var _89e=_89b._fetchHandle=_89b.store.query(_894,_89c);if(_89b.disabled||_89b.readOnly||(q!==_89b._lastQuery)){return;}when(_89e,function(res){_89b._fetchHandle=null;if(!_89b.disabled&&!_89b.readOnly&&(q===_89b._lastQuery)){when(_89e.total,function(_89f){res.total=_89f;var _8a0=_89b.pageSize;if(isNaN(_8a0)||_8a0>res.total){_8a0=res.total;}res.nextPage=function(_8a1){_89c.direction=_8a1=_8a1!==false;_89c.count=_8a0;if(_8a1){_89c.start+=res.length;if(_89c.start>=res.total){_89c.count=0;}}else{_89c.start-=_8a0;if(_89c.start<0){_89c.count=Math.max(_8a0+_89c.start,0);_89c.start=0;}}if(_89c.count<=0){res.length=0;_89b.onSearch(res,_894,_89c);}else{_89d();}};_89b.onSearch(res,_894,_89c);});}},function(err){_89b._fetchHandle=null;if(!_89b._cancelingQuery){console.error(_89b.declaredClass+" "+err.toString());}});};lang.mixin(_89c,this.fetchProperties);if(this.store._oldAPI){q=qs;}else{q=this._patternToRegExp(qs);q.toString=function(){return qs;};}this._lastQuery=_894[this.searchAttr]=q;this._queryDeferHandle=this.defer(_89d,this.searchDelay);},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var list=this.list;if(list){this.store=_896.byId(list);}}this.inherited(arguments);}});});},"dijit/form/_ComboBoxMenu":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(_8a2,_8a3,_8a4,keys,_8a5,_8a6,_8a7,_8a8){return _8a2("dijit.form._ComboBoxMenu",[_8a5,_8a6,_8a8,_8a7],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'>"+"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>"+"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>"+"</div>",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);if(!this.isLeftToRight()){_8a3.add(this.previousButton,"dijitMenuItemRtl");_8a3.add(this.nextButton,"dijitMenuItemRtl");}this.containerNode.setAttribute("role","listbox");},_createMenuItem:function(){var item=this.ownerDocument.createElement("div");item.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");item.setAttribute("role","option");return item;},onHover:function(node){_8a3.add(node,"dijitMenuItemHover");},onUnhover:function(node){_8a3.remove(node,"dijitMenuItemHover");},onSelect:function(node){_8a3.add(node,"dijitMenuItemSelected");},onDeselect:function(node){_8a3.remove(node,"dijitMenuItemSelected");},_page:function(up){var _8a9=0;var _8aa=this.domNode.scrollTop;var _8ab=_8a4.get(this.domNode,"height");if(!this.getHighlightedOption()){this.selectNextNode();}while(_8a9<_8ab){var _8ac=this.getHighlightedOption();if(up){if(!_8ac.previousSibling||_8ac.previousSibling.style.display=="none"){break;}this.selectPreviousNode();}else{if(!_8ac.nextSibling||_8ac.nextSibling.style.display=="none"){break;}this.selectNextNode();}var _8ad=this.domNode.scrollTop;_8a9+=(_8ad-_8aa)*(up?-1:1);_8aa=_8ad;}},handleKey:function(evt){switch(evt.keyCode){case keys.DOWN_ARROW:this.selectNextNode();return false;case keys.PAGE_DOWN:this._page(false);return false;case keys.UP_ARROW:this.selectPreviousNode();return false;case keys.PAGE_UP:this._page(true);return false;default:return true;}}});});},"dijit/form/_ComboBoxMenuMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(_8ae,_8af,_8b0,has,i18n){var _8b1=_8af("dijit.form._ComboBoxMenuMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function(_8b2){this._set("value",_8b2);this.onChange(_8b2);},onClick:function(node){if(node==this.previousButton){this._setSelectedAttr(null);this.onPage(-1);}else{if(node==this.nextButton){this._setSelectedAttr(null);this.onPage(1);}else{this.onChange(node);}}},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null);},_createOption:function(item,_8b3){var _8b4=this._createMenuItem();var _8b5=_8b3(item);if(_8b5.html){_8b4.innerHTML=_8b5.label;}else{_8b4.appendChild(_8b4.ownerDocument.createTextNode(_8b5.label));}if(_8b4.innerHTML==""){_8b4.innerHTML="&#160;";}return _8b4;},createOptions:function(_8b6,_8b7,_8b8){this.items=_8b6;this.previousButton.style.display=(_8b7.start==0)?"none":"";_8b0.set(this.previousButton,"id",this.id+"_prev");_8ae.forEach(_8b6,function(item,i){var _8b9=this._createOption(item,_8b8);_8b9.setAttribute("item",i);_8b0.set(_8b9,"id",this.id+i);this.nextButton.parentNode.insertBefore(_8b9,this.nextButton);},this);var _8ba=false;if(_8b6.total&&!_8b6.total.then&&_8b6.total!=-1){if((_8b7.start+_8b7.count)<_8b6.total){_8ba=true;}else{if((_8b7.start+_8b7.count)>_8b6.total&&_8b7.count==_8b6.length){_8ba=true;}}}else{if(_8b7.count==_8b6.length){_8ba=true;}}this.nextButton.style.display=_8ba?"":"none";_8b0.set(this.nextButton,"id",this.id+"_next");},clearResultList:function(){var _8bb=this.containerNode;while(_8bb.childNodes.length>2){_8bb.removeChild(_8bb.childNodes[_8bb.childNodes.length-2]);}this._setSelectedAttr(null);},highlightFirstOption:function(){this.selectFirstNode();},highlightLastOption:function(){this.selectLastNode();},selectFirstNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.previousButton){this.selectNextNode();}},selectLastNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.nextButton){this.selectPreviousNode();}},getHighlightedOption:function(){return this.selected;}});if(has("dojo-bidi")){_8b1=_8af("dijit.form._ComboBoxMenuMixin",_8b1,{_createOption:function(){var _8bc=this.inherited(arguments);this.applyTextDir(_8bc);return _8bc;}});}return _8b1;});},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(_8bd,on,_8be,_8bf){return _8bd("dijit.form._ListMouseMixin",_8bf,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=true;this.own(on(this.domNode,"mousedown",function(evt){evt.preventDefault();}));this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut");},_onClick:function(evt,_8c0){this._setSelectedAttr(_8c0);if(this._deferredClick){this._deferredClick.remove();}this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(_8c0);});},_onMouseDown:function(evt,_8c1){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}this._isDragging=true;this._setSelectedAttr(_8c1);},_onMouseUp:function(evt,_8c2){this._isDragging=false;var _8c3=this.selected;var _8c4=this._hoveredNode;if(_8c3&&_8c2==_8c3){this.defer(function(){this._onClick(evt,_8c3);});}else{if(_8c4){this.defer(function(){this._onClick(evt,_8c4);});}}},_onMouseOut:function(evt,_8c5){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}if(this._isDragging){this._cancelDrag=(new Date()).getTime()+1000;}},_onMouseOver:function(evt,_8c6){if(this._cancelDrag){var time=(new Date()).getTime();if(time>this._cancelDrag){this._isDragging=false;}this._cancelDrag=null;}this._hoveredNode=_8c6;this.onHover(_8c6);if(this._isDragging){this._setSelectedAttr(_8c6);}}});});},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(_8c7,on,_8c8){return _8c7("dijit.form._ListBase",null,{selected:null,_listConnect:function(_8c9,_8ca){var self=this;return self.own(on(self.containerNode,on.selector(function(_8cb,_8cc,_8cd){return _8cb.parentNode==_8cd;},_8c9),function(evt){if(!/^touch/.test(evt.type)){evt.preventDefault();}self[_8ca](evt,this);}));},selectFirstNode:function(){var _8ce=this.containerNode.firstChild;while(_8ce&&_8ce.style.display=="none"){_8ce=_8ce.nextSibling;}this._setSelectedAttr(_8ce);},selectLastNode:function(){var last=this.containerNode.lastChild;while(last&&last.style.display=="none"){last=last.previousSibling;}this._setSelectedAttr(last);},selectNextNode:function(){var _8cf=this.selected;if(!_8cf){this.selectFirstNode();}else{var next=_8cf.nextSibling;while(next&&next.style.display=="none"){next=next.nextSibling;}if(!next){this.selectFirstNode();}else{this._setSelectedAttr(next);}}},selectPreviousNode:function(){var _8d0=this.selected;if(!_8d0){this.selectLastNode();}else{var prev=_8d0.previousSibling;while(prev&&prev.style.display=="none"){prev=prev.previousSibling;}if(!prev){this.selectLastNode();}else{this._setSelectedAttr(prev);}}},_setSelectedAttr:function(node){if(this.selected!=node){var _8d1=this.selected;if(_8d1){this.onDeselect(_8d1);}if(node){_8c8.scrollIntoView(node);this.onSelect(node);}this._set("selected",node);}else{if(node){this.onSelect(node);}}}});});},"dijit/_editor/plugins/NewPage":function(){define(["dojo/_base/declare","dojo/i18n","dojo/_base/lang","../_Plugin","../../form/Button","dojo/i18n!../nls/commands"],function(_8d2,i18n,lang,_8d3,_8d4){var _8d5=_8d2("dijit._editor.plugins.NewPage",_8d3,{content:"<br>",_initButton:function(){var _8d6=i18n.getLocalization("dijit._editor","commands"),_8d7=this.editor;this.button=new _8d4({label:_8d6["newPage"],ownerDocument:_8d7.ownerDocument,dir:_8d7.dir,lang:_8d7.lang,showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"NewPage",tabIndex:"-1",onClick:lang.hitch(this,"_newPage")});},setEditor:function(_8d8){this.editor=_8d8;this._initButton();},updateState:function(){this.button.set("disabled",this.get("disabled"));},_newPage:function(){this.editor.beginEditing();this.editor.set("value",this.content);this.editor.endEditing();this.editor.focus();}});_8d3.registry["newPage"]=_8d3.registry["newpage"]=function(args){return new _8d5({content:("content" in args)?args.content:"<br>"});};return _8d5;});},"dijit/_editor/plugins/ToggleDir":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","../_Plugin","../../form/ToggleButton"],function(_8d9,_8da,_8db,lang,on,_8dc,_8dd){_8db.experimental("dijit._editor.plugins.ToggleDir");var _8de=_8d9("dijit._editor.plugins.ToggleDir",_8dc,{useDefaultCommand:false,command:"toggleDir",buttonClass:_8dd,_initButton:function(){this.inherited(arguments);this.editor.onLoadDeferred.then(lang.hitch(this,function(){var _8df=this.editor.editorObject.contentWindow.document.documentElement;_8df=_8df.getElementsByTagName("body")[0];var _8e0=_8da.getComputedStyle(_8df).direction=="ltr";this.button.set("checked",!_8e0);this.own(this.button.on("change",lang.hitch(this,"_setRtl")));}));},updateState:function(){this.button.set("disabled",this.get("disabled"));},_setRtl:function(rtl){var dir="ltr";if(rtl){dir="rtl";}var _8e1=this.editor.editorObject.contentWindow.document.documentElement;_8e1=_8e1.getElementsByTagName("body")[0];_8e1.dir=dir;}});_8dc.registry["toggleDir"]=function(){return new _8de({command:"toggleDir"});};return _8de;});},"dojox/editor/plugins/ShowBlockNodes":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/form/Button","dijit/form/ToggleButton","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/i18n!dojox/editor/plugins/nls/ShowBlockNodes"],function(dojo,_8e2,_8e3,_8e4){var _8e5=dojo.declare("dojox.editor.plugins.ShowBlockNodes",_8e4,{useDefaultCommand:false,iconClassPrefix:"dijitAdditionalEditorIcon",_styled:false,_initButton:function(){var _8e6=dojo.i18n.getLocalization("dojox.editor.plugins","ShowBlockNodes");this.button=new _8e2.form.ToggleButton({label:_8e6["showBlockNodes"],showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"ShowBlockNodes",tabIndex:"-1",onChange:dojo.hitch(this,"_showBlocks")});this.editor.addKeyHandler(dojo.keys.F9,true,true,dojo.hitch(this,this.toggle));},updateState:function(){this.button.set("disabled",this.get("disabled"));},setEditor:function(_8e7){this.editor=_8e7;this._initButton();},toggle:function(){this.button.set("checked",!this.button.get("checked"));},_showBlocks:function(show){var doc=this.editor.document;if(!this._styled){try{this._styled=true;var _8e8="";var _8e9=["div","p","ul","ol","table","h1","h2","h3","h4","h5","h6","pre","dir","center","blockquote","form","fieldset","address","object","pre","hr","ins","noscript","li","map","button","dd","dt"];var _8ea="@media screen {\n"+"\t.editorShowBlocks {TAG} {\n"+"\t\tbackground-image: url({MODURL}/images/blockelems/{TAG}.gif);\n"+"\t\tbackground-repeat: no-repeat;\n"+"\t\tbackground-position: top left;\n"+"\t\tborder-width: 1px;\n"+"\t\tborder-style: dashed;\n"+"\t\tborder-color: #D0D0D0;\n"+"\t\tpadding-top: 15px;\n"+"\t\tpadding-left: 15px;\n"+"\t}\n"+"}\n";dojo.forEach(_8e9,function(tag){_8e8+=_8ea.replace(/\{TAG\}/gi,tag);});var _8eb=dojo.moduleUrl(_8e3._scopeName,"editor/plugins/resources").toString();if(!(_8eb.match(/^https?:\/\//i))&&!(_8eb.match(/^file:\/\//i))){var bUrl;if(_8eb.charAt(0)==="/"){var _8ec=dojo.doc.location.protocol;var _8ed=dojo.doc.location.host;bUrl=_8ec+"//"+_8ed;}else{bUrl=this._calcBaseUrl(dojo.global.location.href);}if(bUrl[bUrl.length-1]!=="/"&&_8eb.charAt(0)!=="/"){bUrl+="/";}_8eb=bUrl+_8eb;}_8e8=_8e8.replace(/\{MODURL\}/gi,_8eb);if(!dojo.isIE){var _8ee=doc.createElement("style");_8ee.appendChild(doc.createTextNode(_8e8));doc.getElementsByTagName("head")[0].appendChild(_8ee);}else{var ss=doc.createStyleSheet("");ss.cssText=_8e8;}}catch(e){console.warn(e);}}if(show){dojo.addClass(this.editor.editNode,"editorShowBlocks");}else{dojo.removeClass(this.editor.editNode,"editorShowBlocks");}},_calcBaseUrl:function(_8ef){var _8f0=null;if(_8ef!==null){var _8f1=_8ef.indexOf("?");if(_8f1!=-1){_8ef=_8ef.substring(0,_8f1);}_8f1=_8ef.lastIndexOf("/");if(_8f1>0&&_8f1<_8ef.length){_8f0=_8ef.substring(0,_8f1);}else{_8f0=_8ef;}}return _8f0;}});dojo.subscribe(_8e2._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="showblocknodes"){o.plugin=new _8e5();}});return _8e5;});},"dojox/main":function(){define(["dojo/_base/kernel"],function(dojo){return dojo.dojox;});},"dojox/editor/plugins/ToolbarLineBreak":function(){define(["dojo","dijit","dojox","dijit/_Widget","dijit/_TemplatedMixin","dijit/_editor/_Plugin","dojo/_base/declare"],function(dojo,_8f2,_8f3,_8f4,_8f5,_8f6,_8f7){var _8f8=_8f7("dojox.editor.plugins.ToolbarLineBreak",[_8f4,_8f5],{templateString:"<span class='dijit dijitReset'><br></span>",postCreate:function(){dojo.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});dojo.subscribe(_8f2._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="||"||name==="toolbarlinebreak"){o.plugin=new _8f6({button:new _8f8(),setEditor:function(_8f9){this.editor=_8f9;}});}});return _8f8;});},"dojox/editor/plugins/Save":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/form/Button","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/i18n!dojox/editor/plugins/nls/Save"],function(dojo,_8fa,_8fb,_8fc){var Save=dojo.declare("dojox.editor.plugins.Save",_8fc,{iconClassPrefix:"dijitAdditionalEditorIcon",url:"",logResults:true,_initButton:function(){var _8fd=dojo.i18n.getLocalization("dojox.editor.plugins","Save");this.button=new _8fa.form.Button({label:_8fd["save"],showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"Save",tabIndex:"-1",onClick:dojo.hitch(this,"_save")});},updateState:function(){this.button.set("disabled",this.get("disabled"));},setEditor:function(_8fe){this.editor=_8fe;this._initButton();},_save:function(){var _8ff=this.editor.get("value");this.save(_8ff);},save:function(_900){var _901={"Content-Type":"text/html"};if(this.url){var _902={url:this.url,postData:_900,headers:_901,handleAs:"text"};this.button.set("disabled",true);var _903=dojo.xhrPost(_902);_903.addCallback(dojo.hitch(this,this.onSuccess));_903.addErrback(dojo.hitch(this,this.onError));}else{}},onSuccess:function(resp,_904){this.button.set("disabled",false);if(this.logResults){}},onError:function(_905,_906){this.button.set("disabled",false);if(this.logResults){}}});dojo.subscribe(_8fa._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="save"){o.plugin=new Save({url:("url" in o.args)?o.args.url:"",logResults:("logResults" in o.args)?o.args.logResults:true});}});return Save;});},"dojox/editor/plugins/InsertEntity":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/TooltipDialog","dijit/form/DropDownButton","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojox/html/entities","dojox/editor/plugins/EntityPalette","dojo/i18n!dojox/editor/plugins/nls/InsertEntity"],function(dojo,_907,_908,_909){var _90a=dojo.declare("dojox.editor.plugins.InsertEntity",_909,{iconClassPrefix:"dijitAdditionalEditorIcon",_initButton:function(){this.dropDown=new _908.editor.plugins.EntityPalette({showCode:this.showCode,showEntityName:this.showEntityName});this.connect(this.dropDown,"onChange",function(_90b){this.button.closeDropDown();this.editor.focus();this.editor.execCommand("inserthtml",_90b);});var _90c=dojo.i18n.getLocalization("dojox.editor.plugins","InsertEntity");this.button=new _907.form.DropDownButton({label:_90c["insertEntity"],showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"InsertEntity",tabIndex:"-1",dropDown:this.dropDown});},updateState:function(){this.button.set("disabled",this.get("disabled"));},setEditor:function(_90d){this.editor=_90d;this._initButton();this.editor.addKeyHandler("s",true,true,dojo.hitch(this,function(){this.button.openDropDown();this.dropDown.focus();}));_90d.contentPreFilters.push(this._preFilterEntities);_90d.contentPostFilters.push(this._postFilterEntities);},_preFilterEntities:function(s){return _908.html.entities.decode(s,_908.html.entities.latin);},_postFilterEntities:function(s){return _908.html.entities.encode(s,_908.html.entities.latin);}});dojo.subscribe(_907._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name?o.args.name.toLowerCase():"";if(name==="insertentity"){o.plugin=new _90a({showCode:("showCode" in o.args)?o.args.showCode:false,showEntityName:("showEntityName" in o.args)?o.args.showEntityName:false});}});return _90a;});},"dijit/TooltipDialog":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","./main"],function(_90e,_90f,has,keys,lang,on,_910,_911,_912,_913,_914,_915,_916){var _917=_90e("dijit.TooltipDialog",[_911,_914,_913,_912],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:_915,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(on(this.containerNode,"keydown",lang.hitch(this,"_onKey")));},orient:function(node,_918,_919){var newC={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[_918+"-"+_919];_90f.replace(this.domNode,newC,this._currentOrientClass||"");this._currentOrientClass=newC;},focus:function(){this._getFocusItems(this.containerNode);_910.focus(this._firstFocusItem);},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);var _91a=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_91a.y+((_91a.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_91a.x+((_91a.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}}this._onShow();},onClose:function(){this.onHide();},_onKey:function(evt){if(evt.keyCode==keys.ESCAPE){this.defer("onCancel");evt.stopPropagation();evt.preventDefault();}else{if(evt.keyCode==keys.TAB){var node=evt.target;this._getFocusItems(this.containerNode);if(this._firstFocusItem==this._lastFocusItem){evt.stopPropagation();evt.preventDefault();}else{if(node==this._firstFocusItem&&evt.shiftKey){_910.focus(this._lastFocusItem);evt.stopPropagation();evt.preventDefault();}else{if(node==this._lastFocusItem&&!evt.shiftKey){_910.focus(this._firstFocusItem);evt.stopPropagation();evt.preventDefault();}else{evt.stopPropagation();}}}}}}});if(has("dojo-bidi")){_917.extend({_setTitleAttr:function(_91b){this.containerNode.title=(this.textDir&&this.enforceTextDirWithUcc)?this.enforceTextDirWithUcc(null,_91b):_91b;this._set("title",_91b);},_setTextDirAttr:function(_91c){if(!this._created||this.textDir!=_91c){this._set("textDir",_91c);if(this.textDir&&this.title){this.containerNode.title=this.enforceTextDirWithUcc(null,this.title);}}}});}return _917;});},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(_91d,a11y){return _91d("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _91e=a11y._getTabNavigable(this.containerNode);this._firstFocusItem=_91e.lowest||_91e.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_91e.last||_91e.highest||this._firstFocusItem;}});});},"dijit/form/_FormMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(_91f,_920,_921,lang,on,_922){return _920("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_923){var res=[];_91f.forEach(_923||this.getChildren(),function(_924){if("value" in _924){res.push(_924);}else{res=res.concat(this._getDescendantFormWidgets(_924.getChildren()));}},this);return res;},reset:function(){_91f.forEach(this._getDescendantFormWidgets(),function(_925){if(_925.reset){_925.reset();}});},validate:function(){var _926=false;return _91f.every(_91f.map(this._getDescendantFormWidgets(),function(_927){_927._hasBeenBlurred=true;var _928=_927.disabled||!_927.validate||_927.validate();if(!_928&&!_926){_922.scrollIntoView(_927.containerNode||_927.domNode);_927.focus();_926=true;}return _928;}),function(item){return item;});},setValues:function(val){_921.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};_91f.forEach(this._getDescendantFormWidgets(),function(_929){if(!_929.name){return;}var _92a=map[_929.name]||(map[_929.name]=[]);_92a.push(_929);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _92b=map[name],_92c=lang.getObject(name,false,obj);if(_92c===undefined){continue;}_92c=[].concat(_92c);if(typeof _92b[0].checked=="boolean"){_91f.forEach(_92b,function(w){w.set("value",_91f.indexOf(_92c,w._get("value"))!=-1);});}else{if(_92b[0].multiple){_92b[0].set("value",_92c);}else{_91f.forEach(_92b,function(w,i){w.set("value",_92c[i]);});}}}},getValues:function(){_921.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};_91f.forEach(this._getDescendantFormWidgets(),function(_92d){var name=_92d.name;if(!name||_92d.disabled){return;}var _92e=_92d.get("value");if(typeof _92d.checked=="boolean"){if(/Radio/.test(_92d.declaredClass)){if(_92e!==false){lang.setObject(name,_92e,obj);}else{_92e=lang.getObject(name,false,obj);if(_92e===undefined){lang.setObject(name,null,obj);}}}else{var ary=lang.getObject(name,false,obj);if(!ary){ary=[];lang.setObject(name,ary,obj);}if(_92e!==false){ary.push(_92e);}}}else{var prev=lang.getObject(name,false,obj);if(typeof prev!="undefined"){if(lang.isArray(prev)){prev.push(_92e);}else{lang.setObject(name,[prev,_92e],obj);}}else{lang.setObject(name,_92e,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(){},_getState:function(){var _92f=_91f.map(this._descendants,function(w){return w.get("state")||"";});return _91f.indexOf(_92f,"Error")>=0?"Error":_91f.indexOf(_92f,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){},connectChildren:function(_930){this._descendants=this._getDescendantFormWidgets();_91f.forEach(this._descendants,function(_931){if(!_931._started){_931.startup();}});if(!_930){this._onChildChange();}},_onChildChange:function(attr){if(!attr||attr=="state"||attr=="disabled"){this._set("state",this._getState());}if(!attr||attr=="value"||attr=="disabled"||attr=="checked"){if(this._onChangeDelayTimer){this._onChangeDelayTimer.remove();}this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"));},10);}},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var self=this;this.own(on(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(evt){if(evt.target==self.domNode){return;}self._onChildChange(evt.type.replace("attrmodified-",""));}));this.watch("state",function(attr,_932,_933){this.onValidStateChange(_933=="");});},destroy:function(){this.inherited(arguments);}});});},"dojox/html/entities":function(){define(["dojo/_base/lang"],function(lang){var dhe=lang.getObject("dojox.html.entities",true);var _934=function(str,map){var _935,_936;if(map._encCache&&map._encCache.regexp&&map._encCache.mapper&&map.length==map._encCache.length){_935=map._encCache.mapper;_936=map._encCache.regexp;}else{_935={};_936=["["];var i;for(i=0;i<map.length;i++){_935[map[i][0]]="&"+map[i][1]+";";_936.push(map[i][0]);}_936.push("]");_936=new RegExp(_936.join(""),"g");map._encCache={mapper:_935,regexp:_936,length:map.length};}str=str.replace(_936,function(c){return _935[c];});return str;};var _937=function(str,map){var _938,_939;if(map._decCache&&map._decCache.regexp&&map._decCache.mapper&&map.length==map._decCache.length){_938=map._decCache.mapper;_939=map._decCache.regexp;}else{_938={};_939=["("];var i;for(i=0;i<map.length;i++){var e="&"+map[i][1]+";";if(i){_939.push("|");}_938[e]=map[i][0];_939.push(e);}_939.push(")");_939=new RegExp(_939.join(""),"g");map._decCache={mapper:_938,regexp:_939,length:map.length};}str=str.replace(_939,function(c){return _938[c];});return str;};dhe.html=[["&","amp"],["\"","quot"],["<","lt"],[">","gt"],[" ","nbsp"]];dhe.latin=[["¡","iexcl"],["¢","cent"],["£","pound"],["€","euro"],["¤","curren"],["¥","yen"],["¦","brvbar"],["§","sect"],["¨","uml"],["©","copy"],["ª","ordf"],["«","laquo"],["¬","not"],["­","shy"],["®","reg"],["¯","macr"],["°","deg"],["±","plusmn"],["²","sup2"],["³","sup3"],["´","acute"],["µ","micro"],["¶","para"],["·","middot"],["¸","cedil"],["¹","sup1"],["º","ordm"],["»","raquo"],["¼","frac14"],["½","frac12"],["¾","frac34"],["¿","iquest"],["À","Agrave"],["Á","Aacute"],["Â","Acirc"],["Ã","Atilde"],["Ä","Auml"],["Å","Aring"],["Æ","AElig"],["Ç","Ccedil"],["È","Egrave"],["É","Eacute"],["Ê","Ecirc"],["Ë","Euml"],["Ì","Igrave"],["Í","Iacute"],["Î","Icirc"],["Ï","Iuml"],["Ð","ETH"],["Ñ","Ntilde"],["Ò","Ograve"],["Ó","Oacute"],["Ô","Ocirc"],["Õ","Otilde"],["Ö","Ouml"],["×","times"],["Ø","Oslash"],["Ù","Ugrave"],["Ú","Uacute"],["Û","Ucirc"],["Ü","Uuml"],["Ý","Yacute"],["Þ","THORN"],["ß","szlig"],["à","agrave"],["á","aacute"],["â","acirc"],["ã","atilde"],["ä","auml"],["å","aring"],["æ","aelig"],["ç","ccedil"],["è","egrave"],["é","eacute"],["ê","ecirc"],["ë","euml"],["ì","igrave"],["í","iacute"],["î","icirc"],["ï","iuml"],["ð","eth"],["ñ","ntilde"],["ò","ograve"],["ó","oacute"],["ô","ocirc"],["õ","otilde"],["ö","ouml"],["÷","divide"],["ø","oslash"],["ù","ugrave"],["ú","uacute"],["û","ucirc"],["ü","uuml"],["ý","yacute"],["þ","thorn"],["ÿ","yuml"],["ƒ","fnof"],["Α","Alpha"],["Β","Beta"],["Γ","Gamma"],["Δ","Delta"],["Ε","Epsilon"],["Ζ","Zeta"],["Η","Eta"],["Θ","Theta"],["Ι","Iota"],["Κ","Kappa"],["Λ","Lambda"],["Μ","Mu"],["Ν","Nu"],["Ξ","Xi"],["Ο","Omicron"],["Π","Pi"],["Ρ","Rho"],["Σ","Sigma"],["Τ","Tau"],["Υ","Upsilon"],["Φ","Phi"],["Χ","Chi"],["Ψ","Psi"],["Ω","Omega"],["α","alpha"],["β","beta"],["γ","gamma"],["δ","delta"],["ε","epsilon"],["ζ","zeta"],["η","eta"],["θ","theta"],["ι","iota"],["κ","kappa"],["λ","lambda"],["μ","mu"],["ν","nu"],["ξ","xi"],["ο","omicron"],["π","pi"],["ρ","rho"],["ς","sigmaf"],["σ","sigma"],["τ","tau"],["υ","upsilon"],["φ","phi"],["χ","chi"],["ψ","psi"],["ω","omega"],["ϑ","thetasym"],["ϒ","upsih"],["ϖ","piv"],["•","bull"],["…","hellip"],["′","prime"],["″","Prime"],["‾","oline"],["⁄","frasl"],["℘","weierp"],["ℑ","image"],["ℜ","real"],["™","trade"],["ℵ","alefsym"],["←","larr"],["↑","uarr"],["→","rarr"],["↓","darr"],["↔","harr"],["↵","crarr"],["⇐","lArr"],["⇑","uArr"],["⇒","rArr"],["⇓","dArr"],["⇔","hArr"],["∀","forall"],["∂","part"],["∃","exist"],["∅","empty"],["∇","nabla"],["∈","isin"],["∉","notin"],["∋","ni"],["∏","prod"],["∑","sum"],["−","minus"],["∗","lowast"],["√","radic"],["∝","prop"],["∞","infin"],["∠","ang"],["∧","and"],["∨","or"],["∩","cap"],["∪","cup"],["∫","int"],["∴","there4"],["∼","sim"],["≅","cong"],["≈","asymp"],["≠","ne"],["≡","equiv"],["≤","le"],["≥","ge"],["⊂","sub"],["⊃","sup"],["⊄","nsub"],["⊆","sube"],["⊇","supe"],["⊕","oplus"],["⊗","otimes"],["⊥","perp"],["⋅","sdot"],["⌈","lceil"],["⌉","rceil"],["⌊","lfloor"],["⌋","rfloor"],["〈","lang"],["〉","rang"],["◊","loz"],["♠","spades"],["♣","clubs"],["♥","hearts"],["♦","diams"],["Œ","OElig"],["œ","oelig"],["Š","Scaron"],["š","scaron"],["Ÿ","Yuml"],["ˆ","circ"],["˜","tilde"],[" ","ensp"],[" ","emsp"],[" ","thinsp"],["‌","zwnj"],["‍","zwj"],["‎","lrm"],["‏","rlm"],["–","ndash"],["—","mdash"],["‘","lsquo"],["’","rsquo"],["‚","sbquo"],["“","ldquo"],["”","rdquo"],["„","bdquo"],["†","dagger"],["‡","Dagger"],["‰","permil"],["‹","lsaquo"],["›","rsaquo"]];dhe.encode=function(str,m){if(str){if(!m){str=_934(str,dhe.html);str=_934(str,dhe.latin);}else{str=_934(str,m);}}return str;};dhe.decode=function(str,m){if(str){if(!m){str=_937(str,dhe.html);str=_937(str,dhe.latin);}else{str=_937(str,m);}}return str;};return dhe;});},"dojox/editor/plugins/EntityPalette":function(){define(["dojo","dijit","dojox","dijit/_Widget","dijit/_TemplatedMixin","dijit/_PaletteMixin","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/i18n!dojox/editor/plugins/nls/latinEntities"],function(dojo,_93a,_93b,_93c,_93d,_93e){dojo.experimental("dojox.editor.plugins.EntityPalette");var _93f=dojo.declare("dojox.editor.plugins.EntityPalette",[_93c,_93d,_93e],{templateString:"<div class=\"dojoxEntityPalette\">\n"+"\t<table>\n"+"\t\t<tbody>\n"+"\t\t\t<tr>\n"+"\t\t\t\t<td>\n"+"\t\t\t\t\t<table class=\"dijitPaletteTable\">\n"+"\t\t\t\t\t\t<tbody dojoAttachPoint=\"gridNode\"></tbody>\n"+"\t\t\t\t   </table>\n"+"\t\t\t\t</td>\n"+"\t\t\t</tr>\n"+"\t\t\t<tr>\n"+"\t\t\t\t<td>\n"+"\t\t\t\t\t<table dojoAttachPoint=\"previewPane\" class=\"dojoxEntityPalettePreviewTable\">\n"+"\t\t\t\t\t\t<tbody>\n"+"\t\t\t\t\t\t\t<tr>\n"+"\t\t\t\t\t\t\t\t<th class=\"dojoxEntityPalettePreviewHeader\">Preview</th>\n"+"\t\t\t\t\t\t\t\t<th class=\"dojoxEntityPalettePreviewHeader\" dojoAttachPoint=\"codeHeader\">Code</th>\n"+"\t\t\t\t\t\t\t\t<th class=\"dojoxEntityPalettePreviewHeader\" dojoAttachPoint=\"entityHeader\">Name</th>\n"+"\t\t\t\t\t\t\t\t<th class=\"dojoxEntityPalettePreviewHeader\">Description</th>\n"+"\t\t\t\t\t\t\t</tr>\n"+"\t\t\t\t\t\t\t<tr>\n"+"\t\t\t\t\t\t\t\t<td class=\"dojoxEntityPalettePreviewDetailEntity\" dojoAttachPoint=\"previewNode\"></td>\n"+"\t\t\t\t\t\t\t\t<td class=\"dojoxEntityPalettePreviewDetail\" dojoAttachPoint=\"codeNode\"></td>\n"+"\t\t\t\t\t\t\t\t<td class=\"dojoxEntityPalettePreviewDetail\" dojoAttachPoint=\"entityNode\"></td>\n"+"\t\t\t\t\t\t\t\t<td class=\"dojoxEntityPalettePreviewDetail\" dojoAttachPoint=\"descNode\"></td>\n"+"\t\t\t\t\t\t\t</tr>\n"+"\t\t\t\t\t\t</tbody>\n"+"\t\t\t\t\t</table>\n"+"\t\t\t\t</td>\n"+"\t\t\t</tr>\n"+"\t\t</tbody>\n"+"\t</table>\n"+"</div>",baseClass:"dojoxEntityPalette",showPreview:true,showCode:false,showEntityName:false,palette:"latin",dyeClass:"dojox.editor.plugins.LatinEntity",paletteClass:"editorLatinEntityPalette",cellClass:"dojoxEntityPaletteCell",postMixInProperties:function(){var _940=dojo.i18n.getLocalization("dojox.editor.plugins","latinEntities");var _941=0;var _942;for(_942 in _940){_941++;}var _943=Math.floor(Math.sqrt(_941));var _944=_943;var _945=0;var rows=[];var row=[];for(_942 in _940){_945++;row.push(_942);if(_945%_944===0){rows.push(row);row=[];}}if(row.length>0){rows.push(row);}this._palette=rows;},buildRendering:function(){this.inherited(arguments);var i18n=dojo.i18n.getLocalization("dojox.editor.plugins","latinEntities");this._preparePalette(this._palette,i18n);var _946=dojo.query(".dojoxEntityPaletteCell",this.gridNode);dojo.forEach(_946,function(_947){this.connect(_947,"onmouseenter","_onCellMouseEnter");},this);},_onCellMouseEnter:function(e){this._displayDetails(e.target);},postCreate:function(){this.inherited(arguments);dojo.style(this.codeHeader,"display",this.showCode?"":"none");dojo.style(this.codeNode,"display",this.showCode?"":"none");dojo.style(this.entityHeader,"display",this.showEntityName?"":"none");dojo.style(this.entityNode,"display",this.showEntityName?"":"none");if(!this.showPreview){dojo.style(this.previewNode,"display","none");}},_setCurrent:function(node){this.inherited(arguments);if(this.showPreview){this._displayDetails(node);}},_displayDetails:function(cell){var dye=this._getDye(cell);if(dye){var _948=dye.getValue();var _949=dye._alias;this.previewNode.innerHTML=_948;this.codeNode.innerHTML="&amp;#"+parseInt(_948.charCodeAt(0),10)+";";this.entityNode.innerHTML="&amp;"+_949+";";var i18n=dojo.i18n.getLocalization("dojox.editor.plugins","latinEntities");this.descNode.innerHTML=i18n[_949].replace("\n","<br>");}else{this.previewNode.innerHTML="";this.codeNode.innerHTML="";this.entityNode.innerHTML="";this.descNode.innerHTML="";}}});_93f.LatinEntity=dojo.declare("dojox.editor.plugins.LatinEntity",null,{constructor:function(_94a){this._alias=_94a;},getValue:function(){return "&"+this._alias+";";},fillCell:function(cell){cell.innerHTML=this.getValue();}});return _93f;});},"dijit/_PaletteMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","./_CssStateMixin","./a11yclick","./focus","./typematic"],function(_94b,_94c,_94d,_94e,keys,lang,on,_94f,_950,_951,_952){var _953=_94b("dijit._PaletteMixin",_94f,{defaultTimeout:500,timeoutChangeRate:0.9,value:"",_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",dyeClass:null,_dyeFactory:function(_954){var _955=typeof this.dyeClass=="string"?lang.getObject(this.dyeClass):this.dyeClass;return new _955(_954);},_preparePalette:function(_956,_957){this._cells=[];var url=this._blankGif;this.own(on(this.gridNode,_950,lang.hitch(this,"_onCellClick")));for(var row=0;row<_956.length;row++){var _958=_94e.create("tr",{tabIndex:"-1",role:"row"},this.gridNode);for(var col=0;col<_956[row].length;col++){var _959=_956[row][col];if(_959){var _95a=this._dyeFactory(_959,row,col,_957[_959]);var _95b=_94e.create("td",{"class":this.cellClass,tabIndex:"-1",title:_957[_959],role:"gridcell"},_958);_95a.fillCell(_95b,url);_95b.idx=this._cells.length;this._cells.push({node:_95b,dye:_95a});}}}this._xDim=_956[0].length;this._yDim=_956.length;var _95c={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,LEFT_ARROW:this.isLeftToRight()?-1:1};for(var key in _95c){this.own(_952.addKeyListener(this.domNode,{keyCode:keys[key],ctrlKey:false,altKey:false,shiftKey:false},this,function(){var _95d=_95c[key];return function(_95e){this._navigateByKey(_95d,_95e);};}(),this.timeoutChangeRate,this.defaultTimeout));}},postCreate:function(){this.inherited(arguments);this._setCurrent(this._cells[0].node);},focus:function(){_951.focus(this._currentFocus);},_onCellClick:function(evt){var _95f=evt.target;while(_95f.tagName!="TD"){if(!_95f.parentNode||_95f==this.gridNode){return;}_95f=_95f.parentNode;}var _960=this._getDye(_95f).getValue();this._setCurrent(_95f);_951.focus(_95f);this._setValueAttr(_960,true);evt.stopPropagation();evt.preventDefault();},_setCurrent:function(node){if("_currentFocus" in this){_94c.set(this._currentFocus,"tabIndex","-1");}this._currentFocus=node;if(node){_94c.set(node,"tabIndex",this.tabIndex);}},_setValueAttr:function(_961,_962){if(this._selectedCell>=0){_94d.remove(this._cells[this._selectedCell].node,this.cellClass+"Selected");}this._selectedCell=-1;if(_961){for(var i=0;i<this._cells.length;i++){if(_961==this._cells[i].dye.getValue()){this._selectedCell=i;_94d.add(this._cells[i].node,this.cellClass+"Selected");break;}}}this._set("value",this._selectedCell>=0?_961:null);if(_962||_962===undefined){this.onChange(_961);}},onChange:function(){},_navigateByKey:function(_963,_964){if(_964==-1){return;}var _965=this._currentFocus.idx+_963;if(_965<this._cells.length&&_965>-1){var _966=this._cells[_965].node;this._setCurrent(_966);this.defer(lang.hitch(_951,"focus",_966));}},_getDye:function(cell){return this._cells[cell.idx].dye;}});return _953;});},"dijit/typematic":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(_967,_968,lang,on,has,_969){var _96a=(_969.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_96b,node,_96c,obj,_96d,_96e,_96f){if(obj!=this._obj){this.stop();this._initialDelay=_96e||500;this._subsequentDelay=_96d||0.9;this._minDelay=_96f||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_96b,_96c);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_970,_971,_972,_973,_974,_975){var type="keyCode" in _970?"keydown":"charCode" in _970?"keypress":_968._keypress,attr="keyCode" in _970?"keyCode":"charCode" in _970?"charCode":"charOrCode";var _976=[on(node,type,lang.hitch(this,function(evt){if(evt[attr]==_970[attr]&&(_970.ctrlKey===undefined||_970.ctrlKey==evt.ctrlKey)&&(_970.altKey===undefined||_970.altKey==evt.altKey)&&(_970.metaKey===undefined||_970.metaKey==(evt.metaKey||false))&&(_970.shiftKey===undefined||_970.shiftKey==evt.shiftKey)){evt.stopPropagation();evt.preventDefault();_96a.trigger(evt,_971,node,_972,_970,_973,_974,_975);}else{if(_96a._obj==_970){_96a.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_96a._obj==_970){_96a.stop();}}))];return {remove:function(){_967.forEach(_976,function(h){h.remove();});}};},addMouseListener:function(node,_977,_978,_979,_97a,_97b){var _97c=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_96a.trigger(evt,_977,node,_978,node,_979,_97a,_97b);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_96a.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_96a.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_96a.trigger(evt,_977,node,_978,node,_979,_97a,_97b);setTimeout(lang.hitch(this,_96a.stop),50);}}))];return {remove:function(){_967.forEach(_97c,function(h){h.remove();});}};},addListener:function(_97d,_97e,_97f,_980,_981,_982,_983,_984){var _985=[this.addKeyListener(_97e,_97f,_980,_981,_982,_983,_984),this.addMouseListener(_97d,_980,_981,_982,_983,_984)];return {remove:function(){_967.forEach(_985,function(h){h.remove();});}};}});return _96a;});},"dojox/editor/plugins/Preview":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/form/Button","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/i18n!dojox/editor/plugins/nls/Preview"],function(dojo,_986,_987,_988){var _989=dojo.declare("dojox.editor.plugins.Preview",_988,{useDefaultCommand:false,styles:"",stylesheets:null,iconClassPrefix:"dijitAdditionalEditorIcon",_initButton:function(){this._nlsResources=dojo.i18n.getLocalization("dojox.editor.plugins","Preview");this.button=new _986.form.Button({label:this._nlsResources["preview"],showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"Preview",tabIndex:"-1",onClick:dojo.hitch(this,"_preview")});},setEditor:function(_98a){this.editor=_98a;this._initButton();},updateState:function(){this.button.set("disabled",this.get("disabled"));},_preview:function(){try{var _98b=this.editor.get("value");var head="\t\t<meta http-equiv='Content-Type' content='text/html; charset=UTF-8'>\n";var i;if(this.stylesheets){for(i=0;i<this.stylesheets.length;i++){head+="\t\t<link rel='stylesheet' type='text/css' href='"+this.stylesheets[i]+"'>\n";}}if(this.styles){head+=("\t\t<style>"+this.styles+"</style>\n");}_98b="<html>\n\t<head>\n"+head+"\t</head>\n\t<body>\n"+_98b+"\n\t</body>\n</html>";var win=window.open("javascript: ''",this._nlsResources["preview"],"status=1,menubar=0,location=0,toolbar=0");win.document.open();win.document.write(_98b);win.document.close();}catch(e){console.warn(e);}}});dojo.subscribe(_986._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="preview"){o.plugin=new _989({styles:("styles" in o.args)?o.args.styles:"",stylesheets:("stylesheets" in o.args)?o.args.stylesheets:null});}});return _989;});},"dojox/editor/plugins/PageBreak":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/form/Button","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/i18n!dojox/editor/plugins/nls/PageBreak"],function(dojo,_98c,_98d,_98e){var _98f=dojo.declare("dojox.editor.plugins.PageBreak",_98e,{useDefaultCommand:false,iconClassPrefix:"dijitAdditionalEditorIcon",_unbreakableNodes:["li","ul","ol"],_pbContent:"<hr style='page-break-after: always;' class='dijitEditorPageBreak'>",_initButton:function(){var ed=this.editor;var _990=dojo.i18n.getLocalization("dojox.editor.plugins","PageBreak");this.button=new _98c.form.Button({label:_990["pageBreak"],showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"PageBreak",tabIndex:"-1",onClick:dojo.hitch(this,"_insertPageBreak")});ed.onLoadDeferred.addCallback(dojo.hitch(this,function(){ed.addKeyHandler(dojo.keys.ENTER,true,true,dojo.hitch(this,this._insertPageBreak));if(dojo.isWebKit||dojo.isOpera){this.connect(this.editor,"onKeyDown",dojo.hitch(this,function(e){if((e.keyCode===dojo.keys.ENTER)&&e.ctrlKey&&e.shiftKey){this._insertPageBreak();}}));}}));},updateState:function(){this.button.set("disabled",this.get("disabled"));},setEditor:function(_991){this.editor=_991;this._initButton();},_style:function(){if(!this._styled){this._styled=true;var doc=this.editor.document;var _992=".dijitEditorPageBreak {\n"+"\tborder-top-style: solid;\n"+"\tborder-top-width: 3px;\n"+"\tborder-top-color: #585858;\n"+"\tborder-bottom-style: solid;\n"+"\tborder-bottom-width: 1px;\n"+"\tborder-bottom-color: #585858;\n"+"\tborder-left-style: solid;\n"+"\tborder-left-width: 1px;\n"+"\tborder-left-color: #585858;\n"+"\tborder-right-style: solid;\n"+"\tborder-right-width: 1px;\n"+"\tborder-right-color: #585858;\n"+"\tcolor: #A4A4A4;\n"+"\tbackground-color: #A4A4A4;\n"+"\theight: 10px;\n"+"\tpage-break-after: always;\n"+"\tpadding: 0px 0px 0px 0px;\n"+"}\n\n"+"@media print {\n"+"\t.dijitEditorPageBreak { page-break-after: always; "+"background-color: rgba(0,0,0,0); color: rgba(0,0,0,0); "+"border: 0px none rgba(0,0,0,0); display: hidden; "+"width: 0px; height: 0px;}\n"+"}";if(!dojo.isIE){var _993=doc.createElement("style");_993.appendChild(doc.createTextNode(_992));doc.getElementsByTagName("head")[0].appendChild(_993);}else{var ss=doc.createStyleSheet("");ss.cssText=_992;}}},_insertPageBreak:function(){try{if(!this._styled){this._style();}if(this._allowBreak()){this.editor.execCommand("inserthtml",this._pbContent);}}catch(e){console.warn(e);}},_allowBreak:function(){var ed=this.editor;var doc=ed.document;var node=ed._sCall("getSelectedElement",[])||ed._sCall("getParentElement",[]);while(node&&node!==doc.body&&node!==doc.html){if(ed._sCall("isTag",[node,this._unbreakableNodes])){return false;}node=node.parentNode;}return true;}});dojo.subscribe(_98c._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="pagebreak"){o.plugin=new _98f({});}});return _98f;});},"dojox/editor/plugins/PrettyPrint":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dojo/_base/connect","dojo/_base/declare","dojox/html/format"],function(dojo,_994,_995,_996){var _997=dojo.declare("dojox.editor.plugins.PrettyPrint",_996,{indentBy:-1,lineLength:-1,useDefaultCommand:false,entityMap:null,_initButton:function(){delete this.command;},setToolbar:function(_998){},setEditor:function(_999){this.inherited(arguments);var self=this;this.editor.onLoadDeferred.addCallback(function(){self.editor._prettyprint_getValue=self.editor.getValue;self.editor.getValue=function(){var val=self.editor._prettyprint_getValue(arguments);return _995.html.format.prettyPrint(val,self.indentBy,self.lineLength,self.entityMap,self.xhtml);};self.editor._prettyprint_endEditing=self.editor._endEditing;self.editor._prettyprint_onBlur=self.editor._onBlur;self.editor._endEditing=function(_99a){var v=self.editor._prettyprint_getValue(true);self.editor._undoedSteps=[];self.editor._steps.push({text:v,bookmark:self.editor._getBookmark()});};self.editor._onBlur=function(e){this.inherited("_onBlur",arguments);var _99b=self.editor._prettyprint_getValue(true);if(_99b!=self.editor.savedContent){self.editor.onChange(_99b);self.editor.savedContent=_99b;}};});}});dojo.subscribe(_994._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="prettyprint"){o.plugin=new _997({indentBy:("indentBy" in o.args)?o.args.indentBy:-1,lineLength:("lineLength" in o.args)?o.args.lineLength:-1,entityMap:("entityMap" in o.args)?o.args.entityMap:_995.html.entities.html.concat([["¢","cent"],["£","pound"],["€","euro"],["¥","yen"],["©","copy"],["§","sect"],["…","hellip"],["®","reg"]]),xhtml:("xhtml" in o.args)?o.args.xhtml:false});}});return _997;});},"dojox/html/format":function(){define(["dojo/_base/kernel","./entities","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(lang,_99c,_99d,_99e,has){var dhf=lang.getObject("dojox.html.format",true);dhf.prettyPrint=function(html,_99f,_9a0,map,_9a1){var _9a2=[];var _9a3=0;var _9a4=[];var iTxt="\t";var _9a5="";var _9a6=[];var i;var _9a7=/[=]([^"']+?)(\s|>)/g;var _9a8=/style=("[^"]*"|'[^']*'|\S*)/gi;var _9a9=/[\w-]+=("[^"]*"|'[^']*'|\S*)/gi;if(_99f&&_99f>0&&_99f<10){iTxt="";for(i=0;i<_99f;i++){iTxt+=" ";}}var _9aa=_99e.doc.createElement("div");_9aa.innerHTML=html;var _9ab=_99c.encode;var _9ac=_99c.decode;var _9ad=function(tag){switch(tag){case "a":case "b":case "strong":case "s":case "strike":case "i":case "u":case "em":case "sup":case "sub":case "span":case "font":case "big":case "cite":case "q":case "small":return true;default:return false;}};var div=_9aa.ownerDocument.createElement("div");var _9ae=function(node){var _9af=node.cloneNode(false);div.appendChild(_9af);var html=div.innerHTML;div.innerHTML="";return html;};var _9b0=function(){var i,txt="";for(i=0;i<_9a3;i++){txt+=iTxt;}return txt.length;};var _9b1=function(){var i;for(i=0;i<_9a3;i++){_9a2.push(iTxt);}};var _9b2=function(){_9a2.push("\n");};var _9b3=function(n){_9a5+=_9ab(n.nodeValue,map);};var _9b4=function(txt){var i;var _9b5;var _9b6=txt.split("\n");for(i=0;i<_9b6.length;i++){_9b6[i]=lang.trim(_9b6[i]);}txt=_9b6.join(" ");txt=lang.trim(txt);if(txt!==""){var _9b7=[];if(_9a0&&_9a0>0){var _9b8=_9b0();var _9b9=_9a0;if(_9a0>_9b8){_9b9-=_9b8;}while(txt){if(txt.length>_9a0){for(i=_9b9;(i>0&&txt.charAt(i)!==" ");i--){}if(!i){for(i=_9b9;(i<txt.length&&txt.charAt(i)!==" ");i++){}}var line=txt.substring(0,i);line=lang.trim(line);txt=lang.trim(txt.substring((i==txt.length)?txt.length:i+1,txt.length));if(line){_9b5="";for(i=0;i<_9a3;i++){_9b5+=iTxt;}line=_9b5+line+"\n";}_9b7.push(line);}else{_9b5="";for(i=0;i<_9a3;i++){_9b5+=iTxt;}txt=_9b5+txt+"\n";_9b7.push(txt);txt=null;}}return _9b7.join("");}else{_9b5="";for(i=0;i<_9a3;i++){_9b5+=iTxt;}txt=_9b5+txt+"\n";return txt;}}else{return "";}};var _9ba=function(txt){if(txt){txt=txt.replace(/&quot;/gi,"\"");txt=txt.replace(/&gt;/gi,">");txt=txt.replace(/&lt;/gi,"<");txt=txt.replace(/&amp;/gi,"&");}return txt;};var _9bb=function(txt){if(txt){txt=_9ba(txt);var i,t,c,_9bc;var _9bd=0;var _9be=txt.split("\n");var _9bf=[];for(i=0;i<_9be.length;i++){var line=_9be[i];var _9c0=(line.indexOf("\n")>-1);line=lang.trim(line);if(line){var _9c1=_9bd;for(c=0;c<line.length;c++){var ch=line.charAt(c);if(ch==="{"){_9bd++;}else{if(ch==="}"){_9bd--;_9c1=_9bd;}}}_9bc="";for(t=0;t<_9a3+_9c1;t++){_9bc+=iTxt;}_9bf.push(_9bc+line+"\n");}else{if(_9c0&&i===0){_9bf.push("\n");}}}txt=_9bf.join("");}return txt;};var _9c2=function(node){var name=node.nodeName.toLowerCase();var _9c3=lang.trim(_9ae(node));var tag=_9c3.substring(0,_9c3.indexOf(">")+1);tag=tag.replace(_9a7,"=\"$1\"$2");tag=tag.replace(_9a8,function(_9c4){var sL=_9c4.substring(0,6);var _9c5=_9c4.substring(6,_9c4.length);var _9c6=_9c5.charAt(0);_9c5=lang.trim(_9c5.substring(1,_9c5.length-1));_9c5=_9c5.split(";");var _9c7=[];_99d.forEach(_9c5,function(s){s=lang.trim(s);if(s){s=s.substring(0,s.indexOf(":")).toLowerCase()+s.substring(s.indexOf(":"),s.length);_9c7.push(s);}});_9c7=_9c7.sort();_9c5=_9c7.join("; ");var ts=lang.trim(_9c5);if(!ts||ts===";"){return "";}else{_9c5+=";";return sL+_9c6+_9c5+_9c6;}});var _9c8=[];tag=tag.replace(_9a9,function(attr){_9c8.push(lang.trim(attr));return "";});_9c8=_9c8.sort();tag="<"+name;if(_9c8.length){tag+=" "+_9c8.join(" ");}if(_9c3.indexOf("</")!=-1){_9a4.push(name);tag+=">";}else{if(_9a1){tag+=" />";}else{tag+=">";}_9a4.push(false);}var _9c9=_9ad(name);_9a6.push(_9c9);if(_9a5&&!_9c9){_9a2.push(_9b4(_9a5));_9a5="";}if(!_9c9){_9b1();_9a2.push(tag);_9b2();_9a3++;}else{_9a5+=tag;}};var _9ca=function(){var _9cb=_9a6.pop();if(_9a5&&!_9cb){_9a2.push(_9b4(_9a5));_9a5="";}var ct=_9a4.pop();if(ct){ct="</"+ct+">";if(!_9cb){_9a3--;_9b1();_9a2.push(ct);_9b2();}else{_9a5+=ct;}}else{_9a3--;}};var _9cc=function(n){var _9cd=_9ac(n.nodeValue,map);_9b1();_9a2.push("<!--");_9b2();_9a3++;_9a2.push(_9b4(_9cd));_9a3--;_9b1();_9a2.push("-->");_9b2();};var _9ce=function(node){var _9cf=node.childNodes;if(_9cf){var i;for(i=0;i<_9cf.length;i++){var n=_9cf[i];if(n.nodeType===1){var tg=lang.trim(n.tagName.toLowerCase());if(has("ie")&&n.parentNode!=node){continue;}if(tg&&tg.charAt(0)==="/"){continue;}else{_9c2(n);if(tg==="script"){_9a2.push(_9bb(n.innerHTML));}else{if(tg==="pre"){var _9d0=n.innerHTML;if(has("mozilla")){_9d0=_9d0.replace("<br>","\n");_9d0=_9d0.replace("<pre>","");_9d0=_9d0.replace("</pre>","");}if(_9d0.charAt(_9d0.length-1)!=="\n"){_9d0+="\n";}_9a2.push(_9d0);}else{_9ce(n);}}_9ca();}}else{if(n.nodeType===3||n.nodeType===4){_9b3(n);}else{if(n.nodeType===8){_9cc(n);}}}}}};_9ce(_9aa);if(_9a5){_9a2.push(_9b4(_9a5));_9a5="";}return _9a2.join("");};return dhf;});},"dojox/editor/plugins/NormalizeIndentOutdent":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dojo/_base/declare"],function(dojo,_9d1,_9d2,_9d3){var _9d4=dojo.declare("dojox.editor.plugins.NormalizeIndentOutdent",_9d3,{indentBy:40,indentUnits:"px",setEditor:function(_9d5){this.editor=_9d5;_9d5._indentImpl=dojo.hitch(this,this._indentImpl);_9d5._outdentImpl=dojo.hitch(this,this._outdentImpl);if(!_9d5._indentoutdent_queryCommandEnabled){_9d5._indentoutdent_queryCommandEnabled=_9d5.queryCommandEnabled;}_9d5.queryCommandEnabled=dojo.hitch(this,this._queryCommandEnabled);_9d5.customUndo=true;},_queryCommandEnabled:function(_9d6){var c=_9d6.toLowerCase();var ed,sel,_9d7,node,tag,_9d8;var _9d9="marginLeft";if(!this._isLtr()){_9d9="marginRight";}if(c==="indent"){ed=this.editor;sel=_9d1.range.getSelection(ed.window);if(sel&&sel.rangeCount>0){_9d7=sel.getRangeAt(0);node=_9d7.startContainer;while(node&&node!==ed.document&&node!==ed.editNode){tag=this._getTagName(node);if(tag==="li"){_9d8=node.previousSibling;while(_9d8&&_9d8.nodeType!==1){_9d8=_9d8.previousSibling;}if(_9d8&&this._getTagName(_9d8)==="li"){return true;}else{return false;}}else{if(this._isIndentableElement(tag)){return true;}}node=node.parentNode;}if(this._isRootInline(_9d7.startContainer)){return true;}}}else{if(c==="outdent"){ed=this.editor;sel=_9d1.range.getSelection(ed.window);if(sel&&sel.rangeCount>0){_9d7=sel.getRangeAt(0);node=_9d7.startContainer;while(node&&node!==ed.document&&node!==ed.editNode){tag=this._getTagName(node);if(tag==="li"){return this.editor._indentoutdent_queryCommandEnabled(_9d6);}else{if(this._isIndentableElement(tag)){var _9da=node.style?node.style[_9d9]:"";if(_9da){_9da=this._convertIndent(_9da);if(_9da/this.indentBy>=1){return true;}}return false;}}node=node.parentNode;}if(this._isRootInline(_9d7.startContainer)){return false;}}}else{return this.editor._indentoutdent_queryCommandEnabled(_9d6);}}return false;},_indentImpl:function(html){var ed=this.editor;var sel=_9d1.range.getSelection(ed.window);if(sel&&sel.rangeCount>0){var _9db=sel.getRangeAt(0);var node=_9db.startContainer;var tag,_9dc,end,div;if(_9db.startContainer===_9db.endContainer){if(this._isRootInline(_9db.startContainer)){_9dc=_9db.startContainer;while(_9dc&&_9dc.parentNode!==ed.editNode){_9dc=_9dc.parentNode;}while(_9dc&&_9dc.previousSibling&&(this._isTextElement(_9dc)||(_9dc.nodeType===1&&this._isInlineFormat(this._getTagName(_9dc))))){_9dc=_9dc.previousSibling;}if(_9dc&&_9dc.nodeType===1&&!this._isInlineFormat(this._getTagName(_9dc))){_9dc=_9dc.nextSibling;}if(_9dc){div=ed.document.createElement("div");dojo.place(div,_9dc,"after");div.appendChild(_9dc);end=div.nextSibling;while(end&&(this._isTextElement(end)||(end.nodeType===1&&this._isInlineFormat(this._getTagName(end))))){div.appendChild(end);end=div.nextSibling;}this._indentElement(div);ed._sCall("selectElementChildren",[div]);ed._sCall("collapse",[true]);}}else{while(node&&node!==ed.document&&node!==ed.editNode){tag=this._getTagName(node);if(tag==="li"){this._indentList(node);return;}else{if(this._isIndentableElement(tag)){this._indentElement(node);return;}}node=node.parentNode;}}}else{var _9dd;_9dc=_9db.startContainer;end=_9db.endContainer;while(_9dc&&this._isTextElement(_9dc)&&_9dc.parentNode!==ed.editNode){_9dc=_9dc.parentNode;}while(end&&this._isTextElement(end)&&end.parentNode!==ed.editNode){end=end.parentNode;}if(end===ed.editNode||end===ed.document.body){_9dd=_9dc;while(_9dd.nextSibling&&ed._sCall("inSelection",[_9dd])){_9dd=_9dd.nextSibling;}end=_9dd;if(end===ed.editNode||end===ed.document.body){tag=this._getTagName(_9dc);if(tag==="li"){this._indentList(_9dc);}else{if(this._isIndentableElement(tag)){this._indentElement(_9dc);}else{if(this._isTextElement(_9dc)||this._isInlineFormat(tag)){div=ed.document.createElement("div");dojo.place(div,_9dc,"after");var next=_9dc;while(next&&(this._isTextElement(next)||(next.nodeType===1&&this._isInlineFormat(this._getTagName(next))))){div.appendChild(next);next=div.nextSibling;}this._indentElement(div);}}}return;}}end=end.nextSibling;_9dd=_9dc;while(_9dd&&_9dd!==end){if(_9dd.nodeType===1){tag=this._getTagName(_9dd);if(dojo.isIE){if(tag==="p"&&this._isEmpty(_9dd)){_9dd=_9dd.nextSibling;continue;}}if(tag==="li"){if(div){if(this._isEmpty(div)){div.parentNode.removeChild(div);}else{this._indentElement(div);}div=null;}this._indentList(_9dd);}else{if(!this._isInlineFormat(tag)&&this._isIndentableElement(tag)){if(div){if(this._isEmpty(div)){div.parentNode.removeChild(div);}else{this._indentElement(div);}div=null;}_9dd=this._indentElement(_9dd);}else{if(this._isInlineFormat(tag)){if(!div){div=ed.document.createElement("div");dojo.place(div,_9dd,"after");div.appendChild(_9dd);_9dd=div;}else{div.appendChild(_9dd);_9dd=div;}}}}}else{if(this._isTextElement(_9dd)){if(!div){div=ed.document.createElement("div");dojo.place(div,_9dd,"after");div.appendChild(_9dd);_9dd=div;}else{div.appendChild(_9dd);_9dd=div;}}}_9dd=_9dd.nextSibling;}if(div){if(this._isEmpty(div)){div.parentNode.removeChild(div);}else{this._indentElement(div);}div=null;}}}},_indentElement:function(node){var _9de="marginLeft";if(!this._isLtr()){_9de="marginRight";}var tag=this._getTagName(node);if(tag==="ul"||tag==="ol"){var div=this.editor.document.createElement("div");dojo.place(div,node,"after");div.appendChild(node);node=div;}var _9df=node.style?node.style[_9de]:"";if(_9df){_9df=this._convertIndent(_9df);_9df=(parseInt(_9df,10)+this.indentBy)+this.indentUnits;}else{_9df=this.indentBy+this.indentUnits;}dojo.style(node,_9de,_9df);return node;},_outdentElement:function(node){var _9e0="marginLeft";if(!this._isLtr()){_9e0="marginRight";}var _9e1=node.style?node.style[_9e0]:"";if(_9e1){_9e1=this._convertIndent(_9e1);if(_9e1-this.indentBy>0){_9e1=(parseInt(_9e1,10)-this.indentBy)+this.indentUnits;}else{_9e1="";}dojo.style(node,_9e0,_9e1);}},_outdentImpl:function(html){var ed=this.editor;var sel=_9d1.range.getSelection(ed.window);if(sel&&sel.rangeCount>0){var _9e2=sel.getRangeAt(0);var node=_9e2.startContainer;var tag;if(_9e2.startContainer===_9e2.endContainer){while(node&&node!==ed.document&&node!==ed.editNode){tag=this._getTagName(node);if(tag==="li"){return this._outdentList(node);}else{if(this._isIndentableElement(tag)){return this._outdentElement(node);}}node=node.parentNode;}ed.document.execCommand("outdent",false,html);}else{var _9e3=_9e2.startContainer;var end=_9e2.endContainer;while(_9e3&&_9e3.nodeType===3){_9e3=_9e3.parentNode;}while(end&&end.nodeType===3){end=end.parentNode;}end=end.nextSibling;var _9e4=_9e3;while(_9e4&&_9e4!==end){if(_9e4.nodeType===1){tag=this._getTagName(_9e4);if(tag==="li"){this._outdentList(_9e4);}else{if(this._isIndentableElement(tag)){this._outdentElement(_9e4);}}}_9e4=_9e4.nextSibling;}}}return null;},_indentList:function(_9e5){var ed=this.editor;var _9e6,li;var _9e7=_9e5.parentNode;var _9e8=_9e5.previousSibling;while(_9e8&&_9e8.nodeType!==1){_9e8=_9e8.previousSibling;}var type=null;var tg=this._getTagName(_9e7);if(tg==="ol"){type="ol";}else{if(tg==="ul"){type="ul";}}if(type){if(_9e8&&_9e8.tagName.toLowerCase()=="li"){var _9e9;if(_9e8.childNodes){var i;for(i=0;i<_9e8.childNodes.length;i++){var n=_9e8.childNodes[i];if(n.nodeType===3){if(dojo.trim(n.nodeValue)){if(_9e9){break;}}}else{if(n.nodeType===1&&!_9e9){if(type===n.tagName.toLowerCase()){_9e9=n;}}else{break;}}}}if(_9e9){_9e9.appendChild(_9e5);}else{_9e6=ed.document.createElement(type);dojo.style(_9e6,{paddingTop:"0px",paddingBottom:"0px"});li=ed.document.createElement("li");dojo.style(li,{listStyleImage:"none",listStyleType:"none"});_9e8.appendChild(_9e6);_9e6.appendChild(_9e5);}ed._sCall("selectElementChildren",[_9e5]);ed._sCall("collapse",[true]);}}},_outdentList:function(_9ea){var ed=this.editor;var list=_9ea.parentNode;var type=null;var tg=list.tagName?list.tagName.toLowerCase():"";var li;if(tg==="ol"){type="ol";}else{if(tg==="ul"){type="ul";}}var _9eb=list.parentNode;var lpTg=this._getTagName(_9eb);if(lpTg==="li"||lpTg==="ol"||lpTg==="ul"){if(lpTg==="ol"||lpTg==="ul"){var _9ec=list.previousSibling;while(_9ec&&(_9ec.nodeType!==1||(_9ec.nodeType===1&&this._getTagName(_9ec)!=="li"))){_9ec=_9ec.previousSibling;}if(_9ec){_9ec.appendChild(list);_9eb=_9ec;}else{li=_9ea;var _9ed=_9ea;while(li.previousSibling){li=li.previousSibling;if(li.nodeType===1&&this._getTagName(li)==="li"){_9ed=li;}}if(_9ed!==_9ea){dojo.place(_9ed,list,"before");_9ed.appendChild(list);_9eb=_9ed;}else{li=ed.document.createElement("li");dojo.place(li,list,"before");li.appendChild(list);_9eb=li;}dojo.style(list,{paddingTop:"0px",paddingBottom:"0px"});}}var _9ee=_9ea.previousSibling;while(_9ee&&_9ee.nodeType!==1){_9ee=_9ee.previousSibling;}var _9ef=_9ea.nextSibling;while(_9ef&&_9ef.nodeType!==1){_9ef=_9ef.nextSibling;}if(!_9ee){dojo.place(_9ea,_9eb,"after");_9ea.appendChild(list);}else{if(!_9ef){dojo.place(_9ea,_9eb,"after");}else{var _9f0=ed.document.createElement(type);dojo.style(_9f0,{paddingTop:"0px",paddingBottom:"0px"});_9ea.appendChild(_9f0);while(_9ea.nextSibling){_9f0.appendChild(_9ea.nextSibling);}dojo.place(_9ea,_9eb,"after");}}if(list&&this._isEmpty(list)){list.parentNode.removeChild(list);}if(_9eb&&this._isEmpty(_9eb)){_9eb.parentNode.removeChild(_9eb);}ed._sCall("selectElementChildren",[_9ea]);ed._sCall("collapse",[true]);}else{ed.document.execCommand("outdent",false,null);}},_isEmpty:function(node){if(node.childNodes){var _9f1=true;var i;for(i=0;i<node.childNodes.length;i++){var n=node.childNodes[i];if(n.nodeType===1){if(this._getTagName(n)==="p"){if(!dojo.trim(n.innerHTML)){continue;}}_9f1=false;break;}else{if(this._isTextElement(n)){var nv=dojo.trim(n.nodeValue);if(nv&&nv!=="&nbsp;"&&nv!==" "){_9f1=false;break;}}else{_9f1=false;break;}}}return _9f1;}else{return true;}},_isIndentableElement:function(tag){switch(tag){case "p":case "div":case "h1":case "h2":case "h3":case "center":case "table":case "ul":case "ol":return true;default:return false;}},_convertIndent:function(_9f2){var _9f3=12;_9f2=_9f2+"";_9f2=_9f2.toLowerCase();var _9f4=(_9f2.indexOf("px")>0)?"px":(_9f2.indexOf("em")>0)?"em":"px";_9f2=_9f2.replace(/(px;?|em;?)/gi,"");if(_9f4==="px"){if(this.indentUnits==="em"){_9f2=Math.ceil(_9f2/_9f3);}}else{if(this.indentUnits==="px"){_9f2=_9f2*_9f3;}}return _9f2;},_isLtr:function(){var _9f5=this.editor.document.body;var cs=dojo.getComputedStyle(_9f5);return cs?cs.direction=="ltr":true;},_isInlineFormat:function(tag){switch(tag){case "a":case "b":case "strong":case "s":case "strike":case "i":case "u":case "em":case "sup":case "sub":case "span":case "font":case "big":case "cite":case "q":case "img":case "small":return true;default:return false;}},_getTagName:function(node){var tag="";if(node&&node.nodeType===1){tag=node.tagName?node.tagName.toLowerCase():"";}return tag;},_isRootInline:function(node){var ed=this.editor;if(this._isTextElement(node)&&node.parentNode===ed.editNode){return true;}else{if(node.nodeType===1&&this._isInlineFormat(node)&&node.parentNode===ed.editNode){return true;}else{if(this._isTextElement(node)&&this._isInlineFormat(this._getTagName(node.parentNode))){node=node.parentNode;while(node&&node!==ed.editNode&&this._isInlineFormat(this._getTagName(node))){node=node.parentNode;}if(node===ed.editNode){return true;}}}}return false;},_isTextElement:function(node){if(node&&node.nodeType===3||node.nodeType===4){return true;}return false;}});dojo.subscribe(_9d1._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="normalizeindentoutdent"){o.plugin=new _9d4({indentBy:("indentBy" in o.args)?(o.args.indentBy>0?o.args.indentBy:40):40,indentUnits:("indentUnits" in o.args)?(o.args.indentUnits.toLowerCase()=="em"?"em":"px"):"px"});}});return _9d4;});},"dojox/editor/plugins/FindReplace":function(){define(["dojo","dijit","dojox","dijit/_base/manager","dijit/_base/popup","dijit/_Widget","dijit/_TemplatedMixin","dijit/_KeyNavContainer","dijit/_WidgetsInTemplateMixin","dijit/TooltipDialog","dijit/Toolbar","dijit/form/CheckBox","dijit/form/_TextBoxMixin","dijit/form/TextBox","dijit/_editor/_Plugin","dijit/form/Button","dijit/form/DropDownButton","dijit/form/ToggleButton","./ToolbarLineBreak","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/string","dojo/i18n!dojox/editor/plugins/nls/FindReplace"],function(dojo,_9f6,_9f7,_9f8,_9f9,_9fa,_9fb,_9fc,_9fd,_9fe,_9ff,_a00,_a01,_a02,_a03){dojo.experimental("dojox.editor.plugins.FindReplace");var _a04=dojo.declare("dojox.editor.plugins._FindReplaceCloseBox",[_9fa,_9fb,_9fd],{btnId:"",widget:null,widgetsInTemplate:true,templateString:"<span style='float: right' class='dijitInline' tabindex='-1'>"+"<button class='dijit dijitReset dijitInline' "+"id='${btnId}' dojoAttachPoint='button' dojoType='dijit.form.Button' tabindex='-1' iconClass='dijitEditorIconsFindReplaceClose' showLabel='false'>X</button>"+"</span>",postMixInProperties:function(){this.id=_9f6.getUniqueId(this.declaredClass.replace(/\./g,"_"));this.btnId=this.id+"_close";this.inherited(arguments);},startup:function(){this.connect(this.button,"onClick","onClick");},onClick:function(){}});var _a05=dojo.declare("dojox.editor.plugins._FindReplaceTextBox",[_9fa,_9fb,_9fd],{textId:"",label:"",toolTip:"",widget:null,widgetsInTemplate:true,templateString:"<span style='white-space: nowrap' class='dijit dijitReset dijitInline dijitEditorFindReplaceTextBox' "+"title='${tooltip}' tabindex='-1'>"+"<label class='dijitLeft dijitInline' for='${textId}' tabindex='-1'>${label}</label>"+"<input dojoType='dijit.form.TextBox' intermediateChanges='true' class='focusTextBox' "+"tabIndex='0' id='${textId}' dojoAttachPoint='textBox, focusNode' value='' dojoAttachEvent='onKeyPress: _onKeyPress'/>"+"</span>",postMixInProperties:function(){this.id=_9f6.getUniqueId(this.declaredClass.replace(/\./g,"_"));this.textId=this.id+"_text";this.inherited(arguments);},postCreate:function(){this.textBox.set("value","");this.disabled=this.textBox.get("disabled");this.connect(this.textBox,"onChange","onChange");dojo.attr(this.textBox.textbox,"formnovalidate","true");},_setValueAttr:function(_a06){this.value=_a06;this.textBox.set("value",_a06);},focus:function(){this.textBox.focus();},_setDisabledAttr:function(_a07){this.disabled=_a07;this.textBox.set("disabled",_a07);},onChange:function(val){this.value=val;},_onKeyPress:function(evt){var _a08=0;var end=0;if(evt.target&&!evt.ctrlKey&&!evt.altKey&&!evt.shiftKey){if(evt.keyCode==dojo.keys.LEFT_ARROW){_a08=evt.target.selectionStart;end=evt.target.selectionEnd;if(_a08<end){_9f6.selectInputText(evt.target,_a08,_a08);dojo.stopEvent(evt);}}else{if(evt.keyCode==dojo.keys.RIGHT_ARROW){_a08=evt.target.selectionStart;end=evt.target.selectionEnd;if(_a08<end){_9f6.selectInputText(evt.target,end,end);dojo.stopEvent(evt);}}}}}});var _a09=dojo.declare("dojox.editor.plugins._FindReplaceCheckBox",[_9fa,_9fb,_9fd],{checkId:"",label:"",tooltip:"",widget:null,widgetsInTemplate:true,templateString:"<span style='white-space: nowrap' tabindex='-1' "+"class='dijit dijitReset dijitInline dijitEditorFindReplaceCheckBox' title='${tooltip}' >"+"<input dojoType='dijit.form.CheckBox' "+"tabIndex='0' id='${checkId}' dojoAttachPoint='checkBox, focusNode' value=''/>"+"<label tabindex='-1' class='dijitLeft dijitInline' for='${checkId}'>${label}</label>"+"</span>",postMixInProperties:function(){this.id=_9f6.getUniqueId(this.declaredClass.replace(/\./g,"_"));this.checkId=this.id+"_check";this.inherited(arguments);},postCreate:function(){this.checkBox.set("checked",false);this.disabled=this.checkBox.get("disabled");this.checkBox.isFocusable=function(){return false;};},_setValueAttr:function(_a0a){this.checkBox.set("value",_a0a);},_getValueAttr:function(){return this.checkBox.get("value");},focus:function(){this.checkBox.focus();},_setDisabledAttr:function(_a0b){this.disabled=_a0b;this.checkBox.set("disabled",_a0b);}});var _a0c=dojo.declare("dojox.editor.plugins._FindReplaceToolbar",_9ff,{postCreate:function(){this.connectKeyNavHandlers([],[]);this.connect(this.containerNode,"onclick","_onToolbarEvent");this.connect(this.containerNode,"onkeydown","_onToolbarEvent");dojo.addClass(this.domNode,"dijitToolbar");},addChild:function(_a0d,_a0e){_9f6._KeyNavContainer.superclass.addChild.apply(this,arguments);},_onToolbarEvent:function(evt){evt.stopPropagation();}});var _a0f=dojo.declare("dojox.editor.plugins.FindReplace",[_a03],{buttonClass:_9f6.form.ToggleButton,iconClassPrefix:"dijitEditorIconsFindReplace",editor:null,button:null,_frToolbar:null,_closeBox:null,_findField:null,_replaceField:null,_findButton:null,_replaceButton:null,_replaceAllButton:null,_caseSensitive:null,_backwards:null,_promDialog:null,_promDialogTimeout:null,_strings:null,_initButton:function(){this._strings=dojo.i18n.getLocalization("dojox.editor.plugins","FindReplace");this.button=new _9f6.form.ToggleButton({label:this._strings["findReplace"],showLabel:false,iconClass:this.iconClassPrefix+" dijitEditorIconFindString",tabIndex:"-1",onChange:dojo.hitch(this,"_toggleFindReplace")});if(dojo.isOpera){this.button.set("disabled",true);}this.connect(this.button,"set",dojo.hitch(this,function(attr,val){if(attr==="disabled"){this._toggleFindReplace((!val&&this._displayed),true,true);}}));},setEditor:function(_a10){this.editor=_a10;this._initButton();},toggle:function(){this.button.set("checked",!this.button.get("checked"));},_toggleFindReplace:function(show,_a11,_a12){var size=dojo.marginBox(this.editor.domNode);if(show&&!dojo.isOpera){dojo.style(this._frToolbar.domNode,"display","block");this._populateFindField();if(!_a11){this._displayed=true;}}else{dojo.style(this._frToolbar.domNode,"display","none");if(!_a11){this._displayed=false;}if(!_a12){this.editor.focus();}}this.editor.resize({h:size.h});},_populateFindField:function(){var ed=this.editor;var win=ed.window;var _a13=ed._sCall("getSelectedText",[null]);if(this._findField&&this._findField.textBox){if(_a13){this._findField.textBox.set("value",_a13);}this._findField.textBox.focus();_9f6.selectInputText(this._findField.textBox.focusNode);}},setToolbar:function(_a14){this.inherited(arguments);if(!dojo.isOpera){var _a15=(this._frToolbar=new _a0c());dojo.style(_a15.domNode,"display","none");dojo.place(_a15.domNode,_a14.domNode,"after");_a15.startup();this._closeBox=new _a04();_a15.addChild(this._closeBox);this._findField=new _a05({label:this._strings["findLabel"],tooltip:this._strings["findTooltip"]});_a15.addChild(this._findField);this._replaceField=new _a05({label:this._strings["replaceLabel"],tooltip:this._strings["replaceTooltip"]});_a15.addChild(this._replaceField);_a15.addChild(new _9f7.editor.plugins.ToolbarLineBreak());this._findButton=new _9f6.form.Button({label:this._strings["findButton"],showLabel:true,iconClass:this.iconClassPrefix+" dijitEditorIconFind"});this._findButton.titleNode.title=this._strings["findButtonTooltip"];_a15.addChild(this._findButton);this._replaceButton=new _9f6.form.Button({label:this._strings["replaceButton"],showLabel:true,iconClass:this.iconClassPrefix+" dijitEditorIconReplace"});this._replaceButton.titleNode.title=this._strings["replaceButtonTooltip"];_a15.addChild(this._replaceButton);this._replaceAllButton=new _9f6.form.Button({label:this._strings["replaceAllButton"],showLabel:true,iconClass:this.iconClassPrefix+" dijitEditorIconReplaceAll"});this._replaceAllButton.titleNode.title=this._strings["replaceAllButtonTooltip"];_a15.addChild(this._replaceAllButton);this._caseSensitive=new _a09({label:this._strings["matchCase"],tooltip:this._strings["matchCaseTooltip"]});_a15.addChild(this._caseSensitive);this._backwards=new _a09({label:this._strings["backwards"],tooltip:this._strings["backwardsTooltip"]});_a15.addChild(this._backwards);this._findButton.set("disabled",true);this._replaceButton.set("disabled",true);this._replaceAllButton.set("disabled",true);this.connect(this._findField,"onChange","_checkButtons");this.connect(this._findField,"onKeyDown","_onFindKeyDown");this.connect(this._replaceField,"onKeyDown","_onReplaceKeyDown");this.connect(this._findButton,"onClick","_find");this.connect(this._replaceButton,"onClick","_replace");this.connect(this._replaceAllButton,"onClick","_replaceAll");this.connect(this._closeBox,"onClick","toggle");this._promDialog=new _9f6.TooltipDialog();this._promDialog.startup();this._promDialog.set("content","");}},_checkButtons:function(){var _a16=this._findField.get("value");if(_a16){this._findButton.set("disabled",false);this._replaceButton.set("disabled",false);this._replaceAllButton.set("disabled",false);}else{this._findButton.set("disabled",true);this._replaceButton.set("disabled",true);this._replaceAllButton.set("disabled",true);}},_onFindKeyDown:function(evt){if(evt.keyCode==dojo.keys.ENTER){this._find();dojo.stopEvent(evt);}},_onReplaceKeyDown:function(evt){if(evt.keyCode==dojo.keys.ENTER){if(!this._replace()){this._replace();}dojo.stopEvent(evt);}},_find:function(_a17){var txt=this._findField.get("value")||"";if(txt){var _a18=this._caseSensitive.get("value");var _a19=this._backwards.get("value");var _a1a=this._findText(txt,_a18,_a19);if(!_a1a&&_a17){this._promDialog.set("content",dojo.string.substitute(this._strings["eofDialogText"],{"0":this._strings["eofDialogTextFind"]}));_9f6.popup.open({popup:this._promDialog,around:this._findButton.domNode});this._promDialogTimeout=setTimeout(dojo.hitch(this,function(){clearTimeout(this._promDialogTimeout);this._promDialogTimeout=null;_9f6.popup.close(this._promDialog);}),3000);setTimeout(dojo.hitch(this,function(){this.editor.focus();}),0);}return _a1a;}return false;},_replace:function(_a1b){var _a1c=false;var ed=this.editor;ed.focus();var txt=this._findField.get("value")||"";var _a1d=this._replaceField.get("value")||"";if(txt){var _a1e=this._caseSensitive.get("value");var _a1f=this._backwards.get("value");var _a20=ed._sCall("getSelectedText",[null]);if(dojo.isMoz){txt=dojo.trim(txt);_a20=dojo.trim(_a20);}var _a21=this._filterRegexp(txt,!_a1e);if(_a20&&_a21.test(_a20)){ed.execCommand("inserthtml",_a1d);_a1c=true;if(_a1f){this._findText(_a1d,_a1e,_a1f);ed._sCall("collapse",[true]);}}if(!this._find(false)&&_a1b){this._promDialog.set("content",dojo.string.substitute(this._strings["eofDialogText"],{"0":this._strings["eofDialogTextReplace"]}));_9f6.popup.open({popup:this._promDialog,around:this._replaceButton.domNode});this._promDialogTimeout=setTimeout(dojo.hitch(this,function(){clearTimeout(this._promDialogTimeout);this._promDialogTimeout=null;_9f6.popup.close(this._promDialog);}),3000);setTimeout(dojo.hitch(this,function(){this.editor.focus();}),0);}return _a1c;}return null;},_replaceAll:function(_a22){var _a23=0;var _a24=this._backwards.get("value");if(_a24){this.editor.placeCursorAtEnd();}else{this.editor.placeCursorAtStart();}if(this._replace(false)){_a23++;}var _a25=dojo.hitch(this,function(){if(this._replace(false)){_a23++;setTimeout(_a25,10);}else{if(_a22){this._promDialog.set("content",dojo.string.substitute(this._strings["replaceDialogText"],{"0":""+_a23}));_9f6.popup.open({popup:this._promDialog,around:this._replaceAllButton.domNode});this._promDialogTimeout=setTimeout(dojo.hitch(this,function(){clearTimeout(this._promDialogTimeout);this._promDialogTimeout=null;_9f6.popup.close(this._promDialog);}),3000);setTimeout(dojo.hitch(this,function(){this._findField.focus();this._findField.textBox.focusNode.select();}),0);}}});_a25();},_findText:function(txt,_a26,_a27){var ed=this.editor;var win=ed.window;var _a28=false;if(txt){if(win.find){_a28=win.find(txt,_a26,_a27,false,false,false,false);}else{var doc=ed.document;if(doc.selection){this.editor.focus();var _a29=doc.body.createTextRange();var _a2a=doc.selection?doc.selection.createRange():null;if(_a2a){if(_a27){_a29.setEndPoint("EndToStart",_a2a);}else{_a29.setEndPoint("StartToEnd",_a2a);}}var _a2b=_a26?4:0;if(_a27){_a2b=_a2b|1;}_a28=_a29.findText(txt,_a29.text.length,_a2b);if(_a28){_a29.select();}}}}return _a28;},_filterRegexp:function(_a2c,_a2d){var rxp="";var c=null;for(var i=0;i<_a2c.length;i++){c=_a2c.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_a2c.charAt(i);break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp="^"+rxp+"$";if(_a2d){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}},updateState:function(){this.button.set("disabled",this.get("disabled"));},destroy:function(){this.inherited(arguments);if(this._promDialogTimeout){clearTimeout(this._promDialogTimeout);this._promDialogTimeout=null;_9f6.popup.close(this._promDialog);}if(this._frToolbar){this._frToolbar.destroyRecursive();this._frToolbar=null;}if(this._promDialog){this._promDialog.destroyRecursive();this._promDialog=null;}}});_a0f._FindReplaceCloseBox=_a04;_a0f._FindReplaceTextBox=_a05;_a0f._FindReplaceCheckBox=_a09;_a0f._FindReplaceToolbar=_a0c;dojo.subscribe(_9f6._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="findreplace"){o.plugin=new _a0f({});}});return _a0f;});},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(_a2e,win,_a2f){var _a30=_a2f._createWrapper;_a2f._createWrapper=function(_a31){if(!_a31.declaredClass){_a31={_popupWrapper:(_a31.parentNode&&_a2e.contains(_a31.parentNode,"dijitPopup"))?_a31.parentNode:null,domNode:_a31,destroy:function(){},ownerDocument:_a31.ownerDocument,ownerDocumentBody:win.body(_a31.ownerDocument)};}return _a30.call(this,_a31);};var _a32=_a2f.open;_a2f.open=function(args){if(args.orient&&typeof args.orient!="string"&&!("length" in args.orient)){var ary=[];for(var key in args.orient){ary.push({aroundCorner:key,corner:args.orient[key]});}args.orient=ary;}return _a32.call(this,args);};return _a2f;});},"dijit/form/CheckBox":function(){define(["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom","../a11yclick"],function(_a33,_a34,_a35,has,_a36,_a37,_a38,_a39,_a3a){if(has("dijit-legacy-requires")){_a37(0,function(){var _a3b=["dijit/form/RadioButton"];_a33(_a3b);});}return _a34("dijit.form.CheckBox",[_a38,_a39],{templateString:_a3a,baseClass:"dijitCheckBox",_setValueAttr:function(_a3c,_a3d){if(typeof _a3c=="string"){this.inherited(arguments);_a3c=true;}if(this._created){this.set("checked",_a3c,_a3d);}},_getValueAttr:function(){return this.checked&&this._get("value");},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting="";},_fillContent:function(){},_onFocus:function(){if(this.id){_a36("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){_a36("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);}});});},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_a3e,_a3f){return _a3e("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(_a40){this._set("readOnly",_a40);_a3f.set(this.focusNode,"readOnly",_a40);},_setLabelAttr:undefined,_getSubmitValue:function(_a41){return (_a41==null||_a41==="")?"on":_a41;},_setValueAttr:function(_a42){_a42=this._getSubmitValue(_a42);this._set("value",_a42);_a3f.set(this.focusNode,"value",_a42);},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));_a3f.set(this.focusNode,"value",this.value);},_onClick:function(e){if(this.readOnly){e.stopPropagation();e.preventDefault();return false;}return this.inherited(arguments);}});});},"dojox/editor/plugins/Breadcrumb":function(){define(["dojo","dijit","dojox","dijit/_Widget","dijit/_TemplatedMixin","dijit/_Contained","dijit/Toolbar","dijit/Menu","dijit/MenuItem","dijit/MenuSeparator","dijit/_editor/_Plugin","dijit/form/Button","dijit/form/ComboButton","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/string","dojo/i18n!dojox/editor/plugins/nls/Breadcrumb"],function(dojo,_a43,_a44,_a45,_a46,_a47,_a48,Menu,_a49,_a4a,_a4b){dojo.experimental("dojox.editor.plugins.Breadcrumb");var _a4c=dojo.declare("dojox.editor.plugins._BreadcrumbMenuTitle",[_a45,_a46,_a47],{templateString:"<tr><td dojoAttachPoint=\"title\" colspan=\"4\" class=\"dijitToolbar\" style=\"font-weight: bold; padding: 3px;\"></td></tr>",menuTitle:"",postCreate:function(){dojo.setSelectable(this.domNode,false);var _a4d=this.id+"_text";this.domNode.setAttribute("aria-labelledby",_a4d);},_setMenuTitleAttr:function(str){this.title.innerHTML=str;},_getMenuTitleAttr:function(str){return this.title.innerHTML;}});var _a4e=dojo.declare("dojox.editor.plugins.Breadcrumb",_a4b,{_menu:null,breadcrumbBar:null,setEditor:function(_a4f){this.editor=_a4f;this._buttons=[];this.breadcrumbBar=new _a43.Toolbar();var _a50=dojo.i18n.getLocalization("dojox.editor.plugins","Breadcrumb");this._titleTemplate=_a50.nodeActions;dojo.place(this.breadcrumbBar.domNode,_a4f.footer);this.editor.onLoadDeferred.addCallback(dojo.hitch(this,function(){this._menu=new _a43.Menu({});dojo.addClass(this.breadcrumbBar.domNode,"dojoxEditorBreadcrumbArrow");var self=this;var body=new _a43.form.ComboButton({showLabel:true,label:"body",_selNode:_a4f.editNode,dropDown:this._menu,onClick:dojo.hitch(this,function(){this._menuTarget=_a4f.editNode;this._selectContents();})});this._menuTitle=new _a4c({menuTitle:_a50.nodeActions});this._selCMenu=new _a43.MenuItem({label:_a50.selectContents,onClick:dojo.hitch(this,this._selectContents)});this._delCMenu=new _a43.MenuItem({label:_a50.deleteContents,onClick:dojo.hitch(this,this._deleteContents)});this._selEMenu=new _a43.MenuItem({label:_a50.selectElement,onClick:dojo.hitch(this,this._selectElement)});this._delEMenu=new _a43.MenuItem({label:_a50.deleteElement,onClick:dojo.hitch(this,this._deleteElement)});this._moveSMenu=new _a43.MenuItem({label:_a50.moveStart,onClick:dojo.hitch(this,this._moveCToStart)});this._moveEMenu=new _a43.MenuItem({label:_a50.moveEnd,onClick:dojo.hitch(this,this._moveCToEnd)});this._menu.addChild(this._menuTitle);this._menu.addChild(this._selCMenu);this._menu.addChild(this._delCMenu);this._menu.addChild(new _a43.MenuSeparator({}));this._menu.addChild(this._selEMenu);this._menu.addChild(this._delEMenu);this._menu.addChild(new _a43.MenuSeparator({}));this._menu.addChild(this._moveSMenu);this._menu.addChild(this._moveEMenu);body._ddConnect=dojo.connect(body,"openDropDown",dojo.hitch(this,function(){this._menuTarget=body._selNode;this._menuTitle.set("menuTitle",dojo.string.substitute(this._titleTemplate,{"nodeName":"&lt;body&gt;"}));this._selEMenu.set("disabled",true);this._delEMenu.set("disabled",true);this._selCMenu.set("disabled",false);this._delCMenu.set("disabled",false);this._moveSMenu.set("disabled",false);this._moveEMenu.set("disabled",false);}));this.breadcrumbBar.addChild(body);this.connect(this.editor,"onNormalizedDisplayChanged","updateState");}));this.breadcrumbBar.startup();if(dojo.isIE){setTimeout(dojo.hitch(this,function(){this.breadcrumbBar.domNode.className=this.breadcrumbBar.domNode.className;}),100);}},_selectContents:function(){this.editor.focus();if(this._menuTarget){var _a51=this._menuTarget.tagName.toLowerCase();switch(_a51){case "br":case "hr":case "img":case "input":case "base":case "meta":case "area":case "basefont":break;default:try{this.editor._sCall("collapse",[null]);this.editor._sCall("selectElementChildren",[this._menuTarget]);this.editor.onDisplayChanged();}catch(e){}}}},_deleteContents:function(){if(this._menuTarget){this.editor.beginEditing();this._selectContents();this.editor._sCall("remove",[this._menuTarget]);this.editor.endEditing();this._updateBreadcrumb();this.editor.onDisplayChanged();}},_selectElement:function(){this.editor.focus();if(this._menuTarget){this.editor._sCall("collapse",[null]);this.editor._sCall("selectElement",[this._menuTarget]);this.editor.onDisplayChanged();}},_deleteElement:function(){if(this._menuTarget){this.editor.beginEditing();this._selectElement();this.editor._sCall("remove",[this._menuTarget]);this.editor.endEditing();this._updateBreadcrumb();this.editor.onDisplayChanged();}},_moveCToStart:function(){this.editor.focus();if(this._menuTarget){this._selectContents();this.editor._sCall("collapse",[true]);}},_moveCToEnd:function(){this.editor.focus();if(this._menuTarget){this._selectContents();this.editor._sCall("collapse",[false]);}},_updateBreadcrumb:function(){var ed=this.editor;if(ed.window){var sel=_a43.range.getSelection(ed.window);if(sel&&sel.rangeCount>0){var _a52=sel.getRangeAt(0);var node=ed._sCall("getSelectedElement",[])||_a52.startContainer;var _a53=[];if(node&&node.ownerDocument===ed.document){while(node&&node!==ed.editNode&&node!=ed.document.body&&node!=ed.document){if(node.nodeType===1){_a53.push({type:node.tagName.toLowerCase(),node:node});}node=node.parentNode;}_a53=_a53.reverse();while(this._buttons.length){var db=this._buttons.pop();dojo.disconnect(db._ddConnect);this.breadcrumbBar.removeChild(db);}this._buttons=[];var i;var self=this;for(i=0;i<_a53.length;i++){var bc=_a53[i];var b=new _a43.form.ComboButton({showLabel:true,label:bc.type,_selNode:bc.node,dropDown:this._menu,onClick:function(){self._menuTarget=this._selNode;self._selectContents();}});b._ddConnect=dojo.connect(b,"openDropDown",dojo.hitch(b,function(){self._menuTarget=this._selNode;var _a54=self._menuTarget.tagName.toLowerCase();var _a55=dojo.string.substitute(self._titleTemplate,{"nodeName":"&lt;"+_a54+"&gt;"});self._menuTitle.set("menuTitle",_a55);switch(_a54){case "br":case "hr":case "img":case "input":case "base":case "meta":case "area":case "basefont":self._selCMenu.set("disabled",true);self._delCMenu.set("disabled",true);self._moveSMenu.set("disabled",true);self._moveEMenu.set("disabled",true);self._selEMenu.set("disabled",false);self._delEMenu.set("disabled",false);break;default:self._selCMenu.set("disabled",false);self._delCMenu.set("disabled",false);self._selEMenu.set("disabled",false);self._delEMenu.set("disabled",false);self._moveSMenu.set("disabled",false);self._moveEMenu.set("disabled",false);}}));this._buttons.push(b);this.breadcrumbBar.addChild(b);}if(dojo.isIE){this.breadcrumbBar.domNode.className=this.breadcrumbBar.domNode.className;}}}}},updateState:function(){if(dojo.style(this.editor.iframe,"display")==="none"||this.get("disabled")){dojo.style(this.breadcrumbBar.domNode,"display","none");}else{if(dojo.style(this.breadcrumbBar.domNode,"display")==="none"){dojo.style(this.breadcrumbBar.domNode,"display","block");}this._updateBreadcrumb();var size=dojo.marginBox(this.editor.domNode);this.editor.resize({h:size.h});}},destroy:function(){if(this.breadcrumbBar){this.breadcrumbBar.destroyRecursive();this.breadcrumbBar=null;}if(this._menu){this._menu.destroyRecursive();delete this._menu;}this._buttons=null;delete this.editor.breadcrumbBar;this.inherited(arguments);}});_a4e._BreadcrumbMenuTitle=_a4c;dojo.subscribe(_a43._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="breadcrumb"){o.plugin=new _a4e({});}});return _a4e;});},"dijit/Menu":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(_a56,_a57,_a58,dom,_a59,_a5a,_a5b,keys,lang,on,has,win,_a5c,pm,_a5d,_a5e){if(has("dijit-legacy-requires")){_a5e(0,function(){var _a5f=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];_a56(_a5f);});}return _a58("dijit.Menu",_a5d,{constructor:function(){this._bindings=[];},targetNodeIds:[],selector:"",contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(this.ownerDocumentBody);}else{_a57.forEach(this.targetNodeIds,this.bindDomNode,this);}this.inherited(arguments);},_iframeContentWindow:function(_a60){return _a5c.get(this._iframeContentDocument(_a60))||this._iframeContentDocument(_a60)["__parent__"]||(_a60.name&&document.frames[_a60.name])||null;},_iframeContentDocument:function(_a61){return _a61.contentDocument||(_a61.contentWindow&&_a61.contentWindow.document)||(_a61.name&&document.frames[_a61.name]&&document.frames[_a61.name].document)||null;},bindDomNode:function(node){node=dom.byId(node,this.ownerDocument);var cn;if(node.tagName.toLowerCase()=="iframe"){var _a62=node,_a63=this._iframeContentWindow(_a62);cn=win.body(_a63.document);}else{cn=(node==win.body(this.ownerDocument)?this.ownerDocument.documentElement:node);}var _a64={node:node,iframe:_a62};_a59.set(node,"_dijitMenu"+this.id,this._bindings.push(_a64));var _a65=lang.hitch(this,function(cn){var _a66=this.selector,_a67=_a66?function(_a68){return on.selector(_a66,_a68);}:function(_a69){return _a69;},self=this;return [on(cn,_a67(this.leftClickToOpen?"click":"contextmenu"),function(evt){evt.stopPropagation();evt.preventDefault();self._scheduleOpen(this,_a62,{x:evt.pageX,y:evt.pageY});}),on(cn,_a67("keydown"),function(evt){if(evt.shiftKey&&evt.keyCode==keys.F10){evt.stopPropagation();evt.preventDefault();self._scheduleOpen(this,_a62);}})];});_a64.connects=cn?_a65(cn):[];if(_a62){_a64.onloadHandler=lang.hitch(this,function(){var _a6a=this._iframeContentWindow(_a62),cn=win.body(_a6a.document);_a64.connects=_a65(cn);});if(_a62.addEventListener){_a62.addEventListener("load",_a64.onloadHandler,false);}else{_a62.attachEvent("onload",_a64.onloadHandler);}}},unBindDomNode:function(_a6b){var node;try{node=dom.byId(_a6b,this.ownerDocument);}catch(e){return;}var _a6c="_dijitMenu"+this.id;if(node&&_a59.has(node,_a6c)){var bid=_a59.get(node,_a6c)-1,b=this._bindings[bid],h;while((h=b.connects.pop())){h.remove();}var _a6d=b.iframe;if(_a6d){if(_a6d.removeEventListener){_a6d.removeEventListener("load",b.onloadHandler,false);}else{_a6d.detachEvent("onload",b.onloadHandler);}}_a59.remove(node,_a6c);delete this._bindings[bid];}},_scheduleOpen:function(_a6e,_a6f,_a70){if(!this._openTimer){this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:_a6e,iframe:_a6f,coords:_a70});},1);}},_openMyself:function(args){var _a71=args.target,_a72=args.iframe,_a73=args.coords,_a74=!_a73;this.currentTarget=_a71;if(_a73){if(_a72){var ifc=_a5a.position(_a72,true),_a75=this._iframeContentWindow(_a72),_a76=_a5a.docScroll(_a75.document);var cs=_a5b.getComputedStyle(_a72),tp=_a5b.toPixelValue,left=(has("ie")&&has("quirks")?0:tp(_a72,cs.paddingLeft))+(has("ie")&&has("quirks")?tp(_a72,cs.borderLeftWidth):0),top=(has("ie")&&has("quirks")?0:tp(_a72,cs.paddingTop))+(has("ie")&&has("quirks")?tp(_a72,cs.borderTopWidth):0);_a73.x+=ifc.x+left-_a76.x;_a73.y+=ifc.y+top-_a76.y;}}else{_a73=_a5a.position(_a71,true);_a73.x+=10;_a73.y+=10;}var self=this;var _a77=this._focusManager.get("prevNode");var _a78=this._focusManager.get("curNode");var _a79=!_a78||(dom.isDescendant(_a78,this.domNode))?_a77:_a78;function _a7a(){if(self.refocus&&_a79){_a79.focus();}pm.close(self);};pm.open({popup:this,x:_a73.x,y:_a73.y,onExecute:_a7a,onCancel:_a7a,orient:this.isLeftToRight()?"L":"R"});this.focus();if(!_a74){this.defer(function(){this._cleanUp(true);});}this._onBlur=function(){this.inherited("_onBlur",arguments);pm.close(this);};},destroy:function(){_a57.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});});},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],function(_a7b,keys,_a7c,_a7d){return _a7b("dijit.DropDownMenu",_a7d,{templateString:_a7c,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev();},_onDownArrow:function(){this.focusNext();},_onRightArrow:function(evt){this._moveToPopup(evt);evt.stopPropagation();evt.preventDefault();},_onLeftArrow:function(){if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{evt.stopPropagation();evt.preventDefault();}}});});},"dijit/_MenuBase":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./registry","./_Widget","./_CssStateMixin","./_KeyNavContainer","./_TemplatedMixin"],function(_a7e,_a7f,dom,_a80,_a81,lang,_a82,on,_a83,_a84,_a85,_a86,_a87,_a88,_a89){return _a7f("dijit._MenuBase",[_a86,_a89,_a88,_a87],{selected:null,_setSelectedAttr:function(item){if(this.selected!=item){if(this.selected){this.selected._setSelected(false);this._onChildDeselect(this.selected);}if(item){item._setSelected(true);}this._set("selected",item);}},activated:false,_setActivatedAttr:function(val){_a81.toggle(this.domNode,"dijitMenuActive",val);_a81.toggle(this.domNode,"dijitMenuPassive",!val);this._set("activated",val);},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:false,childSelector:function(node){var _a8a=_a85.byNode(node);return node.parentNode==this.containerNode&&_a8a&&_a8a.focus;},postCreate:function(){var self=this,_a8b=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.containerNode,on.selector(_a8b,_a82.enter),function(){self.onItemHover(_a85.byNode(this));}),on(this.containerNode,on.selector(_a8b,_a82.leave),function(){self.onItemUnhover(_a85.byNode(this));}),on(this.containerNode,on.selector(_a8b,_a84),function(evt){self.onItemClick(_a85.byNode(this),evt);evt.stopPropagation();}),on(this.containerNode,on.selector(_a8b,"focusin"),function(){self._onItemFocus(_a85.byNode(this));}));this.inherited(arguments);},onKeyboardSearch:function(item,evt,_a8c,_a8d){this.inherited(arguments);if(!!item&&(_a8d==-1||(!!item.popup&&_a8d==1))){this.onItemClick(item,evt);}},_keyboardSearchCompare:function(item,_a8e){if(!!item.shortcutKey){return _a8e==item.shortcutKey.toLowerCase()?-1:0;}return this.inherited(arguments)?1:0;},onExecute:function(){},onCancel:function(){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.onItemClick(this.focusedChild,evt);}else{var _a8f=this._getTopMenu();if(_a8f&&_a8f._isMenuBar){_a8f.focusNext();}}},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer();},onItemHover:function(item){if(this.activated){this.set("selected",item);if(item.popup&&!item.disabled&&!this.hover_timer){this.hover_timer=this.defer(function(){this._openItemPopup(item);},this.popupDelay);}}else{if(this.passivePopupDelay<Infinity){if(this.passive_hover_timer){this.passive_hover_timer.remove();}this.passive_hover_timer=this.defer(function(){this.onItemClick(item,{type:"click"});},this.passivePopupDelay);}}this._hoveredChild=item;item._set("hovering",true);},_onChildDeselect:function(item){this._stopPopupTimer();if(this.currentPopupItem==item){this._stopPendingCloseTimer();this._pendingClose_timer=this.defer(function(){this._pendingClose_timer=null;this.currentPopupItem=null;item._closePopup();},this.popupDelay);}},onItemUnhover:function(item){if(this._hoveredChild==item){this._hoveredChild=null;}if(this.passive_hover_timer){this.passive_hover_timer.remove();this.passive_hover_timer=null;}item._set("hovering",false);},_stopPopupTimer:function(){if(this.hover_timer){this.hover_timer=this.hover_timer.remove();}},_stopPendingCloseTimer:function(){if(this._pendingClose_timer){this._pendingClose_timer=this._pendingClose_timer.remove();}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(this.passive_hover_timer){this.passive_hover_timer.remove();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this.set("selected",item);this.set("activated",true);var _a90=/^key/.test(evt._origType||evt.type)||(evt.clientX==0&&evt.clientY==0);this._openItemPopup(item,_a90);}else{this.onExecute();item._onClick?item._onClick(evt):item.onClick(evt);}},_openItemPopup:function(_a91,_a92){if(_a91==this.currentPopupItem){return;}if(this.currentPopupItem){this._stopPendingCloseTimer();this.currentPopupItem._closePopup();}this._stopPopupTimer();var _a93=_a91.popup;_a93.parentMenu=this;this.own(this._mouseoverHandle=on.once(_a93.domNode,"mouseover",lang.hitch(this,"_onPopupHover")));var self=this;_a91._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){if(_a92){self.focusChild(_a91);}self._cleanUp();},onExecute:lang.hitch(this,"_cleanUp",true),onClose:function(){if(self._mouseoverHandle){self._mouseoverHandle.remove();delete self._mouseoverHandle;}}},_a92);this.currentPopupItem=_a91;},onOpen:function(){this.isShowingNow=true;this.set("activated",true);},onClose:function(){this.set("activated",false);this.set("selected",null);this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();if(this.currentPopupItem){if(this.focused){_a80.set(this.selected.focusNode,"tabIndex",this.tabIndex);this.selected.focusNode.focus();}this.currentPopupItem._closePopup();this.currentPopupItem=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this.onItemUnhover(this._hoveredChild);}this.set("selected",item);},_onBlur:function(){this._cleanUp(true);this.inherited(arguments);},_cleanUp:function(_a94){this._closeChild();if(typeof this.isShowingNow=="undefined"){this.set("activated",false);}if(_a94){this.set("selected",null);}}});});},"dijit/MenuItem":function(){define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","dojo/_base/lang","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_a95,dom,_a96,_a97,_a98,has,lang,_a99,_a9a,_a9b,_a9c,_a9d){var _a9e=_a95("dijit.MenuItem"+(has("dojo-bidi")?"_NoBidi":""),[_a99,_a9a,_a9b,_a9c],{templateString:_a9d,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(val){this._set("label",val);var _a9f="";var text;var ndx=val.search(/{\S}/);if(ndx>=0){_a9f=val.charAt(ndx+1);var _aa0=val.substr(0,ndx);var _aa1=val.substr(ndx+3);text=_aa0+_a9f+_aa1;val=_aa0+"<span class=\"dijitMenuItemShortcutKey\">"+_a9f+"</span>"+_aa1;}else{text=val;}this.domNode.setAttribute("aria-label",text+" "+this.accelKey);this.containerNode.innerHTML=val;this._set("shortcutKey",_a9f);},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_aa2){if(_aa2&&!("label" in this.params)){this._set("label",_aa2.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _aa3=this.id+"_text";_a96.set(this.containerNode,"id",_aa3);if(this.accelKeyNode){_a96.set(this.accelKeyNode,"id",this.id+"_accel");}dom.setSelectable(this.domNode,false);},onClick:function(){},focus:function(){try{if(has("ie")==8){this.containerNode.focus();}this.focusNode.focus();}catch(e){}},_setSelected:function(_aa4){_a97.toggle(this.domNode,"dijitMenuItemSelected",_aa4);},setLabel:function(_aa5){_a98.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_aa5);},setDisabled:function(_aa6){_a98.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_aa6);},_setDisabledAttr:function(_aa7){this.focusNode.setAttribute("aria-disabled",_aa7?"true":"false");this._set("disabled",_aa7);},_setAccelKeyAttr:function(_aa8){if(this.accelKeyNode){this.accelKeyNode.style.display=_aa8?"":"none";this.accelKeyNode.innerHTML=_aa8;_a96.set(this.containerNode,"colSpan",_aa8?"1":"2");}this._set("accelKey",_aa8);}});if(has("dojo-bidi")){_a9e=_a95("dijit.MenuItem",_a9e,{_setLabelAttr:function(val){this.inherited(arguments);if(this.textDir==="auto"){this.applyTextDir(this.textDirNode);}}});}return _a9e;});},"dijit/MenuSeparator":function(){define(["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(_aa9,dom,_aaa,_aab,_aac,_aad){return _aa9("dijit.MenuSeparator",[_aaa,_aab,_aac],{templateString:_aad,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/form/ComboButton":function(){define(["dojo/_base/declare","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html"],function(_aae,keys,_aaf,_ab0,_ab1){return _aae("dijit.form.ComboButton",_ab0,{templateString:_ab1,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){_aaf.focus(this._popupStateNode);evt.stopPropagation();evt.preventDefault();}},_onArrowKeyDown:function(evt){if(evt.keyCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){_aaf.focus(this.titleNode);evt.stopPropagation();evt.preventDefault();}},focus:function(_ab2){if(!this.disabled){_aaf.focus(_ab2=="start"?this.titleNode:this._popupStateNode);}}});});},"dojox/editor/plugins/TextColor":function(){define(["dojo","dijit","dojox","dijit/_base/popup","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_editor/_Plugin","dijit/TooltipDialog","dijit/form/Button","dijit/form/DropDownButton","dojox/widget/ColorPicker","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/i18n!dojox/editor/plugins/nls/TextColor"],function(dojo,_ab3,_ab4,_ab5,_ab6,_ab7,_ab8,_ab9){dojo.experimental("dojox.editor.plugins.TextColor");var _aba=dojo.declare("dojox.editor.plugins._TextColorDropDown",[_ab6,_ab7,_ab8],{templateString:"<div style='display: none; position: absolute; top: -10000; z-index: -10000'>"+"<div dojoType='dijit.TooltipDialog' dojoAttachPoint='dialog' class='dojoxEditorColorPicker'>"+"<div dojoType='dojox.widget.ColorPicker' dojoAttachPoint='_colorPicker'></div>"+"<br>"+"<center>"+"<button dojoType='dijit.form.Button' type='button' dojoAttachPoint='_setButton'>${setButtonText}</button>"+"&nbsp;"+"<button dojoType='dijit.form.Button' type='button' dojoAttachPoint='_cancelButton'>${cancelButtonText}</button>"+"</center>"+"</div>"+"</div>",widgetsInTemplate:true,constructor:function(){var _abb=dojo.i18n.getLocalization("dojox.editor.plugins","TextColor");dojo.mixin(this,_abb);},startup:function(){if(!this._started){this.inherited(arguments);this.connect(this._setButton,"onClick",dojo.hitch(this,function(){this.onChange(this.get("value"));}));this.connect(this._cancelButton,"onClick",dojo.hitch(this,function(){_ab3.popup.close(this.dialog);this.onCancel();}));dojo.style(this.domNode,"display","block");}},_setValueAttr:function(_abc,_abd){this._colorPicker.set("value",_abc,_abd);},_getValueAttr:function(){return this._colorPicker.get("value");},onChange:function(_abe){},onCancel:function(){}});var _abf=dojo.declare("dojox.editor.plugins.TextColor",_ab9,{buttonClass:_ab3.form.DropDownButton,useDefaultCommand:false,constructor:function(){this._picker=new _aba();dojo.body().appendChild(this._picker.domNode);this._picker.startup();this.dropDown=this._picker.dialog;this.connect(this._picker,"onChange",function(_ac0){this.editor.execCommand(this.command,_ac0);});this.connect(this._picker,"onCancel",function(){this.editor.focus();});},updateState:function(){var _ac1=this.editor;var _ac2=this.command;if(!_ac1||!_ac1.isLoaded||!_ac2.length){return;}var _ac3=this.get("disabled");var _ac4;if(this.button){this.button.set("disabled",_ac3);if(_ac3){return;}try{_ac4=_ac1.queryCommandValue(_ac2)||"";}catch(e){_ac4="";}}if(_ac4==""){_ac4="#000000";}if(_ac4=="transparent"){_ac4="#ffffff";}if(typeof _ac4=="string"){if(_ac4.indexOf("rgb")>-1){_ac4=dojo.colorFromRgb(_ac4).toHex();}}else{_ac4=((_ac4&255)<<16)|(_ac4&65280)|((_ac4&16711680)>>>16);_ac4=_ac4.toString(16);_ac4="#000000".slice(0,7-_ac4.length)+_ac4;}if(_ac4!==this._picker.get("value")){this._picker.set("value",_ac4,false);}},destroy:function(){this.inherited(arguments);this._picker.destroyRecursive();delete this._picker;}});_abf._TextColorDropDown=_aba;dojo.subscribe(_ab3._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}switch(o.args.name){case "foreColor":case "hiliteColor":o.plugin=new _abf({command:o.args.name});}});return _abf;});},"dojox/widget/ColorPicker":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/html","dojo/_base/connect","dojo/_base/sniff","dojo/_base/window","dojo/_base/event","dojo/dom","dojo/dom-class","dojo/keys","dojo/fx","dojo/dnd/move","dijit/registry","dijit/_base/focus","dijit/form/_FormWidget","dijit/typematic","dojox/color","dojo/i18n","dojo/i18n!./nls/ColorPicker","dojo/i18n!dojo/cldr/nls/number","dojo/text!./ColorPicker/ColorPicker.html"],function(_ac5,_ac6,lang,_ac7,html,Hub,has,win,_ac8,DOM,_ac9,Keys,fx,move,_aca,_acb,_acc,_acd,_ace,i18n,_acf,_ad0,_ad1){_ac5.experimental("dojox.widget.ColorPicker");var _ad2=function(hex){return hex;};return _ac6("dojox.widget.ColorPicker",_acc,{showRgb:true,showHsv:true,showHex:true,webSafe:true,animatePoint:true,slideDuration:250,liveUpdate:false,PICKER_HUE_H:150,PICKER_SAT_VAL_H:150,PICKER_SAT_VAL_W:150,PICKER_HUE_SELECTOR_H:8,PICKER_SAT_SELECTOR_H:10,PICKER_SAT_SELECTOR_W:10,value:"#ffffff",_underlay:_ac5.moduleUrl("dojox.widget","ColorPicker/images/underlay.png"),_hueUnderlay:_ac5.moduleUrl("dojox.widget","ColorPicker/images/hue.png"),_pickerPointer:_ac5.moduleUrl("dojox.widget","ColorPicker/images/pickerPointer.png"),_huePickerPointer:_ac5.moduleUrl("dojox.widget","ColorPicker/images/hueHandle.png"),_huePickerPointerAlly:_ac5.moduleUrl("dojox.widget","ColorPicker/images/hueHandleA11y.png"),templateString:_ad1,postMixInProperties:function(){if(_ac9.contains(win.body(),"dijit_a11y")){this._huePickerPointer=this._huePickerPointerAlly;}this._uId=_aca.getUniqueId(this.id);lang.mixin(this,i18n.getLocalization("dojox.widget","ColorPicker"));lang.mixin(this,i18n.getLocalization("dojo.cldr","number"));this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(has("ie")<7){this.colorUnderlay.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+this._underlay+"', sizingMethod='scale')";this.colorUnderlay.src=this._blankGif.toString();}if(!this.showRgb){this.rgbNode.style.visibility="hidden";}if(!this.showHsv){this.hsvNode.style.visibility="hidden";}if(!this.showHex){this.hexNode.style.visibility="hidden";}if(!this.webSafe){this.safePreviewNode.style.visibility="hidden";}},startup:function(){if(this._started){return;}this._started=true;this.set("value",this.value);this._mover=new move.boxConstrainedMoveable(this.cursorNode,{box:{t:-(this.PICKER_SAT_SELECTOR_H/2),l:-(this.PICKER_SAT_SELECTOR_W/2),w:this.PICKER_SAT_VAL_W,h:this.PICKER_SAT_VAL_H}});this._hueMover=new move.boxConstrainedMoveable(this.hueCursorNode,{box:{t:-(this.PICKER_HUE_SELECTOR_H/2),l:0,w:0,h:this.PICKER_HUE_H}});this._subs=[];this._subs.push(Hub.subscribe("/dnd/move/stop",lang.hitch(this,"_clearTimer")));this._subs.push(Hub.subscribe("/dnd/move/start",lang.hitch(this,"_setTimer")));this._keyListeners=[];this._connects.push(_acd.addKeyListener(this.hueCursorNode,{charOrCode:Keys.UP_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateHueCursorNode),25,25));this._connects.push(_acd.addKeyListener(this.hueCursorNode,{charOrCode:Keys.DOWN_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateHueCursorNode),25,25));this._connects.push(_acd.addKeyListener(this.cursorNode,{charOrCode:Keys.UP_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateCursorNode),25,25));this._connects.push(_acd.addKeyListener(this.cursorNode,{charOrCode:Keys.DOWN_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateCursorNode),25,25));this._connects.push(_acd.addKeyListener(this.cursorNode,{charOrCode:Keys.LEFT_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateCursorNode),25,25));this._connects.push(_acd.addKeyListener(this.cursorNode,{charOrCode:Keys.RIGHT_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateCursorNode),25,25));},_setValueAttr:function(_ad3){if(!this._started){return;}this.setColor(_ad3,true);},setColor:function(col,_ad4){col=_ace.fromString(col);this._updatePickerLocations(col);this._updateColorInputs(col);this._updateValue(col,_ad4);},_setTimer:function(_ad5){if(_ad5.node!=this.cursorNode){return;}_acb.focus(_ad5.node);DOM.setSelectable(this.domNode,false);this._timer=setInterval(lang.hitch(this,"_updateColor"),45);},_clearTimer:function(_ad6){if(!this._timer){return;}clearInterval(this._timer);this._timer=null;this.onChange(this.value);DOM.setSelectable(this.domNode,true);},_setHue:function(h){html.style(this.colorUnderlay,"backgroundColor",_ace.fromHsv(h,100,100).toHex());},_updateHueCursorNode:function(_ad7,node,e){if(_ad7!==-1){var y=html.style(this.hueCursorNode,"top");var _ad8=this.PICKER_HUE_SELECTOR_H/2;y+=_ad8;var _ad9=false;if(e.charOrCode==Keys.UP_ARROW){if(y>0){y-=1;_ad9=true;}}else{if(e.charOrCode==Keys.DOWN_ARROW){if(y<this.PICKER_HUE_H){y+=1;_ad9=true;}}}y-=_ad8;if(_ad9){html.style(this.hueCursorNode,"top",y+"px");}}else{this._updateColor(true);}},_updateCursorNode:function(_ada,node,e){var _adb=this.PICKER_SAT_SELECTOR_H/2;var _adc=this.PICKER_SAT_SELECTOR_W/2;if(_ada!==-1){var y=html.style(this.cursorNode,"top");var x=html.style(this.cursorNode,"left");y+=_adb;x+=_adc;var _add=false;if(e.charOrCode==Keys.UP_ARROW){if(y>0){y-=1;_add=true;}}else{if(e.charOrCode==Keys.DOWN_ARROW){if(y<this.PICKER_SAT_VAL_H){y+=1;_add=true;}}else{if(e.charOrCode==Keys.LEFT_ARROW){if(x>0){x-=1;_add=true;}}else{if(e.charOrCode==Keys.RIGHT_ARROW){if(x<this.PICKER_SAT_VAL_W){x+=1;_add=true;}}}}}if(_add){y-=_adb;x-=_adc;html.style(this.cursorNode,"top",y+"px");html.style(this.cursorNode,"left",x+"px");}}else{this._updateColor(true);}},_updateColor:function(_ade){var _adf=this.PICKER_HUE_SELECTOR_H/2,_ae0=this.PICKER_SAT_SELECTOR_H/2,_ae1=this.PICKER_SAT_SELECTOR_W/2;var _ae2=html.style(this.hueCursorNode,"top")+_adf,_ae3=html.style(this.cursorNode,"top")+_ae0,_ae4=html.style(this.cursorNode,"left")+_ae1,h=Math.round(360-(_ae2/this.PICKER_HUE_H*360)),col=_ace.fromHsv(h,_ae4/this.PICKER_SAT_VAL_W*100,100-(_ae3/this.PICKER_SAT_VAL_H*100));this._updateColorInputs(col);this._updateValue(col,_ade);if(h!=this._hue){this._setHue(h);}},_colorInputChange:function(e){var col,_ae5=false;switch(e.target){case this.hexCode:col=_ace.fromString(e.target.value);_ae5=true;break;case this.Rval:case this.Gval:case this.Bval:col=_ace.fromArray([this.Rval.value,this.Gval.value,this.Bval.value]);_ae5=true;break;case this.Hval:case this.Sval:case this.Vval:col=_ace.fromHsv(this.Hval.value,this.Sval.value,this.Vval.value);_ae5=true;break;}if(_ae5){this._updatePickerLocations(col);this._updateColorInputs(col);this._updateValue(col,true);}},_updateValue:function(col,_ae6){var hex=col.toHex();this.value=this.valueNode.value=hex;if(_ae6&&(!this._timer||this.liveUpdate)){this.onChange(hex);}},_updatePickerLocations:function(col){var _ae7=this.PICKER_HUE_SELECTOR_H/2,_ae8=this.PICKER_SAT_SELECTOR_H/2,_ae9=this.PICKER_SAT_SELECTOR_W/2;var hsv=col.toHsv(),ypos=Math.round(this.PICKER_HUE_H-hsv.h/360*this.PICKER_HUE_H)-_ae7,_aea=Math.round(hsv.s/100*this.PICKER_SAT_VAL_W)-_ae9,_aeb=Math.round(this.PICKER_SAT_VAL_H-hsv.v/100*this.PICKER_SAT_VAL_H)-_ae8;if(this.animatePoint){fx.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:ypos,left:0}).play();fx.slideTo({node:this.cursorNode,duration:this.slideDuration,top:_aeb,left:_aea}).play();}else{html.style(this.hueCursorNode,"top",ypos+"px");html.style(this.cursorNode,{left:_aea+"px",top:_aeb+"px"});}if(hsv.h!=this._hue){this._setHue(hsv.h);}},_updateColorInputs:function(col){var hex=col.toHex();if(this.showRgb){this.Rval.value=col.r;this.Gval.value=col.g;this.Bval.value=col.b;}if(this.showHsv){var hsv=col.toHsv();this.Hval.value=Math.round((hsv.h));this.Sval.value=Math.round(hsv.s);this.Vval.value=Math.round(hsv.v);}if(this.showHex){this.hexCode.value=hex;}this.previewNode.style.backgroundColor=hex;if(this.webSafe){this.safePreviewNode.style.backgroundColor=_ad2(hex);}},_setHuePoint:function(evt){var _aec=this.PICKER_HUE_SELECTOR_H/2;var ypos=evt.layerY-_aec;if(this.animatePoint){fx.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:ypos,left:0,onEnd:lang.hitch(this,function(){this._updateColor(false);_acb.focus(this.hueCursorNode);})}).play();}else{html.style(this.hueCursorNode,"top",ypos+"px");this._updateColor(false);}},_setPoint:function(evt){var _aed=this.PICKER_SAT_SELECTOR_H/2;var _aee=this.PICKER_SAT_SELECTOR_W/2;var _aef=evt.layerY-_aed;var _af0=evt.layerX-_aee;if(evt){_acb.focus(evt.target);}if(this.animatePoint){fx.slideTo({node:this.cursorNode,duration:this.slideDuration,top:_aef,left:_af0,onEnd:lang.hitch(this,function(){this._updateColor(true);_acb.focus(this.cursorNode);})}).play();}else{html.style(this.cursorNode,{left:_af0+"px",top:_aef+"px"});this._updateColor(false);}},_handleKey:function(e){},focus:function(){if(!this.focused){_acb.focus(this.focusNode);}},_stopDrag:function(e){_ac8.stop(e);},destroy:function(){this.inherited(arguments);_ac7.forEach(this._subs,function(sub){Hub.unsubscribe(sub);});delete this._subs;}});});},"dojo/dnd/move":function(){define(["../_base/declare","../dom-geometry","../dom-style","./common","./Mover","./Moveable"],function(_af1,_af2,_af3,dnd,_af4,_af5){var _af6=_af1("dojo.dnd.move.constrainedMoveable",_af5,{constraints:function(){},within:false,constructor:function(node,_af7){if(!_af7){_af7={};}this.constraints=_af7.constraints;this.within=_af7.within;},onFirstMove:function(_af8){var c=this.constraintBox=this.constraints.call(this,_af8);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=_af2.getMarginSize(_af8.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function(_af9,_afa){var c=this.constraintBox,s=_af9.node.style;this.onMoving(_af9,_afa);_afa.l=_afa.l<c.l?c.l:c.r<_afa.l?c.r:_afa.l;_afa.t=_afa.t<c.t?c.t:c.b<_afa.t?c.b:_afa.t;s.left=_afa.l+"px";s.top=_afa.t+"px";this.onMoved(_af9,_afa);}});var _afb=_af1("dojo.dnd.move.boxConstrainedMoveable",_af6,{box:{},constructor:function(node,_afc){var box=_afc&&_afc.box;this.constraints=function(){return box;};}});var _afd=_af1("dojo.dnd.move.parentConstrainedMoveable",_af6,{area:"content",constructor:function(node,_afe){var area=_afe&&_afe.area;this.constraints=function(){var n=this.node.parentNode,s=_af3.getComputedStyle(n),mb=_af2.getMarginBox(n,s);if(area=="margin"){return mb;}var t=_af2.getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=_af2.getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=_af2.getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});return {constrainedMoveable:_af6,boxConstrainedMoveable:_afb,parentConstrainedMoveable:_afd};});},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(has,_aff,lang,dom){var _b00=lang.getObject("dojo.dnd",true);_b00.getCopyKeyState=function(evt){return evt[has("mac")?"metaKey":"ctrlKey"];};_b00._uniqueId=0;_b00.getUniqueId=function(){var id;do{id=_aff._scopeName+"Unique"+(++_b00._uniqueId);}while(dom.byId(id));return id;};_b00._empty={};_b00.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};return _b00;});},"dojo/dnd/Mover":function(){define(["../_base/array","../_base/declare","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_b01,_b02,lang,has,win,dom,_b03,_b04,_b05,on,_b06,dnd,_b07){return _b02("dojo.dnd.Mover",[_b05],{constructor:function(node,e,host){this.node=dom.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;function _b08(e){e.preventDefault();e.stopPropagation();};this.events=[on(d,_b06.move,lang.hitch(this,"onFirstMove")),on(d,_b06.move,lang.hitch(this,"onMouseMove")),on(d,_b06.release,lang.hitch(this,"onMouseUp")),on(d,"dragstart",_b08),on(d.body,"selectstart",_b08)];_b07.autoScrollStart(d);if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){_b07.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);e.preventDefault();e.stopPropagation();},onMouseUp:function(e){if(has("webkit")&&has("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}e.preventDefault();e.stopPropagation();},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=_b03.getMarginBox(this.node);var b=win.doc.body;var bs=_b04.getComputedStyle(b);var bm=_b03.getMarginBox(b,bs);var bc=_b03.getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}this.events.shift().remove();},destroy:function(){_b01.forEach(this.events,function(_b09){_b09.remove();});var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});});},"dojo/dnd/autoscroll":function(){define(["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(lang,has,win,_b0a,_b0b,_b0c){var _b0d={};lang.setObject("dojo.dnd.autoscroll",_b0d);_b0d.getViewport=_b0c.getBox;_b0d.V_TRIGGER_AUTOSCROLL=32;_b0d.H_TRIGGER_AUTOSCROLL=32;_b0d.V_AUTOSCROLL_VALUE=16;_b0d.H_AUTOSCROLL_VALUE=16;var _b0e,doc=win.doc,_b0f=Infinity,_b10=Infinity;_b0d.autoScrollStart=function(d){doc=d;_b0e=_b0c.getBox(doc);var html=win.body(doc).parentNode;_b0f=Math.max(html.scrollHeight-_b0e.h,0);_b10=Math.max(html.scrollWidth-_b0e.w,0);};_b0d.autoScroll=function(e){var v=_b0e||_b0c.getBox(doc),html=win.body(doc).parentNode,dx=0,dy=0;if(e.clientX<_b0d.H_TRIGGER_AUTOSCROLL){dx=-_b0d.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-_b0d.H_TRIGGER_AUTOSCROLL){dx=Math.min(_b0d.H_AUTOSCROLL_VALUE,_b10-html.scrollLeft);}}if(e.clientY<_b0d.V_TRIGGER_AUTOSCROLL){dy=-_b0d.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-_b0d.V_TRIGGER_AUTOSCROLL){dy=Math.min(_b0d.V_AUTOSCROLL_VALUE,_b0f-html.scrollTop);}}window.scrollBy(dx,dy);};_b0d._validNodes={"div":1,"p":1,"td":1};_b0d._validOverflow={"auto":1,"scroll":1};_b0d.autoScrollNodes=function(e){var b,t,w,h,rx,ry,dx=0,dy=0,_b11,_b12;for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in _b0d._validNodes)){var s=_b0b.getComputedStyle(n),_b13=(s.overflow.toLowerCase() in _b0d._validOverflow),_b14=(s.overflowX.toLowerCase() in _b0d._validOverflow),_b15=(s.overflowY.toLowerCase() in _b0d._validOverflow);if(_b13||_b14||_b15){b=_b0a.getContentBox(n,s);t=_b0a.position(n,true);}if(_b13||_b14){w=Math.min(_b0d.H_TRIGGER_AUTOSCROLL,b.w/2);rx=e.pageX-t.x;if(has("webkit")||has("opera")){rx+=win.body().scrollLeft;}dx=0;if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}_b11=n.scrollLeft;n.scrollLeft=n.scrollLeft+dx;}}if(_b13||_b15){h=Math.min(_b0d.V_TRIGGER_AUTOSCROLL,b.h/2);ry=e.pageY-t.y;if(has("webkit")||has("opera")){ry+=win.body().scrollTop;}dy=0;if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}_b12=n.scrollTop;n.scrollTop=n.scrollTop+dy;}}if(dx||dy){return;}}try{n=n.parentNode;}catch(x){n=null;}}_b0d.autoScroll(e);};return _b0d;});},"dojo/dnd/Moveable":function(){define(["../_base/array","../_base/declare","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_b16,_b17,lang,dom,_b18,_b19,on,_b1a,_b1b,dnd,_b1c,win){var _b1d=_b17("dojo.dnd.Moveable",[_b19],{handle:"",delay:0,skip:false,constructor:function(node,_b1e){this.node=dom.byId(node);if(!_b1e){_b1e={};}this.handle=_b1e.handle?dom.byId(_b1e.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_b1e.delay>0?_b1e.delay:0;this.skip=_b1e.skip;this.mover=_b1e.mover?_b1e.mover:_b1c;this.events=[on(this.handle,_b1b.press,lang.hitch(this,"onMouseDown")),on(this.handle,"dragstart",lang.hitch(this,"onSelectStart")),on(this.handle,"selectstart",lang.hitch(this,"onSelectStart"))];},markupFactory:function(_b1f,node,Ctor){return new Ctor(node,_b1f);},destroy:function(){_b16.forEach(this.events,function(_b20){_b20.remove();});this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_b1b.move,lang.hitch(this,"onMouseMove")),on(this.handle,_b1b.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseUp:function(e){for(var i=0;i<2;++i){this.events.pop().remove();}e.stopPropagation();e.preventDefault();},onSelectStart:function(e){if(!this.skip||!dnd.isFormElement(e)){e.stopPropagation();e.preventDefault();}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_b21){_b1a.publish("/dnd/move/start",_b21);_b18.add(win.body(),"dojoMove");_b18.add(this.node,"dojoMoveItem");},onMoveStop:function(_b22){_b1a.publish("/dnd/move/stop",_b22);_b18.remove(win.body(),"dojoMove");_b18.remove(this.node,"dojoMoveItem");},onFirstMove:function(){},onMove:function(_b23,_b24){this.onMoving(_b23,_b24);var s=_b23.node.style;s.left=_b24.l+"px";s.top=_b24.t+"px";this.onMoved(_b23,_b24);},onMoving:function(){},onMoved:function(){}});return _b1d;});},"dijit/_base/focus":function(){define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../selection","../main"],function(_b25,dom,lang,_b26,win,_b27,_b28,_b29){var _b2a={_curFocus:null,_prevFocus:null,isCollapsed:function(){return _b29.getBookmark().isCollapsed;},getBookmark:function(){var sel=win.global==window?_b28:new _b28.SelectionManager(win.global);return sel.getBookmark();},moveToBookmark:function(_b2b){var sel=win.global==window?_b28:new _b28.SelectionManager(win.global);return sel.moveToBookmark(_b2b);},getFocus:function(menu,_b2c){var node=!_b27.curNode||(menu&&dom.isDescendant(_b27.curNode,menu.domNode))?_b29._prevFocus:_b27.curNode;return {node:node,bookmark:node&&(node==_b27.curNode)&&win.withGlobal(_b2c||win.global,_b29.getBookmark),openedForWindow:_b2c};},_activeStack:[],registerIframe:function(_b2d){return _b27.registerIframe(_b2d);},unregisterIframe:function(_b2e){_b2e&&_b2e.remove();},registerWin:function(_b2f,_b30){return _b27.registerWin(_b2f,_b30);},unregisterWin:function(_b31){_b31&&_b31.remove();}};_b27.focus=function(_b32){if(!_b32){return;}var node="node" in _b32?_b32.node:_b32,_b33=_b32.bookmark,_b34=_b32.openedForWindow,_b35=_b33?_b33.isCollapsed:false;if(node){var _b36=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_b36&&_b36.focus){try{_b36.focus();}catch(e){}}_b27._onFocusNode(node);}if(_b33&&win.withGlobal(_b34||win.global,_b29.isCollapsed)&&!_b35){if(_b34){_b34.focus();}try{win.withGlobal(_b34||win.global,_b29.moveToBookmark,null,[_b33]);}catch(e2){}}};_b27.watch("curNode",function(name,_b37,_b38){_b29._curFocus=_b38;_b29._prevFocus=_b37;if(_b38){_b26.publish("focusNode",_b38);}});_b27.watch("activeStack",function(name,_b39,_b3a){_b29._activeStack=_b3a;});_b27.on("widget-blur",function(_b3b,by){_b26.publish("widgetBlur",_b3b,by);});_b27.on("widget-focus",function(_b3c,by){_b26.publish("widgetFocus",_b3c,by);});lang.mixin(_b29,_b2a);return _b29;});},"dojox/color":function(){define(["./color/_base"],function(_b3d){return _b3d;});},"dojox/color/_base":function(){define(["../main","dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(_b3e,lang,_b3f,_b40){var cx=lang.getObject("color",true,_b3e);cx.Color=_b3f;cx.blend=_b3f.blendColors;cx.fromRgb=_b3f.fromRgb;cx.fromHex=_b3f.fromHex;cx.fromArray=_b3f.fromArray;cx.fromString=_b3f.fromString;cx.greyscale=_b40.makeGrey;lang.mixin(cx,{fromCmy:function(cyan,_b41,_b42){if(lang.isArray(cyan)){_b41=cyan[1],_b42=cyan[2],cyan=cyan[0];}else{if(lang.isObject(cyan)){_b41=cyan.m,_b42=cyan.y,cyan=cyan.c;}}cyan/=100,_b41/=100,_b42/=100;var r=1-cyan,g=1-_b41,b=1-_b42;return new _b3f({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromCmyk:function(cyan,_b43,_b44,_b45){if(lang.isArray(cyan)){_b43=cyan[1],_b44=cyan[2],_b45=cyan[3],cyan=cyan[0];}else{if(lang.isObject(cyan)){_b43=cyan.m,_b44=cyan.y,_b45=cyan.b,cyan=cyan.c;}}cyan/=100,_b43/=100,_b44/=100,_b45/=100;var r,g,b;r=1-Math.min(1,cyan*(1-_b45)+_b45);g=1-Math.min(1,_b43*(1-_b45)+_b45);b=1-Math.min(1,_b44*(1-_b45)+_b45);return new _b3f({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsl:function(hue,_b46,_b47){if(lang.isArray(hue)){_b46=hue[1],_b47=hue[2],hue=hue[0];}else{if(lang.isObject(hue)){_b46=hue.s,_b47=hue.l,hue=hue.h;}}_b46/=100;_b47/=100;while(hue<0){hue+=360;}while(hue>=360){hue-=360;}var r,g,b;if(hue<120){r=(120-hue)/60,g=hue/60,b=0;}else{if(hue<240){r=0,g=(240-hue)/60,b=(hue-120)/60;}else{r=(hue-240)/60,g=0,b=(360-hue)/60;}}r=2*_b46*Math.min(r,1)+(1-_b46);g=2*_b46*Math.min(g,1)+(1-_b46);b=2*_b46*Math.min(b,1)+(1-_b46);if(_b47<0.5){r*=_b47,g*=_b47,b*=_b47;}else{r=(1-_b47)*r+2*_b47-1;g=(1-_b47)*g+2*_b47-1;b=(1-_b47)*b+2*_b47-1;}return new _b3f({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});}});cx.fromHsv=function(hue,_b48,_b49){if(lang.isArray(hue)){_b48=hue[1],_b49=hue[2],hue=hue[0];}else{if(lang.isObject(hue)){_b48=hue.s,_b49=hue.v,hue=hue.h;}}if(hue==360){hue=0;}_b48/=100;_b49/=100;var r,g,b;if(_b48==0){r=_b49,b=_b49,g=_b49;}else{var _b4a=hue/60,i=Math.floor(_b4a),f=_b4a-i;var p=_b49*(1-_b48);var q=_b49*(1-(_b48*f));var t=_b49*(1-(_b48*(1-f)));switch(i){case 0:r=_b49,g=t,b=p;break;case 1:r=q,g=_b49,b=p;break;case 2:r=p,g=_b49,b=t;break;case 3:r=p,g=q,b=_b49;break;case 4:r=t,g=p,b=_b49;break;case 5:r=_b49,g=p,b=q;break;}}return new _b3f({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});};lang.extend(_b3f,{toCmy:function(){var cyan=1-(this.r/255),_b4b=1-(this.g/255),_b4c=1-(this.b/255);return {c:Math.round(cyan*100),m:Math.round(_b4b*100),y:Math.round(_b4c*100)};},toCmyk:function(){var cyan,_b4d,_b4e,_b4f;var r=this.r/255,g=this.g/255,b=this.b/255;_b4f=Math.min(1-r,1-g,1-b);cyan=(1-r-_b4f)/(1-_b4f);_b4d=(1-g-_b4f)/(1-_b4f);_b4e=(1-b-_b4f)/(1-_b4f);return {c:Math.round(cyan*100),m:Math.round(_b4d*100),y:Math.round(_b4e*100),b:Math.round(_b4f*100)};},toHsl:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _b50=max-min;var h=0,s=0,l=(min+max)/2;if(l>0&&l<1){s=_b50/((l<0.5)?(2*l):(2-2*l));}if(_b50>0){if(max==r&&max!=g){h+=(g-b)/_b50;}if(max==g&&max!=b){h+=(2+(b-r)/_b50);}if(max==b&&max!=r){h+=(4+(r-g)/_b50);}h*=60;}return {h:h,s:Math.round(s*100),l:Math.round(l*100)};},toHsv:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _b51=max-min;var h=null,s=(max==0)?0:(_b51/max);if(s==0){h=0;}else{if(r==max){h=60*(g-b)/_b51;}else{if(g==max){h=120+60*(b-r)/_b51;}else{h=240+60*(r-g)/_b51;}}if(h<0){h+=360;}}return {h:h,s:Math.round(s*100),v:Math.round(max*100)};}});return cx;});},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(dojo,lang,_b52,_b53){var _b54={};lang.setObject("dojo.colors",_b54);var _b55=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=_b52.fromRgb=function(_b56,obj){var m=_b56.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){a=_b53.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return _b52.fromArray(a,obj);}return _b52.fromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;a=[_b55(m1,m2,H+1/3)*256,_b55(m1,m2,H)*256,_b55(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return _b52.fromArray(a,obj);}}return null;};var _b57=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};_b52.prototype.sanitize=function(){var t=this;t.r=Math.round(_b57(t.r,0,255));t.g=Math.round(_b57(t.g,0,255));t.b=Math.round(_b57(t.b,0,255));t.a=_b57(t.a,0,1);return this;};_b54.makeGrey=_b52.makeGrey=function(g,a){return _b52.fromArray([g,g,g,a]);};lang.mixin(_b52.named,{"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"blanchedalmond":[255,235,205],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"oldlace":[253,245,230],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"whitesmoke":[245,245,245],"yellowgreen":[154,205,50]});return _b52;});},"dojox/editor/plugins/CollapsibleToolbar":function(){define(["dojo","dijit","dojox","dijit/_Widget","dijit/_TemplatedMixin","dijit/_editor/_Plugin","dijit/form/Button","dijit/focus","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/i18n!dojox/editor/plugins/nls/CollapsibleToolbar"],function(dojo,_b58,_b59,_b5a,_b5b,_b5c){var _b5d=dojo.declare("dojox.editor.plugins._CollapsibleToolbarButton",[_b5a,_b5b],{templateString:"<div tabindex='0' role='button' title='${title}' class='${buttonClass}' "+"dojoAttachEvent='ondijitclick: onClick'><span class='${textClass}'>${text}</span></div>",title:"",buttonClass:"",text:"",textClass:"",onClick:function(e){}});var _b5e=dojo.declare("dojox.editor.plugins.CollapsibleToolbar",_b5c,{_myWidgets:null,setEditor:function(_b5f){this.editor=_b5f;this._constructContainer();},_constructContainer:function(){var _b60=dojo.i18n.getLocalization("dojox.editor.plugins","CollapsibleToolbar");this._myWidgets=[];var _b61=dojo.create("table",{style:{width:"100%"},tabindex:-1,"class":"dojoxCollapsibleToolbarContainer"});var _b62=dojo.create("tbody",{tabindex:-1},_b61);var row=dojo.create("tr",{tabindex:-1},_b62);var _b63=dojo.create("td",{"class":"dojoxCollapsibleToolbarControl",tabindex:-1},row);var _b64=dojo.create("td",{"class":"dojoxCollapsibleToolbarControl",tabindex:-1},row);var _b65=dojo.create("td",{style:{width:"100%"},tabindex:-1},row);var m=dojo.create("span",{style:{width:"100%"},tabindex:-1},_b65);var _b66=new _b5d({buttonClass:"dojoxCollapsibleToolbarCollapse",title:_b60.collapse,text:"-",textClass:"dojoxCollapsibleToolbarCollapseText"});dojo.place(_b66.domNode,_b63);var _b67=new _b5d({buttonClass:"dojoxCollapsibleToolbarExpand",title:_b60.expand,text:"+",textClass:"dojoxCollapsibleToolbarExpandText"});dojo.place(_b67.domNode,_b64);this._myWidgets.push(_b66);this._myWidgets.push(_b67);dojo.style(_b64,"display","none");dojo.place(_b61,this.editor.toolbar.domNode,"after");dojo.place(this.editor.toolbar.domNode,m);this.openTd=_b63;this.closeTd=_b64;this.menu=m;this.connect(_b66,"onClick","_onClose");this.connect(_b67,"onClick","_onOpen");},_onClose:function(e){if(e){dojo.stopEvent(e);}var size=dojo.marginBox(this.editor.domNode);dojo.style(this.openTd,"display","none");dojo.style(this.closeTd,"display","");dojo.style(this.menu,"display","none");this.editor.resize({h:size.h});if(dojo.isIE){this.editor.header.className=this.editor.header.className;this.editor.footer.className=this.editor.footer.className;}_b58.focus(this.closeTd.firstChild);},_onOpen:function(e){if(e){dojo.stopEvent(e);}var size=dojo.marginBox(this.editor.domNode);dojo.style(this.closeTd,"display","none");dojo.style(this.openTd,"display","");dojo.style(this.menu,"display","");this.editor.resize({h:size.h});if(dojo.isIE){this.editor.header.className=this.editor.header.className;this.editor.footer.className=this.editor.footer.className;}_b58.focus(this.openTd.firstChild);},destroy:function(){this.inherited(arguments);if(this._myWidgets){while(this._myWidgets.length){this._myWidgets.pop().destroy();}delete this._myWidgets;}}});_b5e._CollapsibleToolbarButton=_b5d;dojo.subscribe(_b58._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="collapsibletoolbar"){o.plugin=new _b5e({});}});return _b5e;});},"dojox/editor/plugins/Blockquote":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/form/ToggleButton","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/i18n!dojox/editor/plugins/nls/Blockquote"],function(dojo,_b68,_b69,_b6a){var _b6b=dojo.declare("dojox.editor.plugins.Blockquote",_b6a,{iconClassPrefix:"dijitAdditionalEditorIcon",_initButton:function(){this._nlsResources=dojo.i18n.getLocalization("dojox.editor.plugins","Blockquote");this.button=new _b68.form.ToggleButton({label:this._nlsResources["blockquote"],showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"Blockquote",tabIndex:"-1",onClick:dojo.hitch(this,"_toggleQuote")});},setEditor:function(_b6c){this.editor=_b6c;this._initButton();this.connect(this.editor,"onNormalizedDisplayChanged","updateState");_b6c.customUndo=true;},_toggleQuote:function(arg){try{var ed=this.editor;ed.focus();var _b6d=this.button.get("checked");var sel=_b68.range.getSelection(ed.window);var _b6e,elem,_b6f,end;if(sel&&sel.rangeCount>0){_b6e=sel.getRangeAt(0);}if(_b6e){ed.beginEditing();if(_b6d){var bq,tag;if(_b6e.startContainer===_b6e.endContainer){if(this._isRootInline(_b6e.startContainer)){_b6f=_b6e.startContainer;while(_b6f&&_b6f.parentNode!==ed.editNode){_b6f=_b6f.parentNode;}while(_b6f&&_b6f.previousSibling&&(this._isTextElement(_b6f)||(_b6f.nodeType===1&&this._isInlineFormat(this._getTagName(_b6f))))){_b6f=_b6f.previousSibling;}if(_b6f&&_b6f.nodeType===1&&!this._isInlineFormat(this._getTagName(_b6f))){_b6f=_b6f.nextSibling;}if(_b6f){bq=ed.document.createElement("blockquote");dojo.place(bq,_b6f,"after");bq.appendChild(_b6f);end=bq.nextSibling;while(end&&(this._isTextElement(end)||(end.nodeType===1&&this._isInlineFormat(this._getTagName(end))))){bq.appendChild(end);end=bq.nextSibling;}}}else{var node=_b6e.startContainer;while((this._isTextElement(node)||this._isInlineFormat(this._getTagName(node))||this._getTagName(node)==="li")&&node!==ed.editNode&&node!==ed.document.body){node=node.parentNode;}if(node!==ed.editNode&&node!==node.ownerDocument.documentElement){bq=ed.document.createElement("blockquote");dojo.place(bq,node,"after");bq.appendChild(node);}}if(bq){ed._sCall("selectElementChildren",[bq]);ed._sCall("collapse",[true]);}}else{var _b70;_b6f=_b6e.startContainer;end=_b6e.endContainer;while(_b6f&&this._isTextElement(_b6f)&&_b6f.parentNode!==ed.editNode){_b6f=_b6f.parentNode;}_b70=_b6f;while(_b70.nextSibling&&ed._sCall("inSelection",[_b70])){_b70=_b70.nextSibling;}end=_b70;if(end===ed.editNode||end===ed.document.body){bq=ed.document.createElement("blockquote");dojo.place(bq,_b6f,"after");tag=this._getTagName(_b6f);if(this._isTextElement(_b6f)||this._isInlineFormat(tag)){var next=_b6f;while(next&&(this._isTextElement(next)||(next.nodeType===1&&this._isInlineFormat(this._getTagName(next))))){bq.appendChild(next);next=bq.nextSibling;}}else{bq.appendChild(_b6f);}return;}end=end.nextSibling;_b70=_b6f;while(_b70&&_b70!==end){if(_b70.nodeType===1){tag=this._getTagName(_b70);if(tag!=="br"){if(!window.getSelection){if(tag==="p"&&this._isEmpty(_b70)){_b70=_b70.nextSibling;continue;}}if(this._isInlineFormat(tag)){if(!bq){bq=ed.document.createElement("blockquote");dojo.place(bq,_b70,"after");bq.appendChild(_b70);}else{bq.appendChild(_b70);}_b70=bq;}else{if(bq){if(this._isEmpty(bq)){bq.parentNode.removeChild(bq);}}bq=ed.document.createElement("blockquote");dojo.place(bq,_b70,"after");bq.appendChild(_b70);_b70=bq;}}}else{if(this._isTextElement(_b70)){if(!bq){bq=ed.document.createElement("blockquote");dojo.place(bq,_b70,"after");bq.appendChild(_b70);}else{bq.appendChild(_b70);}_b70=bq;}}_b70=_b70.nextSibling;}if(bq){if(this._isEmpty(bq)){bq.parentNode.removeChild(bq);}else{ed._sCall("selectElementChildren",[bq]);ed._sCall("collapse",[true]);}bq=null;}}}else{var _b71=false;if(_b6e.startContainer===_b6e.endContainer){elem=_b6e.endContainer;while(elem&&elem!==ed.editNode&&elem!==ed.document.body){var tg=elem.tagName?elem.tagName.toLowerCase():"";if(tg==="blockquote"){_b71=true;break;}elem=elem.parentNode;}if(_b71){var _b72;while(elem.firstChild){_b72=elem.firstChild;dojo.place(_b72,elem,"before");}elem.parentNode.removeChild(elem);if(_b72){ed._sCall("selectElementChildren",[_b72]);ed._sCall("collapse",[true]);}}}else{_b6f=_b6e.startContainer;end=_b6e.endContainer;while(_b6f&&this._isTextElement(_b6f)&&_b6f.parentNode!==ed.editNode){_b6f=_b6f.parentNode;}var _b73=[];var _b74=_b6f;while(_b74&&_b74.nextSibling&&ed._sCall("inSelection",[_b74])){if(_b74.parentNode&&this._getTagName(_b74.parentNode)==="blockquote"){_b74=_b74.parentNode;}_b73.push(_b74);_b74=_b74.nextSibling;}var _b75=this._findBlockQuotes(_b73);while(_b75.length){var bn=_b75.pop();if(bn.parentNode){while(bn.firstChild){dojo.place(bn.firstChild,bn,"before");}bn.parentNode.removeChild(bn);}}}}ed.endEditing();}ed.onNormalizedDisplayChanged();}catch(e){}},updateState:function(){var ed=this.editor;var _b76=this.get("disabled");if(!ed||!ed.isLoaded){return;}if(this.button){this.button.set("disabled",_b76);if(_b76){return;}var elem;var _b77=false;var sel=_b68.range.getSelection(ed.window);if(sel&&sel.rangeCount>0){var _b78=sel.getRangeAt(0);if(_b78){elem=_b78.endContainer;}}while(elem&&elem!==ed.editNode&&elem!==ed.document){var tg=elem.tagName?elem.tagName.toLowerCase():"";if(tg==="blockquote"){_b77=true;break;}elem=elem.parentNode;}this.button.set("checked",_b77);}},_findBlockQuotes:function(_b79){var _b7a=[];if(_b79){var i;for(i=0;i<_b79.length;i++){var node=_b79[i];if(node.nodeType===1){if(this._getTagName(node)==="blockquote"){_b7a.push(node);}if(node.childNodes&&node.childNodes.length>0){_b7a=_b7a.concat(this._findBlockQuotes(node.childNodes));}}}}return _b7a;},_getTagName:function(node){var tag="";if(node&&node.nodeType===1){tag=node.tagName?node.tagName.toLowerCase():"";}return tag;},_isRootInline:function(node){var ed=this.editor;if(this._isTextElement(node)&&node.parentNode===ed.editNode){return true;}else{if(node.nodeType===1&&this._isInlineFormat(node)&&node.parentNode===ed.editNode){return true;}else{if(this._isTextElement(node)&&this._isInlineFormat(this._getTagName(node.parentNode))){node=node.parentNode;while(node&&node!==ed.editNode&&this._isInlineFormat(this._getTagName(node))){node=node.parentNode;}if(node===ed.editNode){return true;}}}}return false;},_isTextElement:function(node){if(node&&node.nodeType===3||node.nodeType===4){return true;}return false;},_isEmpty:function(node){if(node.childNodes){var _b7b=true;var i;for(i=0;i<node.childNodes.length;i++){var n=node.childNodes[i];if(n.nodeType===1){if(this._getTagName(n)==="p"){if(!dojo.trim(n.innerHTML)){continue;}}_b7b=false;break;}else{if(this._isTextElement(n)){var nv=dojo.trim(n.nodeValue);if(nv&&nv!=="&nbsp;"&&nv!==" "){_b7b=false;break;}}else{_b7b=false;break;}}}return _b7b;}else{return true;}},_isInlineFormat:function(tag){switch(tag){case "a":case "b":case "strong":case "s":case "strike":case "i":case "u":case "em":case "sup":case "sub":case "span":case "font":case "big":case "cite":case "q":case "img":case "small":return true;default:return false;}}});dojo.subscribe(_b68._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="blockquote"){o.plugin=new _b6b({});}});return _b6b;});},"dojox/editor/plugins/PasteFromWord":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/_base/manager","dijit/_editor/RichText","dijit/form/Button","dijit/Dialog","dojox/html/format","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/string","dojo/i18n!dojox/editor/plugins/nls/PasteFromWord","dojo/i18n!dijit/nls/common","dojo/i18n!dijit/_editor/nls/commands"],function(dojo,_b7c,_b7d,_b7e){var _b7f=dojo.declare("dojox.editor.plugins.PasteFromWord",_b7e,{iconClassPrefix:"dijitAdditionalEditorIcon",width:"400px",height:"300px",_template:["<div class='dijitPasteFromWordEmbeddedRTE'>","<div style='width: ${width}; padding-top: 5px; padding-bottom: 5px;'>${instructions}</div>","<div id='${uId}_rte' style='width: ${width}; height: ${height}'></div>","<table style='width: ${width}' tabindex='-1'>","<tbody>","<tr>","<td align='center'>","<button type='button' dojoType='dijit.form.Button' id='${uId}_paste'>${paste}</button>","&nbsp;","<button type='button' dojoType='dijit.form.Button' id='${uId}_cancel'>${buttonCancel}</button>","</td>","</tr>","</tbody>","</table>","</div>"].join(""),_filters:[{regexp:/(<meta\s*[^>]*\s*>)|(<\s*link\s* href="file:[^>]*\s*>)|(<\/?\s*\w+:[^>]*\s*>)/gi,handler:""},{regexp:/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,handler:""},{regexp:/(class="Mso[^"]*")|(<!--(.|\s){1,}?-->)/gi,handler:""},{regexp:/(<p[^>]*>\s*(\&nbsp;|\u00A0)*\s*<\/p[^>]*>)|(<p[^>]*>\s*<font[^>]*>\s*(\&nbsp;|\u00A0)*\s*<\/\s*font\s*>\s<\/p[^>]*>)/ig,handler:""},{regexp:/(style="[^"]*mso-[^;][^"]*")|(style="margin:\s*[^;"]*;")/gi,handler:""},{regexp:/(<\s*script[^>]*>((.|\s)*?)<\\?\/\s*script\s*>)|(<\s*script\b([^<>]|\s)*>?)|(<[^>]*=(\s|)*[("|')]javascript:[^$1][(\s|.)]*[$1][^>]*>)/ig,handler:""},{regexp:/<(\/?)o\:p[^>]*>/gi,handler:""}],_initButton:function(){this._filters=this._filters.slice(0);var _b80=dojo.i18n.getLocalization("dojox.editor.plugins","PasteFromWord");dojo.mixin(_b80,dojo.i18n.getLocalization("dijit","common"));dojo.mixin(_b80,dojo.i18n.getLocalization("dijit._editor","commands"));this.button=new _b7c.form.Button({label:_b80["pasteFromWord"],showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"PasteFromWord",tabIndex:"-1",onClick:dojo.hitch(this,"_openDialog")});this._uId=_b7c.getUniqueId(this.editor.id);_b80.uId=this._uId;_b80.width=this.width||"400px";_b80.height=this.height||"300px";this._dialog=new _b7c.Dialog({title:_b80["pasteFromWord"]}).placeAt(dojo.body());this._dialog.set("content",dojo.string.substitute(this._template,_b80));dojo.style(dojo.byId(this._uId+"_rte"),"opacity",0.001);this.connect(_b7c.byId(this._uId+"_paste"),"onClick","_paste");this.connect(_b7c.byId(this._uId+"_cancel"),"onClick","_cancel");this.connect(this._dialog,"onHide","_clearDialog");},updateState:function(){this.button.set("disabled",this.get("disabled"));},setEditor:function(_b81){this.editor=_b81;this._initButton();},_openDialog:function(){this._dialog.show();if(!this._rte){setTimeout(dojo.hitch(this,function(){this._rte=new _b7c._editor.RichText({height:this.height||"300px"},this._uId+"_rte");this._rte.startup();this._rte.onLoadDeferred.addCallback(dojo.hitch(this,function(){dojo.animateProperty({node:this._rte.domNode,properties:{opacity:{start:0.001,end:1}}}).play();}));}),100);}},_paste:function(){var _b82=_b7d.html.format.prettyPrint(this._rte.get("value"));this._dialog.hide();var i;for(i=0;i<this._filters.length;i++){var _b83=this._filters[i];_b82=_b82.replace(_b83.regexp,_b83.handler);}_b82=_b7d.html.format.prettyPrint(_b82);this.editor.focus();this.editor.execCommand("inserthtml",_b82);},_cancel:function(){this._dialog.hide();},_clearDialog:function(){this._rte.set("value","");},destroy:function(){if(this._rte){this._rte.destroy();}if(this._dialog){this._dialog.destroyRecursive();}delete this._dialog;delete this._rte;this.inherited(arguments);}});dojo.subscribe(_b7c._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="pastefromword"){o.plugin=new _b7f({width:("width" in o.args)?o.args.width:"400px",height:("height" in o.args)?o.args.width:"300px"});}});return _b7f;});},"dijit/Dialog":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","./layout/utils","dojo/text!./templates/Dialog.html","dojo/i18n!./nls/common"],function(_b84,_b85,_b86,_b87,_b88,dom,_b89,_b8a,_b8b,fx,i18n,keys,lang,on,_b8c,has,_b8d,_b8e,_b8f,_b90,_b91,_b92,_b93,_b94,_b95,_b96,_b97,_b98,_b99,_b9a){var _b9b=new _b88();_b9b.resolve(true);var _b9c=_b87("dijit._DialogBase"+(has("dojo-bidi")?"_NoBidi":""),[_b93,_b95,_b96,_b94],{templateString:_b9a,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:false,duration:_b91.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,draggable:true,_setDraggableAttr:function(val){this._set("draggable",val);},maxRatio:0.9,closable:true,_setClosableAttr:function(val){this.closeButtonNode.style.display=val?"":"none";this._set("closable",val);},postMixInProperties:function(){var _b9d=i18n.getLocalization("dijit","common");lang.mixin(this,_b9d);this.inherited(arguments);},postCreate:function(){_b8b.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);_b86.after(this,"onExecute",lang.hitch(this,"hide"),true);_b86.after(this,"onCancel",lang.hitch(this,"hide"),true);this._modalconnects=[];},onLoad:function(){this.resize();this._position();if(this.autofocus&&_b9e.isTop(this)){this._getFocusItems(this.domNode);_b90.focus(this._firstFocusItem);}this.inherited(arguments);},focus:function(){this._getFocusItems(this.domNode);_b90.focus(this._firstFocusItem);},_endDrag:function(){var _b9f=_b8a.position(this.domNode),_ba0=_b8d.getBox(this.ownerDocument);_b9f.y=Math.min(Math.max(_b9f.y,0),(_ba0.h-_b9f.h));_b9f.x=Math.min(Math.max(_b9f.x,0),(_ba0.w-_b9f.w));this._relativePosition=_b9f;this._position();},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=new ((has("ie")==6)?_b8f:_b8e)(node,{handle:this.titleBar});_b86.after(this._moveable,"onMoveStop",lang.hitch(this,"_endDrag"),true);}else{_b89.add(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":_b85.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" "),_onKeyDown:lang.hitch(this,"_onKey"),ownerDocument:this.ownerDocument};},_size:function(){this.resize();},_position:function(){if(!_b89.contains(this.ownerDocumentBody,"dojoMove")){var node=this.domNode,_ba1=_b8d.getBox(this.ownerDocument),p=this._relativePosition,bb=p?null:_b8a.position(node),l=Math.floor(_ba1.l+(p?p.x:(_ba1.w-bb.w)/2)),t=Math.floor(_ba1.t+(p?p.y:(_ba1.h-bb.h)/2));_b8b.set(node,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.keyCode==keys.TAB){this._getFocusItems(this.domNode);var node=evt.target;if(this._firstFocusItem==this._lastFocusItem){evt.stopPropagation();evt.preventDefault();}else{if(node==this._firstFocusItem&&evt.shiftKey){_b90.focus(this._lastFocusItem);evt.stopPropagation();evt.preventDefault();}else{if(node==this._lastFocusItem&&!evt.shiftKey){_b90.focus(this._firstFocusItem);evt.stopPropagation();evt.preventDefault();}}}}else{if(this.closable&&evt.keyCode==keys.ESCAPE){this.onCancel();evt.stopPropagation();evt.preventDefault();}}},show:function(){if(this.open){return _b9b.promise;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();_b9e.hide(this);}var win=_b8d.get(this.ownerDocument);this._modalconnects.push(on(win,"scroll",lang.hitch(this,"resize",null)));this._modalconnects.push(on(this.domNode,"keydown",lang.hitch(this,"_onKey")));_b8b.set(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this.resize();this._position();var _ba2;this._fadeInDeferred=new _b88(lang.hitch(this,function(){_ba2.stop();delete this._fadeInDeferred;}));var _ba3=this._fadeInDeferred.promise;_ba2=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){_b9e.show(this,this.underlayAttrs);}),onEnd:lang.hitch(this,function(){if(this.autofocus&&_b9e.isTop(this)){this._getFocusItems(this.domNode);_b90.focus(this._firstFocusItem);}this._fadeInDeferred.resolve(true);delete this._fadeInDeferred;})}).play();return _ba3;},hide:function(){if(!this._alreadyInitialized||!this.open){return _b9b.promise;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _ba4;this._fadeOutDeferred=new _b88(lang.hitch(this,function(){_ba4.stop();delete this._fadeOutDeferred;}));this._fadeOutDeferred.then(lang.hitch(this,"onHide"));var _ba5=this._fadeOutDeferred.promise;_ba4=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){this.domNode.style.display="none";_b9e.hide(this);this._fadeOutDeferred.resolve(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}var h;while(h=this._modalconnects.pop()){h.remove();}if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return _ba5;},resize:function(dim){if(this.domNode.style.display!="none"){this._checkIfSingleChild();if(!dim){if(this._shrunk){if(this._singleChild){if(typeof this._singleChildOriginalStyle!="undefined"){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;delete this._singleChildOriginalStyle;}}_b85.forEach([this.domNode,this.containerNode,this.titleBar],function(node){_b8b.set(node,{position:"static",width:"auto",height:"auto"});});this.domNode.style.position="absolute";}var _ba6=_b8d.getBox(this.ownerDocument);_ba6.w*=this.maxRatio;_ba6.h*=this.maxRatio;var bb=_b8a.position(this.domNode);if(bb.w>=_ba6.w||bb.h>=_ba6.h){dim={w:Math.min(bb.w,_ba6.w),h:Math.min(bb.h,_ba6.h)};this._shrunk=true;}else{this._shrunk=false;}}if(dim){_b8a.setMarginBox(this.domNode,dim);var _ba7=_b99.marginBox2contentBox(this.domNode,dim),_ba8={domNode:this.containerNode,region:"center"};_b99.layoutChildren(this.domNode,_ba7,[{domNode:this.titleBar,region:"top"},_ba8]);if(this._singleChild){var cb=_b99.marginBox2contentBox(this.containerNode,_ba8);this._singleChild.resize({w:cb.w,h:cb.h});}else{this.containerNode.style.overflow="auto";this._layoutChildren();}}else{this._layoutChildren();}if(!has("touch")&&!dim){this._position();}}},_layoutChildren:function(){_b85.forEach(this.getChildren(),function(_ba9){if(_ba9.resize){_ba9.resize();}});},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}var h;while(h=this._modalconnects.pop()){h.remove();}_b9e.hide(this);this.inherited(arguments);}});if(has("dojo-bidi")){_b9c=_b87("dijit._DialogBase",_b9c,{_setTitleAttr:function(_baa){this._set("title",_baa);this.titleNode.innerHTML=_baa;this.applyTextDir(this.titleNode);},_setTextDirAttr:function(_bab){if(this._created&&this.textDir!=_bab){this._set("textDir",_bab);this.set("title",this.title);}}});}var _bac=_b87("dijit.Dialog",[_b98,_b9c],{});_bac._DialogBase=_b9c;var _b9e=_bac._DialogLevelManager={_beginZIndex:950,show:function(_bad,_bae){ds[ds.length-1].focus=_b90.curNode;var _baf=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_bac._DialogLevelManager._beginZIndex;_b8b.set(_bad.domNode,"zIndex",_baf);_b97.show(_bae,_baf-1);ds.push({dialog:_bad,underlayAttrs:_bae,zIndex:_baf});},hide:function(_bb0){if(ds[ds.length-1].dialog==_bb0){ds.pop();var pd=ds[ds.length-1];if(ds.length==1){_b97.hide();}else{_b97.show(pd.underlayAttrs,pd.zIndex-1);}if(_bb0.refocus){var _bb1=pd.focus;if(pd.dialog&&(!_bb1||!dom.isDescendant(_bb1,pd.dialog.domNode))){pd.dialog._getFocusItems(pd.dialog.domNode);_bb1=pd.dialog._firstFocusItem;}if(_bb1){try{_bb1.focus();}catch(e){}}}}else{var idx=_b85.indexOf(_b85.map(ds,function(elem){return elem.dialog;}),_bb0);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_bb2){return ds[ds.length-1].dialog==_bb2;}};var ds=_bac._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];_b90.watch("curNode",function(attr,_bb3,node){var _bb4=ds[ds.length-1].dialog;if(node&&_bb4&&!_bb4._fadeOutDeferred&&node.ownerDocument==_bb4.ownerDocument){do{if(node==_bb4.domNode||_b89.contains(node,"dijitPopup")){return;}}while(node=node.parentNode);_bb4.focus();}});if(has("dijit-legacy-requires")){_b8c(0,function(){var _bb5=["dijit/TooltipDialog"];_b84(_bb5);});}return _bac;});},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(_bb6,_bb7){var _bb8=_bb7.prototype.onMove;return _bb6("dojo.dnd.TimedMoveable",_bb7,{timeout:40,constructor:function(node,_bb9){if(!_bb9){_bb9={};}if(_bb9.timeout&&typeof _bb9.timeout=="number"&&_bb9.timeout>=0){this.timeout=_bb9.timeout;}},onMoveStop:function(_bba){if(_bba._timer){clearTimeout(_bba._timer);_bb8.call(this,_bba,_bba._leftTop);}_bb7.prototype.onMoveStop.apply(this,arguments);},onMove:function(_bbb,_bbc){_bbb._leftTop=_bbc;if(!_bbb._timer){var _bbd=this;_bbb._timer=setTimeout(function(){_bbb._timer=null;_bb8.call(_bbd,_bbb,_bbb._leftTop);},this.timeout);}}});});},"dijit/DialogUnderlay":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe","./Viewport","./main"],function(_bbe,lang,_bbf,_bc0,_bc1,on,_bc2,_bc3,_bc4,_bc5,_bc6,_bc7){var _bc8=_bbe("dijit.DialogUnderlay",[_bc3,_bc4],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(id){_bc0.set(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_bc9){this.node.className="dijitDialogUnderlay "+_bc9;this._set("class",_bc9);},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));this.inherited(arguments);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _bca=_bc2.getBox(this.ownerDocument);os.top=_bca.t+"px";os.left=_bca.l+"px";is.width=_bca.w+"px";is.height=_bca.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.open=true;this.layout();this.bgIframe=new _bc5(this.domNode);var win=_bc2.get(this.ownerDocument);this._modalConnects=[_bc6.on("resize",lang.hitch(this,"layout")),on(win,"scroll",lang.hitch(this,"layout"))];},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";while(this._modalConnects.length){(this._modalConnects.pop()).remove();}this.open=false;},destroy:function(){while(this._modalConnects.length){(this._modalConnects.pop()).remove();}this.inherited(arguments);},_onKeyDown:function(){}});_bc8.show=function(_bcb,_bcc){var _bcd=_bc8._singleton;if(!_bcd||_bcd._destroyed){_bcd=_bc7._underlay=_bc8._singleton=new _bc8(_bcb);}else{if(_bcb){_bcd.set(_bcb);}}_bc1.set(_bcd.domNode,"zIndex",_bcc);if(!_bcd.open){_bcd.show();}};_bc8.hide=function(){var _bce=_bc8._singleton;if(_bce&&!_bce._destroyed){_bce.hide();}};return _bc8;});},"dojox/editor/plugins/InsertAnchor":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/_base/manager","dijit/_editor/range","dijit/_Templated","dijit/TooltipDialog","dijit/form/ValidationTextBox","dijit/form/Select","dijit/form/Button","dijit/form/DropDownButton","dojo/_base/declare","dojo/i18n","dojo/string","dojo/NodeList-dom","dojox/editor/plugins/ToolbarLineBreak","dojo/i18n!dojox/editor/plugins/nls/InsertAnchor","dojo/i18n!dijit/nls/common"],function(dojo,_bcf,_bd0,_bd1){var _bd2=dojo.declare("dojox.editor.plugins.InsertAnchor",_bd1,{htmlTemplate:"<a name=\"${anchorInput}\" class=\"dijitEditorPluginInsertAnchorStyle\">${textInput}</a>",iconClassPrefix:"dijitAdditionalEditorIcon",_template:["<table role='presentation'><tr><td>","<label for='${id}_anchorInput'>${anchor}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' required='true' "+"id='${id}_anchorInput' name='anchorInput' intermediateChanges='true'>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' required='true' id='${id}_textInput' "+"name='textInput' intermediateChanges='true'>","</td></tr>","<tr><td colspan='2'>","<button dojoType='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button dojoType='dijit.form.Button' type='button' id='${id}_cancelButton'>${cancel}</button>","</td></tr></table>"].join(""),_initButton:function(){var _bd3=this;var _bd4=dojo.i18n.getLocalization("dojox.editor.plugins","InsertAnchor",this.lang);var _bd5=(this.dropDown=new _bcf.TooltipDialog({title:_bd4["title"],execute:dojo.hitch(this,"setValue"),onOpen:function(){_bd3._onOpenDialog();_bcf.TooltipDialog.prototype.onOpen.apply(this,arguments);},onCancel:function(){setTimeout(dojo.hitch(_bd3,"_onCloseDialog"),0);}}));this.button=new _bcf.form.DropDownButton({label:_bd4["insertAnchor"],showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"InsertAnchor",tabIndex:"-1",dropDown:this.dropDown});_bd4.id=_bcf.getUniqueId(this.editor.id);this._uniqueId=_bd4.id;this.dropDown.set("content",_bd5.title+"<div style='border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'></div>"+dojo.string.substitute(this._template,_bd4));_bd5.startup();this._anchorInput=_bcf.byId(this._uniqueId+"_anchorInput");this._textInput=_bcf.byId(this._uniqueId+"_textInput");this._setButton=_bcf.byId(this._uniqueId+"_setButton");this.connect(_bcf.byId(this._uniqueId+"_cancelButton"),"onClick",function(){this.dropDown.onCancel();});if(this._anchorInput){this.connect(this._anchorInput,"onChange","_checkInput");}if(this._textInput){this.connect(this._anchorInput,"onChange","_checkInput");}this.editor.contentDomPreFilters.push(dojo.hitch(this,this._preDomFilter));this.editor.contentDomPostFilters.push(dojo.hitch(this,this._postDomFilter));this._setup();},updateState:function(){this.button.set("disabled",this.get("disabled"));},setEditor:function(_bd6){this.editor=_bd6;this._initButton();},_checkInput:function(){var _bd7=true;if(this._anchorInput.isValid()){_bd7=false;}this._setButton.set("disabled",_bd7);},_setup:function(){this.editor.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.connect(this.editor.editNode,"ondblclick",this._onDblClick);setTimeout(dojo.hitch(this,function(){this._applyStyles();}),100);}));},getAnchorStyle:function(){var _bd8="@media screen {\n"+"\t.dijitEditorPluginInsertAnchorStyle {\n"+"\t\tbackground-image: url({MODURL}/images/anchor.gif);\n"+"\t\tbackground-repeat: no-repeat;\n"+"\t\tbackground-position: top left;\n"+"\t\tborder-width: 1px;\n"+"\t\tborder-style: dashed;\n"+"\t\tborder-color: #D0D0D0;\n"+"\t\tpadding-left: 20px;\n"+"\t}\n"+"}\n";var _bd9=dojo.moduleUrl(_bd0._scopeName,"editor/plugins/resources").toString();if(!(_bd9.match(/^https?:\/\//i))&&!(_bd9.match(/^file:\/\//i))){var bUrl;if(_bd9.charAt(0)==="/"){var _bda=dojo.doc.location.protocol;var _bdb=dojo.doc.location.host;bUrl=_bda+"//"+_bdb;}else{bUrl=this._calcBaseUrl(dojo.global.location.href);}if(bUrl[bUrl.length-1]!=="/"&&_bd9.charAt(0)!=="/"){bUrl+="/";}_bd9=bUrl+_bd9;}return _bd8.replace(/\{MODURL\}/gi,_bd9);},_applyStyles:function(){if(!this._styled){try{this._styled=true;var doc=this.editor.document;var _bdc=this.getAnchorStyle();if(!dojo.isIE){var _bdd=doc.createElement("style");_bdd.appendChild(doc.createTextNode(_bdc));doc.getElementsByTagName("head")[0].appendChild(_bdd);}else{var ss=doc.createStyleSheet("");ss.cssText=_bdc;}}catch(e){}}},_calcBaseUrl:function(_bde){var _bdf=null;if(_bde!==null){var _be0=_bde.indexOf("?");if(_be0!=-1){_bde=_bde.substring(0,_be0);}_be0=_bde.lastIndexOf("/");if(_be0>0&&_be0<_bde.length){_bdf=_bde.substring(0,_be0);}else{_bdf=_bde;}}return _bdf;},_checkValues:function(args){if(args){if(args.anchorInput){args.anchorInput=args.anchorInput.replace(/"/g,"&quot;");}if(!args.textInput){args.textInput="&nbsp;";}}return args;},setValue:function(args){this._onCloseDialog();if(!this.editor.window.getSelection){var sel=_bcf.range.getSelection(this.editor.window);var _be1=sel.getRangeAt(0);var a=_be1.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!=="a")){a=this.editor._sCall("getSelectedElement",["a"]);}if(a&&(a.nodeName&&a.nodeName.toLowerCase()==="a")){if(this.editor.queryCommandEnabled("unlink")){this.editor._sCall("selectElementChildren",[a]);this.editor.execCommand("unlink");}}}args=this._checkValues(args);this.editor.execCommand("inserthtml",dojo.string.substitute(this.htmlTemplate,args));},_onCloseDialog:function(){this.editor.focus();},_getCurrentValues:function(a){var _be2,text;if(a&&a.tagName.toLowerCase()==="a"&&dojo.attr(a,"name")){_be2=dojo.attr(a,"name");text=a.textContent||a.innerText;this.editor._sCall("selectElement",[a,true]);}else{text=this.editor._sCall("getSelectedText");}return {anchorInput:_be2||"",textInput:text||""};},_onOpenDialog:function(){var a;if(!this.editor.window.getSelection){var sel=_bcf.range.getSelection(this.editor.window);var _be3=sel.getRangeAt(0);a=_be3.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!=="a")){a=this.editor._sCall("getSelectedElement",["a"]);}}else{a=this.editor._sCall("getAncestorElement",["a"]);}this.dropDown.reset();this._setButton.set("disabled",true);this.dropDown.set("value",this._getCurrentValues(a));},_onDblClick:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg==="a"&&dojo.attr(t,"name")){this.editor.onDisplayChanged();this.editor._sCall("selectElement",[t]);setTimeout(dojo.hitch(this,function(){this.button.set("disabled",false);this.button.openDropDown();if(this.button.dropDown.focus){this.button.dropDown.focus();}}),10);}}},_preDomFilter:function(node){dojo.query("a[name]:not([href])",this.editor.editNode).addClass("dijitEditorPluginInsertAnchorStyle");},_postDomFilter:function(node){if(node){dojo.query("a[name]:not([href])",node).removeClass("dijitEditorPluginInsertAnchorStyle");}return node;}});dojo.subscribe(_bcf._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name;if(name){name=name.toLowerCase();}if(name==="insertanchor"){o.plugin=new _bd2();}});return _bd2;});},"dijit/_Templated":function(){define(["./_WidgetBase","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel"],function(_be4,_be5,_be6,_be7,_be8,lang,_be9){lang.extend(_be4,{waiRole:"",waiState:""});return _be8("dijit._Templated",[_be5,_be6],{widgetsInTemplate:false,constructor:function(){_be9.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0");},_processNode:function(_bea,_beb){var ret=this.inherited(arguments);var role=_beb(_bea,"waiRole");if(role){_bea.setAttribute("role",role);}var _bec=_beb(_bea,"waiState");if(_bec){_be7.forEach(_bec.split(/\s*,\s*/),function(_bed){if(_bed.indexOf("-")!=-1){var pair=_bed.split("-");_bea.setAttribute("aria-"+pair[0],pair[1]);}});}return ret;}});});},"dijit/form/Select":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/i18n","dojo/_base/lang","dojo/on","dojo/sniff","./_FormSelectWidget","../_HasDropDown","../DropDownMenu","../MenuItem","../MenuSeparator","../Tooltip","../_KeyNavMixin","../registry","dojo/text!./templates/Select.html","dojo/i18n!./nls/validate"],function(_bee,_bef,_bf0,_bf1,_bf2,i18n,lang,on,has,_bf3,_bf4,_bf5,_bf6,_bf7,_bf8,_bf9,_bfa,_bfb){var _bfc=_bef("dijit.form._SelectMenu",_bf5,{autoFocus:true,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox");},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"selectstart",function(evt){evt.preventDefault();evt.stopPropagation();}));},focus:function(){var _bfd=false,val=this.parentWidget.value;if(lang.isArray(val)){val=val[val.length-1];}if(val){_bee.forEach(this.parentWidget._getChildren(),function(_bfe){if(_bfe.option&&(val===_bfe.option.value)){_bfd=true;this.focusChild(_bfe,false);}},this);}if(!_bfd){this.inherited(arguments);}}});var _bff=_bef("dijit.form.Select"+(has("dojo-bidi")?"_NoBidi":""),[_bf3,_bf4,_bf9],{baseClass:"dijitSelect dijitValidationTextBox",templateString:_bfb,_buttonInputDisabled:has("ie")?"disabled":"",required:false,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",_isLoaded:false,_childrenLoaded:false,_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var si=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[si>=0?si:0].value);}this.dropDown=new _bfc({id:this.id+"_menu",parentWidget:this});_bf1.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "));},_getMenuItemForOption:function(_c00){if(!_c00.value&&!_c00.label){return new _bf7({ownerDocument:this.ownerDocument});}else{var _c01=lang.hitch(this,"_setValueAttr",_c00);var item=new _bf6({option:_c00,label:_c00.label||this.emptyLabel,onClick:_c01,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:_c00.disabled||false});item.focusNode.setAttribute("role","option");return item;}},_addOptionItem:function(_c02){if(this.dropDown){this.dropDown.addChild(this._getMenuItemForOption(_c02));}},_getChildren:function(){if(!this.dropDown){return [];}return this.dropDown.getChildren();},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},focusChild:function(_c03){if(_c03){this.set("value",_c03.option);}},_getFirst:function(){var _c04=this._getChildren();return _c04.length?_c04[0]:null;},_getLast:function(){var _c05=this._getChildren();return _c05.length?_c05[_c05.length-1]:null;},childSelector:function(node){var node=_bfa.byNode(node);return node&&node.getParent()==this.dropDown;},onKeyboardSearch:function(item,evt,_c06,_c07){if(item){this.focusChild(item);}},_loadChildren:function(_c08){if(_c08===true){if(this.dropDown){delete this.dropDown.focusedChild;this.focusedChild=null;}if(this.options.length){this.inherited(arguments);}else{_bee.forEach(this._getChildren(),function(_c09){_c09.destroyRecursive();});var item=new _bf6({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(item);}}else{this._updateSelection();}this._isLoaded=false;this._childrenLoaded=true;if(!this._loadingStore){this._setValueAttr(this.value,false);}},_refreshState:function(){if(this._started){this.validate(this.focused);}},startup:function(){this.inherited(arguments);this._refreshState();},_setValueAttr:function(_c0a){this.inherited(arguments);_bf0.set(this.valueNode,"value",this.get("value"));this._refreshState();},_setNameAttr:"valueNode",_setDisabledAttr:function(_c0b){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_c0c){this._set("required",_c0c);this.focusNode.setAttribute("aria-required",_c0c);this._refreshState();},_setOptionsAttr:function(_c0d){this._isLoaded=false;this._set("options",_c0d);},_setDisplay:function(_c0e){var lbl=_c0e||this.emptyLabel;this.containerNode.innerHTML="<span role=\"option\" class=\"dijitReset dijitInline "+this.baseClass.replace(/\s+|$/g,"Label ")+"\">"+lbl+"</span>";},validate:function(_c0f){var _c10=this.disabled||this.isValid(_c0f);this._set("state",_c10?"":(this._hasBeenBlurred?"Error":"Incomplete"));this.focusNode.setAttribute("aria-invalid",_c10?"false":"true");var _c11=_c10?"":this._missingMsg;if(_c11&&this.focused&&this._hasBeenBlurred){_bf8.show(_c11,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_bf8.hide(this.domNode);}this._set("message",_c11);return _c10;},isValid:function(){return (!this.required||this.value===0||!(/^\s*$/.test(this.value||"")));},reset:function(){this.inherited(arguments);_bf8.hide(this.domNode);this._refreshState();},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=i18n.getLocalization("dijit.form","validate",this.lang).missingMessage;},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"selectstart",function(evt){evt.preventDefault();evt.stopPropagation();}));this.domNode.setAttribute("aria-expanded","false");if(has("ie")<9){this.defer(function(){try{var s=domStyle.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _c12=this.domNode.getElementsByTagName("INPUT");if(_c12){for(var i=0;i<_c12.length;i++){_c12[i].style.fontFamily=ff;}}}}}catch(e){}});}},_setStyleAttr:function(_c13){this.inherited(arguments);_bf1.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width);},isLoaded:function(){return this._isLoaded;},loadDropDown:function(_c14){this._loadChildren(true);this._isLoaded=true;_c14();},destroy:function(_c15){if(this.dropDown&&!this.dropDown._destroyed){this.dropDown.destroyRecursive(_c15);delete this.dropDown;}this.inherited(arguments);},_onFocus:function(){this.validate(true);this.inherited(arguments);},_onBlur:function(){_bf8.hide(this.domNode);this.inherited(arguments);this.validate(false);}});if(has("dojo-bidi")){_bff=_bef("dijit.form.Select",_bff,{_setDisplay:function(_c16){this.inherited(arguments);this.applyTextDir(this.containerNode);}});}_bff._Menu=_bfc;function _c17(_c18){return function(evt){if(!this._isLoaded){this.loadDropDown(lang.hitch(this,_c18,evt));}else{this.inherited(_c18,arguments);}};};_bff.prototype._onContainerKeydown=_c17("_onContainerKeydown");_bff.prototype._onContainerKeypress=_c17("_onContainerKeypress");return _bff;});},"dijit/form/_FormSelectWidget":function(){define(["dojo/_base/array","dojo/_base/Deferred","dojo/aspect","dojo/data/util/sorter","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/when","dojo/store/util/QueryResults","./_FormValueWidget"],function(_c19,_c1a,_c1b,_c1c,_c1d,dom,_c1e,_c1f,lang,_c20,when,_c21,_c22){var _c23=_c1d("dijit.form._FormSelectWidget",_c22,{multiple:false,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:true,loadChildrenOnOpen:false,onLoadDeferred:null,getOptions:function(_c24){var opts=this.options||[];if(_c24==null){return opts;}if(lang.isArray(_c24)){return _c19.map(_c24,"return this.getOptions(item);",this);}if(lang.isString(_c24)){_c24={value:_c24};}if(lang.isObject(_c24)){if(!_c19.some(opts,function(_c25,idx){for(var a in _c24){if(!(a in _c25)||_c25[a]!=_c24[a]){return false;}}_c24=idx;return true;})){_c24=-1;}}if(_c24>=0&&_c24<opts.length){return opts[_c24];}return null;},addOption:function(_c26){_c19.forEach(lang.isArray(_c26)?_c26:[_c26],function(i){if(i&&lang.isObject(i)){this.options.push(i);}},this);this._loadChildren();},removeOption:function(_c27){var _c28=this.getOptions(lang.isArray(_c27)?_c27:[_c27]);_c19.forEach(_c28,function(_c29){if(_c29){this.options=_c19.filter(this.options,function(node){return (node.value!==_c29.value||node.label!==_c29.label);});this._removeOptionItem(_c29);}},this);this._loadChildren();},updateOption:function(_c2a){_c19.forEach(lang.isArray(_c2a)?_c2a:[_c2a],function(i){var _c2b=this.getOptions({value:i.value}),k;if(_c2b){for(k in i){_c2b[k]=i[k];}}},this);this._loadChildren();},setStore:function(_c2c,_c2d,_c2e){var _c2f=this.store;_c2e=_c2e||{};if(_c2f!==_c2c){var h;while((h=this._notifyConnections.pop())){h.remove();}if(!_c2c.get){lang.mixin(_c2c,{_oldAPI:true,get:function(id){var _c30=new _c1a();this.fetchItemByIdentity({identity:id,onItem:function(_c31){_c30.resolve(_c31);},onError:function(_c32){_c30.reject(_c32);}});return _c30.promise;},query:function(_c33,_c34){var _c35=new _c1a(function(){if(_c36.abort){_c36.abort();}});_c35.total=new _c1a();var _c36=this.fetch(lang.mixin({query:_c33,onBegin:function(_c37){_c35.total.resolve(_c37);},onComplete:function(_c38){_c35.resolve(_c38);},onError:function(_c39){_c35.reject(_c39);}},_c34));return new _c21(_c35);}});if(_c2c.getFeatures()["dojo.data.api.Notification"]){this._notifyConnections=[_c1b.after(_c2c,"onNew",lang.hitch(this,"_onNewItem"),true),_c1b.after(_c2c,"onDelete",lang.hitch(this,"_onDeleteItem"),true),_c1b.after(_c2c,"onSet",lang.hitch(this,"_onSetItem"),true)];}}this._set("store",_c2c);}if(this.options&&this.options.length){this.removeOption(this.options);}if(this._queryRes&&this._queryRes.close){this._queryRes.close();}if(this._observeHandle&&this._observeHandle.remove){this._observeHandle.remove();this._observeHandle=null;}if(_c2e.query){this._set("query",_c2e.query);this._set("queryOptions",_c2e.queryOptions);}if(_c2c){this._loadingStore=true;this.onLoadDeferred=new _c1a();this._queryRes=_c2c.query(this.query,this.queryOptions);when(this._queryRes,lang.hitch(this,function(_c3a){if(this.sortByLabel&&!_c2e.sort&&_c3a.length){if(_c2c.getValue){_c3a.sort(_c1c.createSortFunction([{attribute:_c2c.getLabelAttributes(_c3a[0])[0]}],_c2c));}else{var _c3b=this.labelAttr;_c3a.sort(function(a,b){return a[_c3b]>b[_c3b]?1:b[_c3b]>a[_c3b]?-1:0;});}}if(_c2e.onFetch){_c3a=_c2e.onFetch.call(this,_c3a,_c2e);}_c19.forEach(_c3a,function(i){this._addOptionForItem(i);},this);if(this._queryRes.observe){this._observeHandle=this._queryRes.observe(lang.hitch(this,function(_c3c,_c3d,_c3e){if(_c3d==_c3e){this._onSetItem(_c3c);}else{if(_c3d!=-1){this._onDeleteItem(_c3c);}if(_c3e!=-1){this._onNewItem(_c3c);}}}),true);}this._loadingStore=false;this.set("value","_pendingValue" in this?this._pendingValue:_c2d);delete this._pendingValue;if(!this.loadChildrenOnOpen){this._loadChildren();}else{this._pseudoLoadChildren(_c3a);}this.onLoadDeferred.resolve(true);this.onSetStore();}),function(err){console.error("dijit.form.Select: "+err.toString());this.onLoadDeferred.reject(err);});}return _c2f;},_setValueAttr:function(_c3f,_c40){if(!this._onChangeActive){_c40=null;}if(this._loadingStore){this._pendingValue=_c3f;return;}if(_c3f==null){return;}if(lang.isArray(_c3f)){_c3f=_c19.map(_c3f,function(_c41){return lang.isObject(_c41)?_c41:{value:_c41};});}else{if(lang.isObject(_c3f)){_c3f=[_c3f];}else{_c3f=[{value:_c3f}];}}_c3f=_c19.filter(this.getOptions(_c3f),function(i){return i&&i.value;});var opts=this.getOptions()||[];if(!this.multiple&&(!_c3f[0]||!_c3f[0].value)&&!!opts.length){_c3f[0]=opts[0];}_c19.forEach(opts,function(opt){opt.selected=_c19.some(_c3f,function(v){return v.value===opt.value;});});var val=_c19.map(_c3f,function(opt){return opt.value;});if(typeof val=="undefined"||typeof val[0]=="undefined"){return;}var disp=_c19.map(_c3f,function(opt){return opt.label;});this._setDisplay(this.multiple?disp:disp[0]);this.inherited(arguments,[this.multiple?val:val[0],_c40]);this._updateSelection();},_getDisplayedValueAttr:function(){var ret=_c19.map([].concat(this.get("selectedOptions")),function(v){if(v&&"label" in v){return v.label;}else{if(v){return v.value;}}return null;},this);return this.multiple?ret:ret[0];},_setDisplayedValueAttr:function(_c42){this.set("value",this.getOptions(typeof _c42=="string"?{label:_c42}:_c42));},_loadChildren:function(){if(this._loadingStore){return;}_c19.forEach(this._getChildren(),function(_c43){_c43.destroyRecursive();});_c19.forEach(this.options,this._addOptionItem,this);this._updateSelection();},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var val=[].concat(this.value);if(val&&val[0]){var self=this;_c19.forEach(this._getChildren(),function(_c44){var _c45=_c19.some(val,function(v){return _c44.option&&(v===_c44.option.value);});if(_c45&&!self.multiple){self.focusedChild=_c44;}_c1e.toggle(_c44.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),_c45);_c44.domNode.setAttribute("aria-selected",_c45?"true":"false");},this);}},_getValueFromOpts:function(){var opts=this.getOptions()||[];if(!this.multiple&&opts.length){var opt=_c19.filter(opts,function(i){return i.selected;})[0];if(opt&&opt.value){return opt.value;}else{opts[0].selected=true;return opts[0].value;}}else{if(this.multiple){return _c19.map(_c19.filter(opts,function(i){return i.selected;}),function(i){return i.value;})||[];}}return "";},_onNewItem:function(item,_c46){if(!_c46||!_c46.parent){this._addOptionForItem(item);}},_onDeleteItem:function(item){var _c47=this.store;this.removeOption({value:_c47.getIdentity(item)});},_onSetItem:function(item){this.updateOption(this._getOptionObjForItem(item));},_getOptionObjForItem:function(item){var _c48=this.store,_c49=(this.labelAttr&&this.labelAttr in item)?item[this.labelAttr]:_c48.getLabel(item),_c4a=(_c49?_c48.getIdentity(item):null);return {value:_c4a,label:_c49,item:item};},_addOptionForItem:function(item){var _c4b=this.store;if(_c4b.isItemLoaded&&!_c4b.isItemLoaded(item)){_c4b.loadItem({item:item,onItem:function(i){this._addOptionForItem(i);},scope:this});return;}var _c4c=this._getOptionObjForItem(item);this.addOption(_c4c);},constructor:function(_c4d){this._oValue=(_c4d||{}).value||null;this._notifyConnections=[];},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},_fillContent:function(){if(!this.options){this.options=this.srcNodeRef?_c20("> *",this.srcNodeRef).map(function(node){if(node.getAttribute("type")==="separator"){return {value:"",label:"",selected:false,disabled:false};}return {value:(node.getAttribute("data-"+_c1f._scopeName+"-value")||node.getAttribute("value")),label:String(node.innerHTML),selected:node.getAttribute("selected")||false,disabled:node.getAttribute("disabled")||false};},this):[];}if(!this.value){this._set("value",this._getValueFromOpts());}else{if(this.multiple&&typeof this.value=="string"){this._set("value",this.value.split(","));}}},postCreate:function(){this.inherited(arguments);_c1b.after(this,"onChange",lang.hitch(this,"_updateSelection"));var _c4e=this.store;if(_c4e&&(_c4e.getIdentity||_c4e.getFeatures()["dojo.data.api.Identity"])){this.store=null;this.setStore(_c4e,this._oValue);}},startup:function(){this._loadChildren();this.inherited(arguments);},destroy:function(){var h;while((h=this._notifyConnections.pop())){h.remove();}if(this._queryRes&&this._queryRes.close){this._queryRes.close();}if(this._observeHandle&&this._observeHandle.remove){this._observeHandle.remove();this._observeHandle=null;}this.inherited(arguments);},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return [];},_getSelectedOptionsAttr:function(){return this.getOptions({selected:true});},_pseudoLoadChildren:function(){},onSetStore:function(){}});return _c23;});},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(lang){var _c4f={};lang.setObject("dojo.data.util.sorter",_c4f);_c4f.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};_c4f.createSortFunction=function(_c50,_c51){var _c52=[];function _c53(attr,dir,comp,s){return function(_c54,_c55){var a=s.getValue(_c54,attr);var b=s.getValue(_c55,attr);return dir*comp(a,b);};};var _c56;var map=_c51.comparatorMap;var bc=_c4f.basicComparator;for(var i=0;i<_c50.length;i++){_c56=_c50[i];var attr=_c56.attribute;if(attr){var dir=(_c56.descending)?-1:1;var comp=bc;if(map){if(typeof attr!=="string"&&("toString" in attr)){attr=attr.toString();}comp=map[attr]||bc;}_c52.push(_c53(attr,dir,comp,_c51));}}return function(rowA,rowB){var i=0;while(i<_c52.length){var ret=_c52[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};return _c4f;});},"dojox/editor/plugins/TablePlugins":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/Color","dojo/aspect","dojo/dom-attr","dojo/dom-style","dijit/_editor/_Plugin","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Dialog","dijit/Menu","dijit/MenuItem","dijit/MenuSeparator","dijit/ColorPalette","dojox/widget/ColorPicker","dojo/text!./resources/insertTable.html","dojo/text!./resources/modifyTable.html","dojo/i18n!./nls/TableDialog","dijit/_base/popup","dijit/popup","dojo/_base/connect","dijit/TooltipDialog","dijit/form/Button","dijit/form/DropDownButton","dijit/form/TextBox","dijit/form/FilteringSelect"],function(_c57,_c58,_c59,_c5a,_c5b,_c5c,_c5d,_c5e,_c5f,_c60,_c61,Menu,_c62,_c63,_c64,_c65,_c66,_c67,_c68){dojo.experimental("dojox.editor.plugins.TablePlugins");var _c69=_c57(_c5d,{tablesConnected:false,currentlyAvailable:false,alwaysAvailable:false,availableCurrentlySet:false,initialized:false,tableData:null,shiftKeyDown:false,editorDomNode:null,undoEnabled:true,refCount:0,doMixins:function(){dojo.mixin(this.editor,{getAncestorElement:function(_c6a){return this._sCall("getAncestorElement",[_c6a]);},hasAncestorElement:function(_c6b){return this._sCall("hasAncestorElement",[_c6b]);},selectElement:function(elem){this._sCall("selectElement",[elem]);},byId:function(id){return dojo.byId(id,this.document);},query:function(arg,_c6c,_c6d){var ar=dojo.query(arg,_c6c||this.document);return (_c6d)?ar[0]:ar;}});},initialize:function(_c6e){this.refCount++;_c6e.customUndo=true;if(this.initialized){return;}this.initialized=true;this.editor=_c6e;this.editor._tablePluginHandler=this;_c6e.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.editorDomNode=this.editor.editNode||this.editor.iframe.document.body.firstChild;this._myListeners=[dojo.connect(this.editorDomNode,"mouseup",this.editor,"onClick"),dojo.connect(this.editor,"onDisplayChanged",this,"checkAvailable"),dojo.connect(this.editor,"onBlur",this,"checkAvailable"),dojo.connect(this.editor,"_saveSelection",this,function(){this._savedTableInfo=this.getTableInfo();}),dojo.connect(this.editor,"_restoreSelection",this,function(){delete this._savedTableInfo;})];this.doMixins();this.connectDraggable();}));},getTableInfo:function(_c6f){if(this._savedTableInfo){return this._savedTableInfo;}if(_c6f){this._tempStoreTableData(false);}if(this.tableData){return this.tableData;}var tr,trs,td,tds,tbl,cols,_c70,_c71,o;td=this.editor.getAncestorElement("td");if(td){tr=td.parentNode;}tbl=this.editor.getAncestorElement("table");if(tbl){tds=dojo.query("td",tbl);tds.forEach(function(d,i){if(td==d){_c70=i;}});trs=dojo.query("tr",tbl);trs.forEach(function(r,i){if(tr==r){_c71=i;}});cols=tds.length/trs.length;o={tbl:tbl,td:td,tr:tr,trs:trs,tds:tds,rows:trs.length,cols:cols,tdIndex:_c70,trIndex:_c71,colIndex:_c70%cols};}else{o={};}this.tableData=o;this._tempStoreTableData(500);return this.tableData;},connectDraggable:function(){if(!dojo.isIE){return;}this.editorDomNode.ondragstart=dojo.hitch(this,"onDragStart");this.editorDomNode.ondragend=dojo.hitch(this,"onDragEnd");},onDragStart:function(){var e=window.event;if(!e.srcElement.id){e.srcElement.id="tbl_"+(new Date().getTime());}},onDragEnd:function(){var e=window.event;var node=e.srcElement;var id=node.id;var doc=this.editor.document;if(node.tagName.toLowerCase()=="table"){setTimeout(function(){var node=dojo.byId(id,doc);dojo.removeAttr(node,"align");},100);}},checkAvailable:function(){if(this.availableCurrentlySet){return this.currentlyAvailable;}if(!this.editor){return false;}if(this.alwaysAvailable){return true;}this.currentlyAvailable=this.editor.focused&&(this._savedTableInfo?this._savedTableInfo.tbl:this.editor.hasAncestorElement("table"));if(this.currentlyAvailable){this.connectTableKeys();}else{this.disconnectTableKeys();}this._tempAvailability(500);dojo.publish(this.editor.id+"_tablePlugins",[this.currentlyAvailable]);return this.currentlyAvailable;},_prepareTable:function(tbl){var tds=this.editor.query("td",tbl);if(!tds[0].id){tds.forEach(function(td,i){if(!td.id){td.id="tdid"+i+this.getTimeStamp();}},this);}return tds;},getTimeStamp:function(){return new Date().getTime();},_tempStoreTableData:function(type){if(type===true){}else{if(type===false){this.tableData=null;}else{if(type===undefined){console.warn("_tempStoreTableData must be passed an argument");}else{setTimeout(dojo.hitch(this,function(){this.tableData=null;}),type);}}}},_tempAvailability:function(type){if(type===true){this.availableCurrentlySet=true;}else{if(type===false){this.availableCurrentlySet=false;}else{if(type===undefined){console.warn("_tempAvailability must be passed an argument");}else{this.availableCurrentlySet=true;setTimeout(dojo.hitch(this,function(){this.availableCurrentlySet=false;}),type);}}}},connectTableKeys:function(){if(this.tablesConnected){return;}this.tablesConnected=true;var node=(this.editor.iframe)?this.editor.document:this.editor.editNode;this.cnKeyDn=dojo.connect(node,"onkeydown",this,"onKeyDown");this.cnKeyUp=dojo.connect(node,"onkeyup",this,"onKeyUp");this._myListeners.push(dojo.connect(node,"onkeypress",this,"onKeyUp"));},disconnectTableKeys:function(){dojo.disconnect(this.cnKeyDn);dojo.disconnect(this.cnKeyUp);this.tablesConnected=false;},onKeyDown:function(evt){var key=evt.keyCode;if(key==16){this.shiftKeyDown=true;}if(key==9){var o=this.getTableInfo();o.tdIndex=(this.shiftKeyDown)?o.tdIndex-1:tabTo=o.tdIndex+1;if(o.tdIndex>=0&&o.tdIndex<o.tds.length){this.editor.selectElement(o.tds[o.tdIndex]);this.currentlyAvailable=true;this._tempAvailability(true);this._tempStoreTableData(true);this.stopEvent=true;}else{this.stopEvent=false;this.onDisplayChanged();}if(this.stopEvent){dojo.stopEvent(evt);}}},onKeyUp:function(evt){var key=evt.keyCode;if(key==16){this.shiftKeyDown=false;}if(key==37||key==38||key==39||key==40){this.onDisplayChanged();}if(key==9&&this.stopEvent){dojo.stopEvent(evt);}},onDisplayChanged:function(){this.currentlyAvailable=false;this._tempStoreTableData(false);this._tempAvailability(false);this.checkAvailable();},uninitialize:function(_c72){if(this.editor==_c72){this.refCount--;if(!this.refCount&&this.initialized){if(this.tablesConnected){this.disconnectTableKeys();}this.initialized=false;dojo.forEach(this._myListeners,function(l){dojo.disconnect(l);});delete this._myListeners;delete this.editor._tablePluginHandler;delete this.editor;}this.inherited(arguments);}}});var _c73=_c57("dojox.editor.plugins.TablePlugins",_c5d,{iconClassPrefix:"editorIcon",useDefaultCommand:false,buttonClass:dijit.form.Button,commandName:"",label:"",alwaysAvailable:false,undoEnabled:true,onDisplayChanged:function(_c74){if(!this.alwaysAvailable){this.available=_c74;this.button.set("disabled",!this.available);}},setEditor:function(_c75){this.editor=_c75;this.editor.customUndo=true;this.inherited(arguments);this._availableTopic=dojo.subscribe(this.editor.id+"_tablePlugins",this,"onDisplayChanged");this.onEditorLoaded();},onEditorLoaded:function(){if(!this.editor._tablePluginHandler){var _c76=new _c69();_c76.initialize(this.editor);}else{this.editor._tablePluginHandler.initialize(this.editor);}},selectTable:function(){var o=this.getTableInfo();if(o&&o.tbl){this.editor._sCall("selectElement",[o.tbl]);}},_initButton:function(){this.command=this.name;this.label=this.editor.commands[this.command]=this._makeTitle(this.command);this.inherited(arguments);delete this.command;this.connect(this.button,"onClick","modTable");this.onDisplayChanged(false);},modTable:function(cmd,args){if(dojo.isIE){this.editor.focus();}this.begEdit();var o=this.getTableInfo();var sw=(dojo.isString(cmd))?cmd:this.name;var r,c,i;var _c77=false;switch(sw){case "insertTableRowBefore":r=o.tbl.insertRow(o.trIndex);for(i=0;i<o.cols;i++){c=r.insertCell(-1);c.innerHTML="&nbsp;";}break;case "insertTableRowAfter":r=o.tbl.insertRow(o.trIndex+1);for(i=0;i<o.cols;i++){c=r.insertCell(-1);c.innerHTML="&nbsp;";}break;case "insertTableColumnBefore":o.trs.forEach(function(r){c=r.insertCell(o.colIndex);c.innerHTML="&nbsp;";});_c77=true;break;case "insertTableColumnAfter":o.trs.forEach(function(r){c=r.insertCell(o.colIndex+1);c.innerHTML="&nbsp;";});_c77=true;break;case "deleteTableRow":o.tbl.deleteRow(o.trIndex);break;case "deleteTableColumn":o.trs.forEach(function(tr){tr.deleteCell(o.colIndex);});_c77=true;break;case "modifyTable":break;case "insertTable":break;}if(_c77){this.makeColumnsEven();}this.endEdit();},begEdit:function(){if(this.editor._tablePluginHandler.undoEnabled){if(this.editor.customUndo){this.editor.beginEditing();}else{this.valBeforeUndo=this.editor.getValue();}}},endEdit:function(){if(this.editor._tablePluginHandler.undoEnabled){if(this.editor.customUndo){this.editor.endEditing();}else{var _c78=this.editor.getValue();this.editor.setValue(this.valBeforeUndo);this.editor.replaceValue(_c78);}this.editor.onDisplayChanged();}},makeColumnsEven:function(){setTimeout(dojo.hitch(this,function(){var o=this.getTableInfo(true);var w=Math.floor(100/o.cols);o.tds.forEach(function(d){dojo.attr(d,"width",w+"%");});}),10);},getTableInfo:function(_c79){return this.editor._tablePluginHandler.getTableInfo(_c79);},_makeTitle:function(str){this._strings=dojo.i18n.getLocalization("dojox.editor.plugins","TableDialog");var _c7a=this._strings[str+"Title"]||this._strings[str+"Label"]||str;return _c7a;},getSelectedCells:function(){var _c7b=[];var tbl=this.getTableInfo().tbl;this.editor._tablePluginHandler._prepareTable(tbl);var e=this.editor;var text=e._sCall("getSelectedHtml",[null]);var str=text.match(/id="*\w*"*/g);dojo.forEach(str,function(a){var id=a.substring(3,a.length);if(id.charAt(0)=="\""&&id.charAt(id.length-1)=="\""){id=id.substring(1,id.length-1);}var node=e.byId(id);if(node&&node.tagName.toLowerCase()=="td"){_c7b.push(node);}},this);if(!_c7b.length){var sel=dijit.range.getSelection(e.window);if(sel.rangeCount){var r=sel.getRangeAt(0);var node=r.startContainer;while(node&&node!=e.editNode&&node!=e.document){if(node.nodeType===1){var tg=node.tagName?node.tagName.toLowerCase():"";if(tg==="td"){return [node];}}node=node.parentNode;}}}return _c7b;},updateState:function(){if(this.button){if((this.available||this.alwaysAvailable)&&!this.get("disabled")){this.button.set("disabled",false);}else{this.button.set("disabled",true);}}},destroy:function(){this.inherited(arguments);dojo.unsubscribe(this._availableTopic);this.editor._tablePluginHandler.uninitialize(this.editor);}});var _c7c=_c57(_c73,{constructor:function(){this.connect(this,"setEditor",function(_c7d){_c7d.onLoadDeferred.addCallback(dojo.hitch(this,function(){this._createContextMenu();}));this.button.domNode.style.display="none";});},destroy:function(){if(this.menu){this.menu.destroyRecursive();delete this.menu;}this.inherited(arguments);},_initButton:function(){this.inherited(arguments);if(this.name==="tableContextMenu"){this.button.domNode.display="none";}},_createContextMenu:function(){var _c7e=new Menu({targetNodeIds:[this.editor.iframe]});var _c7f=_c68;_c7e.addChild(new _c62({label:_c7f.selectTableLabel,onClick:dojo.hitch(this,"selectTable")}));_c7e.addChild(new _c63());_c7e.addChild(new _c62({label:_c7f.insertTableRowBeforeLabel,onClick:dojo.hitch(this,"modTable","insertTableRowBefore")}));_c7e.addChild(new _c62({label:_c7f.insertTableRowAfterLabel,onClick:dojo.hitch(this,"modTable","insertTableRowAfter")}));_c7e.addChild(new _c62({label:_c7f.insertTableColumnBeforeLabel,onClick:dojo.hitch(this,"modTable","insertTableColumnBefore")}));_c7e.addChild(new _c62({label:_c7f.insertTableColumnAfterLabel,onClick:dojo.hitch(this,"modTable","insertTableColumnAfter")}));_c7e.addChild(new _c63());_c7e.addChild(new _c62({label:_c7f.deleteTableRowLabel,onClick:dojo.hitch(this,"modTable","deleteTableRow")}));_c7e.addChild(new _c62({label:_c7f.deleteTableColumnLabel,onClick:dojo.hitch(this,"modTable","deleteTableColumn")}));this.menu=_c7e;}});var _c80=_c57("dojox.editor.plugins.EditorTableDialog",[_c61,_c5f,_c60],{baseClass:"EditorTableDialog",templateString:_c66,postMixInProperties:function(){dojo.mixin(this,_c68);this.inherited(arguments);},postCreate:function(){dojo.addClass(this.domNode,this.baseClass);this.inherited(arguments);},onInsert:function(){var rows=this.selectRow.get("value")||1,cols=this.selectCol.get("value")||1,_c81=this.selectWidth.get("value"),_c82=this.selectWidthType.get("value"),_c83=this.selectBorder.get("value"),pad=this.selectPad.get("value"),_c84=this.selectSpace.get("value"),_c85="tbl_"+(new Date().getTime()),t="<table id=\""+_c85+"\"width=\""+_c81+((_c82=="percent")?"%":"")+"\" border=\""+_c83+"\" cellspacing=\""+_c84+"\" cellpadding=\""+pad+"\">\n";for(var r=0;r<rows;r++){t+="\t<tr>\n";for(var c=0;c<cols;c++){t+="\t\t<td width=\""+(Math.floor(100/cols))+"%\">&nbsp;</td>\n";}t+="\t</tr>\n";}t+="</table><br />";var cl=dojo.connect(this,"onHide",function(){dojo.disconnect(cl);var self=this;setTimeout(function(){self.destroyRecursive();},10);});this.hide();this.onBuildTable({htmlText:t,id:_c85});},onCancel:function(){var c=dojo.connect(this,"onHide",function(){dojo.disconnect(c);var self=this;setTimeout(function(){self.destroyRecursive();},10);});},onBuildTable:function(_c86){}});var _c87=_c57("dojox.editor.plugins.InsertTable",_c73,{alwaysAvailable:true,modTable:function(){var w=new _c80({});w.show();var c=dojo.connect(w,"onBuildTable",this,function(obj){dojo.disconnect(c);this.editor.focus();var res=this.editor.execCommand("inserthtml",obj.htmlText);});}});var _c88=_c57([_c61,_c5f,_c60],{baseClass:"EditorTableDialog",table:null,tableAtts:{},templateString:_c67,postMixInProperties:function(){dojo.mixin(this,_c68);this.inherited(arguments);},postCreate:function(){dojo.addClass(this.domNode,this.baseClass);this.inherited(arguments);var w1=new this.colorPicker({params:this.params});this.connect(w1,"onChange",function(_c89){if(!this._started){return;}dijit.popup.close(w1);this.setBrdColor(_c89);});this.connect(w1,"onBlur",function(){dijit.popup.close(w1);});this.connect(this.borderCol,"click",function(){w1.set("value",this.brdColor,false);dijit.popup.open({popup:w1,around:this.borderCol});w1.focus();});var w2=new this.colorPicker({params:this.params});this.connect(w2,"onChange",function(_c8a){if(!this._started){return;}dijit.popup.close(w2);this.setBkColor(_c8a);});this.connect(w2,"onBlur",function(){dijit.popup.close(w2);});this.connect(this.backgroundCol,"click",function(){w2.set("value",this.bkColor,false);dijit.popup.open({popup:w2,around:this.backgroundCol});w2.focus();});this.own(w1,w2);this.pickers=[w1,w2];this.setBrdColor(_c5c.get(this.table,"borderColor"));this.setBkColor(_c5c.get(this.table,"backgroundColor"));var w=_c5b.get(this.table,"width");if(!w){w=this.table.style.width;}var p="pixels";if(dojo.isString(w)&&w.indexOf("%")>-1){p="percent";w=w.replace(/%/,"");}if(w){this.selectWidth.set("value",w);this.selectWidthType.set("value",p);}else{this.selectWidth.set("value","");this.selectWidthType.set("value","percent");}this.selectBorder.set("value",_c5b.get(this.table,"border"));this.selectPad.set("value",_c5b.get(this.table,"cellPadding"));this.selectSpace.set("value",_c5b.get(this.table,"cellSpacing"));this.selectAlign.set("value",_c5b.get(this.table,"align"));},startup:function(){_c58.forEach(this.pickers,function(_c8b){_c8b.startup();});this.inherited(arguments);},setBrdColor:function(_c8c){this.brdColor=_c8c;_c5c.set(this.borderCol,"backgroundColor",_c8c);},setBkColor:function(_c8d){this.bkColor=_c8d;_c5c.set(this.backgroundCol,"backgroundColor",_c8d);},onSet:function(){_c5c.set(this.table,"borderColor",this.brdColor);_c5c.set(this.table,"backgroundColor",this.bkColor);if(this.selectWidth.get("value")){_c5c.set(this.table,"width","");_c5b.set(this.table,"width",(this.selectWidth.get("value")+((this.selectWidthType.get("value")=="pixels")?"":"%")));}_c5b.set(this.table,"border",this.selectBorder.get("value"));_c5b.set(this.table,"cellPadding",this.selectPad.get("value"));_c5b.set(this.table,"cellSpacing",this.selectSpace.get("value"));_c5b.set(this.table,"align",this.selectAlign.get("value"));var c=dojo.connect(this,"onHide",function(){dojo.disconnect(c);var self=this;setTimeout(function(){self.destroyRecursive();},10);});this.hide();},onCancel:function(){var c=dojo.connect(this,"onHide",function(){dojo.disconnect(c);var self=this;setTimeout(function(){self.destroyRecursive();},10);});},onSetTable:function(_c8e){}});var _c8f=_c57("dojox.editor.plugins.ModifyTable",_c73,{colorPicker:_c64,modTable:function(){if(!this.editor._tablePluginHandler.checkAvailable()){return;}var o=this.getTableInfo();var w=new _c88({table:o.tbl,colorPicker:typeof this.colorPicker==="string"?require(this.colorPicker):this.colorPicker,params:this.params});w.show();this.connect(w,"onSetTable",function(_c90){var o=this.getTableInfo();_c5c.set(o.td,"backgroundColor",_c90);});}});var _c91=_c57([_c5e,_c5f,_c60],{colorPicker:_c65,templateString:"<div style='display: none; position: absolute; top: -10000; z-index: -10000'>"+"<div dojoType='dijit.TooltipDialog' dojoAttachPoint='dialog' class='dojoxEditorColorPicker'>"+"<div dojoAttachPoint='_colorPicker'></div>"+"<div style='margin: 0.5em 0em 0em 0em'>"+"<button dojoType='dijit.form.Button' type='submit' dojoAttachPoint='_setButton'>${buttonSet}</button>"+"&nbsp;"+"<button dojoType='dijit.form.Button' type='button' dojoAttachPoint='_cancelButton'>${buttonCancel}</button>"+"</div>"+"</div>"+"</div>",widgetsInTemplate:true,constructor:function(){dojo.mixin(this,_c68);},postCreate:function(){var _c92=typeof this.colorPicker=="string"?require(this.colorPicker):this.colorPicker;this._colorPicker=new _c92({params:this.params},this._colorPicker);},startup:function(){if(!this._started){this.inherited(arguments);this.connect(this.dialog,"execute",function(){this.onChange(this.get("value"));});this.connect(this._cancelButton,"onClick",function(){dijit.popup.close(this.dialog);});this.connect(this.dialog,"onCancel","onCancel");dojo.style(this.domNode,"display","block");}},_setValueAttr:function(_c93,_c94){this._colorPicker.set("value",_c93,_c94);},_getValueAttr:function(){return this._colorPicker.get("value");},onChange:function(_c95){},onCancel:function(){}});var _c96=_c57("dojox.editor.plugins.ColorTableCell",_c73,{colorPicker:_c65,constructor:function(){this.closable=true;this.buttonClass=dijit.form.DropDownButton;var self=this,_c97,_c98={colorPicker:this.colorPicker,params:this.params};if(!this.dropDown){_c97=new _c91(_c98);_c97.startup();this.dropDown=_c97.dialog;}else{_c97=this.dropDown;_c97.set(_c98);}this.connect(_c97,"onChange",function(_c99){this.editor.focus();this.modTable(null,_c99);});this.connect(_c97,"onCancel",function(){this.editor.focus();});_c5a.before(this.dropDown,"onOpen",function(){var o=self.getTableInfo(),tds=self.getSelectedCells(o.tbl);if(tds&&tds.length>0){var t=tds[0]===self.lastObject?tds[0]:tds[tds.length-1],_c9a;while(t&&t!==self.editor.document&&((_c9a=dojo.style(t,"backgroundColor"))==="transparent"||_c9a.indexOf("rgba")===0)){t=t.parentNode;}if(_c9a!=="transparent"&&_c9a.indexOf("rgba")!==0){_c97.set("value",_c59.fromString(_c9a).toHex());}}});this.connect(this,"setEditor",function(_c9b){_c9b.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.connect(this.editor.editNode,"onmouseup",function(evt){this.lastObject=evt.target;});}));});},_initButton:function(){this.command=this.name;this.label=this.editor.commands[this.command]=this._makeTitle(this.command);this.inherited(arguments);delete this.command;this.onDisplayChanged(false);},modTable:function(cmd,args){this.begEdit();var o=this.getTableInfo();var tds=this.getSelectedCells(o.tbl);dojo.forEach(tds,function(td){dojo.style(td,"backgroundColor",args);});this.endEdit();}});function _c9c(args){return new _c73(args);};_c5d.registry["insertTableRowBefore"]=_c9c;_c5d.registry["insertTableRowAfter"]=_c9c;_c5d.registry["insertTableColumnBefore"]=_c9c;_c5d.registry["insertTableColumnAfter"]=_c9c;_c5d.registry["deleteTableRow"]=_c9c;_c5d.registry["deleteTableColumn"]=_c9c;_c5d.registry["colorTableCell"]=function(args){return new _c96(args);};_c5d.registry["modifyTable"]=function(args){return new _c8f(args);};_c5d.registry["insertTable"]=function(args){return new _c87(args);};_c5d.registry["tableContextMenu"]=function(args){return new _c7c(args);};return _c73;});},"dijit/ColorPalette":function(){define(["require","dojo/text!./templates/ColorPalette.html","./_Widget","./_TemplatedMixin","./_PaletteMixin","./hccss","dojo/i18n","dojo/_base/Color","dojo/_base/declare","dojo/dom-construct","dojo/string","dojo/i18n!dojo/nls/colors","dojo/colors"],function(_c9d,_c9e,_c9f,_ca0,_ca1,has,i18n,_ca2,_ca3,_ca4,_ca5){var _ca6=_ca3("dijit.ColorPalette",[_c9f,_ca0,_ca1],{palette:"7x10",_palettes:{"7x10":[["white","seashell","cornsilk","lemonchiffon","lightyellow","palegreen","paleturquoise","lightcyan","lavender","plum"],["lightgray","pink","bisque","moccasin","khaki","lightgreen","lightseagreen","lightskyblue","cornflowerblue","violet"],["silver","lightcoral","sandybrown","orange","palegoldenrod","chartreuse","mediumturquoise","skyblue","mediumslateblue","orchid"],["gray","red","orangered","darkorange","yellow","limegreen","darkseagreen","royalblue","slateblue","mediumorchid"],["dimgray","crimson","chocolate","coral","gold","forestgreen","seagreen","blue","blueviolet","darkorchid"],["darkslategray","firebrick","saddlebrown","sienna","olive","green","darkcyan","mediumblue","darkslateblue","darkmagenta"],["black","darkred","maroon","brown","darkolivegreen","darkgreen","midnightblue","navy","indigo","purple"]],"3x4":[["white","lime","green","blue"],["silver","yellow","fuchsia","navy"],["gray","red","purple","black"]]},templateString:_c9e,baseClass:"dijitColorPalette",_dyeFactory:function(_ca7,row,col,_ca8){return new this._dyeClass(_ca7,row,col,_ca8);},buildRendering:function(){this.inherited(arguments);this._dyeClass=_ca3(_ca6._Color,{palette:this.palette});this._preparePalette(this._palettes[this.palette],i18n.getLocalization("dojo","colors",this.lang));}});_ca6._Color=_ca3("dijit._Color",_ca2,{template:"<span class='dijitInline dijitPaletteImg'>"+"<img src='${blankGif}' alt='${alt}' title='${title}' class='dijitColorPaletteSwatch' style='background-color: ${color}'/>"+"</span>",hcTemplate:"<span class='dijitInline dijitPaletteImg' style='position: relative; overflow: hidden; height: 12px; width: 14px;'>"+"<img src='${image}' alt='${alt}' title='${title}' style='position: absolute; left: ${left}px; top: ${top}px; ${size}'/>"+"</span>",_imagePaths:{"7x10":_c9d.toUrl("./themes/a11y/colors7x10.png"),"3x4":_c9d.toUrl("./themes/a11y/colors3x4.png")},constructor:function(_ca9,row,col,_caa){this._title=_caa;this._row=row;this._col=col;this.setColor(_ca2.named[_ca9]);},getValue:function(){return this.toHex();},fillCell:function(cell,_cab){var html=_ca5.substitute(has("highcontrast")?this.hcTemplate:this.template,{color:this.toHex(),blankGif:_cab,alt:this._title,title:this._title,image:this._imagePaths[this.palette].toString(),left:this._col*-20-5,top:this._row*-20-5,size:this.palette=="7x10"?"height: 145px; width: 206px":"height: 64px; width: 86px"});_ca4.place(html,cell);}});return _ca6;});},"dojox/editor/plugins/Smiley":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/form/DropDownButton","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojox/editor/plugins/_SmileyPalette","dojox/html/format","dojo/i18n!dojox/editor/plugins/nls/Smiley"],function(dojo,_cac,_cad,_cae){dojo.experimental("dojox.editor.plugins.Smiley");var _caf=dojo.declare("dojox.editor.plugins.Smiley",_cae,{iconClassPrefix:"dijitAdditionalEditorIcon",emoticonMarker:"[]",emoticonImageClass:"dojoEditorEmoticon",_initButton:function(){this.dropDown=new _cad.editor.plugins._SmileyPalette();this.connect(this.dropDown,"onChange",function(_cb0){this.button.closeDropDown();this.editor.focus();_cb0=this.emoticonMarker.charAt(0)+_cb0+this.emoticonMarker.charAt(1);this.editor.execCommand("inserthtml",_cb0);});this.i18n=dojo.i18n.getLocalization("dojox.editor.plugins","Smiley");this.button=new _cac.form.DropDownButton({label:this.i18n.smiley,showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"Smiley",tabIndex:"-1",dropDown:this.dropDown});this.emoticonImageRegexp=new RegExp("class=(\"|')"+this.emoticonImageClass+"(\"|')");},updateState:function(){this.button.set("disabled",this.get("disabled"));},setEditor:function(_cb1){this.editor=_cb1;this._initButton();this.editor.contentPreFilters.push(dojo.hitch(this,this._preFilterEntities));this.editor.contentPostFilters.push(dojo.hitch(this,this._postFilterEntities));if(dojo.isFF){var _cb2=dojo.hitch(this,function(){var _cb3=this.editor;setTimeout(function(){if(_cb3.editNode){dojo.style(_cb3.editNode,"opacity","0.99");setTimeout(function(){if(_cb3.editNode){dojo.style(_cb3.editNode,"opacity","");}},0);}},0);return true;});this.editor.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.editor.addKeyHandler(dojo.keys.DELETE,false,false,_cb2);this.editor.addKeyHandler(dojo.keys.BACKSPACE,false,false,_cb2);}));}},_preFilterEntities:function(_cb4){return _cb4.replace(/\[([^\]]*)\]/g,dojo.hitch(this,this._decode));},_postFilterEntities:function(_cb5){return _cb5.replace(/<img [^>]*>/gi,dojo.hitch(this,this._encode));},_decode:function(str,_cb6){var _cb7=_cad.editor.plugins.Emoticon.fromAscii(_cb6);return _cb7?_cb7.imgHtml(this.emoticonImageClass):str;},_encode:function(str){if(str.search(this.emoticonImageRegexp)>-1){return this.emoticonMarker.charAt(0)+str.replace(/(<img [^>]*)alt="([^"]*)"([^>]*>)/,"$2")+this.emoticonMarker.charAt(1);}else{return str;}}});dojo.subscribe(_cac._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}if(o.args.name==="smiley"){o.plugin=new _caf();}});return _caf;});},"dojox/editor/plugins/_SmileyPalette":function(){define(["dojo","dijit","dojox","dijit/_Widget","dijit/_TemplatedMixin","dijit/_PaletteMixin","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/i18n!dojox/editor/plugins/nls/Smiley"],function(dojo,_cb8,_cb9,_cba,_cbb,_cbc){dojo.experimental("dojox.editor.plugins._SmileyPalette");var _cbd=dojo.declare("dojox.editor.plugins.Emoticon",null,{constructor:function(id){this.id=id;},getValue:function(){return _cbd.ascii[this.id];},imgHtml:function(_cbe){var eId="emoticon"+this.id.substr(0,1).toUpperCase()+this.id.substr(1),src=dojo.moduleUrl("dojox.editor.plugins","resources/emoticons/"+eId+".gif"),_cbf=dojo.i18n.getLocalization("dojox.editor.plugins","Smiley")[eId],html=["<img src=\"",src,"\" class=\"",_cbe,"\" alt=\"",this.getValue(),"\" title=\"",_cbf,"\">"];return html.join("");},fillCell:function(cell,_cc0){dojo.place(this.imgHtml("dijitPaletteImg"),cell);}});_cbd.ascii={smile:":-)",laughing:"lol",wink:";-)",grin:":-D",cool:"8-)",angry:":-@",half:":-/",eyebrow:"/:)",frown:":-(",shy:":-$",goofy:":-S",oops:":-O",tongue:":-P",idea:"(i)",yes:"(y)",no:"(n)",angel:"0:-)",crying:":'(",happy:"=)"};_cbd.fromAscii=function(str){var _cc1=_cbd.ascii;for(var i in _cc1){if(str==_cc1[i]){return new _cbd(i);}}return null;};var _cc2=dojo.declare("dojox.editor.plugins._SmileyPalette",[_cba,_cbb,_cbc],{templateString:"<table class=\"dijitInline dijitEditorSmileyPalette dijitPaletteTable\""+" cellSpacing=0 cellPadding=0><tbody dojoAttachPoint=\"gridNode\"></tbody></table>",baseClass:"dijitEditorSmileyPalette",_palette:[["smile","laughing","wink","grin"],["cool","angry","half","eyebrow"],["frown","shy","goofy","oops"],["tongue","idea","angel","happy"],["yes","no","crying",""]],dyeClass:_cbd,buildRendering:function(){this.inherited(arguments);var i18n=dojo.i18n.getLocalization("dojox.editor.plugins","Smiley");var _cc3={};for(var name in i18n){if(name.substr(0,8)=="emoticon"){_cc3[name.substr(8).toLowerCase()]=i18n[name];}}this._preparePalette(this._palette,_cc3);}});_cc2.Emoticon=_cbd;return _cc2;});},"dojox/editor/plugins/NormalizeStyle":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/_editor/html","dojo/_base/connect","dojo/_base/declare"],function(dojo,_cc4,_cc5,_cc6,_cc7){var _cc8=dojo.declare("dojox.editor.plugins.NormalizeStyle",_cc6,{mode:"semantic",condenseSpans:true,setEditor:function(_cc9){this.editor=_cc9;_cc9.customUndo=true;if(this.mode==="semantic"){this.editor.contentDomPostFilters.push(dojo.hitch(this,this._convertToSemantic));}else{if(this.mode==="css"){this.editor.contentDomPostFilters.push(dojo.hitch(this,this._convertToCss));}}if(dojo.isIE){this.editor.contentDomPreFilters.push(dojo.hitch(this,this._convertToSemantic));this._browserFilter=this._convertToSemantic;}else{if(dojo.isWebKit){this.editor.contentDomPreFilters.push(dojo.hitch(this,this._convertToCss));this._browserFilter=this._convertToCss;}else{if(dojo.isMoz){this.editor.contentDomPreFilters.push(dojo.hitch(this,this._convertToSemantic));this._browserFilter=this._convertToSemantic;}else{this.editor.contentDomPreFilters.push(dojo.hitch(this,this._convertToSemantic));this._browserFilter=this._convertToSemantic;}}}if(this.editor._inserthtmlImpl){this.editor._oldInsertHtmlImpl=this.editor._inserthtmlImpl;}this.editor._inserthtmlImpl=dojo.hitch(this,this._inserthtmlImpl);},_convertToSemantic:function(node){if(node){var doc=this.editor.document;var self=this;var _cca=function(_ccb){if(_ccb.nodeType==1){if(_ccb.id!=="dijitEditorBody"){var _ccc=_ccb.style;var tag=_ccb.tagName?_ccb.tagName.toLowerCase():"";var sTag;if(_ccc&&tag!="table"&&tag!="ul"&&tag!="ol"){var fw=_ccc.fontWeight?_ccc.fontWeight.toLowerCase():"";var fs=_ccc.fontStyle?_ccc.fontStyle.toLowerCase():"";var td=_ccc.textDecoration?_ccc.textDecoration.toLowerCase():"";var s=_ccc.fontSize?_ccc.fontSize.toLowerCase():"";var bc=_ccc.backgroundColor?_ccc.backgroundColor.toLowerCase():"";var c=_ccc.color?_ccc.color.toLowerCase():"";var _ccd=function(wrap,_cce){if(wrap){while(_cce.firstChild){wrap.appendChild(_cce.firstChild);}if(tag=="span"&&!_cce.style.cssText){dojo.place(wrap,_cce,"before");_cce.parentNode.removeChild(_cce);_cce=wrap;}else{_cce.appendChild(wrap);}}return _cce;};switch(fw){case "bold":case "bolder":case "700":case "800":case "900":sTag=doc.createElement("b");_ccb.style.fontWeight="";break;}_ccb=_ccd(sTag,_ccb);sTag=null;if(fs=="italic"){sTag=doc.createElement("i");_ccb.style.fontStyle="";}_ccb=_ccd(sTag,_ccb);sTag=null;if(td){var da=td.split(" ");var _ccf=0;dojo.forEach(da,function(s){switch(s){case "underline":sTag=doc.createElement("u");break;case "line-through":sTag=doc.createElement("strike");break;}_ccf++;if(_ccf==da.length){_ccb.style.textDecoration="";}_ccb=_ccd(sTag,_ccb);sTag=null;});}if(s){var _cd0={"xx-small":1,"x-small":2,"small":3,"medium":4,"large":5,"x-large":6,"xx-large":7,"-webkit-xxx-large":7};if(s.indexOf("pt")>0){s=s.substring(0,s.indexOf("pt"));s=parseInt(s);if(s<5){s="xx-small";}else{if(s<10){s="x-small";}else{if(s<15){s="small";}else{if(s<20){s="medium";}else{if(s<25){s="large";}else{if(s<30){s="x-large";}else{if(s>30){s="xx-large";}}}}}}}}else{if(s.indexOf("px")>0){s=s.substring(0,s.indexOf("px"));s=parseInt(s);if(s<5){s="xx-small";}else{if(s<10){s="x-small";}else{if(s<15){s="small";}else{if(s<20){s="medium";}else{if(s<25){s="large";}else{if(s<30){s="x-large";}else{if(s>30){s="xx-large";}}}}}}}}}var size=_cd0[s];if(!size){size=3;}sTag=doc.createElement("font");sTag.setAttribute("size",size);_ccb.style.fontSize="";}_ccb=_ccd(sTag,_ccb);sTag=null;if(bc&&tag!=="font"&&self._isInline(tag)){bc=new dojo.Color(bc).toHex();sTag=doc.createElement("font");sTag.style.backgroundColor=bc;_ccb.style.backgroundColor="";}if(c&&tag!=="font"){c=new dojo.Color(c).toHex();sTag=doc.createElement("font");sTag.setAttribute("color",c);_ccb.style.color="";}_ccb=_ccd(sTag,_ccb);sTag=null;}}if(_ccb.childNodes){var _cd1=[];dojo.forEach(_ccb.childNodes,function(n){_cd1.push(n);});dojo.forEach(_cd1,_cca);}}return _ccb;};return this._normalizeTags(_cca(node));}return node;},_normalizeTags:function(node){var w=this.editor.window;var doc=this.editor.document;dojo.query("em,s,strong",node).forEach(function(n){var tag=n.tagName?n.tagName.toLowerCase():"";var tTag;switch(tag){case "s":tTag="strike";break;case "em":tTag="i";break;case "strong":tTag="b";break;}if(tTag){var _cd2=doc.createElement(tTag);dojo.place("<"+tTag+">",n,"before");while(n.firstChild){_cd2.appendChild(n.firstChild);}n.parentNode.removeChild(n);}});return node;},_convertToCss:function(node){if(node){var doc=this.editor.document;var _cd3=function(_cd4){if(_cd4.nodeType==1){if(_cd4.id!=="dijitEditorBody"){var tag=_cd4.tagName?_cd4.tagName.toLowerCase():"";if(tag){var span;switch(tag){case "b":case "strong":span=doc.createElement("span");span.style.fontWeight="bold";break;case "i":case "em":span=doc.createElement("span");span.style.fontStyle="italic";break;case "u":span=doc.createElement("span");span.style.textDecoration="underline";break;case "strike":case "s":span=doc.createElement("span");span.style.textDecoration="line-through";break;case "font":var _cd5={};if(dojo.attr(_cd4,"color")){_cd5.color=dojo.attr(_cd4,"color");}if(dojo.attr(_cd4,"face")){_cd5.fontFace=dojo.attr(_cd4,"face");}if(_cd4.style&&_cd4.style.backgroundColor){_cd5.backgroundColor=_cd4.style.backgroundColor;}if(_cd4.style&&_cd4.style.color){_cd5.color=_cd4.style.color;}var _cd6={1:"xx-small",2:"x-small",3:"small",4:"medium",5:"large",6:"x-large",7:"xx-large"};if(dojo.attr(_cd4,"size")){_cd5.fontSize=_cd6[dojo.attr(_cd4,"size")];}span=doc.createElement("span");dojo.style(span,_cd5);break;}if(span){while(_cd4.firstChild){span.appendChild(_cd4.firstChild);}dojo.place(span,_cd4,"before");_cd4.parentNode.removeChild(_cd4);_cd4=span;}}}if(_cd4.childNodes){var _cd7=[];dojo.forEach(_cd4.childNodes,function(n){_cd7.push(n);});dojo.forEach(_cd7,_cd3);}}return _cd4;};node=_cd3(node);if(this.condenseSpans){this._condenseSpans(node);}}return node;},_condenseSpans:function(node){var _cd8=function(node){var _cd9=function(_cda){var m;if(_cda){m={};var _cdb=_cda.toLowerCase().split(";");dojo.forEach(_cdb,function(s){if(s){var ss=s.split(":");var key=ss[0]?dojo.trim(ss[0]):"";var val=ss[1]?dojo.trim(ss[1]):"";if(key&&val){var i;var nKey="";for(i=0;i<key.length;i++){var ch=key.charAt(i);if(ch=="-"){i++;ch=key.charAt(i);nKey+=ch.toUpperCase();}else{nKey+=ch;}}m[nKey]=val;}}});}return m;};if(node&&node.nodeType==1){var tag=node.tagName?node.tagName.toLowerCase():"";if(tag==="span"&&node.childNodes&&node.childNodes.length===1){var c=node.firstChild;while(c&&c.nodeType==1&&c.tagName&&c.tagName.toLowerCase()=="span"){if(!dojo.attr(c,"class")&&!dojo.attr(c,"id")&&c.style){var s1=_cd9(node.style.cssText);var s2=_cd9(c.style.cssText);if(s1&&s2){var _cdc={};var i;for(i in s1){if(!s1[i]||!s2[i]||s1[i]==s2[i]){_cdc[i]=s1[i];delete s2[i];}else{if(s1[i]!=s2[i]){if(i=="textDecoration"){_cdc[i]=s1[i]+" "+s2[i];delete s2[i];}else{_cdc=null;}break;}else{_cdc=null;break;}}}if(_cdc){for(i in s2){_cdc[i]=s2[i];}dojo.style(node,_cdc);while(c.firstChild){node.appendChild(c.firstChild);}var t=c.nextSibling;c.parentNode.removeChild(c);c=t;}else{c=c.nextSibling;}}else{c=c.nextSibling;}}else{c=c.nextSibling;}}}}if(node.childNodes&&node.childNodes.length){dojo.forEach(node.childNodes,_cd8);}};_cd8(node);},_isInline:function(tag){switch(tag){case "a":case "b":case "strong":case "s":case "strike":case "i":case "u":case "em":case "sup":case "sub":case "span":case "font":case "big":case "cite":case "q":case "img":case "small":return true;default:return false;}},_inserthtmlImpl:function(html){if(html){var doc=this.editor.document;var div=doc.createElement("div");div.innerHTML=html;div=this._browserFilter(div);html=_cc7.getChildrenHtml(div);div.innerHTML="";if(this.editor._oldInsertHtmlImpl){return this.editor._oldInsertHtmlImpl(html);}else{return this.editor.execCommand("inserthtml",html);}}return false;}});dojo.subscribe(_cc4._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="normalizestyle"){o.plugin=new _cc8({mode:("mode" in o.args)?o.args.mode:"semantic",condenseSpans:("condenseSpans" in o.args)?o.args.condenseSpans:true});}});return _cc8;});},"dojox/editor/plugins/StatusBar":function(){define(["dojo","dijit","dojox","dijit/_Widget","dijit/_TemplatedMixin","dijit/_editor/_Plugin","dojo/_base/connect","dojo/_base/declare","dojox/layout/ResizeHandle"],function(dojo,_cdd,_cde,_cdf,_ce0,_ce1){dojo.experimental("dojox.editor.plugins.StatusBar");var _ce2=dojo.declare("dojox.editor.plugins._StatusBar",[_cdf,_ce0],{templateString:"<div class=\"dojoxEditorStatusBar\">"+"<table><tbody><tr>"+"<td class=\"dojoxEditorStatusBarText\" tabindex=\"-1\" aria-role=\"presentation\" aria-live=\"aggressive\"><span dojoAttachPoint=\"barContent\">&nbsp;</span></td>"+"<td><span dojoAttachPoint=\"handle\"></span></td>"+"</tr></tbody><table>"+"</div>",_getValueAttr:function(){return this.barContent.innerHTML;},_setValueAttr:function(str){if(str){str=dojo.trim(str);if(!str){str="&nbsp;";}}else{str="&nbsp;";}this.barContent.innerHTML=str;}});var _ce3=dojo.declare("dojox.editor.plugins.StatusBar",_ce1,{statusBar:null,resizer:true,setEditor:function(_ce4){this.editor=_ce4;this.statusBar=new _ce2();if(this.resizer){this.resizeHandle=new _cde.layout.ResizeHandle({targetId:this.editor,activeResize:true},this.statusBar.handle);this.resizeHandle.startup();}else{dojo.style(this.statusBar.handle.parentNode,"display","none");}var pos=null;if(_ce4.footer.lastChild){pos="after";}dojo.place(this.statusBar.domNode,_ce4.footer.lastChild||_ce4.footer,pos);this.statusBar.startup();this.editor.statusBar=this;this._msgListener=dojo.subscribe(this.editor.id+"_statusBar",dojo.hitch(this,this._setValueAttr));},_getValueAttr:function(){return this.statusBar.get("value");},_setValueAttr:function(str){this.statusBar.set("value",str);},set:function(attr,val){if(attr){var _ce5="_set"+attr.charAt(0).toUpperCase()+attr.substring(1,attr.length)+"Attr";if(dojo.isFunction(this[_ce5])){this[_ce5](val);}else{this[attr]=val;}}},get:function(attr){if(attr){var _ce6="_get"+attr.charAt(0).toUpperCase()+attr.substring(1,attr.length)+"Attr";var f=this[_ce6];if(dojo.isFunction(f)){return this[_ce6]();}else{return this[attr];}}return null;},destroy:function(){if(this.statusBar){this.statusBar.destroy();delete this.statusBar;}if(this.resizeHandle){this.resizeHandle.destroy();delete this.resizeHandle;}if(this._msgListener){dojo.unsubscribe(this._msgListener);delete this._msgListener;}delete this.editor.statusBar;}});_ce3._StatusBar=_ce2;dojo.subscribe(_cdd._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="statusbar"){var _ce7=("resizer" in o.args)?o.args.resizer:true;o.plugin=new _ce3({resizer:_ce7});}});return _ce3;});},"dojox/layout/ResizeHandle":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/connect","dojo/_base/array","dojo/_base/event","dojo/_base/fx","dojo/_base/window","dojo/fx","dojo/window","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dijit/_base/manager","dijit/_Widget","dijit/_TemplatedMixin","dojo/_base/declare"],function(_ce8,lang,_ce9,_cea,_ceb,_cec,_ced,_cee,_cef,_cf0,_cf1,_cf2,_cf3,_cf4,_cf5,_cf6,_cf7){_ce8.experimental("dojox.layout.ResizeHandle");var _cf8=_cf7("dojox.layout.ResizeHandle",[_cf5,_cf6],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:false,activeResizeClass:"dojoxResizeHandleClone",animateSizing:true,animateMethod:"chain",animateDuration:225,minHeight:100,minWidth:100,constrainMax:false,maxHeight:0,maxWidth:0,fixedAspect:false,intermediateChanges:false,startTopic:"/dojo/resize/start",endTopic:"/dojo/resize/stop",templateString:"<div dojoAttachPoint=\"resizeHandle\" class=\"dojoxResizeHandle\"><div></div></div>",postCreate:function(){this.connect(this.resizeHandle,"onmousedown","_beginSizing");if(!this.activeResize){this._resizeHelper=_cf4.byId("dojoxGlobalResizeHelper");if(!this._resizeHelper){this._resizeHelper=new _cf9({id:"dojoxGlobalResizeHelper"}).placeAt(_ced.body());_cf1.add(this._resizeHelper.domNode,this.activeResizeClass);}}else{this.animateSizing=false;}if(!this.minSize){this.minSize={w:this.minWidth,h:this.minHeight};}if(this.constrainMax){this.maxSize={w:this.maxWidth,h:this.maxHeight};}this._resizeX=this._resizeY=false;var _cfa=lang.partial(_cf1.add,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=true;_cfa("dojoxResizeNW");break;case "x":this._resizeX=true;_cfa("dojoxResizeW");break;case "y":this._resizeY=true;_cfa("dojoxResizeN");break;}},_beginSizing:function(e){if(this._isSizing){return;}_ce9.publish(this.startTopic,[this]);this.targetWidget=_cf4.byId(this.targetId);this.targetDomNode=this.targetWidget?this.targetWidget.domNode:_cf0.byId(this.targetId);if(this.targetContainer){this.targetDomNode=this.targetContainer;}if(!this.targetDomNode){return;}if(!this.activeResize){var c=_cf2.position(this.targetDomNode,true);this._resizeHelper.resize({l:c.x,t:c.y,w:c.w,h:c.h});this._resizeHelper.show();if(!this.isLeftToRight()){this._resizeHelper.startPosition={l:c.x,t:c.y};}}this._isSizing=true;this.startPoint={x:e.clientX,y:e.clientY};var _cfb=_cf3.getComputedStyle(this.targetDomNode),_cfc=_cf2.boxModel==="border-model",_cfd=_cfc?{w:0,h:0}:_cf2.getPadBorderExtents(this.targetDomNode,_cfb),_cfe=_cf2.getMarginExtents(this.targetDomNode,_cfb),mb;mb=this.startSize={w:_cf3.get(this.targetDomNode,"width",_cfb),h:_cf3.get(this.targetDomNode,"height",_cfb),pbw:_cfd.w,pbh:_cfd.h,mw:_cfe.w,mh:_cfe.h};if(!this.isLeftToRight()&&dojo.style(this.targetDomNode,"position")=="absolute"){var p=_cf2.position(this.targetDomNode,true);this.startPosition={l:p.x,t:p.y};}this._pconnects=[_ce9.connect(_ced.doc,"onmousemove",this,"_updateSizing"),_ce9.connect(_ced.doc,"onmouseup",this,"_endSizing")];_ceb.stop(e);},_updateSizing:function(e){if(this.activeResize){this._changeSizing(e);}else{var tmp=this._getNewCoords(e,"border",this._resizeHelper.startPosition);if(tmp===false){return;}this._resizeHelper.resize(tmp);}e.preventDefault();},_getNewCoords:function(e,box,_cff){try{if(!e.clientX||!e.clientY){return false;}}catch(e){return false;}this._activeResizeLastEvent=e;var dx=(this.isLeftToRight()?1:-1)*(this.startPoint.x-e.clientX),dy=this.startPoint.y-e.clientY,newW=this.startSize.w-(this._resizeX?dx:0),newH=this.startSize.h-(this._resizeY?dy:0),r=this._checkConstraints(newW,newH);_cff=(_cff||this.startPosition);if(_cff&&this._resizeX){r.l=_cff.l+dx;if(r.w!=newW){r.l+=(newW-r.w);}r.t=_cff.t;}switch(box){case "margin":r.w+=this.startSize.mw;r.h+=this.startSize.mh;case "border":r.w+=this.startSize.pbw;r.h+=this.startSize.pbh;break;}return r;},_checkConstraints:function(newW,newH){if(this.minSize){var tm=this.minSize;if(newW<tm.w){newW=tm.w;}if(newH<tm.h){newH=tm.h;}}if(this.constrainMax&&this.maxSize){var ms=this.maxSize;if(newW>ms.w){newW=ms.w;}if(newH>ms.h){newH=ms.h;}}if(this.fixedAspect){var w=this.startSize.w,h=this.startSize.h,_d00=w*newH-h*newW;if(_d00<0){newW=newH*w/h;}else{if(_d00>0){newH=newW*h/w;}}}return {w:newW,h:newH};},_changeSizing:function(e){var _d01=this.targetWidget&&lang.isFunction(this.targetWidget.resize),tmp=this._getNewCoords(e,_d01&&"margin");if(tmp===false){return;}if(_d01){this.targetWidget.resize(tmp);}else{if(this.animateSizing){var anim=_cee[this.animateMethod]([_cec.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:tmp.w}},duration:this.animateDuration}),_cec.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,end:tmp.h}},duration:this.animateDuration})]);anim.play();}else{_cf3.set(this.targetDomNode,{width:tmp.w+"px",height:tmp.h+"px"});}}if(this.intermediateChanges){this.onResize(e);}},_endSizing:function(e){_cea.forEach(this._pconnects,_ce9.disconnect);var pub=lang.partial(_ce9.publish,this.endTopic,[this]);if(!this.activeResize){this._resizeHelper.hide();this._changeSizing(e);setTimeout(pub,this.animateDuration+15);}else{pub();}this._isSizing=false;this.onResize(e);},onResize:function(e){}});var _cf9=dojo.declare("dojox.layout._ResizeHelper",_cf5,{show:function(){_cf3.set(this.domNode,"display","");},hide:function(){_cf3.set(this.domNode,"display","none");},resize:function(dim){_cf2.setMarginBox(this.domNode,dim);}});return _cf8;});},"url:dijit/layout/templates/AccordionButton.html":"<div data-dojo-attach-event='ondijitclick:_onTitleClick' class='dijitAccordionTitle' role=\"presentation\">\n\t<div data-dojo-attach-point='titleNode,focusNode' data-dojo-attach-event='onkeydown:_onTitleKeyDown'\n\t\t\tclass='dijitAccordionTitleFocus' role=\"tab\" aria-expanded=\"false\"\n\t\t><span class='dijitInline dijitAccordionArrow' role=\"presentation\"></span\n\t\t><span class='arrowTextUp' role=\"presentation\">+</span\n\t\t><span class='arrowTextDown' role=\"presentation\">-</span\n\t\t><span role=\"presentation\" class=\"dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t\t<span role=\"presentation\" data-dojo-attach-point='titleTextNode, textDirNode' class='dijitAccordionText'></span>\n\t</div>\n</div>\n","url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n","url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n></div>\n","url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\taria-haspopup=\"true\"\n\tdata-dojo-attach-point=\"_popupStateNode\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\n\t/></div\n></div>\n","url:dijit/templates/TooltipDialog.html":"<div role=\"alertdialog\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class=\"dijitTooltipContents dijitTooltipFocusNode\" data-dojo-attach-point=\"containerNode\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\n</div>\n","url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"ondijitclick:_onClick\"\n/></div>\n","url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n","url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,textDirNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<span data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<span class=\"dijitInline dijitIcon dijitMenuExpand\"></span>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</span>\n\t</td>\n</tr>\n","url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\" role=\"separator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>\n","url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:__onClick,onkeydown:_onButtonKeyDown\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeydown:_onArrowKeyDown\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\" role=\"presentation\"\n\t\t\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\t/></td></tr></tbody\n></table>\n","url:dojox/widget/ColorPicker/ColorPicker.html":"<table class=\"dojoxColorPicker\" dojoAttachEvent=\"onkeypress: _handleKey\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\">\n\t<tr>\n\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t<div class=\"dojoxColorPickerBox\">\n\t\t\t\t<!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. -->\n\t\t\t\t<img title=\"${saturationPickerTitle}\" alt=\"${saturationPickerTitle}\" class=\"dojoxColorPickerPoint\" src=\"${_pickerPointer}\" tabIndex=\"0\" dojoAttachPoint=\"cursorNode\" style=\"position: absolute; top: 0px; left: 0px;\">\n\t\t\t\t<img role=\"presentation\" alt=\"\" dojoAttachPoint=\"colorUnderlay\" dojoAttachEvent=\"onclick: _setPoint, onmousedown: _stopDrag\" class=\"dojoxColorPickerUnderlay\" src=\"${_underlay}\" ondragstart=\"return false\">\n\t\t\t</div>\n\t\t</td>\n\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t<div class=\"dojoxHuePicker\">\n\t\t\t\t<!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. -->\n\t\t\t\t<img dojoAttachPoint=\"hueCursorNode\" tabIndex=\"0\" class=\"dojoxHuePickerPoint\" title=\"${huePickerTitle}\" alt=\"${huePickerTitle}\" src=\"${_huePickerPointer}\" style=\"position: absolute; top: 0px; left: 0px;\">\n\t\t\t\t<div class=\"dojoxHuePickerUnderlay\" dojoAttachPoint=\"hueNode\">\n\t\t\t\t    <img role=\"presentation\" alt=\"\" dojoAttachEvent=\"onclick: _setHuePoint, onmousedown: _stopDrag\" src=\"${_hueUnderlay}\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</td>\n\t\t<td valign=\"top\">\n\t\t\t<table cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td valign=\"top\" class=\"dojoxColorPickerPreviewContainer\">\n\t\t\t\t\t\t<table cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t\t\t\t\t\t\t<div dojoAttachPoint=\"previewNode\" class=\"dojoxColorPickerPreview\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td valign=\"top\">\n\t\t\t\t\t\t\t\t\t<div dojoAttachPoint=\"safePreviewNode\" class=\"dojoxColorPickerWebSafePreview\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td valign=\"bottom\">\n\t\t\t\t\t\t<table class=\"dojoxColorPickerOptional\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div class=\"dijitInline dojoxColorPickerRgb\" dojoAttachPoint=\"rgbNode\">\n\t\t\t\t\t\t\t\t\t\t<table cellpadding=\"1\" cellspacing=\"1\" role=\"presentation\">\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_r\">${redLabel}</label></td><td><input id=\"${_uId}_r\" dojoAttachPoint=\"Rval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_g\">${greenLabel}</label></td><td><input id=\"${_uId}_g\" dojoAttachPoint=\"Gval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_b\">${blueLabel}</label></td><td><input id=\"${_uId}_b\" dojoAttachPoint=\"Bval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td></tr>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div class=\"dijitInline dojoxColorPickerHsv\" dojoAttachPoint=\"hsvNode\">\n\t\t\t\t\t\t\t\t\t\t<table cellpadding=\"1\" cellspacing=\"1\" role=\"presentation\">\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_h\">${hueLabel}</label></td><td><input id=\"${_uId}_h\" dojoAttachPoint=\"Hval\"size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${degLabel}</td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_s\">${saturationLabel}</label></td><td><input id=\"${_uId}_s\" dojoAttachPoint=\"Sval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${percentSign}</td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_v\">${valueLabel}</label></td><td><input id=\"${_uId}_v\" dojoAttachPoint=\"Vval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${percentSign}</td></tr>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td colspan=\"2\">\n\t\t\t\t\t\t\t\t\t<div class=\"dojoxColorPickerHex\" dojoAttachPoint=\"hexNode\" aria-live=\"polite\">\t\n\t\t\t\t\t\t\t\t\t\t<label for=\"${_uId}_hex\">&nbsp;${hexLabel}&nbsp;</label><input id=\"${_uId}_hex\" dojoAttachPoint=\"hexCode, focusNode, valueNode\" size=\"6\" class=\"dojoxColorPickerHexCode\" dojoAttachEvent=\"onchange: _colorInputChange\">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</td>\n\t</tr>\n</table>\n\n","url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\n\t\t\t\trole=\"heading\" level=\"1\"></span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabindex=\"0\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n","url:dijit/form/templates/Select.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tdata-dojo-attach-point=\"_buttonNode,tableNode,focusNode,_popupStateNode\" cellspacing='0' cellpadding='0'\n\trole=\"listbox\" aria-haspopup=\"true\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents\" role=\"presentation\"\n\t\t\t><div class=\"dijitReset dijitInputField dijitButtonText\"  data-dojo-attach-point=\"containerNode,textDirNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitValidationContainer\"\n\t\t\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t/></div\n\t\t\t><input type=\"hidden\" ${!nameAttrSetting} data-dojo-attach-point=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\n\t\t/></td\n\t\t><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\"\n\t\t\tdata-dojo-attach-point=\"titleNode\" role=\"presentation\"\n\t\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/></td\n\t></tr></tbody\n></table>\n","url:dijit/templates/ColorPalette.html":"<div class=\"dijitInline dijitColorPalette\" role=\"grid\">\n\t<table data-dojo-attach-point=\"paletteTableNode\" class=\"dijitPaletteTable\" cellSpacing=\"0\" cellPadding=\"0\" role=\"presentation\">\n\t\t<tbody data-dojo-attach-point=\"gridNode\"></tbody>\n\t</table>\n</div>\n","url:dojox/editor/plugins/resources/insertTable.html":"<div class=\"dijitDialog\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\">${insertTableTitle}</span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"onclick: onCancel\" title=\"${buttonCancel}\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n    <div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\">\n        <table class=\"etdTable\"><tr>\n            <td>\n                <label>${rows}</label>\n\t\t\t</td><td>\n                <span dojoAttachPoint=\"selectRow\" dojoType=\"dijit.form.TextBox\" value=\"2\"></span>\n            </td><td><table><tr><td class=\"inner\">\n                <label>${columns}</label>\n\t\t\t</td><td class=\"inner\">\n                <span dojoAttachPoint=\"selectCol\" dojoType=\"dijit.form.TextBox\" value=\"2\"></span>\n            </td></tr></table></td></tr>\t\t\n\t\t\t<tr><td>\n                <label>${tableWidth}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectWidth\" dojoType=\"dijit.form.TextBox\" value=\"100\"></span>\n\t\t\t</td><td>\n                <select dojoAttachPoint=\"selectWidthType\" hasDownArrow=\"true\" dojoType=\"dijit.form.FilteringSelect\">\n                  <option value=\"percent\">${percent}</option>\n                  <option value=\"pixels\">${pixels}</option>\n                </select></td></tr>\t\n            <tr><td>\n                <label>${borderThickness}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectBorder\" dojoType=\"dijit.form.TextBox\" value=\"1\"></span>\n            </td><td>\n                ${pixels}\n            </td></tr><tr><td>\n                <label>${cellPadding}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectPad\" dojoType=\"dijit.form.TextBox\" value=\"0\"></span>\n            </td><td class=\"cellpad\"></td></tr><tr><td>\n                <label>${cellSpacing}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectSpace\" dojoType=\"dijit.form.TextBox\" value=\"0\"></span>\n            </td><td class=\"cellspace\"></td></tr></table>\n        <div class=\"dialogButtonContainer\">\n            <div dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick: onInsert\">${buttonInsert}</div>\n            <div dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick: onCancel\">${buttonCancel}</div>\n        </div>\n\t</div>\n</div>\n","url:dojox/editor/plugins/resources/modifyTable.html":"<div class=\"dijitDialog\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\">${modifyTableTitle}</span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"onclick: onCancel\" title=\"${buttonCancel}\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n    <div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\">\n        <table class=\"etdTable\">\n          <tr><td>\n                <label>${backgroundColor}</label>\n            </td><td colspan=\"2\">\n                <span class=\"colorSwatchBtn\" dojoAttachPoint=\"backgroundCol\"></span>\n            </td></tr><tr><td>\n                <label>${borderColor}</label>\n            </td><td colspan=\"2\">\n                <span class=\"colorSwatchBtn\" dojoAttachPoint=\"borderCol\"></span>\n            </td></tr><tr><td>\n                <label>${align}</label>\n            </td><td colspan=\"2\">\t\n                <select dojoAttachPoint=\"selectAlign\" dojoType=\"dijit.form.FilteringSelect\">\n                  <option value=\"default\">${default}</option>\n                  <option value=\"left\">${left}</option>\n                  <option value=\"center\">${center}</option>\n                  <option value=\"right\">${right}</option>\n                </select>\n            </td></tr>\n            <tr><td>\n                <label>${tableWidth}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectWidth\" dojoType=\"dijit.form.TextBox\" value=\"100\"></span>\n            </td><td>\n                <select dojoAttachPoint=\"selectWidthType\" hasDownArrow=\"true\" dojoType=\"dijit.form.FilteringSelect\">\n                  <option value=\"percent\">${percent}</option>\n                  <option value=\"pixels\">${pixels}</option>\n                </select></td></tr>\t\n            <tr><td>\n                <label>${borderThickness}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectBorder\" dojoType=\"dijit.form.TextBox\" value=\"1\"></span>\n            </td><td>\n                ${pixels}\n            </td></tr><tr><td>\n                <label>${cellPadding}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectPad\" dojoType=\"dijit.form.TextBox\" value=\"0\"></span>\n            </td><td class=\"cellpad\"></td></tr><tr><td>\n                <label>${cellSpacing}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectSpace\" dojoType=\"dijit.form.TextBox\" value=\"0\"></span>\n            </td><td class=\"cellspace\"></td></tr>\n        </table>\n        <div class=\"dialogButtonContainer\">\n            <div dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick: onSet\">${buttonSet}</div>\n            <div dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick: onCancel\">${buttonCancel}</div>\n        </div>\n\t</div>\n</div>\n","*now":function(r){r(["dojo/i18n!*preload*demos/editor/nls/layer*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});define("demos/editor/layer",[],1);