/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dijit/main":function(){define(["dojo/_base/kernel"],function(_1){return _1.dijit;});},"dojox/main":function(){define(["dojo/_base/kernel"],function(_2){return _2.dojox;});},"dojo/require":function(){define(["./_base/loader"],function(_3){return {dynamic:0,normalize:function(id){return id;},load:_3.require};});},"demos/cropper/src/Preview":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_Widget,dojo/dnd/move,dojox/layout/ResizeHandle"],function(_4,_5,_6){_4.provide("demos.cropper.src.Preview");_4.require("dijit._Widget");_4.require("dojo.dnd.move");_4.require("dojox.layout.ResizeHandle");(function(d,$){var _7=function(_8,_9){var n=d.create(_9);d.place(n,_8,"before");d.place(_8,n,"first");return n;},_a="absolute",_b="position",_c="px",_d=Math.floor;d.declare("image.Preview",_5._Widget,{glassSize:150,scale:2,withMouseMove:false,withDrag:true,moveInterval:50,hoverable:false,resizeable:true,opacity:0.35,postCreate:function(){var gs=this.glassSize,s=this.scale;var mb=d.marginBox(this.domNode);this.currentSize=mb;this.container=_7(this.domNode,"div");d.marginBox(this.container,mb);this.picker=d.create("div",{"class":"imageDragger",style:{opacity:this.hoverable?0:this.opacity,width:gs+_c,height:gs+_c}},this.domNode,"before");this.preview=d.create("div",{style:{position:_a,overflow:"hidden",width:_d(gs*s)+_c,height:_d(gs*s)+_c}},d.body());var n=_7(d.create("img",{style:{position:_a},src:this.altSrc||this.domNode.src},this.preview),"div");d.style(n,_b,"relative");d.style(this.domNode,_b,_a);this.image=d.query("img",this.preview).onload(d.hitch(this,"_adjustImage"))[0];this._positionPicker();this.mover=new d.dnd.move.parentConstrainedMoveable(this.picker,{area:"content",within:true});if(this.resizeable){this._handle=new _6.layout.ResizeHandle({targetContainer:this.picker,fixedAspect:true,intermediateChanges:true,activeResize:true,onResize:d.hitch(this,function(e,f){this._adjustImage(e,f);this._whileMoving();}),constrainMax:true,maxWidth:mb.w,maxHeight:mb.h,minWidth:40,minHeight:40}).placeAt(this.picker);}d.subscribe("/dnd/move/start",this,"_startDnd");d.subscribe("/dnd/move/stop",this,"_stopDnd");d.isIE&&(this.image.src=this.image.src);this.connect(d.global,"onresize","_positionPicker");if(this.hoverable){this.connect(this.container,"onmouseenter","_enter");this.connect(this.container,"onmouseleave","_leave");}setTimeout(_4.hitch(this,"_positionPicker"),125);},_adjustImage:function(e){var tc=this.coords,s=this.scale;if(e&&e.type&&(e.type=="mouseup"||e.type=="mousemove")){var xy=d.coords(this.picker);this.scale=d.coords(this.preview).w/xy.w;}else{if(e&&e.type&&e.type=="load"&&this.imageReady(e)){}}d.style(this.image,{height:_d(tc.h*s)+_c,width:_d(tc.w*s)+_c});},_positionPicker:function(e){var tc=this.coords=d.coords(this.container,true);d.style(this.preview,{left:tc.x+tc.w+10+_c,top:tc.y+_c});},_startDnd:function(n){if(!this._interval&&n&&n.node==this.picker){this._interval=this.connect(d.doc,"onmousemove","_whileMoving");}},_stopDnd:function(){if(this._interval){this.disconnect(this._interval);delete this._interval;if(this.resizeable&&this._lastXY){var tc=this.coords;this._handle.maxSize={h:_d(tc.h-(this._lastXY.t-tc.t)),w:_d(tc.w-(this._lastXY.l-tc.l))};}}},_whileMoving:function(){var xy=this._lastXY=d.coords(this.picker),tc=this.coords,r=this.image.width/tc.w,x=_d((xy.l-tc.l)*r),y=_d((xy.t-tc.t)*r);d.style(this.image,{top:"-"+y+_c,left:"-"+x+_c});},destroy:function(){d.place(this.domNode,this.container,"before");d.forEach(["preview","picker","container","image"],function(n){d.destroy(this[n]);delete this[n];},this);this.inherited(arguments);},imageReady:function(){},_enter:function(e){this._anim&&this._anim.stop();this._anim=d.anim(this.picker,{opacity:this.opacity});},_leave:function(e){if(!this._interval&&!this._handle._isSizing){this._anim&&this._anim.stop();this._anim=d.anim(this.picker,{opacity:0});}}});d.extend(d.NodeList,{preview:function(_e){return this.instantiate(image.Preview,_e);}});})(_4,_4.query);});},"dijit/_Widget":function(){define(["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_f,_10,_11,_12,has,_13,_14,_15,_16,_17,_18,_19,_1a){function _1b(){};function _1c(_1d){return function(obj,_1e,_1f,_20){if(obj&&typeof _1e=="string"&&obj[_1e]==_1b){return obj.on(_1e.substring(2).toLowerCase(),_14.hitch(_1f,_20));}return _1d.apply(_11,arguments);};};_f.around(_11,"connect",_1c);if(_13.connect){_f.around(_13,"connect",_1c);}var _21=_12("dijit._Widget",[_18,_19,_1a],{onClick:_1b,onDblClick:_1b,onKeyDown:_1b,onKeyPress:_1b,onKeyUp:_1b,onMouseDown:_1b,onMouseMove:_1b,onMouseOut:_1b,onMouseOver:_1b,onMouseLeave:_1b,onMouseEnter:_1b,onMouseUp:_1b,constructor:function(_22){this._toConnect={};for(var _23 in _22){if(this[_23]===_1b){this._toConnect[_23.replace(/^on/,"").toLowerCase()]=_22[_23];delete _22[_23];}}},postCreate:function(){this.inherited(arguments);for(var _24 in this._toConnect){this.on(_24,this._toConnect[_24]);}delete this._toConnect;},on:function(_25,_26){if(this[this._onMap(_25)]===_1b){return _11.connect(this.domNode,_25.toLowerCase(),this,_26);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(_27,_28){_13.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(_27,_28);},attr:function(_29,_2a){var _2b=arguments.length;if(_2b>=2||typeof _29==="object"){return this.set.apply(this,arguments);}else{return this.get(_29);}},getDescendants:function(){_13.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_15("[widgetId]",this.containerNode).map(_17.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_16(0,function(){var _2c=["dijit/_base"];require(_2c);});}return _21;});},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(_2d,win,_2e){var _2f={},_30={};var _31={length:0,add:function(_32){if(_30[_32.id]){throw new Error("Tried to register widget with id=="+_32.id+" but that id is already registered");}_30[_32.id]=_32;this.length++;},remove:function(id){if(_30[id]){delete _30[id];this.length--;}},byId:function(id){return typeof id=="string"?_30[id]:id;},byNode:function(_33){return _30[_33.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in _30){ar.push(_30[id]);}return ar;},getUniqueId:function(_34){var id;do{id=_34+"_"+(_34 in _2f?++_2f[_34]:_2f[_34]=0);}while(_30[id]);return _2e._scopeName=="dijit"?id:_2e._scopeName+"_"+id;},findWidgets:function(_35,_36){var _37=[];function _38(_39){for(var _3a=_39.firstChild;_3a;_3a=_3a.nextSibling){if(_3a.nodeType==1){var _3b=_3a.getAttribute("widgetId");if(_3b){var _3c=_30[_3b];if(_3c){_37.push(_3c);}}else{if(_3a!==_36){_38(_3a);}}}}};_38(_35);return _37;},_destroyAll:function(){_2e._curFocus=null;_2e._prevFocus=null;_2e._activeStack=[];_2d.forEach(_31.findWidgets(win.body()),function(_3d){if(!_3d._destroyed){if(_3d.destroyRecursive){_3d.destroyRecursive();}else{if(_3d.destroy){_3d.destroy();}}}});},getEnclosingWidget:function(_3e){while(_3e){var id=_3e.nodeType==1&&_3e.getAttribute("widgetId");if(id){return _30[id];}_3e=_3e.parentNode;}return null;},_hash:_30};_2e.registry=_31;return _31;});},"dijit/_WidgetBase":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(_3f,_40,_41,_42,_43,_44,dom,_45,_46,_47,_48,_49,has,_4a,_4b,on,_4c,_4d,_4e,win,_4f,_50,_51){has.add("dijit-legacy-requires",!_4a.isAsync);has.add("dojo-bidi",false);if(has("dijit-legacy-requires")){_4c(0,function(){var _52=["dijit/_base/manager"];_3f(_52);});}var _53={};function _54(obj){var ret={};for(var _55 in obj){ret[_55.toLowerCase()]=true;}return ret;};function _56(_57){return function(val){_45[val?"set":"remove"](this.domNode,_57,val);this._set(_57,val);};};var _58=_44("dijit._WidgetBase",[_4d,_4f],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_56("lang"),dir:"",_setDirAttr:_56("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_42.blankGif||_3f.toUrl("dojo/resources/blank.gif"),_introspect:function(){var _59=this.constructor;if(!_59._setterAttrs){var _5a=_59.prototype,_5b=_59._setterAttrs=[],_5c=(_59._onMap={});for(var _5d in _5a.attributeMap){_5b.push(_5d);}for(_5d in _5a){if(/^on/.test(_5d)){_5c[_5d.substring(2).toLowerCase()]=_5d;}if(/^_set[A-Z](.*)Attr$/.test(_5d)){_5d=_5d.charAt(4).toLowerCase()+_5d.substr(5,_5d.length-9);if(!_5a.attributeMap||!(_5d in _5a.attributeMap)){_5b.push(_5d);}}}}},postscript:function(_5e,_5f){this.create(_5e,_5f);},create:function(_60,_61){this._introspect();this.srcNodeRef=dom.byId(_61);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_60){this.params=_60;_4b.mixin(this,_60);}this.postMixInProperties();if(!this.id){this.id=_51.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=win.body(this.ownerDocument);_51.add(this);this.buildRendering();var _62;if(this.domNode){this._applyAttributes();var _63=this.srcNodeRef;if(_63&&_63.parentNode&&this.domNode!==_63){_63.parentNode.replaceChild(this.domNode,_63);_62=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_62){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _64={};for(var key in this.params||{}){_64[key]=this._get(key);}_40.forEach(this.constructor._setterAttrs,function(key){if(!(key in _64)){var val=this._get(key);if(val){this.set(key,val);}}},this);for(key in _64){this.set(key,_64[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _65=this.baseClass.split(" ");if(!this.isLeftToRight()){_65=_65.concat(_40.map(_65,function(_66){return _66+"Rtl";}));}_46.add(this.domNode,_65);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_40.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&_4b.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_67){this._beingDestroyed=true;this.destroyDescendants(_67);this.destroy(_67);},destroy:function(_68){this._beingDestroyed=true;this.uninitialize();function _69(w){if(w.destroyRecursive){w.destroyRecursive(_68);}else{if(w.destroy){w.destroy(_68);}}};_40.forEach(this._connects,_4b.hitch(this,"disconnect"));_40.forEach(this._supportingWidgets,_69);if(this.domNode){_40.forEach(_51.findWidgets(this.domNode,this.containerNode),_69);}this.destroyRendering(_68);_51.remove(this.id);this._destroyed=true;},destroyRendering:function(_6a){if(this.bgIframe){this.bgIframe.destroy(_6a);delete this.bgIframe;}if(this.domNode){if(_6a){_45.remove(this.domNode,"widgetId");}else{_47.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_6a){_47.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_6b){_40.forEach(this.getChildren(),function(_6c){if(_6c.destroyRecursive){_6c.destroyRecursive(_6b);}});},uninitialize:function(){return false;},_setStyleAttr:function(_6d){var _6e=this.domNode;if(_4b.isObject(_6d)){_49.set(_6e,_6d);}else{if(_6e.style.cssText){_6e.style.cssText+="; "+_6d;}else{_6e.style.cssText=_6d;}}this._set("style",_6d);},_attrToDom:function(_6f,_70,_71){_71=arguments.length>=3?_71:this.attributeMap[_6f];_40.forEach(_4b.isArray(_71)?_71:[_71],function(_72){var _73=this[_72.node||_72||"domNode"];var _74=_72.type||"attribute";switch(_74){case "attribute":if(_4b.isFunction(_70)){_70=_4b.hitch(this,_70);}var _75=_72.attribute?_72.attribute:(/^on[A-Z][a-zA-Z]*$/.test(_6f)?_6f.toLowerCase():_6f);if(_73.tagName){_45.set(_73,_75,_70);}else{_73.set(_75,_70);}break;case "innerText":_73.innerHTML="";_73.appendChild(this.ownerDocument.createTextNode(_70));break;case "innerHTML":_73.innerHTML=_70;break;case "class":_46.replace(_73,_70,this[_6f]);break;}},this);},get:function(_76){var _77=this._getAttrNames(_76);return this[_77.g]?this[_77.g]():this._get(_76);},set:function(_78,_79){if(typeof _78==="object"){for(var x in _78){this.set(x,_78[x]);}return this;}var _7a=this._getAttrNames(_78),_7b=this[_7a.s];if(_4b.isFunction(_7b)){var _7c=_7b.apply(this,Array.prototype.slice.call(arguments,1));}else{var _7d=this.focusNode&&!_4b.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_7d]&&this[_7d].tagName,_7e=tag&&(_53[tag]||(_53[tag]=_54(this[_7d]))),map=_78 in this.attributeMap?this.attributeMap[_78]:_7a.s in this?this[_7a.s]:((_7e&&_7a.l in _7e&&typeof _79!="function")||/^aria-|^data-|^role$/.test(_78))?_7d:null;if(map!=null){this._attrToDom(_78,_79,map);}this._set(_78,_79);}return _7c||this;},_attrPairNames:{},_getAttrNames:function(_7f){var apn=this._attrPairNames;if(apn[_7f]){return apn[_7f];}var uc=_7f.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[_7f]={n:_7f+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(_80,_81){var _82=this[_80];this[_80]=_81;if(this._created&&_81!==_82){if(this._watchCallbacks){this._watchCallbacks(_80,_82,_81);}this.emit("attrmodified-"+_80,{detail:{prevValue:_82,newValue:_81}});}},_get:function(_83){return this[_83];},emit:function(_84,_85,_86){_85=_85||{};if(_85.bubbles===undefined){_85.bubbles=true;}if(_85.cancelable===undefined){_85.cancelable=true;}if(!_85.detail){_85.detail={};}_85.detail.widget=this;var ret,_87=this["on"+_84];if(_87){ret=_87.apply(this,_86?_86:[_85]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,_84.toLowerCase(),_85);}return ret;},on:function(_88,_89){var _8a=this._onMap(_88);if(_8a){return _41.after(this,_8a,_89,true);}return this.own(on(this.domNode,_88,_89))[0];},_onMap:function(_8b){var _8c=this.constructor,map=_8c._onMap;if(!map){map=(_8c._onMap={});for(var _8d in _8c.prototype){if(/^on/.test(_8d)){map[_8d.replace(/^on/,"").toLowerCase()]=_8d;}}}return map[typeof _8b=="string"&&_8b.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_51.findWidgets(this.containerNode):[];},getParent:function(){return _51.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_8e,_8f){return this.own(_43.connect(obj,_8e,this,_8f))[0];},disconnect:function(_90){_90.remove();},subscribe:function(t,_91){return this.own(_4e.subscribe(t,_4b.hitch(this,_91)))[0];},unsubscribe:function(_92){_92.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_48.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_49.get(this.domNode,"display")!="none");},placeAt:function(_93,_94){var _95=!_93.tagName&&_51.byId(_93);if(_95&&_95.addChild&&(!_94||typeof _94==="number")){_95.addChild(this,_94);}else{var ref=_95?(_95.containerNode&&!/after|before|replace/.test(_94||"")?_95.containerNode:_95.domNode):dom.byId(_93,this.ownerDocument);_47.place(this.domNode,ref,_94);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},defer:function(fcn,_96){var _97=setTimeout(_4b.hitch(this,function(){if(!_97){return;}_97=null;if(!this._destroyed){_4b.hitch(this,fcn)();}}),_96||0);return {remove:function(){if(_97){clearTimeout(_97);_97=null;}return null;}};}});if(has("dojo-bidi")){_58.extend(_50);}return _58;});},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(_98,_99,_9a,_9b){return _98("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(_9c){var apn=this._attrPairNames;if(apn[_9c]){return apn[_9c];}return (apn[_9c]={s:"_"+_9c+"Setter",g:"_"+_9c+"Getter"});},postscript:function(_9d){if(_9d){this.set(_9d);}},_get:function(_9e,_9f){return typeof this[_9f.g]==="function"?this[_9f.g]():this[_9e];},get:function(_a0){return this._get(_a0,this._getAttrNames(_a0));},set:function(_a1,_a2){if(typeof _a1==="object"){for(var x in _a1){if(_a1.hasOwnProperty(x)&&x!="_watchCallbacks"){this.set(x,_a1[x]);}}return this;}var _a3=this._getAttrNames(_a1),_a4=this._get(_a1,_a3),_a5=this[_a3.s],_a6;if(typeof _a5==="function"){_a6=_a5.apply(this,Array.prototype.slice.call(arguments,1));}else{this[_a1]=_a2;}if(this._watchCallbacks){var _a7=this;_9b(_a6,function(){_a7._watchCallbacks(_a1,_a4,_a2);});}return this;},_changeAttrValue:function(_a8,_a9){var _aa=this.get(_a8);this[_a8]=_a9;if(this._watchCallbacks){this._watchCallbacks(_a8,_aa,_a9);}return this;},watch:function(_ab,_ac){var _ad=this._watchCallbacks;if(!_ad){var _ae=this;_ad=this._watchCallbacks=function(_af,_b0,_b1,_b2){var _b3=function(_b4){if(_b4){_b4=_b4.slice();for(var i=0,l=_b4.length;i<l;i++){_b4[i].call(_ae,_af,_b0,_b1);}}};_b3(_ad["_"+_af]);if(!_b2){_b3(_ad["*"]);}};}if(!_ac&&typeof _ab==="function"){_ac=_ab;_ab="*";}else{_ab="_"+_ab;}var _b5=_ad[_ab];if(typeof _b5!=="object"){_b5=_ad[_ab]=[];}_b5.push(_ac);var _b6={};_b6.unwatch=_b6.remove=function(){var _b7=_9a.indexOf(_b5,_ac);if(_b7>-1){_b5.splice(_b7,1);}};return _b6;}});});},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_b8,_b9,_ba){return _ba("dijit.Destroyable",null,{destroy:function(_bb){this._destroyed=true;},own:function(){_b8.forEach(arguments,function(_bc){var _bd="destroyRecursive" in _bc?"destroyRecursive":"destroy" in _bc?"destroy":"remove";var odh=_b9.before(this,"destroy",function(_be){_bc[_bd](_be);});var hdh=_b9.after(_bc,_bd,function(){odh.remove();hdh.remove();},true);},this);return arguments;}});});},"dijit/_OnDijitClickMixin":function(){define(["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(on,_bf,_c0,_c1,has,_c2){var ret=_c1("dijit._OnDijitClickMixin",null,{connect:function(obj,_c3,_c4){return this.inherited(arguments,[obj,_c3=="ondijitclick"?_c2:_c3,_c4]);}});ret.a11yclick=_c2;return ret;});},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(_c5,_c6,on,_c7){function _c8(e){if((e.keyCode===_c5.ENTER||e.keyCode===_c5.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName)){for(var _c9=e.target;_c9;_c9=_c9.parentNode){if(_c9.dojoClick){return true;}}}};var _ca;on(document,"keydown",function(e){if(_c8(e)){_ca=e.target;e.preventDefault();}else{_ca=null;}});on(document,"keyup",function(e){if(_c8(e)&&e.target==_ca){_ca=null;on.emit(e.target,"click",{cancelable:true,bubbles:true,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type});}});var _cb=function(_cc,_cd){_cc.dojoClick=true;return on(_cc,"click",_cd);};_cb.click=_cb;_cb.press=function(_ce,_cf){var _d0=on(_ce,_c7.press,function(evt){if(evt.type=="mousedown"&&!_c6.isLeft(evt)){return;}_cf(evt);}),_d1=on(_ce,"keydown",function(evt){if(evt.keyCode===_c5.ENTER||evt.keyCode===_c5.SPACE){_cf(evt);}});return {remove:function(){_d0.remove();_d1.remove();}};};_cb.release=function(_d2,_d3){var _d4=on(_d2,_c7.release,function(evt){if(evt.type=="mouseup"&&!_c6.isLeft(evt)){return;}_d3(evt);}),_d5=on(_d2,"keyup",function(evt){if(evt.keyCode===_c5.ENTER||evt.keyCode===_c5.SPACE){_d3(evt);}});return {remove:function(){_d4.remove();_d5.remove();}};};_cb.move=_c7.move;return _cb;});},"dojo/touch":function(){define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(_d6,_d7,dom,_d8,_d9,on,has,_da,_db,win){var _dc=has("touch");var _dd=has("ios")<5;var _de=navigator.msPointerEnabled;var _df,_e0,_e1,_e2,_e3,_e4,_e5,_e6;var _e7;function _e8(_e9,_ea,_eb){if(_de&&_eb){return function(_ec,_ed){return on(_ec,_eb,_ed);};}else{if(_dc){return function(_ee,_ef){var _f0=on(_ee,_ea,_ef),_f1=on(_ee,_e9,function(evt){if(!_e7||(new Date()).getTime()>_e7+1000){_ef.call(this,evt);}});return {remove:function(){_f0.remove();_f1.remove();}};};}else{return function(_f2,_f3){return on(_f2,_e9,_f3);};}}};function _f4(_f5){do{if(_f5.dojoClick){return _f5;}}while(_f5=_f5.parentNode);};function _f6(e,_f7,_f8){var _f9=_f4(e.target);_e0=!e.target.disabled&&_f9&&_f9.dojoClick;if(_e0){var _fa=(_e0=="useTarget");_e1=(_fa?_f9:e.target);if(_fa){e.preventDefault();}_e2=e.touches?e.touches[0].pageX:e.clientX;_e3=e.touches?e.touches[0].pageY:e.clientY;_e4=(typeof _e0=="object"?_e0.x:(typeof _e0=="number"?_e0:0))||4;_e5=(typeof _e0=="object"?_e0.y:(typeof _e0=="number"?_e0:0))||4;if(!_df){_df=true;function _fb(e){if(_fa){_e0=dom.isDescendant(win.doc.elementFromPoint((e.changedTouches?e.changedTouches[0].pageX:e.clientX),(e.changedTouches?e.changedTouches[0].pageY:e.clientY)),_e1);}else{_e0=_e0&&e.target==_e1&&Math.abs((e.changedTouches?e.changedTouches[0].pageX:e.clientX)-_e2)<=_e4&&Math.abs((e.changedTouches?e.changedTouches[0].pageY:e.clientY)-_e3)<=_e5;}};win.doc.addEventListener(_f7,function(e){_fb(e);if(_fa){e.preventDefault();}},true);win.doc.addEventListener(_f8,function(e){_fb(e);if(_e0){_e6=(new Date()).getTime();var _fc=(_fa?_e1:e.target);if(_fc.tagName==="LABEL"){_fc=dom.byId(_fc.getAttribute("for"))||_fc;}setTimeout(function(){on.emit(_fc,"click",{bubbles:true,cancelable:true,_dojo_click:true});},0);}},true);function _fd(_fe){win.doc.addEventListener(_fe,function(e){if(!e._dojo_click&&(new Date()).getTime()<=_e6+1000&&!(e.target.tagName=="INPUT"&&_d8.contains(e.target,"dijitOffScreen"))){e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();if(_fe=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){e.preventDefault();}}},true);};_fd("click");_fd("mousedown");_fd("mouseup");}}};var _ff;if(_dc){if(_de){_db(function(){win.doc.addEventListener("MSPointerDown",function(evt){_f6(evt,"MSPointerMove","MSPointerUp");},true);});}else{_db(function(){_ff=win.body();win.doc.addEventListener("touchstart",function(evt){_e7=(new Date()).getTime();var _100=_ff;_ff=evt.target;on.emit(_100,"dojotouchout",{relatedTarget:_ff,bubbles:true});on.emit(_ff,"dojotouchover",{relatedTarget:_100,bubbles:true});_f6(evt,"touchmove","touchend");},true);function _101(evt){var _102=_d9.delegate(evt,{bubbles:true});if(has("ios")>=6){_102.touches=evt.touches;_102.altKey=evt.altKey;_102.changedTouches=evt.changedTouches;_102.ctrlKey=evt.ctrlKey;_102.metaKey=evt.metaKey;_102.shiftKey=evt.shiftKey;_102.targetTouches=evt.targetTouches;}return _102;};on(win.doc,"touchmove",function(evt){_e7=(new Date()).getTime();var _103=win.doc.elementFromPoint(evt.pageX-(_dd?0:win.global.pageXOffset),evt.pageY-(_dd?0:win.global.pageYOffset));if(_103){if(_ff!==_103){on.emit(_ff,"dojotouchout",{relatedTarget:_103,bubbles:true});on.emit(_103,"dojotouchover",{relatedTarget:_ff,bubbles:true});_ff=_103;}if(!on.emit(_103,"dojotouchmove",_101(evt))){evt.preventDefault();}}});on(win.doc,"touchend",function(evt){_e7=(new Date()).getTime();var node=win.doc.elementFromPoint(evt.pageX-(_dd?0:win.global.pageXOffset),evt.pageY-(_dd?0:win.global.pageYOffset))||win.body();on.emit(node,"dojotouchend",_101(evt));});});}}var _104={press:_e8("mousedown","touchstart","MSPointerDown"),move:_e8("mousemove","dojotouchmove","MSPointerMove"),release:_e8("mouseup","dojotouchend","MSPointerUp"),cancel:_e8(_da.leave,"touchcancel",_dc?"MSPointerCancel":null),over:_e8("mouseover","dojotouchover","MSPointerOver"),out:_e8("mouseout","dojotouchout","MSPointerOut"),enter:_da._eventHandler(_e8("mouseover","dojotouchover","MSPointerOver")),leave:_da._eventHandler(_e8("mouseout","dojotouchout","MSPointerOut"))};1&&(_d6.touch=_104);return _104;});},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_105,_106,_107,lang){lang.extend(_106,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _107("dijit._FocusMixin",null,{_focusManager:_105});});},"dijit/focus":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_108,_109,dom,_10a,_10b,_10c,_10d,lang,on,_10e,has,_10f,win,_110,a11y,_111,_112){var _113;var _114=_109([_10f,_10d],{curNode:null,activeStack:[],constructor:function(){var _115=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_108.before(_10c,"empty",_115);_108.before(_10c,"destroy",_115);},registerIframe:function(_116){return this.registerWin(_116.contentWindow,_116);},registerWin:function(_117,_118){var _119=this,body=_117.document&&_117.document.body;if(body){var mdh=on(_117.document,"mousedown, touchstart",function(evt){_119._justMouseDowned=true;setTimeout(function(){_119._justMouseDowned=false;},0);if(evt&&evt.target&&evt.target.parentNode==null){return;}_119._onTouchNode(_118||evt.target,"mouse");});var fih=on(body,"focusin",function(evt){_113=(new Date()).getTime();if(!evt.target.tagName){return;}var tag=evt.target.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isFocusable(evt.target)){_119._onFocusNode(_118||evt.target);}else{_119._onTouchNode(_118||evt.target);}});var foh=on(body,"focusout",function(evt){if((new Date()).getTime()<_113+100){return;}_119._onBlurNode(_118||evt.target);});return {remove:function(){mdh.remove();fih.remove();foh.remove();mdh=fih=foh=null;body=null;}};}},_onBlurNode:function(node){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(lang.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(node,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}if(_10b.contains(node,"dijitPopup")){node=node.firstChild;}var _11a=[];try{while(node){var _11b=_10a.get(node,"dijitPopupParent");if(_11b){node=_111.byId(_11b).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_110.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_11c=id&&_111.byId(id);if(_11c&&!(by=="mouse"&&_11c.get("disabled"))){_11a.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_11a,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",node);},_setStack:function(_11d,by){var _11e=this.activeStack,_11f=_11e.length-1,_120=_11d.length-1;if(_11d[_120]==_11e[_11f]){return;}this.set("activeStack",_11d);var _121,i;for(i=_11f;i>=0&&_11e[i]!=_11d[i];i--){_121=_111.byId(_11e[i]);if(_121){_121._hasBeenBlurred=true;_121.set("focused",false);if(_121._focusManager==this){_121._onBlur(by);}this.emit("widget-blur",_121,by);}}for(i++;i<=_120;i++){_121=_111.byId(_11d[i]);if(_121){_121.set("focused",true);if(_121._focusManager==this){_121._onFocus(by);}this.emit("widget-focus",_121,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _122=new _114();_10e(function(){var _123=_122.registerWin(_110.get(document));if(has("ie")){on(window,"unload",function(){if(_123){_123.remove();_123=null;}});}});_112.focus=function(node){_122.focus(node);};for(var attr in _122){if(!/^_/.test(attr)){_112.focus[attr]=typeof _122[attr]=="function"?lang.hitch(_122,attr):_122[attr];}}_122.watch(function(attr,_124,_125){_112.focus[attr]=_125;});return _122;});},"dojo/window":function(){define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(lang,has,_126,dom,geom,_127,_128){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var body=_126.body(doc),_129=_128.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_128.create("div",{style:{overflow:"hidden",direction:"ltr"}},_129,"last"),ret=geom.position(div).x!=0;_129.removeChild(div);body.removeChild(_129);return ret;});has.add("position-fixed-support",function(win,doc){var body=_126.body(doc),_12a=_128.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_12b=_128.create("span",{style:{position:"fixed",left:"0",top:"0"}},_12a,"last"),ret=geom.position(_12b).x!=geom.position(_12a).x;_12a.removeChild(_12b);body.removeChild(_12a);return ret;});var _12c={getBox:function(doc){doc=doc||_126.doc;var _12d=(doc.compatMode=="BackCompat")?_126.body(doc):doc.documentElement,_12e=geom.docScroll(doc),w,h;if(has("touch")){var _12f=_12c.get(doc);w=_12f.innerWidth||_12d.clientWidth;h=_12f.innerHeight||_12d.clientHeight;}else{w=_12d.clientWidth;h=_12d.clientHeight;}return {l:_12e.x,t:_12e.y,w:w,h:h};},get:function(doc){if(has("ie")<9&&_12c!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_126.doc,body=_126.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if(node==body||node==html){return;}if(!(has("mozilla")||isIE||isWK||has("opera"))&&("scrollIntoView" in node)){node.scrollIntoView(false);return;}var _130=doc.compatMode=="BackCompat",_131=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_132=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_133=(isWK||_130)?body:html,_134=pos||geom.position(node),el=node.parentNode,_135=function(el){return (isIE<=6||(isIE==7&&_130))?false:(has("position-fixed-support")&&(_127.get(el,"position").toLowerCase()=="fixed"));};if(_135(node)){return;}while(el){if(el==body){el=_133;}var _136=geom.position(el),_137=_135(el),rtl=_127.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_133){_136.w=_131;_136.h=_132;if(_133==html&&isIE&&rtl){_136.x+=_133.offsetWidth-_136.w;}if(_136.x<0||!isIE||isIE>=9){_136.x=0;}if(_136.y<0||!isIE||isIE>=9){_136.y=0;}}else{var pb=geom.getPadBorderExtents(el);_136.w-=pb.w;_136.h-=pb.h;_136.x+=pb.l;_136.y+=pb.t;var _138=el.clientWidth,_139=_136.w-_138;if(_138>0&&_139>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_136.x+=_139;}_136.w=_138;}_138=el.clientHeight;_139=_136.h-_138;if(_138>0&&_139>0){_136.h=_138;}}if(_137){if(_136.y<0){_136.h+=_136.y;_136.y=0;}if(_136.x<0){_136.w+=_136.x;_136.x=0;}if(_136.y+_136.h>_132){_136.h=_132-_136.y;}if(_136.x+_136.w>_131){_136.w=_131-_136.x;}}var l=_134.x-_136.x,t=_134.y-_136.y,r=l+_134.w-_136.w,bot=t+_134.h-_136.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_133||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_130)||isIE>=9)){s=-s;}old=el.scrollLeft;el.scrollLeft+=s;s=el.scrollLeft-old;_134.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_133||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;el.scrollTop+=s;s=el.scrollTop-old;_134.y-=s;}el=(el!=_133)&&!_137&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_12c);return _12c;});},"dijit/a11y":function(){define(["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_13a,dom,_13b,_13c,lang,has,_13d){var _13e;var a11y={_isElementShown:function(elem){var s=_13c.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_13b.get(elem,"type")!="hidden");},hasDefaultTabStop:function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _13b.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _13f=elem.contentDocument;if("designMode" in _13f&&_13f.designMode=="on"){return true;}body=_13f.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}},effectiveTabIndex:function(elem){if(_13b.get(elem,"disabled")){return _13e;}else{if(_13b.has(elem,"tabIndex")){return +_13b.get(elem,"tabIndex");}else{return a11y.hasDefaultTabStop(elem)?0:_13e;}}},isTabNavigable:function(elem){return a11y.effectiveTabIndex(elem)>=0;},isFocusable:function(elem){return a11y.effectiveTabIndex(elem)>=-1;},_getTabNavigable:function(root){var _140,last,_141,_142,_143,_144,_145={};function _146(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _147=a11y._isElementShown,_148=a11y.effectiveTabIndex;var _149=function(_14a){for(var _14b=_14a.firstChild;_14b;_14b=_14b.nextSibling){if(_14b.nodeType!=1||(has("ie")<=9&&_14b.scopeName!=="HTML")||!_147(_14b)){continue;}var _14c=_148(_14b);if(_14c>=0){if(_14c==0){if(!_140){_140=_14b;}last=_14b;}else{if(_14c>0){if(!_141||_14c<_142){_142=_14c;_141=_14b;}if(!_143||_14c>=_144){_144=_14c;_143=_14b;}}}var rn=_146(_14b);if(_13b.get(_14b,"checked")&&rn){_145[rn]=_14b;}}if(_14b.nodeName.toUpperCase()!="SELECT"){_149(_14b);}}};if(_147(root)){_149(root);}function rs(node){return _145[_146(node)]||node;};return {first:rs(_140),last:rs(last),lowest:rs(_141),highest:rs(_143)};},getFirstInTabbingOrder:function(root,doc){var _14d=a11y._getTabNavigable(dom.byId(root,doc));return _14d.lowest?_14d.lowest:_14d.first;},getLastInTabbingOrder:function(root,doc){var _14e=a11y._getTabNavigable(dom.byId(root,doc));return _14e.last?_14e.last:_14e.highest;}};1&&lang.mixin(_13d,a11y);return a11y;});},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(_14f,lang,_150,has,_151){var html=_151.doc.documentElement,ie=has("ie"),_152=has("opera"),maj=Math.floor,ff=has("ff"),_153=_14f.boxModel.replace(/-/,""),_154={"dj_quirks":has("quirks"),"dj_opera":_152,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ios":has("ios"),"dj_android":has("android")};if(ie){_154["dj_ie"]=true;_154["dj_ie"+maj(ie)]=true;_154["dj_iequirks"]=has("quirks");}if(ff){_154["dj_ff"+maj(ff)]=true;}_154["dj_"+_153]=true;var _155="";for(var clz in _154){if(_154[clz]){_155+=clz+" ";}}html.className=lang.trim(html.className+" "+_155);_150(function(){if(!_14f.isBodyLtr()){var _156="dj_rtl dijitRtl "+_155.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_156+"dj_rtl dijitRtl "+_155.replace(/ /g,"-rtl "));}});return has;});},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(_157,has,_158,win){_158(function(){if(has("highcontrast")){_157.add(win.body(),"dijit_a11y");}});return has;});},"dojo/hccss":function(){define(["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(_159,_15a,_15b,_15c,has,_15d,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url(\""+(_15a.blankGif||_159.toUrl("./resources/blank.gif"))+"\");";win.body().appendChild(div);var cs=_15c.getComputedStyle(div),_15e=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_15e&&(_15e=="none"||_15e=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_15d(function(){if(has("highcontrast")){_15b.add(win.body(),"dj_a11y");}});return has;});},"dojo/dnd/move":function(){define(["../_base/declare","../dom-geometry","../dom-style","./common","./Mover","./Moveable"],function(_15f,_160,_161,dnd,_162,_163){var _164=_15f("dojo.dnd.move.constrainedMoveable",_163,{constraints:function(){},within:false,constructor:function(node,_165){if(!_165){_165={};}this.constraints=_165.constraints;this.within=_165.within;},onFirstMove:function(_166){var c=this.constraintBox=this.constraints.call(this,_166);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=_160.getMarginSize(_166.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function(_167,_168){var c=this.constraintBox,s=_167.node.style;this.onMoving(_167,_168);_168.l=_168.l<c.l?c.l:c.r<_168.l?c.r:_168.l;_168.t=_168.t<c.t?c.t:c.b<_168.t?c.b:_168.t;s.left=_168.l+"px";s.top=_168.t+"px";this.onMoved(_167,_168);}});var _169=_15f("dojo.dnd.move.boxConstrainedMoveable",_164,{box:{},constructor:function(node,_16a){var box=_16a&&_16a.box;this.constraints=function(){return box;};}});var _16b=_15f("dojo.dnd.move.parentConstrainedMoveable",_164,{area:"content",constructor:function(node,_16c){var area=_16c&&_16c.area;this.constraints=function(){var n=this.node.parentNode,s=_161.getComputedStyle(n),mb=_160.getMarginBox(n,s);if(area=="margin"){return mb;}var t=_160.getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=_160.getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=_160.getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});return {constrainedMoveable:_164,boxConstrainedMoveable:_169,parentConstrainedMoveable:_16b};});},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(has,_16d,lang,dom){var _16e=lang.getObject("dojo.dnd",true);_16e.getCopyKeyState=function(evt){return evt[has("mac")?"metaKey":"ctrlKey"];};_16e._uniqueId=0;_16e.getUniqueId=function(){var id;do{id=_16d._scopeName+"Unique"+(++_16e._uniqueId);}while(dom.byId(id));return id;};_16e._empty={};_16e.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};return _16e;});},"dojo/dnd/Mover":function(){define(["../_base/array","../_base/declare","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_16f,_170,lang,has,win,dom,_171,_172,_173,on,_174,dnd,_175){return _170("dojo.dnd.Mover",[_173],{constructor:function(node,e,host){this.node=dom.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;function _176(e){e.preventDefault();e.stopPropagation();};this.events=[on(d,_174.move,lang.hitch(this,"onFirstMove")),on(d,_174.move,lang.hitch(this,"onMouseMove")),on(d,_174.release,lang.hitch(this,"onMouseUp")),on(d,"dragstart",_176),on(d.body,"selectstart",_176)];_175.autoScrollStart(d);if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){_175.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);e.preventDefault();e.stopPropagation();},onMouseUp:function(e){if(has("webkit")&&has("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}e.preventDefault();e.stopPropagation();},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=_171.getMarginBox(this.node);var b=win.doc.body;var bs=_172.getComputedStyle(b);var bm=_171.getMarginBox(b,bs);var bc=_171.getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}this.events.shift().remove();},destroy:function(){_16f.forEach(this.events,function(_177){_177.remove();});var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});});},"dojo/dnd/autoscroll":function(){define(["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(lang,has,win,_178,_179,_17a){var _17b={};lang.setObject("dojo.dnd.autoscroll",_17b);_17b.getViewport=_17a.getBox;_17b.V_TRIGGER_AUTOSCROLL=32;_17b.H_TRIGGER_AUTOSCROLL=32;_17b.V_AUTOSCROLL_VALUE=16;_17b.H_AUTOSCROLL_VALUE=16;var _17c,doc=win.doc,_17d=Infinity,_17e=Infinity;_17b.autoScrollStart=function(d){doc=d;_17c=_17a.getBox(doc);var html=win.body(doc).parentNode;_17d=Math.max(html.scrollHeight-_17c.h,0);_17e=Math.max(html.scrollWidth-_17c.w,0);};_17b.autoScroll=function(e){var v=_17c||_17a.getBox(doc),html=win.body(doc).parentNode,dx=0,dy=0;if(e.clientX<_17b.H_TRIGGER_AUTOSCROLL){dx=-_17b.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-_17b.H_TRIGGER_AUTOSCROLL){dx=Math.min(_17b.H_AUTOSCROLL_VALUE,_17e-html.scrollLeft);}}if(e.clientY<_17b.V_TRIGGER_AUTOSCROLL){dy=-_17b.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-_17b.V_TRIGGER_AUTOSCROLL){dy=Math.min(_17b.V_AUTOSCROLL_VALUE,_17d-html.scrollTop);}}window.scrollBy(dx,dy);};_17b._validNodes={"div":1,"p":1,"td":1};_17b._validOverflow={"auto":1,"scroll":1};_17b.autoScrollNodes=function(e){var b,t,w,h,rx,ry,dx=0,dy=0,_17f,_180;for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in _17b._validNodes)){var s=_179.getComputedStyle(n),_181=(s.overflow.toLowerCase() in _17b._validOverflow),_182=(s.overflowX.toLowerCase() in _17b._validOverflow),_183=(s.overflowY.toLowerCase() in _17b._validOverflow);if(_181||_182||_183){b=_178.getContentBox(n,s);t=_178.position(n,true);}if(_181||_182){w=Math.min(_17b.H_TRIGGER_AUTOSCROLL,b.w/2);rx=e.pageX-t.x;if(has("webkit")||has("opera")){rx+=win.body().scrollLeft;}dx=0;if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}_17f=n.scrollLeft;n.scrollLeft=n.scrollLeft+dx;}}if(_181||_183){h=Math.min(_17b.V_TRIGGER_AUTOSCROLL,b.h/2);ry=e.pageY-t.y;if(has("webkit")||has("opera")){ry+=win.body().scrollTop;}dy=0;if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}_180=n.scrollTop;n.scrollTop=n.scrollTop+dy;}}if(dx||dy){return;}}try{n=n.parentNode;}catch(x){n=null;}}_17b.autoScroll(e);};return _17b;});},"dojo/dnd/Moveable":function(){define(["../_base/array","../_base/declare","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_184,_185,lang,dom,_186,_187,on,_188,_189,dnd,_18a,win){var _18b=_185("dojo.dnd.Moveable",[_187],{handle:"",delay:0,skip:false,constructor:function(node,_18c){this.node=dom.byId(node);if(!_18c){_18c={};}this.handle=_18c.handle?dom.byId(_18c.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_18c.delay>0?_18c.delay:0;this.skip=_18c.skip;this.mover=_18c.mover?_18c.mover:_18a;this.events=[on(this.handle,_189.press,lang.hitch(this,"onMouseDown")),on(this.handle,"dragstart",lang.hitch(this,"onSelectStart")),on(this.handle,"selectstart",lang.hitch(this,"onSelectStart"))];},markupFactory:function(_18d,node,Ctor){return new Ctor(node,_18d);},destroy:function(){_184.forEach(this.events,function(_18e){_18e.remove();});this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_189.move,lang.hitch(this,"onMouseMove")),on(this.handle,_189.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}e.stopPropagation();e.preventDefault();},onMouseUp:function(e){for(var i=0;i<2;++i){this.events.pop().remove();}e.stopPropagation();e.preventDefault();},onSelectStart:function(e){if(!this.skip||!dnd.isFormElement(e)){e.stopPropagation();e.preventDefault();}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_18f){_188.publish("/dnd/move/start",_18f);_186.add(win.body(),"dojoMove");_186.add(this.node,"dojoMoveItem");},onMoveStop:function(_190){_188.publish("/dnd/move/stop",_190);_186.remove(win.body(),"dojoMove");_186.remove(this.node,"dojoMoveItem");},onFirstMove:function(){},onMove:function(_191,_192){this.onMoving(_191,_192);var s=_191.node.style;s.left=_192.l+"px";s.top=_192.t+"px";this.onMoved(_191,_192);},onMoving:function(){},onMoved:function(){}});return _18b;});},"dojox/layout/ResizeHandle":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/connect","dojo/_base/array","dojo/_base/event","dojo/_base/fx","dojo/_base/window","dojo/fx","dojo/window","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dijit/_base/manager","dijit/_Widget","dijit/_TemplatedMixin","dojo/_base/declare"],function(_193,lang,_194,_195,_196,_197,_198,_199,_19a,_19b,_19c,_19d,_19e,_19f,_1a0,_1a1,_1a2){_193.experimental("dojox.layout.ResizeHandle");var _1a3=_1a2("dojox.layout.ResizeHandle",[_1a0,_1a1],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:false,activeResizeClass:"dojoxResizeHandleClone",animateSizing:true,animateMethod:"chain",animateDuration:225,minHeight:100,minWidth:100,constrainMax:false,maxHeight:0,maxWidth:0,fixedAspect:false,intermediateChanges:false,startTopic:"/dojo/resize/start",endTopic:"/dojo/resize/stop",templateString:"<div dojoAttachPoint=\"resizeHandle\" class=\"dojoxResizeHandle\"><div></div></div>",postCreate:function(){this.connect(this.resizeHandle,"onmousedown","_beginSizing");if(!this.activeResize){this._resizeHelper=_19f.byId("dojoxGlobalResizeHelper");if(!this._resizeHelper){this._resizeHelper=new _1a4({id:"dojoxGlobalResizeHelper"}).placeAt(_198.body());_19c.add(this._resizeHelper.domNode,this.activeResizeClass);}}else{this.animateSizing=false;}if(!this.minSize){this.minSize={w:this.minWidth,h:this.minHeight};}if(this.constrainMax){this.maxSize={w:this.maxWidth,h:this.maxHeight};}this._resizeX=this._resizeY=false;var _1a5=lang.partial(_19c.add,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=true;_1a5("dojoxResizeNW");break;case "x":this._resizeX=true;_1a5("dojoxResizeW");break;case "y":this._resizeY=true;_1a5("dojoxResizeN");break;}},_beginSizing:function(e){if(this._isSizing){return;}_194.publish(this.startTopic,[this]);this.targetWidget=_19f.byId(this.targetId);this.targetDomNode=this.targetWidget?this.targetWidget.domNode:_19b.byId(this.targetId);if(this.targetContainer){this.targetDomNode=this.targetContainer;}if(!this.targetDomNode){return;}if(!this.activeResize){var c=_19d.position(this.targetDomNode,true);this._resizeHelper.resize({l:c.x,t:c.y,w:c.w,h:c.h});this._resizeHelper.show();if(!this.isLeftToRight()){this._resizeHelper.startPosition={l:c.x,t:c.y};}}this._isSizing=true;this.startPoint={x:e.clientX,y:e.clientY};var _1a6=_19e.getComputedStyle(this.targetDomNode),_1a7=_19d.boxModel==="border-model",_1a8=_1a7?{w:0,h:0}:_19d.getPadBorderExtents(this.targetDomNode,_1a6),_1a9=_19d.getMarginExtents(this.targetDomNode,_1a6),mb;mb=this.startSize={w:_19e.get(this.targetDomNode,"width",_1a6),h:_19e.get(this.targetDomNode,"height",_1a6),pbw:_1a8.w,pbh:_1a8.h,mw:_1a9.w,mh:_1a9.h};if(!this.isLeftToRight()&&dojo.style(this.targetDomNode,"position")=="absolute"){var p=_19d.position(this.targetDomNode,true);this.startPosition={l:p.x,t:p.y};}this._pconnects=[_194.connect(_198.doc,"onmousemove",this,"_updateSizing"),_194.connect(_198.doc,"onmouseup",this,"_endSizing")];_196.stop(e);},_updateSizing:function(e){if(this.activeResize){this._changeSizing(e);}else{var tmp=this._getNewCoords(e,"border",this._resizeHelper.startPosition);if(tmp===false){return;}this._resizeHelper.resize(tmp);}e.preventDefault();},_getNewCoords:function(e,box,_1aa){try{if(!e.clientX||!e.clientY){return false;}}catch(e){return false;}this._activeResizeLastEvent=e;var dx=(this.isLeftToRight()?1:-1)*(this.startPoint.x-e.clientX),dy=this.startPoint.y-e.clientY,newW=this.startSize.w-(this._resizeX?dx:0),newH=this.startSize.h-(this._resizeY?dy:0),r=this._checkConstraints(newW,newH);_1aa=(_1aa||this.startPosition);if(_1aa&&this._resizeX){r.l=_1aa.l+dx;if(r.w!=newW){r.l+=(newW-r.w);}r.t=_1aa.t;}switch(box){case "margin":r.w+=this.startSize.mw;r.h+=this.startSize.mh;case "border":r.w+=this.startSize.pbw;r.h+=this.startSize.pbh;break;}return r;},_checkConstraints:function(newW,newH){if(this.minSize){var tm=this.minSize;if(newW<tm.w){newW=tm.w;}if(newH<tm.h){newH=tm.h;}}if(this.constrainMax&&this.maxSize){var ms=this.maxSize;if(newW>ms.w){newW=ms.w;}if(newH>ms.h){newH=ms.h;}}if(this.fixedAspect){var w=this.startSize.w,h=this.startSize.h,_1ab=w*newH-h*newW;if(_1ab<0){newW=newH*w/h;}else{if(_1ab>0){newH=newW*h/w;}}}return {w:newW,h:newH};},_changeSizing:function(e){var _1ac=this.targetWidget&&lang.isFunction(this.targetWidget.resize),tmp=this._getNewCoords(e,_1ac&&"margin");if(tmp===false){return;}if(_1ac){this.targetWidget.resize(tmp);}else{if(this.animateSizing){var anim=_199[this.animateMethod]([_197.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:tmp.w}},duration:this.animateDuration}),_197.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,end:tmp.h}},duration:this.animateDuration})]);anim.play();}else{_19e.set(this.targetDomNode,{width:tmp.w+"px",height:tmp.h+"px"});}}if(this.intermediateChanges){this.onResize(e);}},_endSizing:function(e){_195.forEach(this._pconnects,_194.disconnect);var pub=lang.partial(_194.publish,this.endTopic,[this]);if(!this.activeResize){this._resizeHelper.hide();this._changeSizing(e);setTimeout(pub,this.animateDuration+15);}else{pub();}this._isSizing=false;this.onResize(e);},onResize:function(e){}});var _1a4=dojo.declare("dojox.layout._ResizeHelper",_1a0,{show:function(){_19e.set(this.domNode,"display","");},hide:function(){_19e.set(this.domNode,"display","none");},resize:function(dim){_19d.setMarginBox(this.domNode,dim);}});return _1a3;});},"dojo/fx":function(){define(["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_1ad,dojo,_1ae,_1af,_1b0,dom,_1b1,geom,_1b2,_1b3){if(!dojo.isAsync){_1b2(0,function(){var _1b4=["./fx/Toggler"];_1b3(_1b4);});}var _1b5=dojo.fx={};var _1b6={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _1b7=function(_1b8){this._index=-1;this._animations=_1b8||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_1ae.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_1b7.prototype=new _1ad();lang.extend(_1b7,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_1af.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);this._onEndCtx=_1af.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play(0,true);}},play:function(_1b9,_1ba){if(!this._current){this._current=this._animations[this._index=0];}if(!_1ba&&this._current.status()=="playing"){return this;}var _1bb=_1af.after(this._current,"beforeBegin",lang.hitch(this,function(){this._fire("beforeBegin");}),true),_1bc=_1af.after(this._current,"onBegin",lang.hitch(this,function(arg){this._fire("onBegin",arguments);}),true),_1bd=_1af.after(this._current,"onPlay",lang.hitch(this,function(arg){this._fire("onPlay",arguments);_1bb.remove();_1bc.remove();_1bd.remove();}));if(this._onAnimateCtx){this._onAnimateCtx.remove();}this._onAnimateCtx=_1af.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);if(this._onEndCtx){this._onEndCtx.remove();}this._onEndCtx=_1af.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_1af.after(this._current,"onPause",lang.hitch(this,function(arg){this._fire("onPause",arguments);e.remove();}),true);this._current.pause();}return this;},gotoPercent:function(_1be,_1bf){this.pause();var _1c0=this.duration*_1be;this._current=null;_1ae.some(this._animations,function(a){if(a.duration<=_1c0){this._current=a;return true;}_1c0-=a.duration;return false;});if(this._current){this._current.gotoPercent(_1c0/this._current.duration,_1bf);}return this;},stop:function(_1c1){if(this._current){if(_1c1){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_1af.after(this._current,"onStop",lang.hitch(this,function(arg){this._fire("onStop",arguments);e.remove();}),true);this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){this._onAnimateCtx.remove();}if(this._onEndCtx){this._onEndCtx.remove();}}});lang.extend(_1b7,_1b6);_1b5.chain=function(_1c2){return new _1b7(_1c2);};var _1c3=function(_1c4){this._animations=_1c4||[];this._connects=[];this._finished=0;this.duration=0;_1ae.forEach(_1c4,function(a){var _1c5=a.duration;if(a.delay){_1c5+=a.delay;}if(this.duration<_1c5){this.duration=_1c5;}this._connects.push(_1af.after(a,"onEnd",lang.hitch(this,"_onEnd"),true));},this);this._pseudoAnimation=new _1b0.Animation({curve:[0,1],duration:this.duration});var self=this;_1ae.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_1af.after(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);},true));});};lang.extend(_1c3,{_doAction:function(_1c6,args){_1ae.forEach(this._animations,function(a){a[_1c6].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_1c7,args){var t=this._pseudoAnimation;t[_1c7].apply(t,args);},play:function(_1c8,_1c9){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_1ca,_1cb){var ms=this.duration*_1ca;_1ae.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_1cb);});this._call("gotoPercent",arguments);return this;},stop:function(_1cc){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){_1ae.forEach(this._connects,function(_1cd){_1cd.remove();});}});lang.extend(_1c3,_1b6);_1b5.combine=function(_1ce){return new _1c3(_1ce);};_1b5.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_1b0.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _1cf=_1b1.get(node,"height");return Math.max(_1cf,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_1af.after(anim,"onStop",fini,true);_1af.after(anim,"onEnd",fini,true);return anim;};_1b5.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_1b0.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_1af.after(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";},true);var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_1af.after(anim,"onStop",fini,true);_1af.after(anim,"onEnd",fini,true);return anim;};_1b5.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_1b1.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_1b0.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_1af.after(anim,"beforeBegin",init,true);return anim;};return _1b5;});},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_1d0,_1d1,lang,_1d2,_1d3){var _1d4={};_1d0.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_1d4[name]=_1d2[name];});lang.mixin(_1d4,{defaultDuration:_1d1["defaultDuration"]||200});lang.mixin(_1d3,_1d4);return _1d3;});},"dijit/_TemplatedMixin":function(){define(["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(_1d5,_1d6,_1d7,lang,on,has,_1d8,_1d9){var _1da=_1d6("dijit._TemplatedMixin",_1d9,{templateString:null,templatePath:null,_skipNodeCache:false,searchContainerNode:true,_stringRepl:function(tmpl){var _1db=this.declaredClass,_1dc=this;return _1d8.substitute(tmpl,this,function(_1dd,key){if(key.charAt(0)=="!"){_1dd=lang.getObject(key.substr(1),false,_1dc);}if(typeof _1dd=="undefined"){throw new Error(_1db+" template:"+key);}if(_1dd==null){return "";}return key.charAt(0)=="!"?_1dd:this._escapeValue(""+_1dd);},this);},_escapeValue:function(val){return val.replace(/["'<>&]/g,function(val){return {"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#x27;"}[val];});},buildRendering:function(){if(!this._rendered){if(!this.templateString){this.templateString=_1d5(this.templatePath,{sanitize:true});}var _1de=_1da.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_1de)){node=_1d7.toDom(this._stringRepl(_1de),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_1de);}}else{node=_1de.cloneNode(true);}this.domNode=node;}this.inherited(arguments);if(!this._rendered){this._fillContent(this.srcNodeRef);}this._rendered=true;},_fillContent:function(_1df){var dest=this.containerNode;if(_1df&&dest){while(_1df.hasChildNodes()){dest.appendChild(_1df.firstChild);}}}});_1da._templateCache={};_1da.getCachedTemplate=function(_1e0,_1e1,doc){var _1e2=_1da._templateCache;var key=_1e0;var _1e3=_1e2[key];if(_1e3){try{if(!_1e3.ownerDocument||_1e3.ownerDocument==(doc||document)){return _1e3;}}catch(e){}_1d7.destroy(_1e3);}_1e0=_1d8.trim(_1e0);if(_1e1||_1e0.match(/\$\{([^\}]+)\}/g)){return (_1e2[key]=_1e0);}else{var node=_1d7.toDom(_1e0,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_1e0);}return (_1e2[key]=node);}};if(has("ie")){on(window,"unload",function(){var _1e4=_1da._templateCache;for(var key in _1e4){var _1e5=_1e4[key];if(typeof _1e5=="object"){_1d7.destroy(_1e5);}delete _1e4[key];}});}return _1da;});},"dojo/cache":function(){define(["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(dojo,_1e6,has,_1e7){var _1e8;if(1){_1e8=function(url,sync,load){_1e7(url,{sync:!!sync}).then(load);};}else{if(_1e6.getText){_1e8=_1e6.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _1e9={},_1ea=function(text){if(text){text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _1eb=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_1eb){text=_1eb[1];}}else{text="";}return text;},_1ec={},_1ed={};dojo.cache=function(_1ee,url,_1ef){var key;if(typeof _1ee=="string"){if(/\//.test(_1ee)){key=_1ee;_1ef=url;}else{key=_1e6.toUrl(_1ee.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_1ee+"";_1ef=url;}var val=(_1ef!=undefined&&typeof _1ef!="string")?_1ef.value:_1ef,_1f0=_1ef&&_1ef.sanitize;if(typeof val=="string"){_1e9[key]=val;return _1f0?_1ea(val):val;}else{if(val===null){delete _1e9[key];return null;}else{if(!(key in _1e9)){_1e8(key,true,function(text){_1e9[key]=text;});}return _1f0?_1ea(_1e9[key]):_1e9[key];}}};return {dynamic:true,normalize:function(id,_1f1){var _1f2=id.split("!"),url=_1f2[0];return (/^\./.test(url)?_1f1(url):url)+(_1f2[1]?"!"+_1f2[1]:"");},load:function(id,_1f3,load){var _1f4=id.split("!"),_1f5=_1f4.length>1,_1f6=_1f4[0],url=_1f3.toUrl(_1f4[0]),_1f7="url:"+url,text=_1ec,_1f8=function(text){load(_1f5?_1ea(text):text);};if(_1f6 in _1e9){text=_1e9[_1f6];}else{if(_1f3.cache&&_1f7 in _1f3.cache){text=_1f3.cache[_1f7];}else{if(url in _1e9){text=_1e9[url];}}}if(text===_1ec){if(_1ed[url]){_1ed[url].push(_1f8);}else{var _1f9=_1ed[url]=[_1f8];_1e8(url,!_1f3.async,function(text){_1e9[_1f6]=_1e9[url]=text;for(var i=0;i<_1f9.length;){_1f9[i++](text);}delete _1ed[url];});}}else{_1f8(text);}}};});},"dojo/request":function(){define(["./request/default!"],function(_1fa){return _1fa;});},"dojo/request/default":function(){define(["exports","require","../has"],function(_1fb,_1fc,has){var _1fd=has("config-requestProvider"),_1fe;if(1){_1fe="./xhr";}else{if(0){_1fe="./node";}}if(!_1fd){_1fd=_1fe;}_1fb.getPlatformDefaultId=function(){return _1fe;};_1fb.load=function(id,_1ff,_200,_201){_1fc([id=="platform"?_1fe:_1fd],function(_202){_200(_202);});};});},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(_203,lang){var _204={};lang.setObject("dojo.string",_204);_204.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};_204.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=_204.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};_204.substitute=function(_205,map,_206,_207){_207=_207||_203.global;_206=_206?lang.hitch(_207,_206):function(v){return v;};return _205.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_208,key,_209){var _20a=lang.getObject(key,false,map);if(_209){_20a=lang.getObject(_209,false,_207).call(_207,_20a,key);}return _206(_20a,key).toString();});};_204.trim=String.prototype.trim?lang.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};return _204;});},"dijit/_AttachMixin":function(){define(["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(_20b,_20c,_20d,_20e,lang,_20f,on,_210,_211){var _212=lang.delegate(_210,{"mouseenter":_20f.enter,"mouseleave":_20f.leave,"keypress":_20d._keypress});var _213;var _214=_20e("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[];},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent();},_beforeFillContent:function(){},_attachTemplateNodes:function(_215){var node=_215;while(true){if(node.nodeType==1&&(this._processTemplateNode(node,function(n,p){return n.getAttribute(p);},this._attach)||this.searchContainerNode)&&node.firstChild){node=node.firstChild;}else{if(node==_215){return;}while(!node.nextSibling){node=node.parentNode;if(node==_215){return;}}node=node.nextSibling;}}},_processTemplateNode:function(_216,_217,_218){var ret=true;var _219=this.attachScope||this,_21a=_217(_216,"dojoAttachPoint")||_217(_216,"data-dojo-attach-point");if(_21a){var _21b,_21c=_21a.split(/\s*,\s*/);while((_21b=_21c.shift())){if(lang.isArray(_219[_21b])){_219[_21b].push(_216);}else{_219[_21b]=_216;}ret=(_21b!="containerNode");this._attachPoints.push(_21b);}}var _21d=_217(_216,"dojoAttachEvent")||_217(_216,"data-dojo-attach-event");if(_21d){var _21e,_21f=_21d.split(/\s*,\s*/);var trim=lang.trim;while((_21e=_21f.shift())){if(_21e){var _220=null;if(_21e.indexOf(":")!=-1){var _221=_21e.split(":");_21e=trim(_221[0]);_220=trim(_221[1]);}else{_21e=trim(_21e);}if(!_220){_220=_21e;}this._attachEvents.push(_218(_216,_21e,lang.hitch(_219,_220)));}}}return ret;},_attach:function(node,type,func){type=type.replace(/^on/,"").toLowerCase();if(type=="dijitclick"){type=_213||(_213=_20b("./a11yclick"));}else{type=_212[type]||type;}return on(node,type,func);},_detachTemplateNodes:function(){var _222=this.attachScope||this;_20c.forEach(this._attachPoints,function(_223){delete _222[_223];});this._attachPoints=[];_20c.forEach(this._attachEvents,function(_224){_224.remove();});this._attachEvents=[];},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments);}});lang.extend(_211,{dojoAttachEvent:"",dojoAttachPoint:""});return _214;});},"dojox/analytics/Urchin":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/window","dojo/_base/config","dojo/dom-construct"],function(lang,_225,_226,_227,_228){return _225("dojox.analytics.Urchin",null,{acct:"",constructor:function(args){this.tracker=null;lang.mixin(this,args);this.acct=this.acct||_227.urchin;var re=/loaded|complete/,_229=("https:"==_226.doc.location.protocol)?"https://ssl.":"http://www.",h=_226.doc.getElementsByTagName("head")[0],n=_228.create("script",{src:_229+"google-analytics.com/ga.js"},h);n.onload=n.onreadystatechange=lang.hitch(this,function(e){if(e&&e.type=="load"||re.test(n.readyState)){n.onload=n.onreadystatechange=null;this._gotGA();h.removeChild(n);}});},_gotGA:function(){this.tracker=_gat._getTracker(this.acct);this.GAonLoad.apply(this,arguments);},GAonLoad:function(){this.trackPageView();},trackPageView:function(url){this.tracker._trackPageview.apply(this.tracker,arguments);}});});},"demos/cropper/src/nav":function(){define(["dojo","dijit","dojox","dojo/require!dojo/fx,dojo/fx/easing,dojox/image/_base"],function(dojo,_22a,_22b){dojo.provide("demos.cropper.src.nav");dojo.require("dojo.fx");dojo.require("dojo.fx.easing");dojo.require("dojox.image._base");(function(d,$){var _22c="mouse"+(d.isIE?"enter":"over");d.extend(d.NodeList,{hover:function(func,_22d){return this.onmouseenter(func).onmouseleave(_22d||func);},hoverClass:function(_22e){return this.hover(function(e){d[(e.type==_22c?"addClass":"removeClass")](e.target,_22e);});}});d.addOnLoad(function(){var _22f=[],_230=70,_231=[];var _232=$("> li","picker").forEach(function(n,i){d.style(n,"position","relative");_22f.push(d.animateProperty({node:n,duration:375,delay:_230*i,properties:{top:45},easing:d.fx.easing.backIn}));_22f.push(d.fadeOut({node:n,delay:_230*i,duration:375}));_231.push(d.animateProperty({node:n,delay:_230*i,properties:{opacity:1,top:0}}));});var _233=d.fx.combine(_22f),_234=d.fx.combine(_231);var _235=function(arr){var c=d.connect(_233,"onEnd",function(){_232.query("a").forEach(function(n,i){d.attr(n,{href:arr[i].replace(/\/thumb/,"").replace(/t\./,".")});});_232.query("img").forEach(function(n,i){d.attr(n,"src",arr[i]);});d.disconnect(c);_234.play();});_233.play();};d.xhrGet({url:"images.json",handleAs:"json",load:function(resp){var _236=resp.images,_237=[],_238=(_236.length/6);var _239=d.map(_236,function(item){var _23a=item.src.replace(/\./,"t.");return "images/thumb/"+_23a;});_22b.image.preload(_239);var _23b=[];_23b.push(_232.query("img").attr("src"));var _23c=d.filter(_239,function(url){return d.indexOf(_23b[0],url)<0;});_23b.push(_23c.slice(0,6));_23b.push(_23c.slice(6));var _23d=d.create("ul",{id:"pager",style:{opacity:0}},"navi");d.forEach(_23b,function(p,i){var n=d.create("li",{innerHTML:(1+i)+""},_23d);$(n).hoverClass("over").onclick(function(e){if(d.hasClass(n,"selected")){return;}$("> li",_23d).removeClass("selected");d.addClass(n,"selected");_235(p);});});d.fadeIn({node:_23d}).play();}});});})(dojo,dojo.query);});},"dojo/fx/easing":function(){define(["../_base/lang"],function(lang){var _23e={linear:function(n){return n;},quadIn:function(n){return Math.pow(n,2);},quadOut:function(n){return n*(n-2)*-1;},quadInOut:function(n){n=n*2;if(n<1){return Math.pow(n,2)/2;}return -1*((--n)*(n-2)-1)/2;},cubicIn:function(n){return Math.pow(n,3);},cubicOut:function(n){return Math.pow(n-1,3)+1;},cubicInOut:function(n){n=n*2;if(n<1){return Math.pow(n,3)/2;}n-=2;return (Math.pow(n,3)+2)/2;},quartIn:function(n){return Math.pow(n,4);},quartOut:function(n){return -1*(Math.pow(n-1,4)-1);},quartInOut:function(n){n=n*2;if(n<1){return Math.pow(n,4)/2;}n-=2;return -1/2*(Math.pow(n,4)-2);},quintIn:function(n){return Math.pow(n,5);},quintOut:function(n){return Math.pow(n-1,5)+1;},quintInOut:function(n){n=n*2;if(n<1){return Math.pow(n,5)/2;}n-=2;return (Math.pow(n,5)+2)/2;},sineIn:function(n){return -1*Math.cos(n*(Math.PI/2))+1;},sineOut:function(n){return Math.sin(n*(Math.PI/2));},sineInOut:function(n){return -1*(Math.cos(Math.PI*n)-1)/2;},expoIn:function(n){return (n==0)?0:Math.pow(2,10*(n-1));},expoOut:function(n){return (n==1)?1:(-1*Math.pow(2,-10*n)+1);},expoInOut:function(n){if(n==0){return 0;}if(n==1){return 1;}n=n*2;if(n<1){return Math.pow(2,10*(n-1))/2;}--n;return (-1*Math.pow(2,-10*n)+2)/2;},circIn:function(n){return -1*(Math.sqrt(1-Math.pow(n,2))-1);},circOut:function(n){n=n-1;return Math.sqrt(1-Math.pow(n,2));},circInOut:function(n){n=n*2;if(n<1){return -1/2*(Math.sqrt(1-Math.pow(n,2))-1);}n-=2;return 1/2*(Math.sqrt(1-Math.pow(n,2))+1);},backIn:function(n){var s=1.70158;return Math.pow(n,2)*((s+1)*n-s);},backOut:function(n){n=n-1;var s=1.70158;return Math.pow(n,2)*((s+1)*n+s)+1;},backInOut:function(n){var s=1.70158*1.525;n=n*2;if(n<1){return (Math.pow(n,2)*((s+1)*n-s))/2;}n-=2;return (Math.pow(n,2)*((s+1)*n+s)+2)/2;},elasticIn:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;n=n-1;return -1*Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p);},elasticOut:function(n){if(n==0||n==1){return n;}var p=0.3;var s=p/4;return Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p)+1;},elasticInOut:function(n){if(n==0){return 0;}n=n*2;if(n==2){return 1;}var p=0.3*1.5;var s=p/4;if(n<1){n-=1;return -0.5*(Math.pow(2,10*n)*Math.sin((n-s)*(2*Math.PI)/p));}n-=1;return 0.5*(Math.pow(2,-10*n)*Math.sin((n-s)*(2*Math.PI)/p))+1;},bounceIn:function(n){return (1-_23e.bounceOut(1-n));},bounceOut:function(n){var s=7.5625;var p=2.75;var l;if(n<(1/p)){l=s*Math.pow(n,2);}else{if(n<(2/p)){n-=(1.5/p);l=s*Math.pow(n,2)+0.75;}else{if(n<(2.5/p)){n-=(2.25/p);l=s*Math.pow(n,2)+0.9375;}else{n-=(2.625/p);l=s*Math.pow(n,2)+0.984375;}}}return l;},bounceInOut:function(n){if(n<0.5){return _23e.bounceIn(n*2)/2;}return (_23e.bounceOut(n*2-1)/2)+0.5;}};lang.setObject("dojo.fx.easing",_23e);return _23e;});},"dojox/image/_base":function(){define(["dojo","dojox"],function(dojo,_23f){dojo.getObject("image",true,_23f);var d=dojo;var _240;_23f.image.preload=function(urls){if(!_240){_240=d.create("div",{style:{position:"absolute",top:"-9999px",height:"1px",overflow:"hidden"}},d.body());}return d.map(urls,function(url){return d.create("img",{src:url},_240);});};if(d.config.preloadImages){d.addOnLoad(function(){_23f.image.preload(d.config.preloadImages);});}});}}});define("demos/cropper/src",["dojo","dijit","dojox","dojo/require!demos/cropper/src/Preview,dojox/analytics/Urchin,demos/cropper/src/nav"],function(dojo,_241,_242){dojo.provide("demos.cropper.src");dojo.require("demos.cropper.src.Preview");dojo.require("dojox.analytics.Urchin");dojo.require("demos.cropper.src.nav");(function(d,$){d.addOnLoad(function(){var _243=d.byId("loader"),hide=d.fadeOut({node:_243}),show=d.fadeIn({node:_243});var _244=new image.Preview({imageReady:d.hitch(hide,"play"),hoverable:true},"me");$("#picker").onclick(function(e){e.preventDefault();var et=e.target,src=et.parentNode.href||et.href;if(src&&_244.image.src!=src){show.play();_244.domNode.src=_244.image.src=src;}});$("#navjs").onclick(function(e){d["require"]("demos.cropper.src.nav");e.preventDefault();});new _242.analytics.Urchin({acct:"UA-3572741-1",GAonLoad:function(){this.trackPageView("/demos/cropper");}});});})(dojo,dojo.query);});