//>>built
define("demos/mobileGallery/src/jsonp",["dojo/on","dojo/_base/html","dojo/dom","dojo/_base/array","dojo/string","dojo/io/script","dijit/registry","dojox/mobile/ProgressIndicator"],function(on,_1,_2,_3,_4,_5,_6,_7){var _8="<div class=\"searchResult\">"+"<div class=\"user\"><div class=\"userId\">${from_user}</div>"+"<img src=\"${profile_image_url}\"/></div>"+"<div class=\"tweetText\">${text}</div>"+"</div>";var _9=1;var _a="";function _b(_c){var ul=_2.byId("searchResults");_1.style("findMoreDiv","display","none");if(_c){ul.style.display="none";_a=_2.byId("searchKeywords").value;ul.innerHTML="";_9=1;}else{++_9;}var _d=_7.getInstance();_d.stop();_2.byId("rightPane").appendChild(_d.domNode);_d.start();_5.get({url:"http://search.twitter.com/search.json",handleAs:"json",callbackParamName:"callback",preventCache:true,timeout:30000,content:{q:_a,rpp:5,page:_9},load:function(_e){var _f="";if(_e.results){_3.forEach(_e.results,function(_10){_f+=_4.substitute(_8,{from_user:_10.from_user,profile_image_url:_10.profile_image_url,text:_10.text});});}ul.innerHTML+=_f;_d.stop();ul.style.display="block";_1.style("findMoreDiv","display","block");if(_c){_6.byId("resultPanel").scrollTo({x:0,y:0});}},error:function(err){ul.innerHTML=err;_d.stop();_9=1;ul.style.display="block";_1.style("findMoreDiv","display","none");}});};return {init:function(){on(_6.byId("searchTwitterBtn"),"click",function(){_b(true);});on(_2.byId("findMoreLnk"),"click",function(){_b(false);});}};});