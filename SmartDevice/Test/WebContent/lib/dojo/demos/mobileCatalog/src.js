/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dojo/store/JsonRest":function(){define(["../_base/xhr","../_base/lang","../json","../_base/declare","./util/QueryResults"],function(_1,_2,_3,_4,_5){var _6=null;return _4("dojo.store.JsonRest",_6,{constructor:function(_7){this.headers={};_4.safeMixin(this,_7);},headers:{},target:"",idProperty:"id",ascendingPrefix:"+",descendingPrefix:"-",get:function(id,_8){_8=_8||{};var _9=_2.mixin({Accept:this.accepts},this.headers,_8.headers||_8);return _1("GET",{url:this.target+id,handleAs:"json",headers:_9});},accepts:"application/javascript, application/json",getIdentity:function(_a){return _a[this.idProperty];},put:function(_b,_c){_c=_c||{};var id=("id" in _c)?_c.id:this.getIdentity(_b);var _d=typeof id!="undefined";return _1(_d&&!_c.incremental?"PUT":"POST",{url:_d?this.target+id:this.target,postData:_3.stringify(_b),handleAs:"json",headers:_2.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":_c.overwrite===true?"*":null,"If-None-Match":_c.overwrite===false?"*":null},this.headers,_c.headers)});},add:function(_e,_f){_f=_f||{};_f.overwrite=false;return this.put(_e,_f);},remove:function(id,_10){_10=_10||{};return _1("DELETE",{url:this.target+id,headers:_2.mixin({},this.headers,_10.headers)});},query:function(_11,_12){_12=_12||{};var _13=_2.mixin({Accept:this.accepts},this.headers,_12.headers);if(_12.start>=0||_12.count>=0){_13.Range=_13["X-Range"]="items="+(_12.start||"0")+"-"+(("count" in _12&&_12.count!=Infinity)?(_12.count+(_12.start||0)-1):"");}var _14=this.target.indexOf("?")>-1;if(_11&&typeof _11=="object"){_11=_1.objectToQuery(_11);_11=_11?(_14?"&":"?")+_11:"";}if(_12&&_12.sort){var _15=this.sortParam;_11+=(_11||_14?"&":"?")+(_15?_15+"=":"sort(");for(var i=0;i<_12.sort.length;i++){var _16=_12.sort[i];_11+=(i>0?",":"")+(_16.descending?this.descendingPrefix:this.ascendingPrefix)+encodeURIComponent(_16.attribute);}if(!_15){_11+=")";}}var _17=_1("GET",{url:this.target+(_11||""),handleAs:"json",headers:_13});_17.total=_17.then(function(){var _18=_17.ioArgs.xhr.getResponseHeader("Content-Range");return _18&&(_18=_18.match(/\/(.*)/))&&+_18[1];});return _5(_17);}});});},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(_19,_1a,_1b){var _1c=function(_1d){if(!_1d){return _1d;}if(_1d.then){_1d=_1a.delegate(_1d);}function _1e(_1f){if(!_1d[_1f]){_1d[_1f]=function(){var _20=arguments;return _1b(_1d,function(_21){Array.prototype.unshift.call(_20,_21);return _1c(_19[_1f].apply(_19,_20));});};}};_1e("forEach");_1e("filter");_1e("map");if(!_1d.total){_1d.total=_1b(_1d,function(_22){return _22.length;});}return _1d;};_1a.setObject("dojo.store.util.QueryResults",_1c);return _1c;});},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(_23,win,_24){var _25={},_26={};var _27={length:0,add:function(_28){if(_26[_28.id]){throw new Error("Tried to register widget with id=="+_28.id+" but that id is already registered");}_26[_28.id]=_28;this.length++;},remove:function(id){if(_26[id]){delete _26[id];this.length--;}},byId:function(id){return typeof id=="string"?_26[id]:id;},byNode:function(_29){return _26[_29.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in _26){ar.push(_26[id]);}return ar;},getUniqueId:function(_2a){var id;do{id=_2a+"_"+(_2a in _25?++_25[_2a]:_25[_2a]=0);}while(_26[id]);return _24._scopeName=="dijit"?id:_24._scopeName+"_"+id;},findWidgets:function(_2b,_2c){var _2d=[];function _2e(_2f){for(var _30=_2f.firstChild;_30;_30=_30.nextSibling){if(_30.nodeType==1){var _31=_30.getAttribute("widgetId");if(_31){var _32=_26[_31];if(_32){_2d.push(_32);}}else{if(_30!==_2c){_2e(_30);}}}}};_2e(_2b);return _2d;},_destroyAll:function(){_24._curFocus=null;_24._prevFocus=null;_24._activeStack=[];_23.forEach(_27.findWidgets(win.body()),function(_33){if(!_33._destroyed){if(_33.destroyRecursive){_33.destroyRecursive();}else{if(_33.destroy){_33.destroy();}}}});},getEnclosingWidget:function(_34){while(_34){var id=_34.nodeType==1&&_34.getAttribute("widgetId");if(id){return _26[id];}_34=_34.parentNode;}return null;},_hash:_26};_24.registry=_27;return _27;});},"dijit/main":function(){define(["dojo/_base/kernel"],function(_35){return _35.dijit;});},"dojox/mobile/parser":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/config","dojo/_base/lang","dojo/_base/window","dojo/ready"],function(_36,_37,_38,_39,win,_3a){var dm=_39.getObject("dojox.mobile",true);var _3b=function(){var _3c={};var _3d=function(_3e,_3f){if(typeof (_3f)==="string"){var t=_3e+":"+_3f.replace(/ /g,"");return _3c[t]||(_3c[t]=_3d(_3e).createSubclass(_37.map(_3f.split(/, */),_3d)));}return _3c[_3e]||(_3c[_3e]=_39.getObject(_3e)||require(_3e));};var _40=function(js){return eval(js);};this.instantiate=function(_41,_42,_43){_42=_42||{};_43=_43||{};var i,ws=[];if(_41){for(i=0;i<_41.length;i++){var n=_41[i],_44=n._type,_45=_3d(_44,n.getAttribute("data-dojo-mixins")),_46=_45.prototype,_47={},_48,v,t;_39.mixin(_47,_40.call(_43.propsThis,"({"+(n.getAttribute("data-dojo-props")||"")+"})"));_39.mixin(_47,_43.defaults);_39.mixin(_47,_42);for(_48 in _46){v=n.getAttributeNode(_48);v=v&&v.nodeValue;t=typeof _46[_48];if(!v&&(t!=="boolean"||v!=="")){continue;}if(_39.isArray(_46[_48])){_47[_48]=v.split(/\s*,\s*/);}else{if(t==="string"){_47[_48]=v;}else{if(t==="number"){_47[_48]=v-0;}else{if(t==="boolean"){_47[_48]=(v!=="false");}else{if(t==="object"){_47[_48]=eval("("+v+")");}else{if(t==="function"){_47[_48]=_39.getObject(v,false)||new Function(v);n.removeAttribute(_48);}}}}}}}_47["class"]=n.className;if(!_47.style){_47.style=n.style.cssText;}v=n.getAttribute("data-dojo-attach-point");if(v){_47.dojoAttachPoint=v;}v=n.getAttribute("data-dojo-attach-event");if(v){_47.dojoAttachEvent=v;}var _49=new _45(_47,n);ws.push(_49);var _4a=n.getAttribute("jsId")||n.getAttribute("data-dojo-id");if(_4a){_39.setObject(_4a,_49);}}for(i=0;i<ws.length;i++){var w=ws[i];!_43.noStart&&w.startup&&!w._started&&w.startup();}}return ws;};this.parse=function(_4b,_4c){if(!_4b){_4b=win.body();}else{if(!_4c&&_4b.rootNode){_4c=_4b;_4b=_4b.rootNode;}}var _4d=_4b.getElementsByTagName("*");var i,j,_4e=[];for(i=0;i<_4d.length;i++){var n=_4d[i],_4f=(n._type=n.getAttribute("dojoType")||n.getAttribute("data-dojo-type"));if(_4f){if(n._skip){n._skip="";continue;}if(_3d(_4f).prototype.stopParser&&!(_4c&&_4c.template)){var arr=n.getElementsByTagName("*");for(j=0;j<arr.length;j++){arr[j]._skip="1";}}_4e.push(n);}}var _50=_4c&&_4c.template?{template:true}:null;return this.instantiate(_4e,_50,_4c);};};var _51=new _3b();if(_38.parseOnLoad){_3a(100,function(){try{if(!require("dojo/parser")){_51.parse();}}catch(e){_51.parse();}});}dm.parser=_51;_36.parser=_36.parser||_51;return _51;});},"dojox/mobile":function(){define([".","dojo/_base/lang","dojox/mobile/_base"],function(_52,_53,_54){_53.getObject("mobile",true,_52);return _52.mobile;});},"dojox/main":function(){define(["dojo/_base/kernel"],function(_55){return _55.dojox;});},"dojox/mobile/_base":function(){define(["./common","./View","./Heading","./RoundRect","./RoundRectCategory","./EdgeToEdgeCategory","./RoundRectList","./EdgeToEdgeList","./ListItem","./Container","./Pane","./Switch","./ToolBarButton","./ProgressIndicator"],function(_56,_57,_58,_59,_5a,_5b,_5c,_5d,_5e,_5f,_60,_61){return _56;});},"dojox/mobile/common":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/lang","dojo/_base/window","dojo/_base/kernel","dojo/dom-class","dojo/dom-construct","dojo/domReady","dojo/ready","dojo/touch","dijit/registry","./sniff","./uacss"],function(_62,_63,_64,_65,win,_66,_67,_68,_69,_6a,_6b,_6c,has){var dm=_65.getObject("dojox.mobile",true);win.doc.dojoClick=true;if(has("touch")){has.add("clicks-prevented",!(has("android")>=4.1||has("ie")>=10));if(has("clicks-prevented")){dm._sendClick=function(_6d,e){for(var _6e=_6d;_6e;_6e=_6e.parentNode){if(_6e.dojoClick){return;}}var ev=win.doc.createEvent("MouseEvents");ev.initMouseEvent("click",true,true,win.global,1,e.screenX,e.screenY,e.clientX,e.clientY);_6d.dispatchEvent(ev);};}}dm.getScreenSize=function(){return {h:win.global.innerHeight||win.doc.documentElement.clientHeight,w:win.global.innerWidth||win.doc.documentElement.clientWidth};};dm.updateOrient=function(){var dim=dm.getScreenSize();_67.replace(win.doc.documentElement,dim.h>dim.w?"dj_portrait":"dj_landscape",dim.h>dim.w?"dj_landscape":"dj_portrait");};dm.updateOrient();dm.tabletSize=500;dm.detectScreenSize=function(_6f){var dim=dm.getScreenSize();var sz=Math.min(dim.w,dim.h);var _70,to;if(sz>=dm.tabletSize&&(_6f||(!this._sz||this._sz<dm.tabletSize))){_70="phone";to="tablet";}else{if(sz<dm.tabletSize&&(_6f||(!this._sz||this._sz>=dm.tabletSize))){_70="tablet";to="phone";}}if(to){_67.replace(win.doc.documentElement,"dj_"+to,"dj_"+_70);_64.publish("/dojox/mobile/screenSize/"+to,[dim]);}this._sz=sz;};dm.detectScreenSize();dm.hideAddressBarWait=typeof (_63.mblHideAddressBarWait)==="number"?_63.mblHideAddressBarWait:1500;dm.hide_1=function(){scrollTo(0,1);dm._hidingTimer=(dm._hidingTimer==0)?200:dm._hidingTimer*2;setTimeout(function(){if(dm.isAddressBarHidden()||dm._hidingTimer>dm.hideAddressBarWait){dm.resizeAll();dm._hiding=false;}else{setTimeout(dm.hide_1,dm._hidingTimer);}},50);};dm.hideAddressBar=function(evt){if(dm.disableHideAddressBar||dm._hiding){return;}dm._hiding=true;dm._hidingTimer=has("ios")?200:0;var _71=screen.availHeight;if(has("android")){_71=outerHeight/devicePixelRatio;if(_71==0){dm._hiding=false;setTimeout(function(){dm.hideAddressBar();},200);}if(_71<=innerHeight){_71=outerHeight;}if(has("android")<3){win.doc.documentElement.style.overflow=win.body().style.overflow="visible";}}if(win.body().offsetHeight<_71){win.body().style.minHeight=_71+"px";dm._resetMinHeight=true;}setTimeout(dm.hide_1,dm._hidingTimer);};dm.isAddressBarHidden=function(){return pageYOffset===1;};dm.resizeAll=function(evt,_72){if(dm.disableResizeAll){return;}_64.publish("/dojox/mobile/resizeAll",[evt,_72]);_64.publish("/dojox/mobile/beforeResizeAll",[evt,_72]);if(dm._resetMinHeight){win.body().style.minHeight=dm.getScreenSize().h+"px";}dm.updateOrient();dm.detectScreenSize();var _73=function(w){var _74=w.getParent&&w.getParent();return !!((!_74||!_74.resize)&&w.resize);};var _75=function(w){_62.forEach(w.getChildren(),function(_76){if(_73(_76)){_76.resize();}_75(_76);});};if(_72){if(_72.resize){_72.resize();}_75(_72);}else{_62.forEach(_62.filter(_6c.toArray(),_73),function(w){w.resize();});}_64.publish("/dojox/mobile/afterResizeAll",[evt,_72]);};dm.openWindow=function(url,_77){win.global.open(url,_77||"_blank");};dm._detectWindowsTheme=function(){if(navigator.userAgent.match(/IEMobile\/10\.0/)){_68.create("style",{innerHTML:"@-ms-viewport {width: auto !important}"},win.doc.head);}var _78=function(){_67.add(win.doc.documentElement,"windows_theme");_66.experimental("Dojo Mobile Windows theme","Behavior and appearance of the Windows theme are experimental.");};var _79=has("windows-theme");if(_79!==undefined){if(_79){_78();}return;}var i,j;var _7a=function(_7b){if(_7b&&_7b.indexOf("/windows/")!==-1){has.add("windows-theme",true);_78();return true;}return false;};var s=win.doc.styleSheets;for(i=0;i<s.length;i++){if(s[i].href){continue;}var r=s[i].cssRules||s[i].imports;if(!r){continue;}for(j=0;j<r.length;j++){if(_7a(r[j].href)){return;}}}var _7c=win.doc.getElementsByTagName("link");for(i=0;i<_7c.length;i++){if(_7a(_7c[i].href)){return;}}};if(_63.mblApplyPageStyles!==false){_67.add(win.doc.documentElement,"mobile");}if(has("chrome")){_67.add(win.doc.documentElement,"dj_chrome");}if(win.global._no_dojo_dm){var _7d=win.global._no_dojo_dm;for(var i in _7d){dm[i]=_7d[i];}dm.deviceTheme.setDm(dm);}has.add("mblAndroidWorkaround",_63.mblAndroidWorkaround!==false&&has("android")<3,undefined,true);has.add("mblAndroid3Workaround",_63.mblAndroid3Workaround!==false&&has("android")>=3,undefined,true);dm._detectWindowsTheme();_69(function(){_67.add(win.body(),"mblBackground");});_6a(function(){dm.detectScreenSize(true);if(_63.mblAndroidWorkaroundButtonStyle!==false&&has("android")){_68.create("style",{innerHTML:"BUTTON,INPUT[type='button'],INPUT[type='submit'],INPUT[type='reset'],INPUT[type='file']::-webkit-file-upload-button{-webkit-appearance:none;} audio::-webkit-media-controls-play-button,video::-webkit-media-controls-play-button{-webkit-appearance:media-play-button;} video::-webkit-media-controls-fullscreen-button{-webkit-appearance:media-fullscreen-button;}"},win.doc.head,"first");}if(has("mblAndroidWorkaround")){_68.create("style",{innerHTML:".mblView.mblAndroidWorkaround{position:absolute;top:-9999px !important;left:-9999px !important;}"},win.doc.head,"last");}var f=dm.resizeAll;var _7e=navigator.appVersion.indexOf("Mobile")!=-1&&!(has("ios")>=7);if((_63.mblHideAddressBar!==false&&_7e)||_63.mblForceHideAddressBar===true){dm.hideAddressBar();if(_63.mblAlwaysHideAddressBar===true){f=dm.hideAddressBar;}}var _7f=has("ios")>=6;if((has("android")||_7f)&&win.global.onorientationchange!==undefined){var _80=f;var _81,_82,_83;if(_7f){_82=win.doc.documentElement.clientWidth;_83=win.doc.documentElement.clientHeight;}else{f=function(evt){var _84=_64.connect(null,"onresize",null,function(e){_64.disconnect(_84);_80(e);});};_81=dm.getScreenSize();}_64.connect(null,"onresize",null,function(e){if(_7f){var _85=win.doc.documentElement.clientWidth,_86=win.doc.documentElement.clientHeight;if(_85==_82&&_86!=_83){_80(e);}_82=_85;_83=_86;}else{var _87=dm.getScreenSize();if(_87.w==_81.w&&Math.abs(_87.h-_81.h)>=100){_80(e);}_81=_87;}});}_64.connect(null,win.global.onorientationchange!==undefined?"onorientationchange":"onresize",null,f);win.body().style.visibility="visible";});return dm;});},"dojo/touch":function(){define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(_88,_89,dom,_8a,_8b,on,has,_8c,_8d,win){var _8e=has("touch");var _8f=has("ios")<5;var _90=navigator.msPointerEnabled;var _91,_92,_93,_94,_95,_96,_97,_98;var _99;function _9a(_9b,_9c,_9d){if(_90&&_9d){return function(_9e,_9f){return on(_9e,_9d,_9f);};}else{if(_8e){return function(_a0,_a1){var _a2=on(_a0,_9c,_a1),_a3=on(_a0,_9b,function(evt){if(!_99||(new Date()).getTime()>_99+1000){_a1.call(this,evt);}});return {remove:function(){_a2.remove();_a3.remove();}};};}else{return function(_a4,_a5){return on(_a4,_9b,_a5);};}}};function _a6(_a7){do{if(_a7.dojoClick){return _a7;}}while(_a7=_a7.parentNode);};function _a8(e,_a9,_aa){var _ab=_a6(e.target);_92=!e.target.disabled&&_ab&&_ab.dojoClick;if(_92){var _ac=(_92=="useTarget");_93=(_ac?_ab:e.target);if(_ac){e.preventDefault();}_94=e.touches?e.touches[0].pageX:e.clientX;_95=e.touches?e.touches[0].pageY:e.clientY;_96=(typeof _92=="object"?_92.x:(typeof _92=="number"?_92:0))||4;_97=(typeof _92=="object"?_92.y:(typeof _92=="number"?_92:0))||4;if(!_91){_91=true;function _ad(e){if(_ac){_92=dom.isDescendant(win.doc.elementFromPoint((e.changedTouches?e.changedTouches[0].pageX:e.clientX),(e.changedTouches?e.changedTouches[0].pageY:e.clientY)),_93);}else{_92=_92&&e.target==_93&&Math.abs((e.changedTouches?e.changedTouches[0].pageX:e.clientX)-_94)<=_96&&Math.abs((e.changedTouches?e.changedTouches[0].pageY:e.clientY)-_95)<=_97;}};win.doc.addEventListener(_a9,function(e){_ad(e);if(_ac){e.preventDefault();}},true);win.doc.addEventListener(_aa,function(e){_ad(e);if(_92){_98=(new Date()).getTime();var _ae=(_ac?_93:e.target);if(_ae.tagName==="LABEL"){_ae=dom.byId(_ae.getAttribute("for"))||_ae;}setTimeout(function(){on.emit(_ae,"click",{bubbles:true,cancelable:true,_dojo_click:true});},0);}},true);function _af(_b0){win.doc.addEventListener(_b0,function(e){if(!e._dojo_click&&(new Date()).getTime()<=_98+1000&&!(e.target.tagName=="INPUT"&&_8a.contains(e.target,"dijitOffScreen"))){e.stopPropagation();e.stopImmediatePropagation&&e.stopImmediatePropagation();if(_b0=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){e.preventDefault();}}},true);};_af("click");_af("mousedown");_af("mouseup");}}};var _b1;if(_8e){if(_90){_8d(function(){win.doc.addEventListener("MSPointerDown",function(evt){_a8(evt,"MSPointerMove","MSPointerUp");},true);});}else{_8d(function(){_b1=win.body();win.doc.addEventListener("touchstart",function(evt){_99=(new Date()).getTime();var _b2=_b1;_b1=evt.target;on.emit(_b2,"dojotouchout",{relatedTarget:_b1,bubbles:true});on.emit(_b1,"dojotouchover",{relatedTarget:_b2,bubbles:true});_a8(evt,"touchmove","touchend");},true);function _b3(evt){var _b4=_8b.delegate(evt,{bubbles:true});if(has("ios")>=6){_b4.touches=evt.touches;_b4.altKey=evt.altKey;_b4.changedTouches=evt.changedTouches;_b4.ctrlKey=evt.ctrlKey;_b4.metaKey=evt.metaKey;_b4.shiftKey=evt.shiftKey;_b4.targetTouches=evt.targetTouches;}return _b4;};on(win.doc,"touchmove",function(evt){_99=(new Date()).getTime();var _b5=win.doc.elementFromPoint(evt.pageX-(_8f?0:win.global.pageXOffset),evt.pageY-(_8f?0:win.global.pageYOffset));if(_b5){if(_b1!==_b5){on.emit(_b1,"dojotouchout",{relatedTarget:_b5,bubbles:true});on.emit(_b5,"dojotouchover",{relatedTarget:_b1,bubbles:true});_b1=_b5;}if(!on.emit(_b5,"dojotouchmove",_b3(evt))){evt.preventDefault();}}});on(win.doc,"touchend",function(evt){_99=(new Date()).getTime();var _b6=win.doc.elementFromPoint(evt.pageX-(_8f?0:win.global.pageXOffset),evt.pageY-(_8f?0:win.global.pageYOffset))||win.body();on.emit(_b6,"dojotouchend",_b3(evt));});});}}var _b7={press:_9a("mousedown","touchstart","MSPointerDown"),move:_9a("mousemove","dojotouchmove","MSPointerMove"),release:_9a("mouseup","dojotouchend","MSPointerUp"),cancel:_9a(_8c.leave,"touchcancel",_8e?"MSPointerCancel":null),over:_9a("mouseover","dojotouchover","MSPointerOver"),out:_9a("mouseout","dojotouchout","MSPointerOut"),enter:_8c._eventHandler(_9a("mouseover","dojotouchover","MSPointerOver")),leave:_8c._eventHandler(_9a("mouseout","dojotouchout","MSPointerOut"))};1&&(_88.touch=_b7);return _b7;});},"dojox/mobile/sniff":function(){define(["dojo/_base/kernel","dojo/sniff"],function(_b8,has){_b8.deprecated("dojox/mobile/sniff","Use dojo/sniff instead","2.0");has.add("iphone",has("ios"));return has;});},"dojox/mobile/uacss":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/window","./sniff"],function(_b9,_ba,win,has){var _bb=win.doc.documentElement;_bb.className=_ba.trim(_bb.className+" "+[has("bb")?"dj_bb":"",has("android")?"dj_android":"",has("ios")?"dj_ios":"",has("ios")>=6?"dj_ios6":"",has("ios")?"dj_iphone":"",has("ipod")?"dj_ipod":"",has("ipad")?"dj_ipad":"",has("ie")?"dj_ie":""].join(" ").replace(/ +/g," "));return _b9;});},"dojox/mobile/View":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/sniff","dojo/_base/window","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./ViewController","./common","./transition","./viewRegistry","./_css3"],function(_bc,_bd,_be,_bf,_c0,has,win,_c1,dom,_c2,_c3,_c4,_c5,_c6,_c7,_c8,_c9,_ca,_cb,_cc,_cd,_ce){var dm=_c0.getObject("dojox.mobile",true);return _bf("dojox.mobile.View",[_c9,_c8,_c7],{selected:false,keepScrollPos:true,tag:"div",baseClass:"mblView",constructor:function(_cf,_d0){if(_d0){dom.byId(_d0).style.visibility="hidden";}},destroy:function(){_cd.remove(this.id);this.inherited(arguments);},buildRendering:function(){if(!this.templateString){this.domNode=this.containerNode=this.srcNodeRef||_c3.create(this.tag);}this._animEndHandle=this.connect(this.domNode,_ce.name("animationEnd"),"onAnimationEnd");this._animStartHandle=this.connect(this.domNode,_ce.name("animationStart"),"onAnimationStart");if(!_bd.mblCSS3Transition){this._transEndHandle=this.connect(this.domNode,_ce.name("transitionEnd"),"onAnimationEnd");}if(has("mblAndroid3Workaround")){_c5.set(this.domNode,_ce.name("transformStyle"),"preserve-3d");}_cd.add(this);this.inherited(arguments);},startup:function(){if(this._started){return;}if(this._visible===undefined){var _d1=this.getSiblingViews();var ids=location.hash&&location.hash.substring(1).split(/,/);var _d2,_d3,_d4;_bc.forEach(_d1,function(v,i){if(_bc.indexOf(ids,v.id)!==-1){_d2=v;}if(i==0){_d4=v;}if(v.selected){_d3=v;}v._visible=false;},this);(_d2||_d3||_d4)._visible=true;}if(this._visible){this.show(true,true);this.defer(function(){this.onStartView();_be.publish("/dojox/mobile/startView",[this]);});}if(this.domNode.style.visibility!="visible"){this.domNode.style.visibility="visible";}this.inherited(arguments);var _d5=this.getParent();if(!_d5||!_d5.resize){this.resize();}if(!this._visible){this.hide();}},resize:function(){_bc.forEach(this.getChildren(),function(_d6){if(_d6.resize){_d6.resize();}});},onStartView:function(){},onBeforeTransitionIn:function(_d7,dir,_d8,_d9,_da){},onAfterTransitionIn:function(_db,dir,_dc,_dd,_de){},onBeforeTransitionOut:function(_df,dir,_e0,_e1,_e2){},onAfterTransitionOut:function(_e3,dir,_e4,_e5,_e6){},_clearClasses:function(_e7){if(!_e7){return;}var _e8=[];_bc.forEach(_c0.trim(_e7.className||"").split(/\s+/),function(c){if(c.match(/^mbl\w*View$/)||c.indexOf("mbl")===-1){_e8.push(c);}},this);_e7.className=_e8.join(" ");},_fixViewState:function(_e9){var _ea=this.domNode.parentNode.childNodes;for(var i=0;i<_ea.length;i++){var n=_ea[i];if(n.nodeType===1&&_c2.contains(n,"mblView")){this._clearClasses(n);}}this._clearClasses(_e9);var _eb=_c6.byNode(_e9);if(_eb){_eb._inProgress=false;}},convertToId:function(_ec){if(typeof (_ec)=="string"){return _ec.replace(/^#?([^&?]+).*/,"$1");}return _ec;},_isBookmarkable:function(_ed){return _ed.moveTo&&(_bd.mblForceBookmarkable||_ed.moveTo.charAt(0)==="#")&&!_ed.hashchange;},performTransition:function(_ee,_ef,_f0,_f1,_f2){if(this._inProgress){return;}this._inProgress=true;var _f3,_f4;if(_ee&&typeof (_ee)==="object"){_f3=_ee;_f4=_ef;}else{_f3={moveTo:_ee,transitionDir:_ef,transition:_f0,context:_f1,method:_f2};_f4=[];for(var i=5;i<arguments.length;i++){_f4.push(arguments[i]);}}this._detail=_f3;this._optArgs=_f4;this._arguments=[_f3.moveTo,_f3.transitionDir,_f3.transition,_f3.context,_f3.method];if(_f3.moveTo==="#"){return;}var _f5;if(_f3.moveTo){_f5=this.convertToId(_f3.moveTo);}else{if(!this._dummyNode){this._dummyNode=win.doc.createElement("div");win.body().appendChild(this._dummyNode);}_f5=this._dummyNode;}if(this.addTransitionInfo&&typeof (_f3.moveTo)=="string"&&this._isBookmarkable(_f3)){this.addTransitionInfo(this.id,_f3.moveTo,{transitionDir:_f3.transitionDir,transition:_f3.transition});}var _f6=this.domNode;var _f7=_f6.offsetTop;_f5=this.toNode=dom.byId(_f5);if(!_f5){return;}_f5.style.visibility="hidden";_f5.style.display="";this._fixViewState(_f5);var _f8=_c6.byNode(_f5);if(_f8){if(_bd.mblAlwaysResizeOnTransition||!_f8._resized){_cb.resizeAll(null,_f8);_f8._resized=true;}if(_f3.transition&&_f3.transition!="none"){_f8._addTransitionPaddingTop(_f7);}_f8.load&&_f8.load();_f8.movedFrom=_f6.id;}if(has("mblAndroidWorkaround")&&!_bd.mblCSS3Transition&&_f3.transition&&_f3.transition!="none"){_c5.set(_f5,_ce.name("transformStyle"),"preserve-3d");_c5.set(_f6,_ce.name("transformStyle"),"preserve-3d");_c2.add(_f5,"mblAndroidWorkaround");}this.onBeforeTransitionOut.apply(this,this._arguments);_be.publish("/dojox/mobile/beforeTransitionOut",[this].concat(_c0._toArray(this._arguments)));if(_f8){if(this.keepScrollPos&&!this.getParent()){var _f9=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;_f6._scrollTop=_f9;var _fa=(_f3.transitionDir==1)?0:(_f5._scrollTop||0);_f5.style.top="0px";if(_f9>1||_fa!==0){_f6.style.top=_fa-_f9+"px";if(!(has("ios")>=7)&&_bd.mblHideAddressBar!==false){this.defer(function(){win.global.scrollTo(0,(_fa||1));});}}}else{_f5.style.top="0px";}_f8.onBeforeTransitionIn.apply(_f8,this._arguments);_be.publish("/dojox/mobile/beforeTransitionIn",[_f8].concat(_c0._toArray(this._arguments)));}_f5.style.display="none";_f5.style.visibility="visible";_cb.fromView=this;_cb.toView=_f8;this._doTransition(_f6,_f5,_f3.transition,_f3.transitionDir);},_addTransitionPaddingTop:function(_fb){this.containerNode.style.paddingTop=_fb+"px";},_removeTransitionPaddingTop:function(){this.containerNode.style.paddingTop="";},_toCls:function(s){return "mbl"+s.charAt(0).toUpperCase()+s.substring(1);},_doTransition:function(_fc,_fd,_fe,_ff){var rev=(_ff==-1)?" mblReverse":"";_fd.style.display="";if(!_fe||_fe=="none"){this.domNode.style.display="none";this.invokeCallback();}else{if(_bd.mblCSS3Transition){_c1.when(_cc,_c0.hitch(this,function(_100){var _101=_c5.get(_fd,"position");_c5.set(_fd,"position","absolute");_c1.when(_100(_fc,_fd,{transition:_fe,reverse:(_ff===-1)?true:false}),_c0.hitch(this,function(){_c5.set(_fd,"position",_101);_fd.style.paddingTop="";this.invokeCallback();}));}));}else{if(_fe.indexOf("cube")!=-1){if(has("ipad")){_c5.set(_fd.parentNode,{webkitPerspective:1600});}else{if(has("ios")){_c5.set(_fd.parentNode,{webkitPerspective:800});}}}var s=this._toCls(_fe);if(has("mblAndroidWorkaround")){var _102=this;_102.defer(function(){_c2.add(_fc,s+" mblOut"+rev);_c2.add(_fd,s+" mblIn"+rev);_c2.remove(_fd,"mblAndroidWorkaround");_102.defer(function(){_c2.add(_fc,"mblTransition");_c2.add(_fd,"mblTransition");},30);},70);}else{_c2.add(_fc,s+" mblOut"+rev);_c2.add(_fd,s+" mblIn"+rev);this.defer(function(){_c2.add(_fc,"mblTransition");_c2.add(_fd,"mblTransition");},100);}var _103="50% 50%";var _104="50% 50%";var _105,posX,posY;if(_fe.indexOf("swirl")!=-1||_fe.indexOf("zoom")!=-1){if(this.keepScrollPos&&!this.getParent()){_105=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;}else{_105=-_c4.position(_fc,true).y;}posY=win.global.innerHeight/2+_105;_103="50% "+posY+"px";_104="50% "+posY+"px";}else{if(_fe.indexOf("scale")!=-1){var _106=_c4.position(_fc,true);posX=((this.clickedPosX!==undefined)?this.clickedPosX:win.global.innerWidth/2)-_106.x;if(this.keepScrollPos&&!this.getParent()){_105=win.body().scrollTop||win.doc.documentElement.scrollTop||win.global.pageYOffset||0;}else{_105=-_106.y;}posY=((this.clickedPosY!==undefined)?this.clickedPosY:win.global.innerHeight/2)+_105;_103=posX+"px "+posY+"px";_104=posX+"px "+posY+"px";}}_c5.set(_fc,_ce.add({},{transformOrigin:_103}));_c5.set(_fd,_ce.add({},{transformOrigin:_104}));}}},onAnimationStart:function(e){},onAnimationEnd:function(e){var name=e.animationName||e.target.className;if(name.indexOf("Out")===-1&&name.indexOf("In")===-1&&name.indexOf("Shrink")===-1){return;}var _107=false;if(_c2.contains(this.domNode,"mblOut")){_107=true;this.domNode.style.display="none";_c2.remove(this.domNode,[this._toCls(this._detail.transition),"mblIn","mblOut","mblReverse"]);}else{this._removeTransitionPaddingTop();}_c5.set(this.domNode,_ce.add({},{transformOrigin:""}));if(name.indexOf("Shrink")!==-1){var li=e.target;li.style.display="none";_c2.remove(li,"mblCloseContent");var p=_cd.getEnclosingScrollable(this.domNode);p&&p.onTouchEnd();}if(_107){this.invokeCallback();}this._clearClasses(this.domNode);this.clickedPosX=this.clickedPosY=undefined;if(name.indexOf("Cube")!==-1&&name.indexOf("In")!==-1&&has("ios")){this.domNode.parentNode.style[_ce.name("perspective")]="";}},invokeCallback:function(){this.onAfterTransitionOut.apply(this,this._arguments);_be.publish("/dojox/mobile/afterTransitionOut",[this].concat(this._arguments));var _108=_c6.byNode(this.toNode);if(_108){_108.onAfterTransitionIn.apply(_108,this._arguments);_be.publish("/dojox/mobile/afterTransitionIn",[_108].concat(this._arguments));_108.movedFrom=undefined;if(this.setFragIds&&this._isBookmarkable(this._detail)){this.setFragIds(_108);}}if(has("mblAndroidWorkaround")){this.defer(function(){if(_108){_c5.set(this.toNode,_ce.name("transformStyle"),"");}_c5.set(this.domNode,_ce.name("transformStyle"),"");});}var c=this._detail.context,m=this._detail.method;if(c||m){if(!m){m=c;c=null;}c=c||win.global;if(typeof (m)=="string"){c[m].apply(c,this._optArgs);}else{if(typeof (m)=="function"){m.apply(c,this._optArgs);}}}this._detail=this._optArgs=this._arguments=undefined;this._inProgress=false;},isVisible:function(_109){var _10a=function(node){return _c5.get(node,"display")!=="none";};if(_109){for(var n=this.domNode;n.tagName!=="BODY";n=n.parentNode){if(!_10a(n)){return false;}}return true;}else{return _10a(this.domNode);}},getShowingView:function(){var _10b=this.domNode.parentNode.childNodes;for(var i=0;i<_10b.length;i++){var n=_10b[i];if(n.nodeType===1&&_c2.contains(n,"mblView")&&n.style.display!=="none"){return _c6.byNode(n);}}return null;},getSiblingViews:function(){if(!this.domNode.parentNode){return [this];}return _bc.map(_bc.filter(this.domNode.parentNode.childNodes,function(n){return n.nodeType===1&&_c2.contains(n,"mblView");}),function(n){return _c6.byNode(n);});},show:function(_10c,_10d){var out=this.getShowingView();if(!_10c){if(out){out.onBeforeTransitionOut(out.id);_be.publish("/dojox/mobile/beforeTransitionOut",[out,out.id]);}this.onBeforeTransitionIn(this.id);_be.publish("/dojox/mobile/beforeTransitionIn",[this,this.id]);}if(_10d){this.domNode.style.display="";}else{_bc.forEach(this.getSiblingViews(),function(v){v.domNode.style.display=(v===this)?"":"none";},this);}this.load&&this.load();if(!_10c){if(out){out.onAfterTransitionOut(out.id);_be.publish("/dojox/mobile/afterTransitionOut",[out,out.id]);}this.onAfterTransitionIn(this.id);_be.publish("/dojox/mobile/afterTransitionIn",[this,this.id]);}},hide:function(){this.domNode.style.display="none";}});});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_10e,_10f){return _10e("dijit._Contained",null,{_getSibling:function(_110){var node=this.domNode;do{node=node[_110+"Sibling"];}while(node&&node.nodeType!=1);return node&&_10f.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_111,_112,_113,_114){return _112("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_115,_116){var _117=this.containerNode;if(_116>0){_117=_117.firstChild;while(_116>0){if(_117.nodeType==1){_116--;}_117=_117.nextSibling;}if(_117){_116="before";}else{_117=this.containerNode;_116="last";}}_113.place(_115.domNode,_117,_116);if(this._started&&!_115._started){_115.startup();}},removeChild:function(_118){if(typeof _118=="number"){_118=this.getChildren()[_118];}if(_118){var node=_118.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_119,dir){_114.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var _11a=this.getChildren(),idx=_111.indexOf(_11a,_119);return _11a[idx+dir];},getIndexOfChild:function(_11b){return _111.indexOf(this.getChildren(),_11b);}});});},"dijit/_WidgetBase":function(){define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(_11c,_11d,_11e,_11f,_120,_121,dom,_122,_123,_124,_125,_126,has,_127,lang,on,_128,_129,_12a,win,_12b,_12c,_12d){has.add("dijit-legacy-requires",!_127.isAsync);has.add("dojo-bidi",false);if(has("dijit-legacy-requires")){_128(0,function(){var _12e=["dijit/_base/manager"];_11c(_12e);});}var _12f={};function _130(obj){var ret={};for(var attr in obj){ret[attr.toLowerCase()]=true;}return ret;};function _131(attr){return function(val){_122[val?"set":"remove"](this.domNode,attr,val);this._set(attr,val);};};var _132=_121("dijit._WidgetBase",[_129,_12b],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_131("lang"),dir:"",_setDirAttr:_131("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_11f.blankGif||_11c.toUrl("dojo/resources/blank.gif"),_introspect:function(){var ctor=this.constructor;if(!ctor._setterAttrs){var _133=ctor.prototype,_134=ctor._setterAttrs=[],_135=(ctor._onMap={});for(var name in _133.attributeMap){_134.push(name);}for(name in _133){if(/^on/.test(name)){_135[name.substring(2).toLowerCase()]=name;}if(/^_set[A-Z](.*)Attr$/.test(name)){name=name.charAt(4).toLowerCase()+name.substr(5,name.length-9);if(!_133.attributeMap||!(name in _133.attributeMap)){_134.push(name);}}}}},postscript:function(_136,_137){this.create(_136,_137);},create:function(_138,_139){this._introspect();this.srcNodeRef=dom.byId(_139);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_138){this.params=_138;lang.mixin(this,_138);}this.postMixInProperties();if(!this.id){this.id=_12d.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=win.body(this.ownerDocument);_12d.add(this);this.buildRendering();var _13a;if(this.domNode){this._applyAttributes();var _13b=this.srcNodeRef;if(_13b&&_13b.parentNode&&this.domNode!==_13b){_13b.parentNode.replaceChild(this.domNode,_13b);_13a=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_13a){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _13c={};for(var key in this.params||{}){_13c[key]=this._get(key);}_11d.forEach(this.constructor._setterAttrs,function(key){if(!(key in _13c)){var val=this._get(key);if(val){this.set(key,val);}}},this);for(key in _13c){this.set(key,_13c[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _13d=this.baseClass.split(" ");if(!this.isLeftToRight()){_13d=_13d.concat(_11d.map(_13d,function(name){return name+"Rtl";}));}_123.add(this.domNode,_13d);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_11d.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_13e){this._beingDestroyed=true;this.destroyDescendants(_13e);this.destroy(_13e);},destroy:function(_13f){this._beingDestroyed=true;this.uninitialize();function _140(w){if(w.destroyRecursive){w.destroyRecursive(_13f);}else{if(w.destroy){w.destroy(_13f);}}};_11d.forEach(this._connects,lang.hitch(this,"disconnect"));_11d.forEach(this._supportingWidgets,_140);if(this.domNode){_11d.forEach(_12d.findWidgets(this.domNode,this.containerNode),_140);}this.destroyRendering(_13f);_12d.remove(this.id);this._destroyed=true;},destroyRendering:function(_141){if(this.bgIframe){this.bgIframe.destroy(_141);delete this.bgIframe;}if(this.domNode){if(_141){_122.remove(this.domNode,"widgetId");}else{_124.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_141){_124.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_142){_11d.forEach(this.getChildren(),function(_143){if(_143.destroyRecursive){_143.destroyRecursive(_142);}});},uninitialize:function(){return false;},_setStyleAttr:function(_144){var _145=this.domNode;if(lang.isObject(_144)){_126.set(_145,_144);}else{if(_145.style.cssText){_145.style.cssText+="; "+_144;}else{_145.style.cssText=_144;}}this._set("style",_144);},_attrToDom:function(attr,_146,_147){_147=arguments.length>=3?_147:this.attributeMap[attr];_11d.forEach(lang.isArray(_147)?_147:[_147],function(_148){var _149=this[_148.node||_148||"domNode"];var type=_148.type||"attribute";switch(type){case "attribute":if(lang.isFunction(_146)){_146=lang.hitch(this,_146);}var _14a=_148.attribute?_148.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);if(_149.tagName){_122.set(_149,_14a,_146);}else{_149.set(_14a,_146);}break;case "innerText":_149.innerHTML="";_149.appendChild(this.ownerDocument.createTextNode(_146));break;case "innerHTML":_149.innerHTML=_146;break;case "class":_123.replace(_149,_146,this[attr]);break;}},this);},get:function(name){var _14b=this._getAttrNames(name);return this[_14b.g]?this[_14b.g]():this._get(name);},set:function(name,_14c){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _14d=this._getAttrNames(name),_14e=this[_14d.s];if(lang.isFunction(_14e)){var _14f=_14e.apply(this,Array.prototype.slice.call(arguments,1));}else{var _150=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_150]&&this[_150].tagName,_151=tag&&(_12f[tag]||(_12f[tag]=_130(this[_150]))),map=name in this.attributeMap?this.attributeMap[name]:_14d.s in this?this[_14d.s]:((_151&&_14d.l in _151&&typeof _14c!="function")||/^aria-|^data-|^role$/.test(name))?_150:null;if(map!=null){this._attrToDom(name,_14c,map);}this._set(name,_14c);}return _14f||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,_152){var _153=this[name];this[name]=_152;if(this._created&&_152!==_153){if(this._watchCallbacks){this._watchCallbacks(name,_153,_152);}this.emit("attrmodified-"+name,{detail:{prevValue:_153,newValue:_152}});}},_get:function(name){return this[name];},emit:function(type,_154,_155){_154=_154||{};if(_154.bubbles===undefined){_154.bubbles=true;}if(_154.cancelable===undefined){_154.cancelable=true;}if(!_154.detail){_154.detail={};}_154.detail.widget=this;var ret,_156=this["on"+type];if(_156){ret=_156.apply(this,_155?_155:[_154]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,type.toLowerCase(),_154);}return ret;},on:function(type,func){var _157=this._onMap(type);if(_157){return _11e.after(this,_157,func,true);}return this.own(on(this.domNode,type,func))[0];},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[typeof type=="string"&&type.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_12d.findWidgets(this.containerNode):[];},getParent:function(){return _12d.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_158,_159){return this.own(_120.connect(obj,_158,this,_159))[0];},disconnect:function(_15a){_15a.remove();},subscribe:function(t,_15b){return this.own(_12a.subscribe(t,lang.hitch(this,_15b)))[0];},unsubscribe:function(_15c){_15c.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_125.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_126.get(this.domNode,"display")!="none");},placeAt:function(_15d,_15e){var _15f=!_15d.tagName&&_12d.byId(_15d);if(_15f&&_15f.addChild&&(!_15e||typeof _15e==="number")){_15f.addChild(this,_15e);}else{var ref=_15f?(_15f.containerNode&&!/after|before|replace/.test(_15e||"")?_15f.containerNode:_15f.domNode):dom.byId(_15d,this.ownerDocument);_124.place(this.domNode,ref,_15e);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},defer:function(fcn,_160){var _161=setTimeout(lang.hitch(this,function(){if(!_161){return;}_161=null;if(!this._destroyed){lang.hitch(this,fcn)();}}),_160||0);return {remove:function(){if(_161){clearTimeout(_161);_161=null;}return null;}};}});if(has("dojo-bidi")){_132.extend(_12c);}return _132;});},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(_162,lang,_163,when){return _162("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}return (apn[name]={s:"_"+name+"Setter",g:"_"+name+"Getter"});},postscript:function(_164){if(_164){this.set(_164);}},_get:function(name,_165){return typeof this[_165.g]==="function"?this[_165.g]():this[name];},get:function(name){return this._get(name,this._getAttrNames(name));},set:function(name,_166){if(typeof name==="object"){for(var x in name){if(name.hasOwnProperty(x)&&x!="_watchCallbacks"){this.set(x,name[x]);}}return this;}var _167=this._getAttrNames(name),_168=this._get(name,_167),_169=this[_167.s],_16a;if(typeof _169==="function"){_16a=_169.apply(this,Array.prototype.slice.call(arguments,1));}else{this[name]=_166;}if(this._watchCallbacks){var self=this;when(_16a,function(){self._watchCallbacks(name,_168,_166);});}return this;},_changeAttrValue:function(name,_16b){var _16c=this.get(name);this[name]=_16b;if(this._watchCallbacks){this._watchCallbacks(name,_16c,_16b);}return this;},watch:function(name,_16d){var _16e=this._watchCallbacks;if(!_16e){var self=this;_16e=this._watchCallbacks=function(name,_16f,_170,_171){var _172=function(_173){if(_173){_173=_173.slice();for(var i=0,l=_173.length;i<l;i++){_173[i].call(self,name,_16f,_170);}}};_172(_16e["_"+name]);if(!_171){_172(_16e["*"]);}};}if(!_16d&&typeof name==="function"){_16d=name;name="*";}else{name="_"+name;}var _174=_16e[name];if(typeof _174!=="object"){_174=_16e[name]=[];}_174.push(_16d);var _175={};_175.unwatch=_175.remove=function(){var _176=_163.indexOf(_174,_16d);if(_176>-1){_174.splice(_176,1);}};return _175;}});});},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_177,_178,_179){return _179("dijit.Destroyable",null,{destroy:function(_17a){this._destroyed=true;},own:function(){_177.forEach(arguments,function(_17b){var _17c="destroyRecursive" in _17b?"destroyRecursive":"destroy" in _17b?"destroy":"remove";var odh=_178.before(this,"destroy",function(_17d){_17b[_17c](_17d);});var hdh=_178.after(_17b,_17c,function(){odh.remove();hdh.remove();},true);},this);return arguments;}});});},"dojox/mobile/ViewController":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/on","dojo/ready","dijit/registry","./ProgressIndicator","./TransitionEvent","./viewRegistry"],function(dojo,_17e,_17f,_180,lang,win,_181,dom,_182,_183,on,_184,_185,_186,_187,_188){var _189=_180("dojox.mobile.ViewController",null,{dataHandlerClass:"dojox/mobile/dh/DataHandler",dataSourceClass:"dojox/mobile/dh/UrlDataSource",fileTypeMapClass:"dojox/mobile/dh/SuffixFileTypeMap",constructor:function(){this.viewMap={};_184(lang.hitch(this,function(){on(win.body(),"startTransition",lang.hitch(this,"onStartTransition"));}));},findTransitionViews:function(_18a){if(!_18a){return [];}_18a.match(/^#?([^&?]+)(.*)/);var _18b=RegExp.$2;var view=_185.byId(RegExp.$1);if(!view){return [];}for(var v=view.getParent();v;v=v.getParent()){if(v.isVisible&&!v.isVisible()){var sv=view.getShowingView();if(sv&&sv.id!==view.id){view.show();}view=v;}}return [view.getShowingView(),view,_18b];},openExternalView:function(_18c,_18d){var d=new _181();var id=this.viewMap[_18c.url];if(id){_18c.moveTo=id;if(_18c.noTransition){_185.byId(id).hide();}else{new _187(win.body(),_18c).dispatch();}d.resolve(true);return d;}var _18e=null;for(var i=_18d.childNodes.length-1;i>=0;i--){var c=_18d.childNodes[i];if(c.nodeType===1){var _18f=c.getAttribute("fixed")||c.getAttribute("data-mobile-fixed")||(_185.byNode(c)&&_185.byNode(c).fixed);if(_18f==="bottom"){_18e=c;break;}}}var dh=_18c.dataHandlerClass||this.dataHandlerClass;var ds=_18c.dataSourceClass||this.dataSourceClass;var ft=_18c.fileTypeMapClass||this.fileTypeMapClass;require([dh,ds,ft],lang.hitch(this,function(_190,_191,_192){var _193=new _190(new _191(_18c.data||_18c.url),_18d,_18e);var _194=_18c.contentType||_192.getContentType(_18c.url)||"html";_193.processData(_194,lang.hitch(this,function(id){if(id){this.viewMap[_18c.url]=_18c.moveTo=id;if(_18c.noTransition){_185.byId(id).hide();}else{new _187(win.body(),_18c).dispatch();}d.resolve(true);}else{d.reject("Failed to load "+_18c.url);}}));}));return d;},onStartTransition:function(evt){evt.preventDefault();if(!evt.detail){return;}var _195=evt.detail;if(!_195.moveTo&&!_195.href&&!_195.url&&!_195.scene){return;}if(_195.url&&!_195.moveTo){var _196=_195.urlTarget;var w=_185.byId(_196);var _197=w&&w.containerNode||dom.byId(_196);if(!_197){w=_188.getEnclosingView(evt.target);_197=w&&w.domNode.parentNode||win.body();}this.openExternalView(_195,_197);return;}else{if(_195.href){if(_195.hrefTarget&&_195.hrefTarget!="_self"){win.global.open(_195.href,_195.hrefTarget);}else{var view;for(var v=_188.getEnclosingView(evt.target);v;v=_188.getParentView(v)){view=v;}if(view){view.performTransition(null,_195.transitionDir,_195.transition,evt.target,function(){location.href=_195.href;});}}return;}else{if(_195.scene){_17f.publish("/dojox/mobile/app/pushScene",[_195.scene]);return;}}}var arr=this.findTransitionViews(_195.moveTo),_198=arr[0],_199=arr[1],_19a=arr[2];if(!location.hash&&!_195.hashchange){_188.initialView=_198;}if(_195.moveTo&&_199){_195.moveTo=(_195.moveTo.charAt(0)==="#"?"#"+_199.id:_199.id)+_19a;}if(!_198||(_195.moveTo&&_198===_185.byId(_195.moveTo.replace(/^#?([^&?]+).*/,"$1")))){return;}var src=_185.getEnclosingWidget(evt.target);if(src&&src.callback){_195.context=src;_195.method=src.callback;}_198.performTransition(_195);}});_189._instance=new _189();_189.getInstance=function(){return _189._instance;};return _189;});},"dojox/mobile/ProgressIndicator":function(){define(["dojo/_base/config","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dijit/_Contained","dijit/_WidgetBase","./_css3"],function(_19b,_19c,lang,_19d,_19e,_19f,_1a0,has,_1a1,_1a2,css3){var cls=_19c("dojox.mobile.ProgressIndicator",[_1a2,_1a1],{interval:100,size:40,removeOnStop:true,startSpinning:false,center:true,colors:null,baseClass:"mblProgressIndicator",constructor:function(){this.colors=[];this._bars=[];},buildRendering:function(){this.inherited(arguments);if(this.center){_19d.add(this.domNode,"mblProgressIndicatorCenter");}this.containerNode=_19e.create("div",{className:"mblProgContainer"},this.domNode);this.spinnerNode=_19e.create("div",null,this.containerNode);for(var i=0;i<12;i++){var div=_19e.create("div",{className:"mblProg mblProg"+i},this.spinnerNode);this._bars.push(div);}this.scale(this.size);if(this.startSpinning){this.start();}},scale:function(size){var _1a3=size/40;_1a0.set(this.containerNode,css3.add({},{transform:"scale("+_1a3+")",transformOrigin:"0 0"}));_19f.setMarginBox(this.domNode,{w:size,h:size});_19f.setMarginBox(this.containerNode,{w:size/_1a3,h:size/_1a3});},start:function(){if(this.imageNode){var img=this.imageNode;var l=Math.round((this.containerNode.offsetWidth-img.offsetWidth)/2);var t=Math.round((this.containerNode.offsetHeight-img.offsetHeight)/2);img.style.margin=t+"px "+l+"px";return;}var cntr=0;var _1a4=this;var n=12;this.timer=setInterval(function(){cntr--;cntr=cntr<0?n-1:cntr;var c=_1a4.colors;for(var i=0;i<n;i++){var idx=(cntr+i)%n;if(c[idx]){_1a4._bars[i].style.backgroundColor=c[idx];}else{_19d.replace(_1a4._bars[i],"mblProg"+idx+"Color","mblProg"+(idx===n-1?0:idx+1)+"Color");}}},this.interval);},stop:function(){if(this.timer){clearInterval(this.timer);}this.timer=null;if(this.removeOnStop&&this.domNode&&this.domNode.parentNode){this.domNode.parentNode.removeChild(this.domNode);}},setImage:function(file){if(file){this.imageNode=_19e.create("img",{src:file},this.containerNode);this.spinnerNode.style.display="none";}else{if(this.imageNode){this.containerNode.removeChild(this.imageNode);this.imageNode=null;}this.spinnerNode.style.display="";}},destroy:function(){this.inherited(arguments);if(this===cls._instance){cls._instance=null;}}});cls._instance=null;cls.getInstance=function(_1a5){if(!cls._instance){cls._instance=new cls(_1a5);}return cls._instance;};return cls;});},"dojox/mobile/_css3":function(){define(["dojo/_base/window","dojo/_base/array","dojo/has"],function(win,arr,has){var _1a6=[],_1a7=[];var _1a8=win.doc.createElement("div").style;var _1a9=["webkit"];has.add("css3-animations",function(_1aa,_1ab,_1ac){var _1ad=_1ac.style;return (_1ad["animation"]!==undefined&&_1ad["transition"]!==undefined)||arr.some(_1a9,function(p){return _1ad[p+"Animation"]!==undefined&&_1ad[p+"Transition"]!==undefined;});});has.add("t17164",function(_1ae,_1af,_1b0){return (_1b0.style["transition"]!==undefined)&&!("TransitionEvent" in window);});var css3={name:function(p,_1b1){var n=(_1b1?_1a7:_1a6)[p];if(!n){if(/End|Start/.test(p)){var idx=p.length-(p.match(/End/)?3:5);var s=p.substr(0,idx);var pp=this.name(s);if(pp==s){n=p.toLowerCase();}else{n=pp+p.substr(idx);}}else{if(p=="keyframes"){var pk=this.name("animation",_1b1);if(pk=="animation"){n=p;}else{if(_1b1){n=pk.replace(/animation/,"keyframes");}else{n=pk.replace(/Animation/,"Keyframes");}}}else{var cn=_1b1?p.replace(/-(.)/g,function(_1b2,p1){return p1.toUpperCase();}):p;if(_1a8[cn]!==undefined&&!has("t17164")){n=p;}else{cn=cn.charAt(0).toUpperCase()+cn.slice(1);arr.some(_1a9,function(_1b3){if(_1a8[_1b3+cn]!==undefined){if(_1b1){n="-"+_1b3+"-"+p;}else{n=_1b3+cn;}}});}}}if(!n){n=p;}(_1b1?_1a7:_1a6)[p]=n;}return n;},add:function(_1b4,_1b5){for(var p in _1b5){if(_1b5.hasOwnProperty(p)){_1b4[css3.name(p)]=_1b5[p];}}return _1b4;}};return css3;});},"dojox/mobile/TransitionEvent":function(){define(["dojo/_base/declare","dojo/on"],function(_1b6,on){return _1b6("dojox.mobile.TransitionEvent",null,{constructor:function(_1b7,_1b8,_1b9){this.transitionOptions=_1b8;this.target=_1b7;this.triggerEvent=_1b9||null;},dispatch:function(){var opts={bubbles:true,cancelable:true,detail:this.transitionOptions,triggerEvent:this.triggerEvent};var evt=on.emit(this.target,"startTransition",opts);}});});},"dojox/mobile/viewRegistry":function(){define(["dojo/_base/array","dojo/dom-class","dijit/registry"],function(_1ba,_1bb,_1bc){var _1bd={length:0,hash:{},initialView:null,add:function(view){this.hash[view.id]=view;this.length++;},remove:function(id){if(this.hash[id]){delete this.hash[id];this.length--;}},getViews:function(){var arr=[];for(var i in this.hash){arr.push(this.hash[i]);}return arr;},getParentView:function(view){for(var v=view.getParent();v;v=v.getParent()){if(_1bb.contains(v.domNode,"mblView")){return v;}}return null;},getChildViews:function(_1be){return _1ba.filter(this.getViews(),function(v){return this.getParentView(v)===_1be;},this);},getEnclosingView:function(node){for(var n=node;n&&n.tagName!=="BODY";n=n.parentNode){if(n.nodeType===1&&_1bb.contains(n,"mblView")){return _1bc.byNode(n);}}return null;},getEnclosingScrollable:function(node){for(var w=_1bc.getEnclosingWidget(node);w;w=w.getParent()){if(w.scrollableParams&&w._v){return w;}}return null;}};return _1bd;});},"dojox/mobile/transition":function(){define(["dojo/_base/Deferred","dojo/_base/config"],function(_1bf,_1c0){if(_1c0.mblCSS3Transition){var _1c1=new _1bf();require([_1c0.mblCSS3Transition],function(_1c2){_1c1.resolve(_1c2);});return _1c1;}return null;});},"dojox/mobile/Heading":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./ProgressIndicator","./ToolBarButton","./View","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/Heading"],function(_1c3,_1c4,_1c5,lang,win,dom,_1c6,_1c7,_1c8,_1c9,_1ca,_1cb,_1cc,_1cd,_1ce,_1cf,View,has,_1d0){var dm=lang.getObject("dojox.mobile",true);var _1d1=_1c5(has("dojo-bidi")?"dojox.mobile.NonBidiHeading":"dojox.mobile.Heading",[_1cd,_1cc,_1cb],{back:"",href:"",moveTo:"",transition:"slide",label:"",iconBase:"",tag:"h1",busy:false,progStyle:"mblProgWhite",baseClass:"mblHeading",buildRendering:function(){if(!this.templateString){this.domNode=this.containerNode=this.srcNodeRef||win.doc.createElement(this.tag);}this.inherited(arguments);if(!this.templateString){if(!this.label){_1c3.forEach(this.domNode.childNodes,function(n){if(n.nodeType==3){var v=lang.trim(n.nodeValue);if(v){this.label=v;this.labelNode=_1c7.create("span",{innerHTML:v},n,"replace");}}},this);}if(!this.labelNode){this.labelNode=_1c7.create("span",null,this.domNode);}this.labelNode.className="mblHeadingSpanTitle";this.labelDivNode=_1c7.create("div",{className:"mblHeadingDivTitle",innerHTML:this.labelNode.innerHTML},this.domNode);}if(this.labelDivNode){_1c9.set(this.labelDivNode,"role","heading");_1c9.set(this.labelDivNode,"aria-level","1");}dom.setSelectable(this.domNode,false);},startup:function(){if(this._started){return;}var _1d2=this.getParent&&this.getParent();if(!_1d2||!_1d2.resize){var _1d3=this;_1d3.defer(function(){_1d3.resize();});}this.inherited(arguments);},resize:function(){if(this.labelNode){var _1d4,_1d5;var _1d6=this.containerNode.childNodes;for(var i=_1d6.length-1;i>=0;i--){var c=_1d6[i];if(c.nodeType===1&&_1c8.get(c,"display")!=="none"){if(!_1d5&&_1c8.get(c,"float")==="right"){_1d5=c;}if(!_1d4&&_1c8.get(c,"float")==="left"){_1d4=c;}}}if(!this.labelNodeLen&&this.label){this.labelNode.style.display="inline";this.labelNodeLen=this.labelNode.offsetWidth;this.labelNode.style.display="";}var bw=this.domNode.offsetWidth;var rw=_1d5?bw-_1d5.offsetLeft+5:0;var lw=_1d4?_1d4.offsetLeft+_1d4.offsetWidth+5:0;var tw=this.labelNodeLen||0;_1c6[bw-Math.max(rw,lw)*2>tw?"add":"remove"](this.domNode,"mblHeadingCenterTitle");}_1c3.forEach(this.getChildren(),function(_1d7){if(_1d7.resize){_1d7.resize();}});},_setBackAttr:function(back){this._set("back",back);if(!this.backButton){this.backButton=new _1cf({arrow:"left",label:back,moveTo:this.moveTo,back:!this.moveTo&&!this.href,href:this.href,transition:this.transition,transitionDir:-1,dir:this.isLeftToRight()?"ltr":"rtl"});this.backButton.placeAt(this.domNode,"first");}else{this.backButton.set("label",back);}this.resize();},_setMoveToAttr:function(_1d8){this._set("moveTo",_1d8);if(this.backButton){this.backButton.set("moveTo",_1d8);this.backButton.set("back",!_1d8&&!this.href);}},_setHrefAttr:function(href){this._set("href",href);if(this.backButton){this.backButton.set("href",href);this.backButton.set("back",!this.moveTo&&!href);}},_setTransitionAttr:function(_1d9){this._set("transition",_1d9);if(this.backButton){this.backButton.set("transition",_1d9);}},_setLabelAttr:function(_1da){this._set("label",_1da);this.labelNode.innerHTML=this.labelDivNode.innerHTML=this._cv?this._cv(_1da):_1da;},_setBusyAttr:function(busy){var prog=this._prog;if(busy){if(!prog){prog=this._prog=new _1ce({size:30,center:false});_1c6.add(prog.domNode,this.progStyle);}_1c7.place(prog.domNode,this.domNode,"first");prog.start();}else{if(prog){prog.stop();}}this._set("busy",busy);}});return has("dojo-bidi")?_1c5("dojox.mobile.Heading",[_1d1,_1d0]):_1d1;});},"dojox/mobile/ToolBarButton":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","./sniff","./_ItemBase","dojo/has!dojo-bidi?dojox/mobile/bidi/ToolBarButton"],function(_1db,lang,win,_1dc,_1dd,_1de,_1df,has,_1e0,_1e1){var _1e2=_1db(has("dojo-bidi")?"dojox.mobile.NonBidiToolBarButton":"dojox.mobile.ToolBarButton",_1e0,{selected:false,arrow:"",light:true,defaultColor:"mblColorDefault",selColor:"mblColorDefaultSel",baseClass:"mblToolBarButton",_selStartMethod:"touch",_selEndMethod:"touch",buildRendering:function(){if(!this.label&&this.srcNodeRef){this.label=this.srcNodeRef.innerHTML;}this.label=lang.trim(this.label);this.domNode=(this.srcNodeRef&&this.srcNodeRef.tagName==="SPAN")?this.srcNodeRef:_1dd.create("span");_1df.set(this.domNode,"role","button");this.inherited(arguments);if(this.light&&!this.arrow&&(!this.icon||!this.label)){this.labelNode=this.tableNode=this.bodyNode=this.iconParentNode=this.domNode;_1dc.add(this.domNode,this.defaultColor+" mblToolBarButtonBody"+(this.icon?" mblToolBarButtonLightIcon":" mblToolBarButtonLightText"));return;}this.domNode.innerHTML="";if(this.arrow==="left"||this.arrow==="right"){this.arrowNode=_1dd.create("span",{className:"mblToolBarButtonArrow mblToolBarButton"+(this.arrow==="left"?"Left":"Right")+"Arrow "+(has("ie")<10?"":(this.defaultColor+" "+this.defaultColor+"45"))},this.domNode);_1dc.add(this.domNode,"mblToolBarButtonHas"+(this.arrow==="left"?"Left":"Right")+"Arrow");}this.bodyNode=_1dd.create("span",{className:"mblToolBarButtonBody"},this.domNode);this.tableNode=_1dd.create("table",{cellPadding:"0",cellSpacing:"0",border:"0",role:"presentation"},this.bodyNode);if(!this.label&&this.arrow){this.tableNode.className="mblToolBarButtonText";}var row=this.tableNode.insertRow(-1);this.iconParentNode=row.insertCell(-1);this.labelNode=row.insertCell(-1);this.iconParentNode.className="mblToolBarButtonIcon";this.labelNode.className="mblToolBarButtonLabel";if(this.icon&&this.icon!=="none"&&this.label){_1dc.add(this.domNode,"mblToolBarButtonHasIcon");_1dc.add(this.bodyNode,"mblToolBarButtonLabeledIcon");}_1dc.add(this.bodyNode,this.defaultColor);},startup:function(){if(this._started){return;}this.connect(this.domNode,"onkeydown","_onClick");this.inherited(arguments);if(!this._isOnLine){this._isOnLine=true;this.set("icon",this._pendingIcon!==undefined?this._pendingIcon:this.icon);delete this._pendingIcon;}},_onClick:function(e){if(e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}this.defaultClickAction(e);},onClick:function(){},_setLabelAttr:function(text){this.inherited(arguments);_1dc.toggle(this.tableNode,"mblToolBarButtonText",text||this.arrow);},_setSelectedAttr:function(_1e3){var _1e4=function(node,a,b){_1dc.replace(node,a+" "+a+"45",b+" "+b+"45");};this.inherited(arguments);if(_1e3){_1dc.replace(this.bodyNode,this.selColor,this.defaultColor);if(!(has("ie")<10)&&this.arrowNode){_1e4(this.arrowNode,this.selColor,this.defaultColor);}}else{_1dc.replace(this.bodyNode,this.defaultColor,this.selColor);if(!(has("ie")<10)&&this.arrowNode){_1e4(this.arrowNode,this.defaultColor,this.selColor);}}_1dc.toggle(this.domNode,"mblToolBarButtonSelected",_1e3);_1dc.toggle(this.bodyNode,"mblToolBarButtonBodySelected",_1e3);}});return has("dojo-bidi")?_1db("dojox.mobile.ToolBarButton",[_1e2,_1e1]):_1e2;});},"dojox/mobile/_ItemBase":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/touch","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./TransitionEvent","./iconUtils","./sniff","dojo/has!dojo-bidi?dojox/mobile/bidi/_ItemBase"],function(_1e5,_1e6,lang,win,_1e7,_1e8,_1e9,_1ea,_1eb,_1ec,_1ed,_1ee,has,_1ef){var _1f0=_1e6(has("dojo-bidi")?"dojox.mobile._NonBidiItemBase":"dojox.mobile._ItemBase",[_1ec,_1eb,_1ea],{icon:"",iconPos:"",alt:"",href:"",hrefTarget:"",moveTo:"",scene:"",clickable:false,url:"",urlTarget:"",back:false,transition:"",transitionDir:1,transitionOptions:null,callback:null,label:"",toggle:false,selected:false,tabIndex:"0",_setTabIndexAttr:"",paramsToInherit:"transition,icon",_selStartMethod:"none",_selEndMethod:"none",_delayedSelection:false,_duration:800,_handleClick:true,buildRendering:function(){this.inherited(arguments);this._isOnLine=this.inheritParams();},startup:function(){if(this._started){return;}if(!this._isOnLine){this.inheritParams();}this._updateHandles();this.inherited(arguments);},inheritParams:function(){var _1f1=this.getParent();if(_1f1){_1e5.forEach(this.paramsToInherit.split(/,/),function(p){if(p.match(/icon/i)){var base=p+"Base",pos=p+"Pos";if(this[p]&&_1f1[base]&&_1f1[base].charAt(_1f1[base].length-1)==="/"){this[p]=_1f1[base]+this[p];}if(!this[p]){this[p]=_1f1[base];}if(!this[pos]){this[pos]=_1f1[pos];}}if(!this[p]){this[p]=_1f1[p];}},this);}return !!_1f1;},_updateHandles:function(){if(this._handleClick&&this._selStartMethod==="touch"){if(!this._onTouchStartHandle){this._onTouchStartHandle=this.connect(this.domNode,_1e8.press,"_onTouchStart");}}else{if(this._onTouchStartHandle){this.disconnect(this._onTouchStartHandle);this._onTouchStartHandle=null;}}},getTransOpts:function(){var opts=this.transitionOptions||{};_1e5.forEach(["moveTo","href","hrefTarget","url","target","urlTarget","scene","transition","transitionDir"],function(p){opts[p]=opts[p]||this[p];},this);return opts;},userClickAction:function(){},defaultClickAction:function(e){this.handleSelection(e);if(this.userClickAction(e)===false){return;}this.makeTransition(e);},handleSelection:function(e){if(this._delayedSelection){this.set("selected",true);}if(this._onTouchEndHandle){this.disconnect(this._onTouchEndHandle);this._onTouchEndHandle=null;}var p=this.getParent();if(this.toggle){this.set("selected",!this._currentSel);}else{if(p&&p.selectOne){this.set("selected",true);}else{if(this._selEndMethod==="touch"){this.set("selected",false);}else{if(this._selEndMethod==="timer"){this.defer(function(){this.set("selected",false);},this._duration);}}}}},makeTransition:function(e){if(this.back&&history){history.back();return;}if(this.href&&this.hrefTarget&&this.hrefTarget!="_self"){win.global.open(this.href,this.hrefTarget||"_blank");this._onNewWindowOpened(e);return;}var opts=this.getTransOpts();var _1f2=!!(opts.moveTo||opts.href||opts.url||opts.target||opts.scene);if(this._prepareForTransition(e,_1f2?opts:null)===false){return;}if(_1f2){this.setTransitionPos(e);new _1ed(this.domNode,opts,e).dispatch();}},_onNewWindowOpened:function(){},_prepareForTransition:function(e,_1f3){},_onTouchStart:function(e){if(this.getParent().isEditing||this.onTouchStart(e)===false){return;}if(!this._onTouchEndHandle&&this._selStartMethod==="touch"){this._onTouchMoveHandle=this.connect(win.body(),_1e8.move,"_onTouchMove");this._onTouchEndHandle=this.connect(win.body(),_1e8.release,"_onTouchEnd");}this.touchStartX=e.touches?e.touches[0].pageX:e.clientX;this.touchStartY=e.touches?e.touches[0].pageY:e.clientY;this._currentSel=this.selected;if(this._delayedSelection){this._selTimer=this.defer(function(){this.set("selected",true);},100);}else{this.set("selected",true);}},onTouchStart:function(){},_onTouchMove:function(e){var x=e.touches?e.touches[0].pageX:e.clientX;var y=e.touches?e.touches[0].pageY:e.clientY;if(Math.abs(x-this.touchStartX)>=4||Math.abs(y-this.touchStartY)>=4){this.cancel();var p=this.getParent();if(p&&p.selectOne){this._prevSel&&this._prevSel.set("selected",true);}else{this.set("selected",false);}}},_disconnect:function(){this.disconnect(this._onTouchMoveHandle);this.disconnect(this._onTouchEndHandle);this._onTouchMoveHandle=this._onTouchEndHandle=null;},cancel:function(){if(this._selTimer){this._selTimer.remove();this._selTimer=null;}this._disconnect();},_onTouchEnd:function(e){if(!this._selTimer&&this._delayedSelection){return;}this.cancel();this._onClick(e);},setTransitionPos:function(e){var w=this;while(true){w=w.getParent();if(!w||_1e7.contains(w.domNode,"mblView")){break;}}if(w){w.clickedPosX=e.clientX;w.clickedPosY=e.clientY;}},transitionTo:function(_1f4,href,url,_1f5){var opts=(_1f4&&typeof (_1f4)==="object")?_1f4:{moveTo:_1f4,href:href,url:url,scene:_1f5,transition:this.transition,transitionDir:this.transitionDir};new _1ed(this.domNode,opts).dispatch();},_setIconAttr:function(icon){if(!this._isOnLine){this._pendingIcon=icon;return;}this._set("icon",icon);this.iconNode=_1ee.setIcon(icon,this.iconPos,this.iconNode,this.alt,this.iconParentNode,this.refNode,this.position);},_setLabelAttr:function(text){this._set("label",text);this.labelNode.innerHTML=this._cv?this._cv(text):text;},_setSelectedAttr:function(_1f6){if(_1f6){var p=this.getParent();if(p&&p.selectOne){var arr=_1e5.filter(p.getChildren(),function(w){return w.selected;});_1e5.forEach(arr,function(c){this._prevSel=c;c.set("selected",false);},this);}}this._set("selected",_1f6);}});return has("dojo-bidi")?_1e6("dojox.mobile._ItemBase",[_1f0,_1ef]):_1f0;});},"dojox/mobile/iconUtils":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","./sniff"],function(_1f7,_1f8,_1f9,_1fa,lang,win,_1fb,_1fc,_1fd,has){var dm=lang.getObject("dojox.mobile",true);var _1fe=function(){this.setupSpriteIcon=function(_1ff,_200){if(_1ff&&_200){var arr=_1f7.map(_200.split(/[ ,]/),function(item){return item-0;});var t=arr[0];var r=arr[1]+arr[2];var b=arr[0]+arr[3];var l=arr[1];_1fd.set(_1ff,{position:"absolute",clip:"rect("+t+"px "+r+"px "+b+"px "+l+"px)",top:(_1ff.parentNode?_1fd.get(_1ff,"top"):0)-t+"px",left:-l+"px"});_1fb.add(_1ff,"mblSpriteIcon");}};this.createDomButton=function(_201,_202,_203){if(!this._domButtons){if(has("webkit")){var _204=function(_205,dic){var i,j;if(!_205){var _206={};var ss=win.doc.styleSheets;for(i=0;i<ss.length;i++){ss[i]&&_204(ss[i],_206);}return _206;}var _207=_205.cssRules||[];for(i=0;i<_207.length;i++){var rule=_207[i];if(rule.href&&rule.styleSheet){_204(rule.styleSheet,dic);}else{if(rule.selectorText){var sels=rule.selectorText.split(/,/);for(j=0;j<sels.length;j++){var sel=sels[j];var n=sel.split(/>/).length-1;if(sel.match(/(mblDomButton\w+)/)){var cls=RegExp.$1;if(!dic[cls]||n>dic[cls]){dic[cls]=n;}}}}}}return dic;};this._domButtons=_204();}else{this._domButtons={};}}var s=_201.className;var node=_203||_201;if(s.match(/(mblDomButton\w+)/)&&s.indexOf("/")===-1){var _208=RegExp.$1;var nDiv=4;if(s.match(/(mblDomButton\w+_(\d+))/)){nDiv=RegExp.$2-0;}else{if(this._domButtons[_208]!==undefined){nDiv=this._domButtons[_208];}}var _209=null;if(has("bb")&&_1f8.mblBBBoxShadowWorkaround!==false){_209={style:"-webkit-box-shadow:none"};}for(var i=0,p=node;i<nDiv;i++){p=p.firstChild||_1fc.create("div",_209,p);}if(_203){setTimeout(function(){_1fb.remove(_201,_208);},0);_1fb.add(_203,_208);}}else{if(s.indexOf(".")!==-1){_1fc.create("img",{src:s},node);}else{return null;}}_1fb.add(node,"mblDomButton");!!_202&&_1fd.set(node,_202);return node;};this.createIcon=function(icon,_20a,node,_20b,_20c,_20d,pos){_20b=_20b||"";if(icon&&icon.indexOf("mblDomButton")===0){if(!node){node=_1fc.create("div",null,_20d||_20c,pos);}else{if(node.className.match(/(mblDomButton\w+)/)){_1fb.remove(node,RegExp.$1);}}node.title=_20b;_1fb.add(node,icon);this.createDomButton(node);}else{if(icon&&icon!=="none"){if(!node||node.nodeName!=="IMG"){node=_1fc.create("img",{alt:_20b},_20d||_20c,pos);}node.src=(icon||"").replace("${theme}",dm.currentTheme);this.setupSpriteIcon(node,_20a);if(_20a&&_20c){var arr=_20a.split(/[ ,]/);_1fd.set(_20c,{position:"relative",width:arr[2]+"px",height:arr[3]+"px"});_1fb.add(_20c,"mblSpriteIconParent");}_1f9.connect(node,"ondragstart",_1fa,"stop");}}return node;};this.iconWrapper=false;this.setIcon=function(icon,_20e,_20f,alt,_210,_211,pos){if(!_210||!icon&&!_20f){return null;}if(icon&&icon!=="none"){if(!this.iconWrapper&&icon.indexOf("mblDomButton")!==0&&!_20e){if(_20f&&_20f.tagName==="DIV"){_1fc.destroy(_20f);_20f=null;}_20f=this.createIcon(icon,null,_20f,alt,_210,_211,pos);_1fb.add(_20f,"mblImageIcon");}else{if(_20f&&_20f.tagName==="IMG"){_1fc.destroy(_20f);_20f=null;}_20f&&_1fc.empty(_20f);if(!_20f){_20f=_1fc.create("div",null,_211||_210,pos);}this.createIcon(icon,_20e,null,null,_20f);if(alt){_20f.title=alt;}}_1fb.remove(_210,"mblNoIcon");return _20f;}else{_1fc.destroy(_20f);_1fb.add(_210,"mblNoIcon");return null;}};};return new _1fe();});},"dojox/mobile/RoundRect":function(){define(["dojo/_base/declare","dojo/dom-class","./Container"],function(_212,_213,_214){return _212("dojox.mobile.RoundRect",_214,{shadow:false,baseClass:"mblRoundRect",buildRendering:function(){this.inherited(arguments);if(this.shadow){_213.add(this.domNode,"mblShadow");}}});});},"dojox/mobile/Container":function(){define(["dojo/_base/declare","dijit/_Container","./Pane"],function(_215,_216,Pane){return _215("dojox.mobile.Container",[Pane,_216],{baseClass:"mblContainer"});});},"dojox/mobile/Pane":function(){define(["dojo/_base/array","dojo/_base/declare","dijit/_Contained","dijit/_WidgetBase"],function(_217,_218,_219,_21a){return _218("dojox.mobile.Pane",[_21a,_219],{baseClass:"mblPane",buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},resize:function(){_217.forEach(this.getChildren(),function(_21b){if(_21b.resize){_21b.resize();}});}});});},"dojox/mobile/RoundRectCategory":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-construct","dijit/_Contained","dijit/_WidgetBase","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/RoundRectCategory"],function(_21c,win,_21d,_21e,_21f,has,_220){var _221=_21c(has("dojo-bidi")?"dojox.mobile.NonBidiRoundRectCategory":"dojox.mobile.RoundRectCategory",[_21f,_21e],{label:"",tag:"h2",baseClass:"mblRoundRectCategory",buildRendering:function(){var _222=this.domNode=this.containerNode=this.srcNodeRef||_21d.create(this.tag);this.inherited(arguments);if(!this.label&&_222.childNodes.length===1&&_222.firstChild.nodeType===3){this.label=_222.firstChild.nodeValue;}},_setLabelAttr:function(_223){this.label=_223;this.domNode.innerHTML=this._cv?this._cv(_223):_223;}});return has("dojo-bidi")?_21c("dojox.mobile.RoundRectCategory",[_221,_220]):_221;});},"dojox/mobile/EdgeToEdgeCategory":function(){define(["dojo/_base/declare","./RoundRectCategory"],function(_224,_225){return _224("dojox.mobile.EdgeToEdgeCategory",_225,{buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeCategory";if(this.type&&this.type=="long"){this.domNode.className+=" mblEdgeToEdgeCategoryLong";}}});});},"dojox/mobile/RoundRectList":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-construct","dojo/dom-attr","dijit/_Contained","dijit/_Container","dijit/_WidgetBase"],function(_226,_227,_228,lang,win,_229,_22a,_22b,_22c,_22d){return _227("dojox.mobile.RoundRectList",[_22d,_22c,_22b],{transition:"slide",iconBase:"",iconPos:"",select:"",stateful:false,syncWithViews:false,editable:false,tag:"ul",editableMixinClass:"dojox/mobile/_EditableListMixin",baseClass:"mblRoundRectList",filterBoxClass:"mblFilteredRoundRectListSearchBox",buildRendering:function(){this.domNode=this.srcNodeRef||_229.create(this.tag);if(this.select){_22a.set(this.domNode,"role","listbox");if(this.select==="multiple"){_22a.set(this.domNode,"aria-multiselectable","true");}}this.inherited(arguments);},postCreate:function(){if(this.editable){require([this.editableMixinClass],lang.hitch(this,function(_22e){_227.safeMixin(this,new _22e());}));}this.connect(this.domNode,"onselectstart",_228.stop);if(this.syncWithViews){var f=function(view,_22f,dir,_230,_231,_232){var _233=_226.filter(this.getChildren(),function(w){return w.moveTo==="#"+view.id||w.moveTo===view.id;})[0];if(_233){_233.set("selected",true);}};this.subscribe("/dojox/mobile/afterTransitionIn",f);this.subscribe("/dojox/mobile/startView",f);}},resize:function(){_226.forEach(this.getChildren(),function(_234){if(_234.resize){_234.resize();}});},onCheckStateChanged:function(){},_setStatefulAttr:function(_235){this._set("stateful",_235);this.selectOne=_235;_226.forEach(this.getChildren(),function(_236){_236.setArrow&&_236.setArrow();});},deselectItem:function(item){item.set("selected",false);},deselectAll:function(){_226.forEach(this.getChildren(),function(_237){_237.set("selected",false);});},selectItem:function(item){item.set("selected",true);}});});},"dojox/mobile/EdgeToEdgeList":function(){define(["dojo/_base/declare","./RoundRectList"],function(_238,_239){return _238("dojox.mobile.EdgeToEdgeList",_239,{filterBoxClass:"mblFilteredEdgeToEdgeListSearchBox",buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeList";}});});},"dojox/mobile/ListItem":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dijit/registry","dijit/_WidgetBase","./iconUtils","./_ItemBase","./ProgressIndicator","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/ListItem"],function(_23a,_23b,lang,_23c,_23d,_23e,_23f,_240,_241,_242,_243,_244,has,_245){var _246=_23b(has("dojo-bidi")?"dojox.mobile.NonBidiListItem":"dojox.mobile.ListItem",_243,{rightText:"",rightIcon:"",rightIcon2:"",deleteIcon:"",anchorLabel:false,noArrow:false,checked:false,arrowClass:"",checkClass:"",uncheckClass:"",variableHeight:false,rightIconTitle:"",rightIcon2Title:"",header:false,tag:"li",busy:false,progStyle:"",paramsToInherit:"variableHeight,transition,deleteIcon,icon,rightIcon,rightIcon2,uncheckIcon,arrowClass,checkClass,uncheckClass,deleteIconTitle,deleteIconRole",baseClass:"mblListItem",_selStartMethod:"touch",_selEndMethod:"timer",_delayedSelection:true,_selClass:"mblListItemSelected",buildRendering:function(){this._templated=!!this.templateString;if(!this._templated){this.domNode=this.containerNode=this.srcNodeRef||_23d.create(this.tag);}this.inherited(arguments);if(this.selected){_23c.add(this.domNode,this._selClass);}if(this.header){_23c.replace(this.domNode,"mblEdgeToEdgeCategory",this.baseClass);}if(!this._templated){this.labelNode=_23d.create("div",{className:"mblListItemLabel"});var ref=this.srcNodeRef;if(ref&&ref.childNodes.length===1&&ref.firstChild.nodeType===3){this.labelNode.appendChild(ref.firstChild);}this.domNode.appendChild(this.labelNode);}this._layoutChildren=[];},startup:function(){if(this._started){return;}var _247=this.getParent();var opts=this.getTransOpts();if((!this._templated||this.labelNode)&&this.anchorLabel){this.labelNode.style.display="inline";this.labelNode.style.cursor="pointer";this.connect(this.labelNode,"onclick","_onClick");this.onTouchStart=function(e){return (e.target!==this.labelNode);};}if(opts.moveTo||opts.href||opts.url||this.clickable||(_247&&_247.select)){this.connect(this.domNode,"onkeydown","_onClick");}else{this._handleClick=false;}this.inherited(arguments);if(_23c.contains(this.domNode,"mblVariableHeight")){this.variableHeight=true;}if(this.variableHeight){_23c.add(this.domNode,"mblVariableHeight");this.defer("layoutVariableHeight");}if(!this._isOnLine){this._isOnLine=true;this.set({icon:this._pending_icon!==undefined?this._pending_icon:this.icon,deleteIcon:this._pending_deleteIcon!==undefined?this._pending_deleteIcon:this.deleteIcon,rightIcon:this._pending_rightIcon!==undefined?this._pending_rightIcon:this.rightIcon,rightIcon2:this._pending_rightIcon2!==undefined?this._pending_rightIcon2:this.rightIcon2,uncheckIcon:this._pending_uncheckIcon!==undefined?this._pending_uncheckIcon:this.uncheckIcon});delete this._pending_icon;delete this._pending_deleteIcon;delete this._pending_rightIcon;delete this._pending_rightIcon2;delete this._pending_uncheckIcon;}if(_247&&_247.select){this.set("checked",this._pendingChecked!==undefined?this._pendingChecked:this.checked);_23f.set(this.domNode,"role","option");if(this._pendingChecked||this.checked){_23f.set(this.domNode,"aria-selected","true");}delete this._pendingChecked;}this.setArrow();this.layoutChildren();},_updateHandles:function(){var _248=this.getParent();var opts=this.getTransOpts();if(opts.moveTo||opts.href||opts.url||this.clickable||(_248&&_248.select)){if(!this._keydownHandle){this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick");}this._handleClick=true;}else{if(this._keydownHandle){this.disconnect(this._keydownHandle);this._keydownHandle=null;}this._handleClick=false;}this.inherited(arguments);},layoutChildren:function(){var _249;_23a.forEach(this.domNode.childNodes,function(n){if(n.nodeType!==1){return;}var _24a=n.getAttribute("layout")||n.getAttribute("data-mobile-layout")||(_240.byNode(n)||{}).layout;if(_24a){_23c.add(n,"mblListItemLayout"+_24a.charAt(0).toUpperCase()+_24a.substring(1));this._layoutChildren.push(n);if(_24a==="center"){_249=n;}}},this);if(_249){this.domNode.insertBefore(_249,this.domNode.firstChild);}},resize:function(){if(this.variableHeight){this.layoutVariableHeight();}if(!this._templated||this.labelNode){this.labelNode.style.display=this.labelNode.firstChild?"block":"inline";}},_onTouchStart:function(e){if(e.target.getAttribute("preventTouch")||e.target.getAttribute("data-mobile-prevent-touch")||(_240.getEnclosingWidget(e.target)||{}).preventTouch){return;}this.inherited(arguments);},_onClick:function(e){if(this.getParent().isEditing||e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}var n=this.labelNode;if((this._templated||n)&&this.anchorLabel&&e.currentTarget===n){_23c.add(n,"mblListItemLabelSelected");this.defer(function(){_23c.remove(n,"mblListItemLabelSelected");},this._duration);this.onAnchorLabelClicked(e);return;}var _24b=this.getParent();if(_24b.select){if(_24b.select==="single"){if(!this.checked){this.set("checked",true);}}else{if(_24b.select==="multiple"){this.set("checked",!this.checked);}}}this.defaultClickAction(e);},onClick:function(){},onAnchorLabelClicked:function(e){},layoutVariableHeight:function(){var h=this.domNode.offsetHeight;if(h===this.domNodeHeight){return;}this.domNodeHeight=h;_23a.forEach(this._layoutChildren.concat([this.rightTextNode,this.rightIcon2Node,this.rightIconNode,this.uncheckIconNode,this.iconNode,this.deleteIconNode,this.knobIconNode]),function(n){if(n){var _24c=this.domNode;var f=function(){var t=Math.round((_24c.offsetHeight-n.offsetHeight)/2)-_23e.get(_24c,"paddingTop");n.style.marginTop=t+"px";};if(n.offsetHeight===0&&n.tagName==="IMG"){n.onload=f;}else{f();}}},this);},setArrow:function(){if(this.checked){return;}var c="";var _24d=this.getParent();var opts=this.getTransOpts();if(opts.moveTo||opts.href||opts.url||this.clickable){if(!this.noArrow&&!(_24d&&_24d.selectOne)){c=this.arrowClass||"mblDomButtonArrow";_23f.set(this.domNode,"role","button");}}if(c){this._setRightIconAttr(c);}},_findRef:function(type){var i,node,list=["deleteIcon","icon","rightIcon","uncheckIcon","rightIcon2","rightText"];for(i=_23a.indexOf(list,type)+1;i<list.length;i++){node=this[list[i]+"Node"];if(node){return node;}}for(i=list.length-1;i>=0;i--){node=this[list[i]+"Node"];if(node){return node.nextSibling;}}return this.domNode.firstChild;},_setIcon:function(icon,type){if(!this._isOnLine){this["_pending_"+type]=icon;return;}this._set(type,icon);this[type+"Node"]=_242.setIcon(icon,this[type+"Pos"],this[type+"Node"],this[type+"Title"]||this.alt,this.domNode,this._findRef(type),"before");if(this[type+"Node"]){var cap=type.charAt(0).toUpperCase()+type.substring(1);_23c.add(this[type+"Node"],"mblListItem"+cap);}var role=this[type+"Role"];if(role){this[type+"Node"].setAttribute("role",role);}},_setDeleteIconAttr:function(icon){this._setIcon(icon,"deleteIcon");},_setIconAttr:function(icon){this._setIcon(icon,"icon");},_setRightTextAttr:function(text){if(!this._templated&&!this.rightTextNode){this.rightTextNode=_23d.create("div",{className:"mblListItemRightText"},this.labelNode,"before");}this.rightText=text;this.rightTextNode.innerHTML=this._cv?this._cv(text):text;},_setRightIconAttr:function(icon){this._setIcon(icon,"rightIcon");},_setUncheckIconAttr:function(icon){this._setIcon(icon,"uncheckIcon");},_setRightIcon2Attr:function(icon){this._setIcon(icon,"rightIcon2");},_setCheckedAttr:function(_24e){if(!this._isOnLine){this._pendingChecked=_24e;return;}var _24f=this.getParent();if(_24f&&_24f.select==="single"&&_24e){_23a.forEach(_24f.getChildren(),function(_250){_250!==this&&_250.checked&&_250.set("checked",false)&&_23f.set(_250.domNode,"aria-selected","false");},this);}this._setRightIconAttr(this.checkClass||"mblDomButtonCheck");this._setUncheckIconAttr(this.uncheckClass);_23c.toggle(this.domNode,"mblListItemChecked",_24e);_23c.toggle(this.domNode,"mblListItemUnchecked",!_24e);_23c.toggle(this.domNode,"mblListItemHasUncheck",!!this.uncheckIconNode);this.rightIconNode.style.position=(this.uncheckIconNode&&!_24e)?"absolute":"";if(_24f&&this.checked!==_24e){_24f.onCheckStateChanged(this,_24e);}this._set("checked",_24e);_23f.set(this.domNode,"aria-selected",_24e?"true":"false");},_setBusyAttr:function(busy){var prog=this._prog;if(busy){if(!this._progNode){this._progNode=_23d.create("div",{className:"mblListItemIcon"});prog=this._prog=new _244({size:25,center:false,removeOnStop:false});_23c.add(prog.domNode,this.progStyle);this._progNode.appendChild(prog.domNode);}if(this.iconNode){this.domNode.replaceChild(this._progNode,this.iconNode);}else{_23d.place(this._progNode,this._findRef("icon"),"before");}prog.start();}else{if(this._progNode){if(this.iconNode){this.domNode.replaceChild(this.iconNode,this._progNode);}else{this.domNode.removeChild(this._progNode);}prog.stop();}}this._set("busy",busy);},_setSelectedAttr:function(_251){this.inherited(arguments);_23c.toggle(this.domNode,this._selClass,_251);},_setClickableAttr:function(_252){this._set("clickable",_252);this._updateHandles();},_setMoveToAttr:function(_253){this._set("moveTo",_253);this._updateHandles();},_setHrefAttr:function(href){this._set("href",href);this._updateHandles();},_setUrlAttr:function(url){this._set("url",url);this._updateHandles();}});_246.ChildWidgetProperties={layout:"",preventTouch:false};lang.extend(_241,_246.ChildWidgetProperties);return has("dojo-bidi")?_23b("dojox.mobile.ListItem",[_246,_245]):_246;});},"dojox/mobile/Switch":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/event","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dojo/touch","dijit/_Contained","dijit/_WidgetBase","./sniff","./_maskUtils","./common","dojo/has!dojo-bidi?dojox/mobile/bidi/Switch"],function(_254,_255,_256,_257,win,_258,_259,_25a,_25b,_25c,_25d,_25e,has,_25f,dm,_260){var _261=_256(has("dojo-bidi")?"dojox.mobile.NonBidiSwitch":"dojox.mobile.Switch",[_25e,_25d],{value:"on",name:"",leftLabel:"ON",rightLabel:"OFF",shape:"mblSwDefaultShape",tabIndex:"0",_setTabIndexAttr:"",baseClass:"mblSwitch",role:"",buildRendering:function(){if(!this.templateString){this.domNode=(this.srcNodeRef&&this.srcNodeRef.tagName==="SPAN")?this.srcNodeRef:_259.create("span");}if(typeof this.domNode.style.msTouchAction!="undefined"){this.domNode.style.msTouchAction="none";}this.inherited(arguments);if(!this.templateString){var c=(this.srcNodeRef&&this.srcNodeRef.className)||this.className||this["class"];if((c=c.match(/mblSw.*Shape\d*/))){this.shape=c;}_258.add(this.domNode,this.shape);var _262=this.name?" name=\""+this.name+"\"":"";this.domNode.innerHTML="<div class=\"mblSwitchInner\">"+"<div class=\"mblSwitchBg mblSwitchBgLeft\">"+"<div class=\"mblSwitchText mblSwitchTextLeft\"></div>"+"</div>"+"<div class=\"mblSwitchBg mblSwitchBgRight\">"+"<div class=\"mblSwitchText mblSwitchTextRight\"></div>"+"</div>"+"<div class=\"mblSwitchKnob\"></div>"+"<input type=\"hidden\""+_262+"></div>"+"</div>";var n=this.inner=this.domNode.firstChild;this.left=n.childNodes[0];this.right=n.childNodes[1];this.knob=n.childNodes[2];this.input=n.childNodes[3];}_25b.set(this.domNode,"role","checkbox");_25b.set(this.domNode,"aria-checked",(this.value==="on")?"true":"false");this.switchNode=this.domNode;if(has("windows-theme")){var _263=_259.create("div",{className:"mblSwitchContainer"});this.labelNode=_259.create("label",{"class":"mblSwitchLabel","for":this.id},_263);_263.appendChild(this.domNode.cloneNode(true));this.domNode=_263;this.focusNode=_263.childNodes[1];this.labelNode.innerHTML=(this.value=="off")?this.rightLabel:this.leftLabel;this.switchNode=this.domNode.childNodes[1];var _264=this.inner=this.domNode.childNodes[1].firstChild;this.left=_264.childNodes[0];this.right=_264.childNodes[1];this.knob=_264.childNodes[2];this.input=_264.childNodes[3];}},postCreate:function(){this.connect(this.switchNode,"onclick","_onClick");this.connect(this.switchNode,"onkeydown","_onClick");this._startHandle=this.connect(this.switchNode,_25c.press,"onTouchStart");this._initialValue=this.value;},_changeState:function(_265,anim){var on=(_265==="on");this.left.style.display="";this.right.style.display="";this.inner.style.left="";if(anim){_258.add(this.switchNode,"mblSwitchAnimation");}_258.remove(this.switchNode,on?"mblSwitchOff":"mblSwitchOn");_258.add(this.switchNode,on?"mblSwitchOn":"mblSwitchOff");_25b.set(this.switchNode,"aria-checked",on?"true":"false");var _266=this;_266.defer(function(){_266.left.style.display=on?"":"none";_266.right.style.display=!on?"":"none";_258.remove(_266.switchNode,"mblSwitchAnimation");},anim?300:0);},_createMaskImage:function(){if(this._timer){this._timer.remove();delete this._timer;}if(this._hasMaskImage){return;}this._width=this.switchNode.offsetWidth-this.knob.offsetWidth;this._hasMaskImage=true;if(!(has("webkit")||has("svg"))){return;}var rDef=_25a.get(this.left,"borderTopLeftRadius");if(rDef=="0px"){return;}var _267=rDef.split(" ");var rx=parseFloat(_267[0]),ry=(_267.length==1)?rx:parseFloat(_267[1]);var w=this.switchNode.offsetWidth,h=this.switchNode.offsetHeight;var id=(this.shape+"Mask"+w+h+rx+ry).replace(/\./,"_");_25f.createRoundMask(this.switchNode,0,0,0,0,w,h,rx,ry,1);},_onClick:function(e){if(e&&e.type==="keydown"&&e.keyCode!==13){return;}if(this.onClick(e)===false){return;}if(this._moved){return;}this._set("value",this.input.value=(this.value=="on")?"off":"on");this._changeState(this.value,true);this.onStateChanged(this.value);},onClick:function(){},onTouchStart:function(e){this._moved=false;this.innerStartX=this.inner.offsetLeft;if(!this._conn){this._conn=[this.connect(this.inner,_25c.move,"onTouchMove"),this.connect(win.doc,_25c.release,"onTouchEnd")];if(has("windows-theme")){this._conn.push(this.connect(win.doc,"MSPointerCancel","onTouchEnd"));}}this.touchStartX=e.touches?e.touches[0].pageX:e.clientX;this.left.style.display="";this.right.style.display="";_257.stop(e);this._createMaskImage();},onTouchMove:function(e){e.preventDefault();var dx;if(e.targetTouches){if(e.targetTouches.length!=1){return;}dx=e.targetTouches[0].clientX-this.touchStartX;}else{dx=e.clientX-this.touchStartX;}var pos=this.innerStartX+dx;var d=10;if(pos<=-(this._width-d)){pos=-this._width;}if(pos>=-d){pos=0;}this.inner.style.left=pos+"px";if(Math.abs(dx)>d){this._moved=true;}},onTouchEnd:function(e){_254.forEach(this._conn,_255.disconnect);this._conn=null;if(this.innerStartX==this.inner.offsetLeft){if(has("touch")&&has("clicks-prevented")){dm._sendClick(this.inner,e);}return;}var _268=(this.inner.offsetLeft<-(this._width/2))?"off":"on";_268=this._newState(_268);this._changeState(_268,true);if(_268!=this.value){this._set("value",this.input.value=_268);this.onStateChanged(_268);}},_newState:function(_269){return _269;},onStateChanged:function(_26a){if(this.labelNode){this.labelNode.innerHTML=_26a=="off"?this.rightLabel:this.leftLabel;}},_setValueAttr:function(_26b){this._changeState(_26b,false);if(this.value!=_26b){this._set("value",this.input.value=_26b);this.onStateChanged(_26b);}},_setLeftLabelAttr:function(_26c){this.leftLabel=_26c;this.left.firstChild.innerHTML=this._cv?this._cv(_26c):_26c;},_setRightLabelAttr:function(_26d){this.rightLabel=_26d;this.right.firstChild.innerHTML=this._cv?this._cv(_26d):_26d;},reset:function(){this.set("value",this._initialValue);}});return has("dojo-bidi")?_256("dojox.mobile.Switch",[_261,_260]):_261;});},"dojox/mobile/_maskUtils":function(){define(["dojo/_base/window","dojo/dom-style","./sniff"],function(win,_26e,has){var _26f={};return {createRoundMask:function(node,x,y,r,b,w,h,rx,ry,e){var tw=x+w+r;var th=y+h+b;if(has("webkit")){var id=("DojoMobileMask"+x+y+w+h+rx+ry).replace(/\./g,"_");if(!_26f[id]){_26f[id]=1;var ctx=win.doc.getCSSCanvasContext("2d",id,tw,th);ctx.beginPath();if(rx==ry){if(rx==2&&w==5){ctx.fillStyle="rgba(0,0,0,0.5)";ctx.fillRect(1,0,3,2);ctx.fillRect(0,1,5,1);ctx.fillRect(0,h-2,5,1);ctx.fillRect(1,h-1,3,2);ctx.fillStyle="rgb(0,0,0)";ctx.fillRect(0,2,5,h-4);}else{if(rx==2&&h==5){ctx.fillStyle="rgba(0,0,0,0.5)";ctx.fillRect(0,1,2,3);ctx.fillRect(1,0,1,5);ctx.fillRect(w-2,0,1,5);ctx.fillRect(w-1,1,2,3);ctx.fillStyle="rgb(0,0,0)";ctx.fillRect(2,0,w-4,5);}else{ctx.fillStyle="#000000";ctx.moveTo(x+rx,y);ctx.arcTo(x,y,x,y+rx,rx);ctx.lineTo(x,y+h-rx);ctx.arcTo(x,y+h,x+rx,y+h,rx);ctx.lineTo(x+w-rx,y+h);ctx.arcTo(x+w,y+h,x+w,y+rx,rx);ctx.lineTo(x+w,y+rx);ctx.arcTo(x+w,y,x+w-rx,y,rx);}}}else{var pi=Math.PI;ctx.scale(1,ry/rx);ctx.moveTo(x+rx,y);ctx.arc(x+rx,y+rx,rx,1.5*pi,0.5*pi,true);ctx.lineTo(x+w-rx,y+2*rx);ctx.arc(x+w-rx,y+rx,rx,0.5*pi,1.5*pi,true);}ctx.closePath();ctx.fill();}node.style.webkitMaskImage="-webkit-canvas("+id+")";}else{if(has("svg")){if(node._svgMask){node.removeChild(node._svgMask);}var bg=null;for(var p=node.parentNode;p;p=p.parentNode){bg=_26e.getComputedStyle(p).backgroundColor;if(bg&&bg!="transparent"&&!bg.match(/rgba\(.*,\s*0\s*\)/)){break;}}var _270="http://www.w3.org/2000/svg";var svg=win.doc.createElementNS(_270,"svg");svg.setAttribute("width",tw);svg.setAttribute("height",th);svg.style.position="absolute";svg.style.pointerEvents="none";svg.style.opacity="1";svg.style.zIndex="2147483647";var path=win.doc.createElementNS(_270,"path");e=e||0;rx+=e;ry+=e;var d=" M"+(x+rx-e)+","+(y-e)+" a"+rx+","+ry+" 0 0,0 "+(-rx)+","+ry+" v"+(-ry)+" h"+rx+" Z"+" M"+(x-e)+","+(y+h-ry+e)+" a"+rx+","+ry+" 0 0,0 "+rx+","+ry+" h"+(-rx)+" v"+(-ry)+" z"+" M"+(x+w-rx+e)+","+(y+h+e)+" a"+rx+","+ry+" 0 0,0 "+rx+","+(-ry)+" v"+ry+" h"+(-rx)+" z"+" M"+(x+w+e)+","+(y+ry-e)+" a"+rx+","+ry+" 0 0,0 "+(-rx)+","+(-ry)+" h"+rx+" v"+ry+" z";if(y>0){d+=" M0,0 h"+tw+" v"+y+" h"+(-tw)+" z";}if(b>0){d+=" M0,"+(y+h)+" h"+tw+" v"+b+" h"+(-tw)+" z";}path.setAttribute("d",d);path.setAttribute("fill",bg);path.setAttribute("stroke",bg);path.style.opacity="1";svg.appendChild(path);node._svgMask=svg;node.appendChild(svg);}}}};});},"dojox/mobile/compat":function(){define(["dojo/_base/lang","dojo/sniff"],function(lang,has){var dm=lang.getObject("dojox.mobile",true);if(!(has("webkit")||has("ie")>=10)){var s="dojox/mobile/_compat";require([s]);}return dm;});},"dojox/mobile/ScrollableView":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dijit/registry","./View","./_ScrollableMixin"],function(_271,_272,_273,_274,_275,View,_276){return _272("dojox.mobile.ScrollableView",[View,_276],{scrollableParams:null,keepScrollPos:false,constructor:function(){this.scrollableParams={noResize:true};},buildRendering:function(){this.inherited(arguments);_273.add(this.domNode,"mblScrollableView");this.domNode.style.overflow="hidden";this.domNode.style.top="0px";this.containerNode=_274.create("div",{className:"mblScrollableViewContainer"},this.domNode);this.containerNode.style.position="absolute";this.containerNode.style.top="0px";if(this.scrollDir==="v"){this.containerNode.style.width="100%";}},startup:function(){if(this._started){return;}if(this.fixedFooter&&!this.isLocalFooter){this._fixedAppFooter=this.fixedFooter;this.fixedFooter="";}this.reparent();this.inherited(arguments);},resize:function(){this.inherited(arguments);_271.forEach(this.getChildren(),function(_277){if(_277.resize){_277.resize();}});this._dim=this.getDim();if(this._conn){this.resetScrollBar();}},isTopLevel:function(e){var _278=this.getParent&&this.getParent();return (!_278||!_278.resize);},addFixedBar:function(_279){var c=_279.domNode;var _27a=this.checkFixedBar(c,true);if(!_27a){return;}this.domNode.appendChild(c);if(_27a==="top"){this.fixedHeaderHeight=c.offsetHeight;this.isLocalHeader=true;}else{if(_27a==="bottom"){this.fixedFooterHeight=c.offsetHeight;this.isLocalFooter=true;c.style.bottom="0px";}}this.resize();},reparent:function(){var i,idx,len,c;for(i=0,idx=0,len=this.domNode.childNodes.length;i<len;i++){c=this.domNode.childNodes[idx];if(c===this.containerNode||this.checkFixedBar(c,true)){idx++;continue;}this.containerNode.appendChild(this.domNode.removeChild(c));}},onAfterTransitionIn:function(_27b,dir,_27c,_27d,_27e){this.flashScrollBar();},getChildren:function(){var _27f=this.inherited(arguments);var _280;if(this.fixedHeader&&this.fixedHeader.parentNode===this.domNode){_280=_275.byNode(this.fixedHeader);if(_280){_27f.push(_280);}}if(this.fixedFooter&&this.fixedFooter.parentNode===this.domNode){_280=_275.byNode(this.fixedFooter);if(_280){_27f.push(_280);}}return _27f;},_addTransitionPaddingTop:function(_281){this.domNode.style.paddingTop=_281+"px";this.containerNode.style.paddingTop=_281+"px";},_removeTransitionPaddingTop:function(){this.domNode.style.paddingTop="";this.containerNode.style.paddingTop="";}});});},"dojox/mobile/_ScrollableMixin":function(){define(["dojo/_base/kernel","dojo/_base/config","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom","dojo/dom-class","dijit/registry","./scrollable"],function(dojo,_282,_283,lang,win,dom,_284,_285,_286){var cls=_283("dojox.mobile._ScrollableMixin",_286,{fixedHeader:"",fixedFooter:"",_fixedAppFooter:"",scrollableParams:null,allowNestedScrolls:true,appBars:true,constructor:function(){this.scrollableParams={};},destroy:function(){this.cleanup();this.inherited(arguments);},startup:function(){if(this._started){return;}if(this._fixedAppFooter){this._fixedAppFooter=dom.byId(this._fixedAppFooter);}this.findAppBars();var node,_287=this.scrollableParams;if(this.fixedHeader){node=dom.byId(this.fixedHeader);if(node.parentNode==this.domNode){this.isLocalHeader=true;}_287.fixedHeaderHeight=node.offsetHeight;}if(this.fixedFooter){node=dom.byId(this.fixedFooter);if(node.parentNode==this.domNode){this.isLocalFooter=true;node.style.bottom="0px";}_287.fixedFooterHeight=node.offsetHeight;}this.scrollType=this.scrollType||_282.mblScrollableScrollType||0;this.init(_287);if(this.allowNestedScrolls){for(var p=this.getParent();p;p=p.getParent()){if(p&&p.scrollableParams){this.dirLock=true;p.dirLock=true;break;}}}this._resizeHandle=this.subscribe("/dojox/mobile/afterResizeAll",function(){if(this.domNode.style.display==="none"){return;}var elem=win.doc.activeElement;if(this.isFormElement(elem)&&dom.isDescendant(elem,this.containerNode)){this.scrollIntoView(elem);}});this.inherited(arguments);},findAppBars:function(){if(!this.appBars){return;}var i,len,c;for(i=0,len=win.body().childNodes.length;i<len;i++){c=win.body().childNodes[i];this.checkFixedBar(c,false);}if(this.domNode.parentNode){for(i=0,len=this.domNode.parentNode.childNodes.length;i<len;i++){c=this.domNode.parentNode.childNodes[i];this.checkFixedBar(c,false);}}this.fixedFooterHeight=this.fixedFooter?this.fixedFooter.offsetHeight:0;},checkFixedBar:function(node,_288){if(node.nodeType===1){var _289=node.getAttribute("fixed")||node.getAttribute("data-mobile-fixed")||(_285.byNode(node)&&_285.byNode(node).fixed);if(_289==="top"){_284.add(node,"mblFixedHeaderBar");if(_288){node.style.top="0px";this.fixedHeader=node;}return _289;}else{if(_289==="bottom"){_284.add(node,"mblFixedBottomBar");if(_288){this.fixedFooter=node;}else{this._fixedAppFooter=node;}return _289;}}}return null;}});return cls;});},"dojox/mobile/scrollable":function(){define(["dojo/_base/kernel","dojo/_base/connect","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-geometry","dojo/touch","./sniff","./_css3","./_maskUtils"],function(dojo,_28a,_28b,lang,win,_28c,_28d,_28e,_28f,_290,has,css3,_291){var dm=lang.getObject("dojox.mobile",true);has.add("translate3d",function(){if(has("css3-animations")){var elem=win.doc.createElement("div");elem.style[css3.name("transform")]="translate3d(0px,1px,0px)";win.doc.documentElement.appendChild(elem);var v=win.doc.defaultView.getComputedStyle(elem,"")[css3.name("transform",true)];var _292=v&&v.indexOf("matrix")===0;win.doc.documentElement.removeChild(elem);return _292;}});var _293=function(){};lang.extend(_293,{fixedHeaderHeight:0,fixedFooterHeight:0,isLocalFooter:false,scrollBar:true,scrollDir:"v",weight:0.6,fadeScrollBar:true,disableFlashScrollBar:false,threshold:4,constraint:true,touchNode:null,propagatable:true,dirLock:false,height:"",scrollType:0,_parentPadBorderExtentsBottom:0,_moved:false,init:function(_294){if(_294){for(var p in _294){if(_294.hasOwnProperty(p)){this[p]=((p=="domNode"||p=="containerNode")&&typeof _294[p]=="string")?win.doc.getElementById(_294[p]):_294[p];}}}if(typeof this.domNode.style.msTouchAction!="undefined"){this.domNode.style.msTouchAction="none";}this.touchNode=this.touchNode||this.containerNode;this._v=(this.scrollDir.indexOf("v")!=-1);this._h=(this.scrollDir.indexOf("h")!=-1);this._f=(this.scrollDir=="f");this._ch=[];this._ch.push(_28a.connect(this.touchNode,_290.press,this,"onTouchStart"));if(has("css3-animations")){this._useTopLeft=this.scrollType?this.scrollType===2:false;if(!this._useTopLeft){this._useTransformTransition=this.scrollType?this.scrollType===3:has("ios")>=6||has("android")||has("bb");}if(!this._useTopLeft){if(this._useTransformTransition){this._ch.push(_28a.connect(this.domNode,css3.name("transitionEnd"),this,"onFlickAnimationEnd"));this._ch.push(_28a.connect(this.domNode,css3.name("transitionStart"),this,"onFlickAnimationStart"));}else{this._ch.push(_28a.connect(this.domNode,css3.name("animationEnd"),this,"onFlickAnimationEnd"));this._ch.push(_28a.connect(this.domNode,css3.name("animationStart"),this,"onFlickAnimationStart"));for(var i=0;i<3;i++){this.setKeyframes(null,null,i);}}if(has("translate3d")){_28e.set(this.containerNode,css3.name("transform"),"translate3d(0,0,0)");}}else{this._ch.push(_28a.connect(this.domNode,css3.name("transitionEnd"),this,"onFlickAnimationEnd"));this._ch.push(_28a.connect(this.domNode,css3.name("transitionStart"),this,"onFlickAnimationStart"));}}this._speed={x:0,y:0};this._appFooterHeight=0;if(this.isTopLevel()&&!this.noResize){this.resize();}var _295=this;setTimeout(function(){_295.flashScrollBar();},600);if(win.global.addEventListener){this._onScroll=function(e){if(!_295.domNode||_295.domNode.style.display==="none"){return;}var _296=_295.domNode.scrollTop;var _297=_295.domNode.scrollLeft;var pos;if(_296>0||_297>0){pos=_295.getPos();_295.domNode.scrollLeft=0;_295.domNode.scrollTop=0;_295.scrollTo({x:pos.x-_297,y:pos.y-_296});}};win.global.addEventListener("scroll",this._onScroll,true);}if(!this.disableTouchScroll&&this.domNode.addEventListener){this._onFocusScroll=function(e){if(!_295.domNode||_295.domNode.style.display==="none"){return;}var node=win.doc.activeElement;var _298,_299;if(node){_298=node.getBoundingClientRect();_299=_295.domNode.getBoundingClientRect();if(_298.height<_295.getDim().d.h){if(_298.top<(_299.top+_295.fixedHeaderHeight)){_295.scrollIntoView(node,true);}else{if((_298.top+_298.height)>(_299.top+_299.height-_295.fixedFooterHeight)){_295.scrollIntoView(node,false);}}}}};this.domNode.addEventListener("focus",this._onFocusScroll,true);}},isTopLevel:function(){return true;},cleanup:function(){if(this._ch){for(var i=0;i<this._ch.length;i++){_28a.disconnect(this._ch[i]);}this._ch=null;}if(this._onScroll&&win.global.removeEventListener){win.global.removeEventListener("scroll",this._onScroll,true);this._onScroll=null;}if(this._onFocusScroll&&this.domNode.removeEventListener){this.domNode.removeEventListener("focus",this._onFocusScroll,true);this._onFocusScroll=null;}},findDisp:function(node){if(!node.parentNode){return null;}if(node.nodeType===1&&_28c.contains(node,"mblSwapView")&&node.style.display!=="none"){return node;}var _29a=node.parentNode.childNodes;for(var i=0;i<_29a.length;i++){var n=_29a[i];if(n.nodeType===1&&_28c.contains(n,"mblView")&&n.style.display!=="none"){return n;}}return node;},getScreenSize:function(){return {h:win.global.innerHeight||win.doc.documentElement.clientHeight||win.doc.documentElement.offsetHeight,w:win.global.innerWidth||win.doc.documentElement.clientWidth||win.doc.documentElement.offsetWidth};},resize:function(e){this._appFooterHeight=(this._fixedAppFooter)?this._fixedAppFooter.offsetHeight:0;if(this.isLocalHeader){this.containerNode.style.marginTop=this.fixedHeaderHeight+"px";}var top=0;for(var n=this.domNode;n&&n.tagName!="BODY";n=n.offsetParent){n=this.findDisp(n);if(!n){break;}top+=n.offsetTop+_28f.getBorderExtents(n).h;}var h,_29b=this.getScreenSize().h,dh=_29b-top-this._appFooterHeight;if(this.height==="inherit"){if(this.domNode.offsetParent){h=_28f.getContentBox(this.domNode.offsetParent).h-_28f.getBorderExtents(this.domNode).h+"px";}}else{if(this.height==="auto"){var _29c=this.domNode.offsetParent;if(_29c){this.domNode.style.height="0px";var _29d=_29c.getBoundingClientRect(),_29e=this.domNode.getBoundingClientRect(),_29f=_29d.bottom-this._appFooterHeight-this._parentPadBorderExtentsBottom;if(_29e.bottom>=_29f){dh=_29b-(_29e.top-_29d.top)-this._appFooterHeight-this._parentPadBorderExtentsBottom;}else{dh=_29f-_29e.bottom;}}var _2a0=Math.max(this.domNode.scrollHeight,this.containerNode.scrollHeight);h=(_2a0?Math.min(_2a0,dh):dh)+"px";}else{if(this.height){h=this.height;}}}if(!h){h=dh+"px";}if(h.charAt(0)!=="-"&&h!=="default"){this.domNode.style.height=h;}if(!this._conn){this.onTouchEnd();}},onFlickAnimationStart:function(e){_28b.stop(e);},onFlickAnimationEnd:function(e){if(has("ios")){this._keepInputCaretInActiveElement();}if(e){var an=e.animationName;if(an&&an.indexOf("scrollableViewScroll2")===-1){if(an.indexOf("scrollableViewScroll0")!==-1){if(this._scrollBarNodeV){_28c.remove(this._scrollBarNodeV,"mblScrollableScrollTo0");}}else{if(an.indexOf("scrollableViewScroll1")!==-1){if(this._scrollBarNodeH){_28c.remove(this._scrollBarNodeH,"mblScrollableScrollTo1");}}else{if(this._scrollBarNodeV){this._scrollBarNodeV.className="";}if(this._scrollBarNodeH){this._scrollBarNodeH.className="";}}}return;}if(this._useTransformTransition||this._useTopLeft){var n=e.target;if(n===this._scrollBarV||n===this._scrollBarH){var cls="mblScrollableScrollTo"+(n===this._scrollBarV?"0":"1");if(_28c.contains(n,cls)){_28c.remove(n,cls);}else{n.className="";}return;}}if(e.srcElement){_28b.stop(e);}}this.stopAnimation();if(this._bounce){var _2a1=this;var _2a2=_2a1._bounce;setTimeout(function(){_2a1.slideTo(_2a2,0.3,"ease-out");},0);_2a1._bounce=undefined;}else{this.hideScrollBar();this.removeCover();}},isFormElement:function(node){if(node&&node.nodeType!==1){node=node.parentNode;}if(!node||node.nodeType!==1){return false;}var t=node.tagName;return (t==="SELECT"||t==="INPUT"||t==="TEXTAREA"||t==="BUTTON");},onTouchStart:function(e){if(this.disableTouchScroll){return;}if(this._conn&&(new Date()).getTime()-this.startTime<500){return;}if(!this._conn){this._conn=[];this._conn.push(_28a.connect(win.doc,_290.move,this,"onTouchMove"));this._conn.push(_28a.connect(win.doc,_290.release,this,"onTouchEnd"));}this._aborted=false;if(_28c.contains(this.containerNode,"mblScrollableScrollTo2")){this.abort();}else{if(this._scrollBarNodeV){this._scrollBarNodeV.className="";}if(this._scrollBarNodeH){this._scrollBarNodeH.className="";}}this.touchStartX=e.touches?e.touches[0].pageX:e.clientX;this.touchStartY=e.touches?e.touches[0].pageY:e.clientY;this.startTime=(new Date()).getTime();this.startPos=this.getPos();this._dim=this.getDim();this._time=[0];this._posX=[this.touchStartX];this._posY=[this.touchStartY];this._locked=false;this._moved=false;if(!this.isFormElement(e.target)){this.propagatable?e.preventDefault():_28b.stop(e);}},onTouchMove:function(e){if(this._locked){return;}var x=e.touches?e.touches[0].pageX:e.clientX;var y=e.touches?e.touches[0].pageY:e.clientY;var dx=x-this.touchStartX;var dy=y-this.touchStartY;var to={x:this.startPos.x+dx,y:this.startPos.y+dy};var dim=this._dim;dx=Math.abs(dx);dy=Math.abs(dy);if(this._time.length==1){if(this.dirLock){if(this._v&&!this._h&&dx>=this.threshold&&dx>=dy||(this._h||this._f)&&!this._v&&dy>=this.threshold&&dy>=dx){this._locked=true;return;}}if(this._v&&this._h){if(dy<this.threshold&&dx<this.threshold){return;}}else{if(this._v&&dy<this.threshold||(this._h||this._f)&&dx<this.threshold){return;}}this._moved=true;this.addCover();this.showScrollBar();}var _2a3=this.weight;if(this._v&&this.constraint){if(to.y>0){to.y=Math.round(to.y*_2a3);}else{if(to.y<-dim.o.h){if(dim.c.h<dim.d.h){to.y=Math.round(to.y*_2a3);}else{to.y=-dim.o.h-Math.round((-dim.o.h-to.y)*_2a3);}}}}if((this._h||this._f)&&this.constraint){if(to.x>0){to.x=Math.round(to.x*_2a3);}else{if(to.x<-dim.o.w){if(dim.c.w<dim.d.w){to.x=Math.round(to.x*_2a3);}else{to.x=-dim.o.w-Math.round((-dim.o.w-to.x)*_2a3);}}}}this.scrollTo(to);var max=10;var n=this._time.length;if(n>=2){this._moved=true;var d0,d1;if(this._v&&!this._h){d0=this._posY[n-1]-this._posY[n-2];d1=y-this._posY[n-1];}else{if(!this._v&&this._h){d0=this._posX[n-1]-this._posX[n-2];d1=x-this._posX[n-1];}}if(d0*d1<0){this._time=[this._time[n-1]];this._posX=[this._posX[n-1]];this._posY=[this._posY[n-1]];n=1;}}if(n==max){this._time.shift();this._posX.shift();this._posY.shift();}this._time.push((new Date()).getTime()-this.startTime);this._posX.push(x);this._posY.push(y);},_keepInputCaretInActiveElement:function(){var _2a4=win.doc.activeElement;var _2a5;if(_2a4&&(_2a4.tagName=="INPUT"||_2a4.tagName=="TEXTAREA")){_2a5=_2a4.value;if(_2a4.type=="number"||_2a4.type=="week"){if(_2a5){_2a4.value=_2a4.value+1;}else{_2a4.value=(_2a4.type=="week")?"2013-W10":1;}_2a4.value=_2a5;}else{_2a4.value=_2a4.value+" ";_2a4.value=_2a5;}}},onTouchEnd:function(e){if(this._locked){return;}var _2a6=this._speed={x:0,y:0};var dim=this._dim;var pos=this.getPos();var to={};if(e){if(!this._conn){return;}for(var i=0;i<this._conn.length;i++){_28a.disconnect(this._conn[i]);}this._conn=null;var _2a7=false;if(!this._aborted&&!this._moved){_2a7=true;}if(_2a7){this.hideScrollBar();this.removeCover();if(has("touch")&&has("clicks-prevented")&&!this.isFormElement(e.target)){var elem=e.target;if(elem.nodeType!=1){elem=elem.parentNode;}setTimeout(function(){dm._sendClick(elem,e);});}return;}_2a6=this._speed=this.getSpeed();}else{if(pos.x==0&&pos.y==0){return;}dim=this.getDim();}if(this._v){to.y=pos.y+_2a6.y;}if(this._h||this._f){to.x=pos.x+_2a6.x;}if(this.adjustDestination(to,pos,dim)===false){return;}if(this.constraint){if(this.scrollDir=="v"&&dim.c.h<dim.d.h){this.slideTo({y:0},0.3,"ease-out");return;}else{if(this.scrollDir=="h"&&dim.c.w<dim.d.w){this.slideTo({x:0},0.3,"ease-out");return;}else{if(this._v&&this._h&&dim.c.h<dim.d.h&&dim.c.w<dim.d.w){this.slideTo({x:0,y:0},0.3,"ease-out");return;}}}}var _2a8,_2a9="ease-out";var _2aa={};if(this._v&&this.constraint){if(to.y>0){if(pos.y>0){_2a8=0.3;to.y=0;}else{to.y=Math.min(to.y,20);_2a9="linear";_2aa.y=0;}}else{if(-_2a6.y>dim.o.h-(-pos.y)){if(pos.y<-dim.o.h){_2a8=0.3;to.y=dim.c.h<=dim.d.h?0:-dim.o.h;}else{to.y=Math.max(to.y,-dim.o.h-20);_2a9="linear";_2aa.y=-dim.o.h;}}}}if((this._h||this._f)&&this.constraint){if(to.x>0){if(pos.x>0){_2a8=0.3;to.x=0;}else{to.x=Math.min(to.x,20);_2a9="linear";_2aa.x=0;}}else{if(-_2a6.x>dim.o.w-(-pos.x)){if(pos.x<-dim.o.w){_2a8=0.3;to.x=dim.c.w<=dim.d.w?0:-dim.o.w;}else{to.x=Math.max(to.x,-dim.o.w-20);_2a9="linear";_2aa.x=-dim.o.w;}}}}this._bounce=(_2aa.x!==undefined||_2aa.y!==undefined)?_2aa:undefined;if(_2a8===undefined){var _2ab,_2ac;if(this._v&&this._h){_2ac=Math.sqrt(_2a6.x*_2a6.x+_2a6.y*_2a6.y);_2ab=Math.sqrt(Math.pow(to.y-pos.y,2)+Math.pow(to.x-pos.x,2));}else{if(this._v){_2ac=_2a6.y;_2ab=to.y-pos.y;}else{if(this._h){_2ac=_2a6.x;_2ab=to.x-pos.x;}}}if(_2ab===0&&!e){return;}_2a8=_2ac!==0?Math.abs(_2ab/_2ac):0.01;}this.slideTo(to,_2a8,_2a9);},adjustDestination:function(to,pos,dim){return true;},abort:function(){this._aborted=true;this.scrollTo(this.getPos());this.stopAnimation();},stopAnimation:function(){_28c.remove(this.containerNode,"mblScrollableScrollTo2");if(this._scrollBarV){this._scrollBarV.className="";}if(this._scrollBarH){this._scrollBarH.className="";}if(this._useTransformTransition||this._useTopLeft){this.containerNode.style[css3.name("transition")]="";if(this._scrollBarV){this._scrollBarV.style[css3.name("transition")]="";}if(this._scrollBarH){this._scrollBarH.style[css3.name("transition")]="";}}},scrollIntoView:function(node,_2ad,_2ae){if(!this._v){return;}var c=this.containerNode,h=this.getDim().d.h,top=0;for(var n=node;n!==c;n=n.offsetParent){if(!n||n.tagName==="BODY"){return;}top+=n.offsetTop;}var y=_2ad?Math.max(h-c.offsetHeight,-top):Math.min(0,h-top-node.offsetHeight);(_2ae&&typeof _2ae==="number")?this.slideTo({y:y},_2ae,"ease-out"):this.scrollTo({y:y});},getSpeed:function(){var x=0,y=0,n=this._time.length;if(n>=2&&(new Date()).getTime()-this.startTime-this._time[n-1]<500){var dy=this._posY[n-(n>3?2:1)]-this._posY[(n-6)>=0?n-6:0];var dx=this._posX[n-(n>3?2:1)]-this._posX[(n-6)>=0?n-6:0];var dt=this._time[n-(n>3?2:1)]-this._time[(n-6)>=0?n-6:0];y=this.calcSpeed(dy,dt);x=this.calcSpeed(dx,dt);}return {x:x,y:y};},calcSpeed:function(_2af,time){return Math.round(_2af/time*100)*4;},scrollTo:function(to,_2b0,node){var _2b1,_2b2,_2b3;var _2b4=true;if(!this._aborted&&this._conn){if(!this._dim){this._dim=this.getDim();}_2b2=(to.y>0)?to.y:0;_2b3=(this._dim.o.h+to.y<0)?-1*(this._dim.o.h+to.y):0;_2b1={bubbles:false,cancelable:false,x:to.x,y:to.y,beforeTop:_2b2>0,beforeTopHeight:_2b2,afterBottom:_2b3>0,afterBottomHeight:_2b3};_2b4=this.onBeforeScroll(_2b1);}if(_2b4){var s=(node||this.containerNode).style;if(has("css3-animations")){if(!this._useTopLeft){if(this._useTransformTransition){s[css3.name("transition")]="";}s[css3.name("transform")]=this.makeTranslateStr(to);}else{s[css3.name("transition")]="";if(this._v){s.top=to.y+"px";}if(this._h||this._f){s.left=to.x+"px";}}}else{if(this._v){s.top=to.y+"px";}if(this._h||this._f){s.left=to.x+"px";}}if(has("ios")){this._keepInputCaretInActiveElement();}if(!_2b0){this.scrollScrollBarTo(this.calcScrollBarPos(to));}if(_2b1){this.onAfterScroll(_2b1);}}},onBeforeScroll:function(e){return true;},onAfterScroll:function(e){},slideTo:function(to,_2b5,_2b6){this._runSlideAnimation(this.getPos(),to,_2b5,_2b6,this.containerNode,2);this.slideScrollBarTo(to,_2b5,_2b6);},makeTranslateStr:function(to){var y=this._v&&typeof to.y=="number"?to.y+"px":"0px";var x=(this._h||this._f)&&typeof to.x=="number"?to.x+"px":"0px";return has("translate3d")?"translate3d("+x+","+y+",0px)":"translate("+x+","+y+")";},getPos:function(){if(has("css3-animations")){var s=win.doc.defaultView.getComputedStyle(this.containerNode,"");if(!this._useTopLeft){var m=s[css3.name("transform")];if(m&&m.indexOf("matrix")===0){var arr=m.split(/[,\s\)]+/);var i=m.indexOf("matrix3d")===0?12:4;return {y:arr[i+1]-0,x:arr[i]-0};}return {x:0,y:0};}else{return {x:parseInt(s.left)||0,y:parseInt(s.top)||0};}}else{var y=parseInt(this.containerNode.style.top)||0;return {y:y,x:this.containerNode.offsetLeft};}},getDim:function(){var d={};d.c={h:this.containerNode.offsetHeight,w:this.containerNode.offsetWidth};d.v={h:this.domNode.offsetHeight+this._appFooterHeight,w:this.domNode.offsetWidth};d.d={h:d.v.h-this.fixedHeaderHeight-this.fixedFooterHeight-this._appFooterHeight,w:d.v.w};d.o={h:d.c.h-d.v.h+this.fixedHeaderHeight+this.fixedFooterHeight+this._appFooterHeight,w:d.c.w-d.v.w};return d;},showScrollBar:function(){if(!this.scrollBar){return;}var dim=this._dim;if(this.scrollDir=="v"&&dim.c.h<=dim.d.h){return;}if(this.scrollDir=="h"&&dim.c.w<=dim.d.w){return;}if(this._v&&this._h&&dim.c.h<=dim.d.h&&dim.c.w<=dim.d.w){return;}var _2b7=function(self,dir){var bar=self["_scrollBarNode"+dir];if(!bar){var _2b8=_28d.create("div",null,self.domNode);var _2b9={position:"absolute",overflow:"hidden"};if(dir=="V"){_2b9.right="2px";_2b9.width="5px";}else{_2b9.bottom=(self.isLocalFooter?self.fixedFooterHeight:0)+2+"px";_2b9.height="5px";}_28e.set(_2b8,_2b9);_2b8.className="mblScrollBarWrapper";self["_scrollBarWrapper"+dir]=_2b8;bar=_28d.create("div",null,_2b8);_28e.set(bar,css3.add({opacity:0.6,position:"absolute",backgroundColor:"#606060",fontSize:"1px",MozBorderRadius:"2px",zIndex:2147483647},{borderRadius:"2px",transformOrigin:"0 0"}));_28e.set(bar,dir=="V"?{width:"5px"}:{height:"5px"});self["_scrollBarNode"+dir]=bar;}return bar;};if(this._v&&!this._scrollBarV){this._scrollBarV=_2b7(this,"V");}if(this._h&&!this._scrollBarH){this._scrollBarH=_2b7(this,"H");}this.resetScrollBar();},hideScrollBar:function(){if(this.fadeScrollBar&&has("css3-animations")){if(!dm._fadeRule){var node=_28d.create("style",null,win.doc.getElementsByTagName("head")[0]);node.textContent=".mblScrollableFadeScrollBar{"+"  "+css3.name("animation-duration",true)+": 1s;"+"  "+css3.name("animation-name",true)+": scrollableViewFadeScrollBar;}"+"@"+css3.name("keyframes",true)+" scrollableViewFadeScrollBar{"+"  from { opacity: 0.6; }"+"  to { opacity: 0; }}";dm._fadeRule=node.sheet.cssRules[1];}}if(!this.scrollBar){return;}var f=function(bar,self){_28e.set(bar,css3.add({opacity:0},{animationDuration:""}));if(!(self._useTopLeft&&has("android"))){bar.className="mblScrollableFadeScrollBar";}};if(this._scrollBarV){f(this._scrollBarV,this);this._scrollBarV=null;}if(this._scrollBarH){f(this._scrollBarH,this);this._scrollBarH=null;}},calcScrollBarPos:function(to){var pos={};var dim=this._dim;var f=function(_2ba,barH,t,d,c){var y=Math.round((d-barH-8)/(d-c)*t);if(y<-barH+5){y=-barH+5;}if(y>_2ba-5){y=_2ba-5;}return y;};if(typeof to.y=="number"&&this._scrollBarV){pos.y=f(this._scrollBarWrapperV.offsetHeight,this._scrollBarV.offsetHeight,to.y,dim.d.h,dim.c.h);}if(typeof to.x=="number"&&this._scrollBarH){pos.x=f(this._scrollBarWrapperH.offsetWidth,this._scrollBarH.offsetWidth,to.x,dim.d.w,dim.c.w);}return pos;},scrollScrollBarTo:function(to){if(!this.scrollBar){return;}if(this._v&&this._scrollBarV&&typeof to.y=="number"){if(has("css3-animations")){if(!this._useTopLeft){if(this._useTransformTransition){this._scrollBarV.style[css3.name("transition")]="";}this._scrollBarV.style[css3.name("transform")]=this.makeTranslateStr({y:to.y});}else{_28e.set(this._scrollBarV,css3.add({top:to.y+"px"},{transition:""}));}}else{this._scrollBarV.style.top=to.y+"px";}}if(this._h&&this._scrollBarH&&typeof to.x=="number"){if(has("css3-animations")){if(!this._useTopLeft){if(this._useTransformTransition){this._scrollBarH.style[css3.name("transition")]="";}this._scrollBarH.style[css3.name("transform")]=this.makeTranslateStr({x:to.x});}else{_28e.set(this._scrollBarH,css3.add({left:to.x+"px"},{transition:""}));}}else{this._scrollBarH.style.left=to.x+"px";}}},slideScrollBarTo:function(to,_2bb,_2bc){if(!this.scrollBar){return;}var _2bd=this.calcScrollBarPos(this.getPos());var _2be=this.calcScrollBarPos(to);if(this._v&&this._scrollBarV){this._runSlideAnimation({y:_2bd.y},{y:_2be.y},_2bb,_2bc,this._scrollBarV,0);}if(this._h&&this._scrollBarH){this._runSlideAnimation({x:_2bd.x},{x:_2be.x},_2bb,_2bc,this._scrollBarH,1);}},_runSlideAnimation:function(from,to,_2bf,_2c0,node,idx){if(has("css3-animations")){if(!this._useTopLeft){if(this._useTransformTransition){if(to.x===undefined){to.x=from.x;}if(to.y===undefined){to.y=from.y;}if(to.x!==from.x||to.y!==from.y){_28e.set(node,css3.add({},{transitionProperty:css3.name("transform"),transitionDuration:_2bf+"s",transitionTimingFunction:_2c0}));var t=this.makeTranslateStr(to);setTimeout(function(){_28e.set(node,css3.add({},{transform:t}));},0);_28c.add(node,"mblScrollableScrollTo"+idx);}else{this.hideScrollBar();this.removeCover();}}else{this.setKeyframes(from,to,idx);_28e.set(node,css3.add({},{animationDuration:_2bf+"s",animationTimingFunction:_2c0}));_28c.add(node,"mblScrollableScrollTo"+idx);if(idx==2){this.scrollTo(to,true,node);}else{this.scrollScrollBarTo(to);}}}else{_28e.set(node,css3.add({},{transitionProperty:"top, left",transitionDuration:_2bf+"s",transitionTimingFunction:_2c0}));setTimeout(function(){_28e.set(node,{top:(to.y||0)+"px",left:(to.x||0)+"px"});},0);_28c.add(node,"mblScrollableScrollTo"+idx);}}else{if(dojo.fx&&dojo.fx.easing&&_2bf){var s=dojo.fx.slideTo({node:node,duration:_2bf*1000,left:to.x,top:to.y,easing:(_2c0=="ease-out")?dojo.fx.easing.quadOut:dojo.fx.easing.linear}).play();if(idx==2){_28a.connect(s,"onEnd",this,"onFlickAnimationEnd");}}else{if(idx==2){this.scrollTo(to,false,node);this.onFlickAnimationEnd();}else{this.scrollScrollBarTo(to);}}}},resetScrollBar:function(){var f=function(_2c1,bar,d,c,hd,v){if(!bar){return;}var _2c2={};_2c2[v?"top":"left"]=hd+4+"px";var t=(d-8)<=0?1:d-8;_2c2[v?"height":"width"]=t+"px";_28e.set(_2c1,_2c2);var l=Math.round(d*d/c);l=Math.min(Math.max(l-8,5),t);bar.style[v?"height":"width"]=l+"px";_28e.set(bar,{"opacity":0.6});};var dim=this.getDim();f(this._scrollBarWrapperV,this._scrollBarV,dim.d.h,dim.c.h,this.fixedHeaderHeight,true);f(this._scrollBarWrapperH,this._scrollBarH,dim.d.w,dim.c.w,0);this.createMask();},createMask:function(){if(!(has("webkit")||has("svg"))){return;}if(this._scrollBarWrapperV){var h=this._scrollBarWrapperV.offsetHeight;_291.createRoundMask(this._scrollBarWrapperV,0,0,0,0,5,h,2,2,0.5);}if(this._scrollBarWrapperH){var w=this._scrollBarWrapperH.offsetWidth;_291.createRoundMask(this._scrollBarWrapperH,0,0,0,0,w,5,2,2,0.5);}},flashScrollBar:function(){if(this.disableFlashScrollBar||!this.domNode){return;}this._dim=this.getDim();if(this._dim.d.h<=0){return;}this.showScrollBar();var _2c3=this;setTimeout(function(){_2c3.hideScrollBar();},300);},addCover:function(){if(!has("touch")&&!this.noCover){if(!dm._cover){dm._cover=_28d.create("div",null,win.doc.body);dm._cover.className="mblScrollableCover";_28e.set(dm._cover,{backgroundColor:"#ffff00",opacity:0,position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",zIndex:2147483647});this._ch.push(_28a.connect(dm._cover,_290.press,this,"onTouchEnd"));}else{dm._cover.style.display="";}this.setSelectable(dm._cover,false);this.setSelectable(this.domNode,false);}},removeCover:function(){if(!has("touch")&&dm._cover){dm._cover.style.display="none";this.setSelectable(dm._cover,true);this.setSelectable(this.domNode,true);}},setKeyframes:function(from,to,idx){if(!dm._rule){dm._rule=[];}if(!dm._rule[idx]){var node=_28d.create("style",null,win.doc.getElementsByTagName("head")[0]);node.textContent=".mblScrollableScrollTo"+idx+"{"+css3.name("animation-name",true)+": scrollableViewScroll"+idx+";}"+"@"+css3.name("keyframes",true)+" scrollableViewScroll"+idx+"{}";dm._rule[idx]=node.sheet.cssRules[1];}var rule=dm._rule[idx];if(rule){if(from){rule.deleteRule(has("webkit")?"from":0);(rule.insertRule||rule.appendRule).call(rule,"from { "+css3.name("transform",true)+": "+this.makeTranslateStr(from)+"; }");}if(to){if(to.x===undefined){to.x=from.x;}if(to.y===undefined){to.y=from.y;}rule.deleteRule(has("webkit")?"to":1);(rule.insertRule||rule.appendRule).call(rule,"to { "+css3.name("transform",true)+": "+this.makeTranslateStr(to)+"; }");}}},setSelectable:function(node,_2c4){node.style.KhtmlUserSelect=_2c4?"auto":"none";node.style.MozUserSelect=_2c4?"":"none";node.onselectstart=_2c4?null:function(){return false;};if(has("ie")){node.unselectable=_2c4?"":"on";var _2c5=node.getElementsByTagName("*");for(var i=0;i<_2c5.length;i++){_2c5[i].unselectable=_2c4?"":"on";}}}});lang.setObject("dojox.mobile.scrollable",_293);return _293;});},"dojox/mobile/StoreCarousel":function(){define(["dojo/_base/declare","./Carousel","./_StoreMixin"],function(_2c6,_2c7,_2c8){return _2c6("dojox.mobile.StoreCarousel",[_2c7,_2c8],{});});},"dojox/mobile/Carousel":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/sniff","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dijit/registry","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./lazyLoadUtils","./CarouselItem","./PageIndicator","./SwapView","require","dojo/has!dojo-bidi?dojox/mobile/bidi/Carousel"],function(_2c9,_2ca,_2cb,_2cc,lang,has,_2cd,_2ce,_2cf,_2d0,_2d1,_2d2,_2d3,_2d4,_2d5,_2d6,_2d7,_2d8,_2d9){var _2da=_2cb(has("dojo-bidi")?"dojox.mobile.NonBidiCarousel":"dojox.mobile.Carousel",[_2d3,_2d2,_2d1],{numVisible:2,itemWidth:0,title:"",pageIndicator:true,navButton:false,height:"",selectable:true,baseClass:"mblCarousel",buildRendering:function(){this.containerNode=_2ce.create("div",{className:"mblCarouselPages"});this.inherited(arguments);var i;if(this.srcNodeRef){for(i=0,len=this.srcNodeRef.childNodes.length;i<len;i++){this.containerNode.appendChild(this.srcNodeRef.firstChild);}}this.headerNode=_2ce.create("div",{className:"mblCarouselHeaderBar"},this.domNode);if(this.navButton){this.btnContainerNode=_2ce.create("div",{className:"mblCarouselBtnContainer"},this.headerNode);_2cf.set(this.btnContainerNode,"float","right");this.prevBtnNode=_2ce.create("button",{className:"mblCarouselBtn",title:"Previous",innerHTML:"&lt;"},this.btnContainerNode);this.nextBtnNode=_2ce.create("button",{className:"mblCarouselBtn",title:"Next",innerHTML:"&gt;"},this.btnContainerNode);this._prevHandle=this.connect(this.prevBtnNode,"onclick","onPrevBtnClick");this._nextHandle=this.connect(this.nextBtnNode,"onclick","onNextBtnClick");}if(this.pageIndicator){if(!this.title){this.title="&nbsp;";}this.piw=new _2d6();this.headerNode.appendChild(this.piw.domNode);}this.titleNode=_2ce.create("div",{className:"mblCarouselTitle"},this.headerNode);this.domNode.appendChild(this.containerNode);this.subscribe("/dojox/mobile/viewChanged","handleViewChanged");this.connect(this.domNode,"onclick","_onClick");this.connect(this.domNode,"onkeydown","_onClick");this._dragstartHandle=this.connect(this.domNode,"ondragstart",_2cc.stop);this.selectedItemIndex=-1;this.items=[];},startup:function(){if(this._started){return;}var h;if(this.height==="inherit"){if(this.domNode.offsetParent){h=this.domNode.offsetParent.offsetHeight+"px";}}else{if(this.height){h=this.height;}}if(h){this.domNode.style.height=h;}if(this.store){if(!this.setStore){throw new Error("Use StoreCarousel or DataCarousel instead of Carousel.");}var _2db=this.store;this.store=null;this.setStore(_2db,this.query,this.queryOptions);}else{this.resizeItems();}this.inherited(arguments);this.currentView=_2c9.filter(this.getChildren(),function(view){return view.isVisible();})[0];},resizeItems:function(){var idx=0,i;var h=this.domNode.offsetHeight-(this.headerNode?this.headerNode.offsetHeight:0);var m=(has("ie")<10)?5/this.numVisible-1:5/this.numVisible;var node,item;_2c9.forEach(this.getChildren(),function(view){if(!(view instanceof _2d7)){return;}if(!(view.lazy)){view._instantiated=true;}var ch=view.containerNode.childNodes;for(i=0,len=ch.length;i<len;i++){node=ch[i];if(node.nodeType!==1){continue;}item=this.items[idx]||{};_2cf.set(node,{width:item.width||(90/this.numVisible+"%"),height:item.height||h+"px",margin:"0 "+(item.margin||m+"%")});_2cd.add(node,"mblCarouselSlot");idx++;}},this);if(this.piw){this.piw.refId=this.containerNode.firstChild;this.piw.reset();}},resize:function(){if(!this.itemWidth){return;}var num=Math.floor(this.domNode.offsetWidth/this.itemWidth);if(num===this.numVisible){return;}this.selectedItemIndex=this.getIndexByItemWidget(this.selectedItem);this.numVisible=num;if(this.items.length>0){this.onComplete(this.items);this.select(this.selectedItemIndex);}},fillPages:function(){_2c9.forEach(this.getChildren(),function(_2dc,i){var s="";var j;for(j=0;j<this.numVisible;j++){var type,_2dd="",_2de;var idx=i*this.numVisible+j;var item={};if(idx<this.items.length){item=this.items[idx];type=this.store.getValue(item,"type");if(type){_2dd=this.store.getValue(item,"props");_2de=this.store.getValue(item,"mixins");}else{type="dojox.mobile.CarouselItem";_2c9.forEach(["alt","src","headerText","footerText"],function(p){var v=this.store.getValue(item,p);if(v!==undefined){if(_2dd){_2dd+=",";}_2dd+=p+":\""+v+"\"";}},this);}}else{type="dojox.mobile.CarouselItem";_2dd="src:\""+_2d8.toUrl("dojo/resources/blank.gif")+"\""+", className:\"mblCarouselItemBlank\"";}s+="<div data-dojo-type=\""+type+"\"";if(_2dd){s+=" data-dojo-props='"+_2dd+"'";}if(_2de){s+=" data-dojo-mixins='"+_2de+"'";}s+="></div>";}_2dc.containerNode.innerHTML=s;},this);},onComplete:function(_2df){_2c9.forEach(this.getChildren(),function(_2e0){if(_2e0 instanceof _2d7){_2e0.destroyRecursive();}});this.selectedItem=null;this.items=_2df;var _2e1=Math.ceil(_2df.length/this.numVisible),i,h=this.domNode.offsetHeight-this.headerNode.offsetHeight,idx=this.selectedItemIndex===-1?0:this.selectedItemIndex;pg=Math.floor(idx/this.numVisible);for(i=0;i<_2e1;i++){var w=new _2d7({height:h+"px",lazy:true});this.addChild(w);if(i===pg){w.show();this.currentView=w;}else{w.hide();}}this.fillPages();this.resizeItems();var _2e2=this.getChildren();var from=pg-1<0?0:pg-1;var to=pg+1>_2e1-1?_2e1-1:pg+1;for(i=from;i<=to;i++){this.instantiateView(_2e2[i]);}},onError:function(){},onUpdate:function(){},onDelete:function(){},onSet:function(item,_2e3,_2e4,_2e5){},onNew:function(_2e6,_2e7){},onStoreClose:function(_2e8){},getParentView:function(node){var w;for(w=_2d0.getEnclosingWidget(node);w;w=w.getParent()){if(w.getParent() instanceof _2d7){return w;}}return null;},getIndexByItemWidget:function(w){if(!w){return -1;}var view=w.getParent();return _2c9.indexOf(this.getChildren(),view)*this.numVisible+_2c9.indexOf(view.getChildren(),w);},getItemWidgetByIndex:function(_2e9){if(_2e9===-1){return null;}var view=this.getChildren()[Math.floor(_2e9/this.numVisible)];return view.getChildren()[_2e9%this.numVisible];},onPrevBtnClick:function(){if(this.currentView){this.currentView.goTo(-1);}},onNextBtnClick:function(){if(this.currentView){this.currentView.goTo(1);}},_onClick:function(e){if(this.onClick(e)===false){return;}if(e&&e.type==="keydown"){if(e.keyCode===39){this.onNextBtnClick();}else{if(e.keyCode===37){this.onPrevBtnClick();}else{if(e.keyCode!==13){return;}}}}var w;for(w=_2d0.getEnclosingWidget(e.target);;w=w.getParent()){if(!w){return;}if(w.getParent() instanceof _2d7){break;}}this.select(w);var idx=this.getIndexByItemWidget(w);_2ca.publish("/dojox/mobile/carouselSelect",[this,w,this.items[idx],idx]);},select:function(_2ea){if(typeof (_2ea)==="number"){_2ea=this.getItemWidgetByIndex(_2ea);}if(this.selectable){if(this.selectedItem){this.selectedItem.set("selected",false);_2cd.remove(this.selectedItem.domNode,"mblCarouselSlotSelected");}if(_2ea){_2ea.set("selected",true);_2cd.add(_2ea.domNode,"mblCarouselSlotSelected");}this.selectedItem=_2ea;}},onClick:function(){},instantiateView:function(view){if(view&&!view._instantiated){var _2eb=(_2cf.get(view.domNode,"display")==="none");if(_2eb){_2cf.set(view.domNode,{visibility:"hidden",display:""});}_2d4.instantiateLazyWidgets(view.containerNode,null,function(root){if(_2eb){_2cf.set(view.domNode,{visibility:"visible",display:"none"});}});view._instantiated=true;}},handleViewChanged:function(view){if(view.getParent()!==this){return;}if(this.currentView.nextView(this.currentView.domNode)===view){this.instantiateView(view.nextView(view.domNode));}else{this.instantiateView(view.previousView(view.domNode));}this.currentView=view;},_setTitleAttr:function(_2ec){this.titleNode.innerHTML=this._cv?this._cv(_2ec):_2ec;this._set("title",_2ec);}});_2da.ChildSwapViewProperties={lazy:false};lang.extend(_2d7,_2da.ChildSwapViewProperties);return has("dojo-bidi")?_2cb("dojox.mobile.Carousel",[_2da,_2d9]):_2da;});},"dojox/mobile/lazyLoadUtils":function(){define(["dojo/_base/kernel","dojo/_base/array","dojo/_base/config","dojo/_base/window","dojo/_base/Deferred","dojo/ready"],function(dojo,_2ed,_2ee,win,_2ef,_2f0){var _2f1=function(){this._lazyNodes=[];var _2f2=this;if(_2ee.parseOnLoad){_2f0(90,function(){var _2f3=_2ed.filter(win.body().getElementsByTagName("*"),function(n){return n.getAttribute("lazy")==="true"||(n.getAttribute("data-dojo-props")||"").match(/lazy\s*:\s*true/);});var i,j,_2f4,s,n;for(i=0;i<_2f3.length;i++){_2ed.forEach(["dojoType","data-dojo-type"],function(a){_2f4=_2ed.filter(_2f3[i].getElementsByTagName("*"),function(n){return n.getAttribute(a);});for(j=0;j<_2f4.length;j++){n=_2f4[j];n.setAttribute("__"+a,n.getAttribute(a));n.removeAttribute(a);_2f2._lazyNodes.push(n);}});}});}_2f0(function(){for(var i=0;i<_2f2._lazyNodes.length;i++){var n=_2f2._lazyNodes[i];_2ed.forEach(["dojoType","data-dojo-type"],function(a){if(n.getAttribute("__"+a)){n.setAttribute(a,n.getAttribute("__"+a));n.removeAttribute("__"+a);}});}delete _2f2._lazyNodes;});this.instantiateLazyWidgets=function(root,_2f5,_2f6){var d=new _2ef();var req=_2f5?_2f5.split(/,/):[];var _2f7=root.getElementsByTagName("*");var len=_2f7.length;for(var i=0;i<len;i++){var s=_2f7[i].getAttribute("dojoType")||_2f7[i].getAttribute("data-dojo-type");if(s){req.push(s);var m=_2f7[i].getAttribute("data-dojo-mixins"),_2f8=m?m.split(/, */):[];req=req.concat(_2f8);}}if(req.length===0){return true;}if(dojo.require){_2ed.forEach(req,function(c){dojo["require"](c);});dojo.parser.parse(root);if(_2f6){_2f6(root);}return true;}else{req=_2ed.map(req,function(s){return s.replace(/\./g,"/");});require(req,function(){dojo.parser.parse(root);if(_2f6){_2f6(root);}d.resolve(true);});}return d;};};return new _2f1();});},"dojox/mobile/CarouselItem":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dijit/_Contained","dijit/_WidgetBase","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/CarouselItem"],function(_2f9,_2fa,_2fb,_2fc,_2fd,_2fe,has,_2ff){var _300=_2f9(has("dojo-bidi")?"dojox.mobile.NonBidiCarouselItem":"dojox.mobile.CarouselItem",[_2fe,_2fd],{alt:"",src:"",headerText:"",footerText:"",baseClass:"mblCarouselItem",buildRendering:function(){this.inherited(arguments);this.domNode.tabIndex="0";this.headerTextNode=_2fa.create("div",{className:"mblCarouselItemHeaderText"},this.domNode);this.imageNode=_2fa.create("img",{className:"mblCarouselItemImage"},this.domNode);this.footerTextNode=_2fa.create("div",{className:"mblCarouselItemFooterText"},this.domNode);},startup:function(){if(this._started){return;}this.inherited(arguments);this.resize();},resize:function(size){var box=_2fb.getMarginBox(this.domNode);if(box.h===0){return;}var h1=_2fb.getMarginBox(this.headerTextNode).h;var h2=_2fb.getMarginBox(this.footerTextNode).h;_2fb.setMarginBox(this.imageNode,{h:box.h-h1-h2});},select:function(){var img=this.imageNode;_2fc.set(img,"opacity",0.4);this.defer(function(){_2fc.set(img,"opacity",1);},1000);},_setAltAttr:function(alt){this._set("alt",alt);this.imageNode.alt=alt;},_setSrcAttr:function(src){this._set("src",src);this.imageNode.src=src;},_setHeaderTextAttr:function(text){this._set("headerText",text);this.headerTextNode.innerHTML=this._cv?this._cv(text):text;},_setFooterTextAttr:function(text){this._set("footerText",text);this.footerTextNode.innerHTML=this._cv?this._cv(text):text;}});return has("dojo-bidi")?_2f9("dojox.mobile.CarouselItem",[_300,_2ff]):_300;});},"dojox/mobile/PageIndicator":function(){define(["dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/dom-construct","dijit/registry","dijit/_Contained","dijit/_WidgetBase"],function(_301,_302,dom,_303,_304,_305,_306,_307){return _302("dojox.mobile.PageIndicator",[_307,_306],{refId:"",baseClass:"mblPageIndicator",buildRendering:function(){this.inherited(arguments);this._tblNode=_304.create("table",{className:"mblPageIndicatorContainer"},this.domNode);this._tblNode.insertRow(-1);this.connect(this.domNode,"onclick","_onClick");this.subscribe("/dojox/mobile/viewChanged",function(view){this.reset();});},startup:function(){var _308=this;_308.defer(function(){_308.reset();});},reset:function(){var r=this._tblNode.rows[0];var i,c,a=[],dot;var _309=(this.refId&&dom.byId(this.refId))||this.domNode;var _30a=_309.parentNode.childNodes;for(i=0;i<_30a.length;i++){c=_30a[i];if(this.isView(c)){a.push(c);}}if(r.cells.length!==a.length){_304.empty(r);for(i=0;i<a.length;i++){c=a[i];dot=_304.create("div",{className:"mblPageIndicatorDot"});r.insertCell(-1).appendChild(dot);}}if(a.length===0){return;}var _30b=_305.byNode(a[0]).getShowingView();for(i=0;i<r.cells.length;i++){dot=r.cells[i].firstChild;if(a[i]===_30b.domNode){_303.add(dot,"mblPageIndicatorDotSelected");}else{_303.remove(dot,"mblPageIndicatorDotSelected");}}},isView:function(node){return (node&&node.nodeType===1&&_303.contains(node,"mblView"));},_onClick:function(e){if(this.onClick(e)===false){return;}if(e.target!==this.domNode){return;}if(e.layerX<this._tblNode.offsetLeft){_301.publish("/dojox/mobile/prevPage",[this]);}else{if(e.layerX>this._tblNode.offsetLeft+this._tblNode.offsetWidth){_301.publish("/dojox/mobile/nextPage",[this]);}}},onClick:function(){}});});},"dojox/mobile/SwapView":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-class","dijit/registry","./View","./_ScrollableMixin","./sniff","./_css3","dojo/has!dojo-bidi?dojox/mobile/bidi/SwapView"],function(_30c,_30d,_30e,dom,_30f,_310,View,_311,has,css3,_312){var _313=_30e(has("dojo-bidi")?"dojox.mobile.NonBidiSwapView":"dojox.mobile.SwapView",[View,_311],{scrollDir:"f",weight:1.2,_endOfTransitionTimeoutHandle:null,buildRendering:function(){this.inherited(arguments);_30f.add(this.domNode,"mblSwapView");this.setSelectable(this.domNode,false);this.containerNode=this.domNode;this.subscribe("/dojox/mobile/nextPage","handleNextPage");this.subscribe("/dojox/mobile/prevPage","handlePrevPage");this.noResize=true;},startup:function(){if(this._started){return;}this.inherited(arguments);},resize:function(){this.inherited(arguments);_30c.forEach(this.getChildren(),function(_314){if(_314.resize){_314.resize();}});},onTouchStart:function(e){if(this._siblingViewsInMotion()){this.propagatable?e.preventDefault():event.stop(e);return;}var _315=this.domNode.offsetTop;var _316=this.nextView(this.domNode);if(_316){_316.stopAnimation();_30f.add(_316.domNode,"mblIn");_316.containerNode.style.paddingTop=_315+"px";}var _317=this.previousView(this.domNode);if(_317){_317.stopAnimation();_30f.add(_317.domNode,"mblIn");_317.containerNode.style.paddingTop=_315+"px";}this._setSiblingViewsInMotion(true);this.inherited(arguments);},onTouchEnd:function(e){if(e){if(!this._moved){this._setSiblingViewsInMotion(false);}else{this._endOfTransitionTimeoutHandle=this.defer(function(){this._setSiblingViewsInMotion(false);},1000);}}this.inherited(arguments);},handleNextPage:function(w){var _318=w.refId&&dom.byId(w.refId)||w.domNode;if(this.domNode.parentNode!==_318.parentNode){return;}if(this.getShowingView()!==this){return;}this.goTo(1);},handlePrevPage:function(w){var _319=w.refId&&dom.byId(w.refId)||w.domNode;if(this.domNode.parentNode!==_319.parentNode){return;}if(this.getShowingView()!==this){return;}this.goTo(-1);},goTo:function(dir,_31a){var view=_31a?_310.byId(_31a):((dir==1)?this.nextView(this.domNode):this.previousView(this.domNode));if(view&&view!==this){this.stopAnimation();view.stopAnimation();this.domNode._isShowing=false;view.domNode._isShowing=true;this.performTransition(view.id,dir,"slide",null,function(){_30d.publish("/dojox/mobile/viewChanged",[view]);});}},isSwapView:function(node){return (node&&node.nodeType===1&&_30f.contains(node,"mblSwapView"));},nextView:function(node){for(var n=node.nextSibling;n;n=n.nextSibling){if(this.isSwapView(n)){return _310.byNode(n);}}return null;},previousView:function(node){for(var n=node.previousSibling;n;n=n.previousSibling){if(this.isSwapView(n)){return _310.byNode(n);}}return null;},scrollTo:function(to){if(!this._beingFlipped){var _31b,x;if(to.x){if(to.x<0){_31b=this.nextView(this.domNode);x=to.x+this.domNode.offsetWidth;}else{_31b=this.previousView(this.domNode);x=to.x-this.domNode.offsetWidth;}}if(_31b){if(_31b.domNode.style.display==="none"){_31b.domNode.style.display="";_31b.resize();}_31b._beingFlipped=true;_31b.scrollTo({x:x});_31b._beingFlipped=false;}}this.inherited(arguments);},findDisp:function(node){if(!_30f.contains(node,"mblSwapView")){return this.inherited(arguments);}if(!node.parentNode){return null;}var _31c=node.parentNode.childNodes;for(var i=0;i<_31c.length;i++){var n=_31c[i];if(n.nodeType===1&&_30f.contains(n,"mblSwapView")&&!_30f.contains(n,"mblIn")&&n.style.display!=="none"){return n;}}return node;},slideTo:function(to,_31d,_31e,_31f){if(!this._beingFlipped){var w=this.domNode.offsetWidth;var pos=_31f||this.getPos();var _320,newX;if(pos.x<0){_320=this.nextView(this.domNode);if(pos.x<-w/4){if(_320){to.x=-w;newX=0;}}else{if(_320){newX=w;}}}else{_320=this.previousView(this.domNode);if(pos.x>w/4){if(_320){to.x=w;newX=0;}}else{if(_320){newX=-w;}}}if(_320){_320._beingFlipped=true;_320.slideTo({x:newX},_31d,_31e);_320._beingFlipped=false;_320.domNode._isShowing=(_320&&newX===0);}this.domNode._isShowing=!(_320&&newX===0);}this.inherited(arguments);},onAnimationEnd:function(e){if(e&&e.target&&_30f.contains(e.target,"mblScrollableScrollTo2")){return;}this.inherited(arguments);},onFlickAnimationEnd:function(e){if(this._endOfTransitionTimeoutHandle){this._endOfTransitionTimeoutHandle=this._endOfTransitionTimeoutHandle.remove();}if(e&&e.target&&!_30f.contains(e.target,"mblScrollableScrollTo2")){return;}this.inherited(arguments);if(this.domNode._isShowing){_30c.forEach(this.domNode.parentNode.childNodes,function(c){if(this.isSwapView(c)){_30f.remove(c,"mblIn");if(!c._isShowing){c.style.display="none";c.style[css3.name("transform")]="";c.style.left="0px";c.style.paddingTop="";}}},this);_30d.publish("/dojox/mobile/viewChanged",[this]);this.containerNode.style.paddingTop="";}else{if(!has("css3-animations")){this.containerNode.style.left="0px";}}this._setSiblingViewsInMotion(false);},_setSiblingViewsInMotion:function(_321){var _322=_321?"true":false;var _323=this.domNode.parentNode;if(_323){_323.setAttribute("data-dojox-mobile-swapview-inmotion",_322);}},_siblingViewsInMotion:function(){var _324=this.domNode.parentNode;if(_324){return _324.getAttribute("data-dojox-mobile-swapview-inmotion")=="true";}else{return false;}}});return has("dojo-bidi")?_30e("dojox.mobile.SwapView",[_313,_312]):_313;});},"dojox/mobile/_StoreMixin":function(){define(["dojo/_base/Deferred","dojo/_base/declare"],function(_325,_326){return _326("dojox.mobile._StoreMixin",null,{store:null,query:null,queryOptions:null,labelProperty:"label",childrenProperty:"children",setStore:function(_327,_328,_329){if(_327===this.store){return null;}if(_327){_327.getValue=function(item,_32a){return item[_32a];};}this.store=_327;this._setQuery(_328,_329);return this.refresh();},setQuery:function(_32b,_32c){this._setQuery(_32b,_32c);return this.refresh();},_setQuery:function(_32d,_32e){this.query=_32d;this.queryOptions=_32e||this.queryOptions;},refresh:function(){if(!this.store){return null;}var _32f=this;var _330=this.store.query(this.query,this.queryOptions);_325.when(_330,function(_331){if(_331.items){_331=_331.items;}if(_330.observe){if(_32f._observe_h){_32f._observe_h.remove();}_32f._observe_h=_330.observe(function(_332,_333,_334){if(_333!=-1){if(_334!=_333){_32f.onDelete(_332,_333);}else{if(_32f.onAdd){_32f.onUpdate(_332,_334);}}}else{if(_334!=-1){if(_32f.onAdd){_32f.onAdd(_332,_334);}else{_32f.onUpdate(_332,_334);}}}},true);}_32f.onComplete(_331);},function(_335){_32f.onError(_335);});return _330;},destroy:function(){if(this._observe_h){this._observe_h=this._observe_h.remove();}this.inherited(arguments);}});});}}});require(["dojo/_base/connect","dojo/store/JsonRest","dojo/ready","dijit/registry","dojox/mobile/parser","dojox/mobile","dojox/mobile/compat","dojox/mobile/ScrollableView","dojox/mobile/StoreCarousel"],function(_336,_337,_338,_339){store1=new _337({target:"resources/carousel-categ.json"});_338(function(){_336.subscribe("/dojox/mobile/carouselSelect",function(w,img,item,idx){if(w.id=="carousel1"){var _33a=new _337({target:"resources/carousel-"+item.value+".json"});var w2=_339.byId("carousel2");w2.set("title",item.value);w2.setStore(_33a);_339.byId("rect1").domNode.style.display="none";}else{if(w.id=="carousel2"){var _33b=_339.byId("rect1");var u="unknown";var desc="<div style='float:right;font:14px arial;width:49%'>Model: "+(item.model?item.model:u)+"<br>"+"Design: "+(item.design?item.design:u)+"<br>"+"Produced: "+(item.produced?item.produced:u)+"<br>"+"Size: "+(item.size?item.size:u)+"<br>"+"Price: "+(item.price?item.price:u)+"<br></div>";_33b.containerNode.innerHTML=desc+"<img src='"+item.src+"' width='50%' align='top'>";_33b.domNode.style.display="";}}});});});