/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dijit/main":function(){define(["dojo/_base/kernel"],function(_1){return _1.dijit;});},"dojox/main":function(){define(["dojo/_base/kernel"],function(_2){return _2.dojox;});},"dojo/require":function(){define(["./_base/loader"],function(_3){return {dynamic:0,normalize:function(id){return id;},load:_3.require};});},"dojox/fx/flip":function(){define(["dojo/_base/kernel","dojo/_base/html","dojo/dom","dojo/dom-construct","dojo/dom-geometry","dojo/_base/connect","dojo/_base/Color","dojo/_base/sniff","dojo/_base/lang","dojo/_base/window","dojo/_base/fx","dojo/fx","./_base"],function(_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10){_4.experimental("dojox.fx.flip");var _11="border",_12="Width",_13="Height",_14="Top",_15="Right",_16="Left",_17="Bottom";_10.flip=function(_18){var _19=_7.create("div"),_1a=_18.node=_6.byId(_18.node),s=_1a.style,_1b=null,hs=null,pn=null,_1c=_18.lightColor||"#dddddd",_1d=_18.darkColor||"#555555",_1e=_5.style(_1a,"backgroundColor"),_1f=_18.endColor||_1e,_20={},_21=[],_22=_18.duration?_18.duration/2:250,dir=_18.dir||"left",_23=0.9,_24="transparent",_25=_18.whichAnim,_26=_18.axis||"center",_27=_18.depth;var _28=function(_29){return ((new _a(_29)).toHex()==="#000000")?"#000001":_29;};if(_b("ie")<7){_1f=_28(_1f);_1c=_28(_1c);_1d=_28(_1d);_1e=_28(_1e);_24="black";_19.style.filter="chroma(color='#000000')";}var _2a=(function(n){return function(){var ret=_5.coords(n,true);_1b={top:ret.y,left:ret.x,width:ret.w,height:ret.h};};})(_1a);_2a();hs={position:"absolute",top:_1b["top"]+"px",left:_1b["left"]+"px",height:"0",width:"0",zIndex:_18.zIndex||(s.zIndex||0),border:"0 solid "+_24,fontSize:"0",visibility:"hidden"};var _2b=[{},{top:_1b["top"],left:_1b["left"]}];var _2c={left:[_16,_15,_14,_17,_12,_13,"end"+_13+"Min",_16,"end"+_13+"Max"],right:[_15,_16,_14,_17,_12,_13,"end"+_13+"Min",_16,"end"+_13+"Max"],top:[_14,_17,_16,_15,_13,_12,"end"+_12+"Min",_14,"end"+_12+"Max"],bottom:[_17,_14,_16,_15,_13,_12,"end"+_12+"Min",_14,"end"+_12+"Max"]};pn=_2c[dir];if(typeof _27!="undefined"){_27=Math.max(0,Math.min(1,_27))/2;_23=0.4+(0.5-_27);}else{_23=Math.min(0.9,Math.max(0.4,_1b[pn[5].toLowerCase()]/_1b[pn[4].toLowerCase()]));}var p0=_2b[0];for(var i=4;i<6;i++){if(_26=="center"||_26=="cube"){_1b["end"+pn[i]+"Min"]=_1b[pn[i].toLowerCase()]*_23;_1b["end"+pn[i]+"Max"]=_1b[pn[i].toLowerCase()]/_23;}else{if(_26=="shortside"){_1b["end"+pn[i]+"Min"]=_1b[pn[i].toLowerCase()];_1b["end"+pn[i]+"Max"]=_1b[pn[i].toLowerCase()]/_23;}else{if(_26=="longside"){_1b["end"+pn[i]+"Min"]=_1b[pn[i].toLowerCase()]*_23;_1b["end"+pn[i]+"Max"]=_1b[pn[i].toLowerCase()];}}}}if(_26=="center"){p0[pn[2].toLowerCase()]=_1b[pn[2].toLowerCase()]-(_1b[pn[8]]-_1b[pn[6]])/4;}else{if(_26=="shortside"){p0[pn[2].toLowerCase()]=_1b[pn[2].toLowerCase()]-(_1b[pn[8]]-_1b[pn[6]])/2;}}_20[pn[5].toLowerCase()]=_1b[pn[5].toLowerCase()]+"px";_20[pn[4].toLowerCase()]="0";_20[_11+pn[1]+_12]=_1b[pn[4].toLowerCase()]+"px";_20[_11+pn[1]+"Color"]=_1e;p0[_11+pn[1]+_12]=0;p0[_11+pn[1]+"Color"]=_1d;p0[_11+pn[2]+_12]=p0[_11+pn[3]+_12]=_26!="cube"?(_1b["end"+pn[5]+"Max"]-_1b["end"+pn[5]+"Min"])/2:_1b[pn[6]]/2;p0[pn[7].toLowerCase()]=_1b[pn[7].toLowerCase()]+_1b[pn[4].toLowerCase()]/2+(_18.shift||0);p0[pn[5].toLowerCase()]=_1b[pn[6]];var p1=_2b[1];p1[_11+pn[0]+"Color"]={start:_1c,end:_1f};p1[_11+pn[0]+_12]=_1b[pn[4].toLowerCase()];p1[_11+pn[2]+_12]=0;p1[_11+pn[3]+_12]=0;p1[pn[5].toLowerCase()]={start:_1b[pn[6]],end:_1b[pn[5].toLowerCase()]};_c.mixin(hs,_20);_5.style(_19,hs);_d.body().appendChild(_19);var _2d=function(){_7.destroy(_19);s.backgroundColor=_1f;s.visibility="visible";};if(_25=="last"){for(i in p0){p0[i]={start:p0[i]};}p0[_11+pn[1]+"Color"]={start:_1d,end:_1f};p1=p0;}if(!_25||_25=="first"){_21.push(_e.animateProperty({node:_19,duration:_22,properties:p0}));}if(!_25||_25=="last"){_21.push(_e.animateProperty({node:_19,duration:_22,properties:p1,onEnd:_2d}));}_9.connect(_21[0],"play",function(){_19.style.visibility="visible";s.visibility="hidden";});return _f.chain(_21);};_10.flipCube=function(_2e){var _2f=[],mb=_8.getMarginBox(_2e.node),_30=mb.w/2,_31=mb.h/2,_32={top:{pName:"height",args:[{whichAnim:"first",dir:"top",shift:-_31},{whichAnim:"last",dir:"bottom",shift:_31}]},right:{pName:"width",args:[{whichAnim:"first",dir:"right",shift:_30},{whichAnim:"last",dir:"left",shift:-_30}]},bottom:{pName:"height",args:[{whichAnim:"first",dir:"bottom",shift:_31},{whichAnim:"last",dir:"top",shift:-_31}]},left:{pName:"width",args:[{whichAnim:"first",dir:"left",shift:-_30},{whichAnim:"last",dir:"right",shift:_30}]}};var d=_32[_2e.dir||"left"],p=d.args;_2e.duration=_2e.duration?_2e.duration*2:500;_2e.depth=0.8;_2e.axis="cube";for(var i=p.length-1;i>=0;i--){_c.mixin(_2e,p[i]);_2f.push(_10.flip(_2e));}return _f.combine(_2f);};_10.flipPage=function(_33){var n=_33.node,_34=_5.coords(n,true),x=_34.x,y=_34.y,w=_34.w,h=_34.h,_35=_5.style(n,"backgroundColor"),_36=_33.lightColor||"#dddddd",_37=_33.darkColor,_38=_7.create("div"),_39=[],hn=[],dir=_33.dir||"right",pn={left:["left","right","x","w"],top:["top","bottom","y","h"],right:["left","left","x","w"],bottom:["top","top","y","h"]},_3a={right:[1,-1],left:[-1,1],top:[-1,1],bottom:[1,-1]};_5.style(_38,{position:"absolute",width:w+"px",height:h+"px",top:y+"px",left:x+"px",visibility:"hidden"});var hs=[];for(var i=0;i<2;i++){var r=i%2,d=r?pn[dir][1]:dir,wa=r?"last":"first",_3b=r?_35:_36,_3c=r?_3b:_33.startColor||n.style.backgroundColor;hn[i]=_c.clone(_38);var _3d=function(x){return function(){_7.destroy(hn[x]);};}(i);_d.body().appendChild(hn[i]);hs[i]={backgroundColor:r?_3c:_35};hs[i][pn[dir][0]]=_34[pn[dir][2]]+_3a[dir][0]*i*_34[pn[dir][3]]+"px";_5.style(hn[i],hs[i]);_39.push(dojox.fx.flip({node:hn[i],dir:d,axis:"shortside",depth:_33.depth,duration:_33.duration/2,shift:_3a[dir][i]*_34[pn[dir][3]]/2,darkColor:_37,lightColor:_36,whichAnim:wa,endColor:_3b}));_9.connect(_39[i],"onEnd",_3d);}return _f.chain(_39);};_10.flipGrid=function(_3e){var _3f=_3e.rows||4,_40=_3e.cols||4,_41=[],_42=_7.create("div"),n=_3e.node,_43=_5.coords(n,true),x=_43.x,y=_43.y,nw=_43.w,nh=_43.h,w=_43.w/_40,h=_43.h/_3f,_44=[];_5.style(_42,{position:"absolute",width:w+"px",height:h+"px",backgroundColor:_5.style(n,"backgroundColor")});for(var i=0;i<_3f;i++){var r=i%2,d=r?"right":"left",_45=r?1:-1;var cn=_c.clone(n);_5.style(cn,{position:"absolute",width:nw+"px",height:nh+"px",top:y+"px",left:x+"px",clip:"rect("+i*h+"px,"+nw+"px,"+nh+"px,0)"});_d.body().appendChild(cn);_41[i]=[];for(var j=0;j<_40;j++){var hn=_c.clone(_42),l=r?j:_40-(j+1);var _46=function(xn,_47,_48){return function(){if(!(_47%2)){_5.style(xn,{clip:"rect("+_47*h+"px,"+(nw-(_48+1)*w)+"px,"+((_47+1)*h)+"px,0px)"});}else{_5.style(xn,{clip:"rect("+_47*h+"px,"+nw+"px,"+((_47+1)*h)+"px,"+((_48+1)*w)+"px)"});}};}(cn,i,j);_d.body().appendChild(hn);_5.style(hn,{left:x+l*w+"px",top:y+i*h+"px",visibility:"hidden"});var a=dojox.fx.flipPage({node:hn,dir:d,duration:_3e.duration||900,shift:_45*w/2,depth:0.2,darkColor:_3e.darkColor,lightColor:_3e.lightColor,startColor:_3e.startColor||_3e.node.style.backgroundColor}),_49=function(xn){return function(){_7.destroy(xn);};}(hn);_9.connect(a,"play",this,_46);_9.connect(a,"play",this,_49);_41[i].push(a);}_44.push(_f.chain(_41[i]));}_9.connect(_44[0],"play",function(){_5.style(n,{visibility:"hidden"});});return _f.combine(_44);};return _10;});},"dojo/fx":function(){define(["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(_4a,_4b,_4c,_4d,_4e,_4f,dom,_50,_51,_52,_53){if(!_4c.isAsync){_52(0,function(){var _54=["./fx/Toggler"];_53(_54);});}var _55=_4c.fx={};var _56={_fire:function(evt,_57){if(this[evt]){this[evt].apply(this,_57||[]);}return this;}};var _58=function(_59){this._index=-1;this._animations=_59||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_4d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_58.prototype=new _4b();_4a.extend(_58,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_4e.after(this._current,"onAnimate",_4a.hitch(this,"_onAnimate"),true);this._onEndCtx=_4e.after(this._current,"onEnd",_4a.hitch(this,"_onEnd"),true);this._current.play(0,true);}},play:function(_5a,_5b){if(!this._current){this._current=this._animations[this._index=0];}if(!_5b&&this._current.status()=="playing"){return this;}var _5c=_4e.after(this._current,"beforeBegin",_4a.hitch(this,function(){this._fire("beforeBegin");}),true),_5d=_4e.after(this._current,"onBegin",_4a.hitch(this,function(arg){this._fire("onBegin",arguments);}),true),_5e=_4e.after(this._current,"onPlay",_4a.hitch(this,function(arg){this._fire("onPlay",arguments);_5c.remove();_5d.remove();_5e.remove();}));if(this._onAnimateCtx){this._onAnimateCtx.remove();}this._onAnimateCtx=_4e.after(this._current,"onAnimate",_4a.hitch(this,"_onAnimate"),true);if(this._onEndCtx){this._onEndCtx.remove();}this._onEndCtx=_4e.after(this._current,"onEnd",_4a.hitch(this,"_onEnd"),true);this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_4e.after(this._current,"onPause",_4a.hitch(this,function(arg){this._fire("onPause",arguments);e.remove();}),true);this._current.pause();}return this;},gotoPercent:function(_5f,_60){this.pause();var _61=this.duration*_5f;this._current=null;_4d.some(this._animations,function(a){if(a.duration<=_61){this._current=a;return true;}_61-=a.duration;return false;});if(this._current){this._current.gotoPercent(_61/this._current.duration,_60);}return this;},stop:function(_62){if(this._current){if(_62){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_4e.after(this._current,"onStop",_4a.hitch(this,function(arg){this._fire("onStop",arguments);e.remove();}),true);this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){this._onAnimateCtx.remove();}if(this._onEndCtx){this._onEndCtx.remove();}}});_4a.extend(_58,_56);_55.chain=function(_63){return new _58(_63);};var _64=function(_65){this._animations=_65||[];this._connects=[];this._finished=0;this.duration=0;_4d.forEach(_65,function(a){var _66=a.duration;if(a.delay){_66+=a.delay;}if(this.duration<_66){this.duration=_66;}this._connects.push(_4e.after(a,"onEnd",_4a.hitch(this,"_onEnd"),true));},this);this._pseudoAnimation=new _4f.Animation({curve:[0,1],duration:this.duration});var _67=this;_4d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){_67._connects.push(_4e.after(_67._pseudoAnimation,evt,function(){_67._fire(evt,arguments);},true));});};_4a.extend(_64,{_doAction:function(_68,_69){_4d.forEach(this._animations,function(a){a[_68].apply(a,_69);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_6a,_6b){var t=this._pseudoAnimation;t[_6a].apply(t,_6b);},play:function(_6c,_6d){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_6e,_6f){var ms=this.duration*_6e;_4d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_6f);});this._call("gotoPercent",arguments);return this;},stop:function(_70){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){_4d.forEach(this._connects,function(_71){_71.remove();});}});_4a.extend(_64,_56);_55.combine=function(_72){return new _64(_72);};_55.wipeIn=function(_73){var _74=_73.node=dom.byId(_73.node),s=_74.style,o;var _75=_4f.animateProperty(_4a.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _76=_50.get(_74,"height");return Math.max(_76,1);}},end:function(){return _74.scrollHeight;}}}},_73));var _77=function(){s.height="auto";s.overflow=o;};_4e.after(_75,"onStop",_77,true);_4e.after(_75,"onEnd",_77,true);return _75;};_55.wipeOut=function(_78){var _79=_78.node=dom.byId(_78.node),s=_79.style,o;var _7a=_4f.animateProperty(_4a.mixin({properties:{height:{end:1}}},_78));_4e.after(_7a,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";},true);var _7b=function(){s.overflow=o;s.height="auto";s.display="none";};_4e.after(_7a,"onStop",_7b,true);_4e.after(_7a,"onEnd",_7b,true);return _7a;};_55.slideTo=function(_7c){var _7d=_7c.node=dom.byId(_7c.node),top=null,_7e=null;var _7f=(function(n){return function(){var cs=_50.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);_7e=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=_51.position(n,true);top=ret.y;_7e=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=_7e+"px";}};})(_7d);_7f();var _80=_4f.animateProperty(_4a.mixin({properties:{top:_7c.top||0,left:_7c.left||0}},_7c));_4e.after(_80,"beforeBegin",_7f,true);return _80;};return _55;});},"dojox/fx/_base":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/fx","dojo/fx","dojo/dom","dojo/dom-style","dojo/dom-geometry","dojo/_base/connect","dojo/_base/html"],function(_81,_82,_83,_84,dom,_85,_86,_87,_88){var _89=_82.getObject("dojox.fx",true);_82.mixin(_89,{anim:_83.anim,animateProperty:_83.animateProperty,fadeTo:_83._fade,fadeIn:_83.fadeIn,fadeOut:_83.fadeOut,combine:_84.combine,chain:_84.chain,slideTo:_84.slideTo,wipeIn:_84.wipeIn,wipeOut:_84.wipeOut});_89.sizeTo=function(_8a){var _8b=_8a.node=dom.byId(_8a.node),abs="absolute";var _8c=_8a.method||"chain";if(!_8a.duration){_8a.duration=500;}if(_8c=="chain"){_8a.duration=Math.floor(_8a.duration/2);}var top,_8d,_8e,_8f,_90,_91=null;var _92=(function(n){return function(){var cs=_85.getComputedStyle(n),pos=cs.position,w=cs.width,h=cs.height;top=(pos==abs?n.offsetTop:parseInt(cs.top)||0);_8e=(pos==abs?n.offsetLeft:parseInt(cs.left)||0);_90=(w=="auto"?0:parseInt(w));_91=(h=="auto"?0:parseInt(h));_8f=_8e-Math.floor((_8a.width-_90)/2);_8d=top-Math.floor((_8a.height-_91)/2);if(pos!=abs&&pos!="relative"){var ret=_85.coords(n,true);top=ret.y;_8e=ret.x;n.style.position=abs;n.style.top=top+"px";n.style.left=_8e+"px";}};})(_8b);var _93=_83.animateProperty(_82.mixin({properties:{height:function(){_92();return {end:_8a.height||0,start:_91};},top:function(){return {start:top,end:_8d};}}},_8a));var _94=_83.animateProperty(_82.mixin({properties:{width:function(){return {start:_90,end:_8a.width||0};},left:function(){return {start:_8e,end:_8f};}}},_8a));var _95=_84[(_8a.method=="combine"?"combine":"chain")]([_93,_94]);return _95;};_89.slideBy=function(_96){var _97=_96.node=dom.byId(_96.node),top,_98;var _99=(function(n){return function(){var cs=_85.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);_98=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=_86.coords(n,true);top=ret.y;_98=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=_98+"px";}};})(_97);_99();var _9a=_83.animateProperty(_82.mixin({properties:{top:top+(_96.top||0),left:_98+(_96.left||0)}},_96));_87.connect(_9a,"beforeBegin",_9a,_99);return _9a;};_89.crossFade=function(_9b){var _9c=_9b.nodes[0]=dom.byId(_9b.nodes[0]),op1=_88.style(_9c,"opacity"),_9d=_9b.nodes[1]=dom.byId(_9b.nodes[1]),op2=_88.style(_9d,"opacity");var _9e=_84.combine([_83[(op1==0?"fadeIn":"fadeOut")](_82.mixin({node:_9c},_9b)),_83[(op1==0?"fadeOut":"fadeIn")](_82.mixin({node:_9d},_9b))]);return _9e;};_89.highlight=function(_9f){var _a0=_9f.node=dom.byId(_9f.node);_9f.duration=_9f.duration||400;var _a1=_9f.color||"#ffff99",_a2=_88.style(_a0,"backgroundColor");if(_a2=="rgba(0, 0, 0, 0)"){_a2="transparent";}var _a3=_83.animateProperty(_82.mixin({properties:{backgroundColor:{start:_a1,end:_a2}}},_9f));if(_a2=="transparent"){_87.connect(_a3,"onEnd",_a3,function(){_a0.style.backgroundColor=_a2;});}return _a3;};_89.wipeTo=function(_a4){_a4.node=dom.byId(_a4.node);var _a5=_a4.node,s=_a5.style;var dir=(_a4.width?"width":"height"),_a6=_a4[dir],_a7={};_a7[dir]={start:function(){s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s[dir]="1px";s.display="";s.visibility="";return 1;}else{var now=_88.style(_a5,dir);return Math.max(now,1);}},end:_a6};var _a8=_83.animateProperty(_82.mixin({properties:_a7},_a4));return _a8;};return _89;});},"demos/faces/src/block":function(){define(["dojo","dijit","dojox"],function(_a9,_aa,_ab){_a9.provide("demos.faces.src.block");(function(){var d=_a9;d.declare("dojo._Blocker",null,{duration:400,opacity:0.6,backgroundColor:"#fff",zIndex:999,constructor:function(_ac,_ad){d.mixin(this,_ad);this.node=d.byId(_ac);this.overlay=d.doc.createElement("div");d.query(this.overlay).place(d.body(),"last").addClass("dojoBlockOverlay").style({backgroundColor:this.backgroundColor,position:"absolute",zIndex:this.zIndex,display:"none",opacity:this.opacity});},_position:function(){var pos=d.position(this.node,true);pos=_a9.mixin(_a9.marginBox(this.node),{l:pos.x,t:pos.y});_a9.style(this.overlay,{position:"absolute",left:pos.l+"px",width:pos.w+"px",height:pos.h+"px",top:pos.t+"px"});},show:function(){if(this._showing){return;}var ov=this.overlay;this._position();if(this.keepPosition){this.positionConnect=_a9.connect(window,"onresize",this,"_position");}d.style(ov,{opacity:0,display:"block"});d._fade({node:ov,end:this.opacity,duration:this.duration}).play();this._showing=true;},hide:function(){d.fadeOut({node:this.overlay,duration:this.duration,onEnd:d.hitch(this,function(){d.style(this.overlay,"display","none");if(this.keepPosition){_a9.disconnect(this.positionConnect);}this._showing=false;})}).play();}});var _ae=0;var _af=function(){var _b0="dojo_blocked",id;do{id=_b0+"_"+(++_ae);}while(d.byId(id));return id;};var _b1={};d.mixin(d,{block:function(_b2,_b3){var n=d.byId(_b2);var id=d.attr(n,"id");if(!id){id=_af();d.attr(n,"id",id);}if(!_b1[id]){_b1[id]=new d._Blocker(_b2,_b3);}_b1[id].show();return _b1[id];},unblock:function(_b4,_b5){var id=d.attr(_b4,"id");if(id&&_b1[id]){_b1[id].hide();}}});d.extend(d.NodeList,{block:d.NodeList._adaptAsForEach("block"),unblock:d.NodeList._adaptAsForEach("unblock")});})();});},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){});},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(_b6,_b7,_b8,has,_b9){var _ba=_b9.doc.documentElement,ie=has("ie"),_bb=has("opera"),maj=Math.floor,ff=has("ff"),_bc=_b6.boxModel.replace(/-/,""),_bd={"dj_quirks":has("quirks"),"dj_opera":_bb,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ios":has("ios"),"dj_android":has("android")};if(ie){_bd["dj_ie"]=true;_bd["dj_ie"+maj(ie)]=true;_bd["dj_iequirks"]=has("quirks");}if(ff){_bd["dj_ff"+maj(ff)]=true;}_bd["dj_"+_bc]=true;var _be="";for(var clz in _bd){if(_bd[clz]){_be+=clz+" ";}}_ba.className=_b7.trim(_ba.className+" "+_be);_b8(function(){if(!_b6.isBodyLtr()){var _bf="dj_rtl dijitRtl "+_be.replace(/ /g,"-rtl ");_ba.className=_b7.trim(_ba.className+" "+_bf+"dj_rtl dijitRtl "+_be.replace(/ /g,"-rtl "));}});return has;});},"dojox/image/_base":function(){define(["dojo","dojox"],function(_c0,_c1){_c0.getObject("image",true,_c1);var d=_c0;var _c2;_c1.image.preload=function(_c3){if(!_c2){_c2=d.create("div",{style:{position:"absolute",top:"-9999px",height:"1px",overflow:"hidden"}},d.body());}return d.map(_c3,function(url){return d.create("img",{src:url},_c2);});};if(d.config.preloadImages){d.addOnLoad(function(){_c1.image.preload(d.config.preloadImages);});}});},"dojox/image/LightboxNano":function(){define(["dojo","dojo/fx"],function(_c4,fx){var abs="absolute",vis="visibility",_c5=function(){var _c6=(_c4.doc.compatMode=="BackCompat")?_c4.body():_c4.doc.documentElement,_c7=_c4._docScroll();return {w:_c6.clientWidth,h:_c6.clientHeight,l:_c7.x,t:_c7.y};};return _c4.declare("dojox.image.LightboxNano",null,{href:"",duration:500,preloadDelay:5000,constructor:function(p,n){var _c8=this;_c4.mixin(_c8,p);n=_c8._node=_c4.byId(n);if(n){if(!/a/i.test(n.tagName)){var a=_c4.create("a",{href:_c8.href,"class":n.className},n,"after");n.className="";a.appendChild(n);n=a;}_c4.style(n,"position","relative");_c8._createDiv("dojoxEnlarge",n);_c4.setSelectable(n,false);_c8._onClickEvt=_c4.connect(n,"onclick",_c8,"_load");}if(_c8.href){setTimeout(function(){(new Image()).src=_c8.href;_c8._hideLoading();},_c8.preloadDelay);}},destroy:function(){var a=this._connects||[];a.push(this._onClickEvt);_c4.forEach(a,_c4.disconnect);_c4.destroy(this._node);},_createDiv:function(_c9,_ca,_cb){return _c4.create("div",{"class":_c9,style:{position:abs,display:_cb?"":"none"}},_ca);},_load:function(e){var _cc=this;e&&_c4.stopEvent(e);if(!_cc._loading){_cc._loading=true;_cc._reset();var i=_cc._img=_c4.create("img",{style:{visibility:"hidden",cursor:"pointer",position:abs,top:0,left:0,zIndex:9999999}},_c4.body()),ln=_cc._loadingNode,n=_c4.query("img",_cc._node)[0]||_cc._node,a=_c4.position(n,true),c=_c4.contentBox(n),b=_c4._getBorderExtents(n);if(ln==null){_cc._loadingNode=ln=_cc._createDiv("dojoxLoading",_cc._node,true);var l=_c4.marginBox(ln);_c4.style(ln,{left:parseInt((c.w-l.w)/2)+"px",top:parseInt((c.h-l.h)/2)+"px"});}c.x=a.x-10+b.l;c.y=a.y-10+b.t;_cc._start=c;_cc._connects=[_c4.connect(i,"onload",_cc,"_show")];i.src=_cc.href;}},_hideLoading:function(){if(this._loadingNode){_c4.style(this._loadingNode,"display","none");}this._loadingNode=false;},_show:function(){var _cd=this,vp=_c5(),w=_cd._img.width,h=_cd._img.height,vpw=parseInt((vp.w-20)*0.9),vph=parseInt((vp.h-20)*0.9),dd=_c4.doc,bg=_cd._bg=_c4.create("div",{style:{backgroundColor:"#000",opacity:0,position:abs,zIndex:9999998}},_c4.body()),ln=_cd._loadingNode;if(_cd._loadingNode){_cd._hideLoading();}_c4.style(_cd._img,{border:"10px solid #fff",visibility:"visible"});_c4.style(_cd._node,vis,"hidden");_cd._loading=false;_cd._connects=_cd._connects.concat([_c4.connect(dd,"onmousedown",_cd,"_hide"),_c4.connect(dd,"onkeypress",_cd,"_key"),_c4.connect(window,"onresize",_cd,"_sizeBg")]);if(w>vpw){h=h*vpw/w;w=vpw;}if(h>vph){w=w*vph/h;h=vph;}_cd._end={x:(vp.w-20-w)/2+vp.l,y:(vp.h-20-h)/2+vp.t,w:w,h:h};_cd._sizeBg();_c4.fx.combine([_cd._anim(_cd._img,_cd._coords(_cd._start,_cd._end)),_cd._anim(bg,{opacity:0.5})]).play();},_sizeBg:function(){var dd=_c4.doc.documentElement;_c4.style(this._bg,{top:0,left:0,width:dd.scrollWidth+"px",height:dd.scrollHeight+"px"});},_key:function(e){_c4.stopEvent(e);this._hide();},_coords:function(s,e){return {left:{start:s.x,end:e.x},top:{start:s.y,end:e.y},width:{start:s.w,end:e.w},height:{start:s.h,end:e.h}};},_hide:function(){var _ce=this;_c4.forEach(_ce._connects,_c4.disconnect);_ce._connects=[];_c4.fx.combine([_ce._anim(_ce._img,_ce._coords(_ce._end,_ce._start),"_reset"),_ce._anim(_ce._bg,{opacity:0})]).play();},_reset:function(){_c4.style(this._node,vis,"visible");_c4.destroy(this._img);_c4.destroy(this._bg);this._img=this._bg=null;this._node.focus();},_anim:function(_cf,_d0,_d1){return _c4.animateProperty({node:_cf,duration:this.duration,properties:_d0,onEnd:_d1?_c4.hitch(this,_d1):null});},show:function(_d2){_d2=_d2||{};this.href=_d2.href||this.href;var n=_c4.byId(_d2.origin),vp=_c5();this._node=n||_c4.create("div",{style:{position:abs,width:0,hieght:0,left:(vp.l+(vp.w/2))+"px",top:(vp.t+(vp.h/2))+"px"}},_c4.body());this._load();if(!n){_c4.destroy(this._node);}}});});},"dojox/analytics/Urchin":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/window","dojo/_base/config","dojo/dom-construct"],function(_d3,_d4,_d5,_d6,_d7){return _d4("dojox.analytics.Urchin",null,{acct:"",constructor:function(_d8){this.tracker=null;_d3.mixin(this,_d8);this.acct=this.acct||_d6.urchin;var re=/loaded|complete/,_d9=("https:"==_d5.doc.location.protocol)?"https://ssl.":"http://www.",h=_d5.doc.getElementsByTagName("head")[0],n=_d7.create("script",{src:_d9+"google-analytics.com/ga.js"},h);n.onload=n.onreadystatechange=_d3.hitch(this,function(e){if(e&&e.type=="load"||re.test(n.readyState)){n.onload=n.onreadystatechange=null;this._gotGA();h.removeChild(n);}});},_gotGA:function(){this.tracker=_gat._getTracker(this.acct);this.GAonLoad.apply(this,arguments);},GAonLoad:function(){this.trackPageView();},trackPageView:function(url){this.tracker._trackPageview.apply(this.tracker,arguments);}});});}}});define("demos/faces/src",["dojo","dijit","dojox","dojo/require!dojox/fx/flip,demos/faces/src/block,dijit/_base/sniff,dojox/image/_base,dojox/image/LightboxNano,dojox/analytics/Urchin"],function(_da,_db,_dc){_da.provide("demos.faces.src");_da.require("dojox.fx.flip");_da.require("demos.faces.src.block");_da.require("dijit._base.sniff");_da.require("dojox.image._base");_da.require("dojox.image.LightboxNano");_da.require("dojox.analytics.Urchin");(function(d){d.NodeList.prototype.makeNano=function(){return this.forEach(function(n){new _dc.image.LightboxNano({href:d.attr(n,"href")},n);});};var v="flip",x=0;var _dd="";var _de=function(id){id=d.byId(id);d.query("> div",id).sort(function(a,b){var q="ul > li",al=d.query(q,a).length,bl=d.query(q,b).length;return al>bl?0:al<bl?1:-1;}).forEach(function(n){id.appendChild(n);});};var _df=function(){var _e0=d.byId;return ""+_e0("hair").parentNode.className+", "+_e0("eyes").parentNode.className+", and "+_e0("mouth").parentNode.className+" make: ";};var _e1=function(){var _e2=["hair","eyes","mouth"],_e3=d.byId("random");_e3.checked=false;var _e4=function(n){if(++x>people.length-1){x=0;}if(people[x]=="webcam"){n.parentNode.className="";var _e5=new Image();_e5.src=_dd;d.style(n,"backgroundImage","url("+_e5.src+")");}else{d.style(n,"backgroundImage","");n.parentNode.className=people[x];}};var _e6=function(e){var n=e.target,fl=_dc.fx[v]({node:n}),c=d.connect(fl,"onEnd",function(){_e4(n);d.disconnect(c);});fl.play();};var _e7;var _e8=function(){_e3.checked=false;clearTimeout(_e7);_e7=null;};var _e9=function(){_e6({target:d.byId(_e2[(Math.floor(Math.random()*3))])});};var _ea=function(){_e7=setInterval(_e9,4500);_e9();};d.query("#flipper").onclick(function(e){if(_e7){_e8();}_e6(e);});d.connect(_e3,"onchange",function(e){if(!e.target.checked){_e8();}else{_ea();}});var _eb;d.query("#saveAs").onclick(function(e){var _ec=d.query("#faceContainer .container")[0];_eb=d.block(_ec,{opacity:0.6,keepPosition:true,backgroundColor:"#000"});var _ed={};d.forEach(_e2,function(_ee){_ed[_ee]=d.byId(_ee).parentNode.className||"";});setTimeout(d.partial(_ef,_ed),50);_e8();});var _ef=function(pay){var url;d.xhrPost({url:"resources/imageMaker.php",handleAs:"json",handle:function(_f0){url=_f0["file"];if(_f0["name"]){d.byId("savedName").innerHTML="<p class='who'>"+_df()+"</p>"+"<h2 id='currentName'>"+_f0["name"]+"</h2>";var c=_f0["clan"];if(!_f0["duplicate"]&&c){var _f1=_da.query("ul."+c);if(!_f1.length){var t=_da.create("div",{"class":"clan",id:c,innerHTML:"<h2><a href='#"+c+"'>"+c+"</a></h2>"+"<ul class='"+c+"'></ul>"},"thumbnails");_f1=_da.query("ul",t);}var td=_da.create("li",{"class":"thumbnail",style:{opacity:0},innerHTML:"<a href ='"+_f0["file"]+"'><img src='"+_f0["thumb"]+"'></a>"},_f1[0]);_da.query("a",td).makeNano();_da.fadeIn({node:td}).play();}_de("thumbnails");setTimeout(function(){window.location.hash=c;},400);}_eb.hide();},content:pay});};_dc.image.preload(d.map(people,function(_f2){return "images/"+_f2+".jpg";}));d.query("#setupSwf").onclick(function(e){this.disabled=true;d.addClass(this,"invisible");d["require"]("dojoc.demos.faces.src.webcam");}).forEach(function(n){n.disabled=false;});d.query(".imageThumb").makeNano();_de("thumbnails");setTimeout(function(){d.forEach(_e2,function(p,i){setTimeout(function(){_e6({target:d.byId(p)});},i*150);});},300);setTimeout(function(){new _dc.analytics.Urchin({acct:"UA-3572741-1",GAonLoad:function(){this.trackPageView("/demos/faces");}});},1500);};d.addOnLoad(_e1);})(_da);});