//>>built
define("demos/faces/src/block",["dojo","dijit","dojox"],function(_1,_2,_3){_1.provide("demos.faces.src.block");(function(){var d=_1;d.declare("dojo._Blocker",null,{duration:400,opacity:0.6,backgroundColor:"#fff",zIndex:999,constructor:function(_4,_5){d.mixin(this,_5);this.node=d.byId(_4);this.overlay=d.doc.createElement("div");d.query(this.overlay).place(d.body(),"last").addClass("dojoBlockOverlay").style({backgroundColor:this.backgroundColor,position:"absolute",zIndex:this.zIndex,display:"none",opacity:this.opacity});},_position:function(){var _6=d.position(this.node,true);_6=_1.mixin(_1.marginBox(this.node),{l:_6.x,t:_6.y});_1.style(this.overlay,{position:"absolute",left:_6.l+"px",width:_6.w+"px",height:_6.h+"px",top:_6.t+"px"});},show:function(){if(this._showing){return;}var ov=this.overlay;this._position();if(this.keepPosition){this.positionConnect=_1.connect(window,"onresize",this,"_position");}d.style(ov,{opacity:0,display:"block"});d._fade({node:ov,end:this.opacity,duration:this.duration}).play();this._showing=true;},hide:function(){d.fadeOut({node:this.overlay,duration:this.duration,onEnd:d.hitch(this,function(){d.style(this.overlay,"display","none");if(this.keepPosition){_1.disconnect(this.positionConnect);}this._showing=false;})}).play();}});var _7=0;var _8=function(){var _9="dojo_blocked",id;do{id=_9+"_"+(++_7);}while(d.byId(id));return id;};var _a={};d.mixin(d,{block:function(_b,_c){var n=d.byId(_b);var id=d.attr(n,"id");if(!id){id=_8();d.attr(n,"id",id);}if(!_a[id]){_a[id]=new d._Blocker(_b,_c);}_a[id].show();return _a[id];},unblock:function(_d,_e){var id=d.attr(_d,"id");if(id&&_a[id]){_a[id].hide();}}});d.extend(d.NodeList,{block:d.NodeList._adaptAsForEach("block"),unblock:d.NodeList._adaptAsForEach("unblock")});})();});