//>>built
define("demos/mojo/src/download",["dojo","dijit","dojox","dojo/require!dojo/io/iframe"],function(_1,_2,_3){_1.provide("demos.mojo.src.download");_1.require("dojo.io.iframe");(function(){var _4="1.6.0rc1";var _5=null;var _6={node:null,closeNode:null,show:function(e){if(!this.node){this.create();}var _7=_1.animateProperty({node:_1.query("img",this.node)[0],duration:1500,properties:{width:{end:310,start:1},height:{end:310,start:1},top:{end:0,start:155},left:{end:0,start:155}},easing:_1.fx.easing.elasticOut});var _8=_1.fx.slideTo({node:this.node,top:e.pageY-55,left:e.pageX-155,duration:900,easing:_1.fx.easing.elasticOut});_1.fx.combine([_7,_8]).play();_1.byId("gravity").disabled=true;},hide:function(e){_1.byId("gravity").disabled=false;e.preventDefault();_1.fx.slideTo({node:this.node,duration:375,left:-310,top:-50,easing:_1.fx.easing.backIn}).play();},init:function(e){var _9=_1.byId("build").checked;var _a=_1.byId("sourceR").checked;var _b=(_1.byId("tgz").checked?"tar.gz":"zip");var _c=_4;var _d="http://download.dojotoolkit.org/";var _e=_d+"release-"+(_c)+"/dojo-release-"+(_c)+(_a?"-src.":".")+(_b);_1.io.iframe.send({url:_e,timeout:5000});if(_9){var _f=_d+"release-"+(_c)+"/dojo-release-"+(_c)+"-shrinksafe."+(_b);setTimeout(function(){_1.io.iframe.send({url:_f,timeout:5000});},3000);}},create:function(e){var img=_1.query("img.clone")[0];this.node=_1.body().appendChild(_1.doc.createElement("div"));var _10=this.node.appendChild(_1.clone(img));_1.style(_10,"position","absolute");var h=this.node.appendChild(_1.doc.createElement("h1"));_1.addClass(h,"handle");this.node.id="downloadDiv";h.innerHTML="download?";var _11=this.node.appendChild(_1.byId("downloadForm"));_1.style(_11,"visibility","visible");_1.style(this.node,"zIndex","100");new _1.dnd.Moveable(this.node,{handle:h});this.closeNode=_1.byId("closeNode");_1.connect(this.closeNode,"onclick",this,"hide");this.submitNode=_1.byId("submitNode");_1.connect(this.submitNode,"onclick",this,"init");}};var _12=null;_1.addOnLoad(function(){_12=_1.byId("downloadButton");_1.connect(_12,"onclick",_6,"show");});})();});